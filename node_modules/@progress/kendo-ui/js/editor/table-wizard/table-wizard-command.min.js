!function(){var e,l={6370:function(e,t,l){var a;l=[l(32453)],void 0===(t="function"==typeof(a=function(){var v=window.kendo.jQuery,f=void 0,s=window.kendo,o=s.ui.editor,e=o.EditorUtils,l=o.RangeUtils,b=o.Dom,t=e.registerTool,a=o.ToolTemplate,r=o.Command,i=new o.BlockFormatFinder([{tags:["table"]}]),n=new o.BlockFormatFinder([{tags:["td","th"]}]),c=/([a-z]+|%)$/i,u="col",h="row",g="colgroup",d="scope",m="col-index",w="th",C="td",p="thead",_="headers",A="table",T=r.extend({exec:function(){var e=this;var t=e.editor;var l=e.range=e.lockRange();var a=e._sourceTable=!e.options.insertNewTable?e._selectedTable(l):f;var r=e._selectedTableCells=a?e._selectedCells(l):f;var i={visible:false,messages:t.options.messages,closeCallback:e.onDialogClose.bind(e),table:e.parseTable(a,r),dialogOptions:t.options.dialogOptions,isRtl:s.support.isRtl(t.wrapper)};var n=new o.TableWizardDialog(i);n.open()},onDialogClose:function(e){var t=this;t.releaseRange(t.range);if(e)if(t.options.insertNewTable)t.insertTable(t.createNewTable(e));else t.updateTable(e,t._sourceTable,t._selectedTableCells)},releaseRange:function(e){var t=this;var l=t.editor.document;b.windowFromDocument(l).focus();r.fn.releaseRange.call(t,e)},insertTable:function(e){var t=this.range;t.insertNode(e);t.collapse(true);this.editor.selectRange(t);this._ensureFocusableAfterTable(e)},_ensureFocusableAfterTable:function(e){var t=v(e).parent().contents();var l=t.length-1;var a=t.get(l);while(a.nodeValue!==null&&(a.nodeValue===" "||a.nodeValue==="")){l-=1;a=t.get(l)}if(a===e)b.insertAfter(b.createEmptyNode(this.editor.document,"p"),e)},updateTable:function(e,t,l){var a=this;var r=v(t.rows).toArray();var i=e.tableProperties;var n=i.rows;var c=t.tHead;var s=a._lastInCollection;var o,d;while(l.length>1)l.pop();o=l.length?s(l).parentNode:s(r);a._deleteTableRows(r,r.length-n);if(r.length<n)a._addRows(o,n,r);b.reMapTableColumns(t,m);a._updateColumns(r,i.columns,l,o);a._updateTableProperties(t,i);d=e.cellProperties;if(l[0])b.attr(l[0],{id:d.id||null});(d.selectAllCells?v(r).children():v(l)).each(function(e,t){a._updateCellProperties(t,d)});a._updateCaption(t,i);if(c)a._updateHeadersWithThead(t,e);else a._updateHeadersNoThead(t,e);a._updateHeaderAssociates(t,i);b.clearTableMappings(t,m)},_isHeadingRow:function(e){return b.is(e.cells[0],w)&&b.is(e.parentNode,p)},_isHeadingCell:function(e){return b.is(e,w)},cellsWithHeadersAssociated:function(e){var t=v(e.rows).children();var l=[];var r=function(e){return l.indexOf(e)>-1};t.each(function(e,t){if(t.id&&b.is(t,w))l.push(t.id)});var a=t.filter(function(e,t){var l=t.getAttribute(_);var a;if(l&&!b.is(t,w)){a=l.split(" ");if(a&&a.length>0)return a.some(r)}return false});return!!a.length},_insertCells:function(e,t,l){l=isNaN(l)?-1:l;for(var a=0,r;a<e;a++){r=t.insertCell(l);r.innerHTML="&nbsp;"}},_deleteTableRows:function(e,t){for(var l=0,a,r;l<t;l++){a=e.pop();r=a.parentNode;r.removeChild(a);if(!r.rows.length)b.remove(r)}},createNewTable:function(e){var t=this;var l=t.editor.document;var a=e.tableProperties;var r=b.create(l,A);var i=0;var n;t._updateTableProperties(r,a);t._updateCaption(r,a);if(a.headerRows&&a.headerRows>0){n=r.createTHead();t._createTableRows(e,n,i,true);i+=a.headerRows}var s=r.createTBody();t._createTableRows(e,s,i,false);b.reMapTableColumns(r,m);if(a.cellsWithHeaders==="ids")b.associateWithIds(r);else if(a.cellsWithHeaders==="scope")t._addScopes(r,a.headerRows,a.headerColumns);b.clearTableMappings(r,m);return r},_createTableRows:function(e,t,l,a){var c=this;var r=e.tableProperties;var i=e.cellProperties;var u=r.columns;var h=a?r.headerRows:r.rows;var g=i.selectAllCells;var p=r.headerColumns;for(var n=l,s;n<h;n++){s=t.insertRow();for(var o=0,d;o<u;o++){if(a||p>o)d=document.createElement(w);else d=document.createElement(C);s.appendChild(d);d.innerHTML="&nbsp;";if(n===0&&o===0&&i.id)d.id=i.id;c._updateCellProperties(d,g||n===0&&o===0?i:{})}}},_addRows:function(e,t,l){var a=this;var r=v(e).index();var i=e.cells.length;var n=t-l.length;var s=e.parentNode;var o;while(n){o=s.insertRow(r+1);a._insertCells(i-o.cells.length,o);n--}},_updateColumns:function(e,r,t,l){var a=this;var i=a._lastInCollection;var n=i(e[0].cells);var s=Number(n.getAttribute(m))+n.colSpan;if(s>r)v(e).each(function(e,t){var l=i(t.cells);var a=Number(l.getAttribute(m))+l.colSpan;while(a>r){if(l.colSpan&&l.colSpan>1)l.colSpan-=1;else t.deleteCell(-1);l=i(t.cells);a=Number(l.getAttribute(m))+l.colSpan}});if(s<r){var o=v(i(t)||i(l.cells)).index();v(e).each(function(e,t){var l=i(t.cells);a._insertCells(r-Number(l.getAttribute(m))-l.colSpan,t,o+1)})}},_updateTableProperties:function(e,t){var l=this._getStylesData(t);b.attr(e,{cellSpacing:t.cellSpacing||null,cellPadding:t.cellPadding||null,className:t.className||null,id:t.id||null,summary:t.summary||null,style:l||null});v(e).addClass("k-table")},_updateCellProperties:function(e,t){var l=this._getStylesData(t);l.padding=t.cellPadding||null;l.margin=t.cellMargin||null;b.attr(e,{style:l||null,className:t.className||null})},_updateCaption:function(e,t){if(e.caption&&!t.captionContent)e.deleteCaption();else if(t.captionContent){var l=e.createCaption();l.innerHTML=t.captionContent;var a=this._getAlignmentData(t.captionAlignment);b.attr(l,{style:{textAlign:a.textAlign,verticalAlign:a.verticalAlign}})}},_updateHeadersNoThead:function(e,t){var l=this;var a=t.tableProperties;var r=e.rows;var i,n,s,o,d;for(o=0;o<r.length;o++){i=r[o];n=i.cells;for(d=0;d<n.length;d++){s=n[d];if(!l._isHeadingCell(s)&&(o<a.headerRows||a.headerColumns>s.getAttribute(m)))b.changeTag(s,w,false);else if(l._isHeadingCell(s)&&o>=a.headerRows&&a.headerColumns<=s.getAttribute(m))b.changeTag(s,C,false)}}},_updateHeadersWithThead:function(e,t){var l=this;var a=t.tableProperties;var r=e.tHead;var i=0;var n=e.tBodies[0];var s,o,d;if(!n)n=e.createTBody();if(a.headerRows&&a.headerRows>0){if(!r)r=e.createTHead();while(r.rows.length<a.headerRows)r.appendChild(n.rows[0]);while(r.rows.length>a.headerRows)n.appendChild(r.rows[0]);l._swapToHeaderCells(r)}else if(r){while(r.rows.length>0)n.appendChild(r.rows[r.rows.length-1]);e.deleteTHead()}while(n.rows.length>i){s=n.rows[i];for(d=0;d<s.cells.length;d++){o=s.cells[d];if(l._isHeadingCell(o)&&a.headerColumns<=o.getAttribute(m))b.changeTag(o,C,false);else if(!l._isHeadingCell(o)&&a.headerColumns>o.getAttribute(m))b.changeTag(o,w,false)}i+=1}},_updateHeaderAssociates:function(e,t){var l=this;if(t.cellsWithHeaders==="ids"){if(!l.cellsWithHeadersAssociated(e))l._removeScopes(e);b.associateWithIds(e)}else if(t.cellsWithHeaders==="scope"){if(l.cellsWithHeadersAssociated(e))l._removeAssociates(e);l._addScopes(e,t.headerRows,t.headerColumns)}else if(l.cellsWithHeadersAssociated(e))l._removeAssociates(e);else l._removeScopes(e)},_addScopes:function(e,t,l){var a=e.rows;var r,i,n,s;for(r=0;r<a.length;r++){n=a[r];for(i=0;i<n.cells.length;i++){s=n.cells[i];if(r<t)s.setAttribute(d,u);else if(s.getAttribute(m)<l)s.setAttribute(d,h)}}},_removeScopes:function(e){v(e).find(w).removeAttr(d);v(e).find(u).remove();v(e).find(g).remove()},_removeAssociates:function(e){v(e).find("th, td").removeAttr("id headers")},_swapToHeaderCells:function(e){var t=v(e).find("td");var l=function(e,t){b.changeTag(t,w,false)};t.each(l)},_getStylesData:function(e){var t=this._getAlignmentData(e.alignment);var l="wrapText"in e?e.wrapText?"":"nowrap":null;return{width:e.width?e.width+e.widthUnit:null,height:e.height?e.height+e.heightUnit:null,textAlign:t.textAlign,verticalAlign:t.verticalAlign,backgroundColor:e.bgColor||"",borderWidth:e.borderWidth,borderStyle:e.borderStyle,borderColor:e.borderColor||"",borderCollapse:e.collapseBorders?"collapse":null,whiteSpace:l}},_getAlignmentData:function(e){var t="";var l=t;if(e)if(e.indexOf(" ")!=-1){var a=e.split(" ");t=a[0];l=a[1]}else t=e;return{textAlign:t,verticalAlign:l}},parseTable:function(e,c){if(!e)return{tableProperties:{},selectedCells:[]};var t=this;var l=e.style;var a=e.rows;var r=e.caption;var i=v(r?r.cloneNode(true):f);i.find(".k-marker").remove();var n=e.className;n=n.replace(/^k-table\s|\sk-table$/,"");n=n.replace(/\sk-table\s/," ");n=n.replace(/^k-table$/,"");var u=t._getAlignment(e,true);var s=r?t._getAlignment(r):f;var h=b._getNumberOfHeaderRows(e);var o;if(t.cellsWithHeadersAssociated(e))o="ids";else if(v(e).find("th[scope]").length>0)o="scope";else o="none";b.reMapTableColumns(e,m);var g=b._getNumberOfColumns(e);var p=b._getNumberOfHeaderColumns(e,h);b.clearTableMappings(e,m);var d={tableProperties:{width:l.width||e.width?parseFloat(l.width||e.width):null,height:l.height||e.height?parseFloat(l.height||e.height):null,columns:g,rows:a.length,widthUnit:t._getUnit(l.width),heightUnit:t._getUnit(l.height),cellSpacing:e.cellSpacing,cellPadding:e.cellPadding,alignment:u.textAlign,bgColor:l.backgroundColor||e.bgColor,className:n,id:e.id,borderWidth:l.borderWidth||e.border,borderColor:l.borderColor,borderStyle:l.borderStyle||"",collapseBorders:!!l.borderCollapse,summary:e.summary,captionContent:r?i.html():"",captionAlignment:r&&s.textAlign?s.textAlign+" "+s.verticalAlign:"",headerRows:h,headerColumns:p,cellsWithHeaders:o},selectedCells:[]};d.rows=t.parseTableRows(a,c,d);return d},parseTableRows:function(e,t,c){var u=this;var l=[],a,r,i,n,s;for(var o=0;o<e.length;o++){a=e[o];r={cells:[]};i=a.cells;l.push(r);for(var d=0;d<i.length;d++){n=i[d];s=u.parseCell(n);if(v.inArray(n,t)!=-1)c.selectedCells.push(s);r.cells.push(s)}}return l},parseCell:function(e){var t=this;var l=e.style;var a=t._getAlignment(e);a=a.textAlign?a.textAlign+" "+a.verticalAlign:"";var r={width:l.width||e.width?parseFloat(l.width||e.width):null,height:l.height||e.height?parseFloat(l.height||e.height):null,widthUnit:t._getUnit(l.width),heightUnit:t._getUnit(l.height),cellMargin:l.margin,cellPadding:l.padding,alignment:a,bgColor:l.backgroundColor||e.bgColor,className:e.className,id:e.id,borderWidth:l.borderWidth||e.border,borderColor:l.borderColor,borderStyle:l.borderStyle,wrapText:l.whiteSpace!="nowrap"};return r},_getAlignment:function(e,t){var l=e.style;var a=l.textAlign||e.align||"";if(t)return{textAlign:a};var r=l.verticalAlign||e.vAlign||"";if(a&&r)return{textAlign:a,verticalAlign:r};if(!a&&r)return{textAlign:"left",verticalAlign:r};if(a&&!r)return{textAlign:a,verticalAlign:"top"};return{textAlign:"",verticalAlign:""}},_getUnit:function(e){var t=(e||"").match(c);return t?t[0]:"px"},_selectedTable:function(e){var t=b.filterBy(l.nodes(e),b.htmlIndentSpace,true);return i.findSuitable(t)[0]},_selectedCells:function(e){var t=b.filterBy(l.nodes(e),b.htmlIndentSpace,true);return n.findSuitable(t)},_lastInCollection:function(e){return e[e.length-1]}}),x=o.Tool.extend({command:function(e){e.insertNewTable=this.options.insertNewTable;return new T(e)}}),H=x.extend({update:function(e,t){var l=!i.isFormatted(t);if(l===true){e.parent().addClass("k-hidden k-disabled");e.attr("disabled","disabled");e.addClass("k-disabled")}else{e.parent().removeClass("k-hidden k-disabled");e.prop("disabled",false);e.removeClass("k-disabled")}}});s.ui.editor.TableWizardTool=x,t("tableWizard",new H({command:s.ui.editor.TableWizardCommand=T,insertNewTable:false,template:new a({template:e.buttonTemplate,title:"Table Wizard"})}))})?a.apply(t,l):a)||(e.exports=t)},32453:function(e){"use strict";e.exports=require("./../plugins/tables")}},a={};function r(e){var t=a[e];return void 0!==t||(t=a[e]={exports:{}},l[e](t,t.exports,r)),t.exports}r.amdD=function(){throw Error("define cannot be used indirect")},e=r(6370),module.exports=e}();