!function(){var e,i={22342:function(e,t,i){var n;i=[i(85719),i(54612)],void 0===(t="function"==typeof(n=function(){var n=window.kendo.jQuery,F=void 0,v=window.kendo,R=n.extend,e=v.ui.editor,t=e.EditorUtils,g=e.Dom,s=t.registerTool,o=e.ToolTemplate,h=e.RangeUtils,i=e.Command,r=e.LinkFormatter,B=h.textNodes,w=v.keys,x="#k-editor-file-url",y="#k-editor-file-text",T="#k-editor-file-title",l=i.extend({init:function(e){var t=this;i.fn.init.call(t,e);t.formatter=new r;t.async=true;t.attributes={}},insertFile:function(e,t){var i=this.attributes;var n=h.documentFromRange(t);if(i.href&&i.href!="http://")if(!e){e=g.create(n,"a",{href:i.href});e.innerHTML=i.innerHTML;e.title=i.title;t.deleteContents();t.insertNode(e);if(!e.nextSibling)g.insertAfter(n.createTextNode("\ufeff"),e);t.setStartAfter(e);t.setEndAfter(e);h.selectRange(t);return true}else g.attr(e,i);return false},_dialogTemplate:function(e){return v.template('<div class="k-editor-dialog k-popup-edit-form">'+'<div class="k-edit-form-container">'+'<div class="k-edit-form-content">'+"# if (showBrowser) { #"+'<div class="k-filebrowser"></div>'+"# } #"+"<div class='k-edit-label'>"+'<label for="k-editor-file-url">#: messages.fileWebAddress #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-file-url"></span>'+"</div>"+"<div class='k-edit-label'>"+'<label for="k-editor-file-text">#: messages.fileText #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-file-text"></span>'+"</div>"+"<div class='k-edit-label'>"+'<label for="k-editor-file-title">#: messages.fileTitle #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-file-title"></span>'+"</div>"+"</div>"+'<div class="k-edit-buttons">'+'<button class="k-dialog-insert k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary"><span class="k-button-text">#: messages.dialogInsert #</span></button>'+'<button class="k-dialog-close k-button k-button-md k-rounded-md k-button-solid k-button-solid-base"><span class="k-button-text">#: messages.dialogCancel #</span></button>'+"</div>"+"</div>"+"</div>")({messages:this.editor.options.messages,showBrowser:e})},redo:function(){var e=this,t=e.lockRange();this.formatter.apply(t,this.attributes);e.releaseRange(t)},exec:function(){var o=this,r=o.lockRange(),f=B(r),u=false,l=f.length?this.formatter.finder.findSuitable(f[0]):null,d,c=v.support.browser.msie,k=o.editor.options,p=k.messages,e=k.fileBrowser,t=!!(v.ui.FileBrowser&&e&&e.transport&&e.transport.read!==F),i={title:p.insertFile,visible:false,resizable:t};this.expandImmutablesIn(r);function n(e){var t=d.element,i=t.find(x).val().replace(/ /g,"%20"),n=t.find(y).val(),s=t.find(T).val();o.attributes={href:i,innerHTML:n!==""?n:i,title:s};u=o.insertFile(l,r);a(e);if(o.change)o.change()}function a(e){e.preventDefault();d.destroy();g.windowFromDocument(h.documentFromRange(r)).focus();if(!u)o.releaseRange(r)}function m(e){if(e.keyCode==w.ENTER)n(e);else if(e.keyCode==w.ESC)a(e)}i.close=a;if(t)i.width=750;d=this.createDialog(o._dialogTemplate(t),i).toggleClass("k-filebrowser-dialog",t).find(".k-dialog-insert").on("click",n).end().find(".k-dialog-close").on("click",a).end().find(".k-edit-field input").on("keydown",m).end().find(x).val(l?l.getAttribute("href",2):"http://").end().find(y).val(l?l.innerText:"").end().find(T).val(l?l.title:"").end().data("kendoWindow");var s=d.element;if(t){o._fileBrowser=new v.ui.FileBrowser(s.find(".k-filebrowser"),R({},e));o._fileBrowser.bind("change",function(e){if(e.selected.get("type")==="f")s.find(x).val(this.value())});o._fileBrowser.bind("apply",n)}if(c){var b=s.closest(".k-window").height();s.css("max-height",b)}d.center().open();s.find(x).trigger("focus").select()}});s("insertFile",new e.Tool({command:v.ui.editor.FileCommand=l,template:new o({template:t.buttonTemplate,title:"Insert File"})}))})?n.apply(t,i):n)||(e.exports=t)},85719:function(e){"use strict";e.exports=require("../../kendo.filebrowser")},54612:function(e){"use strict";e.exports=require("./link")}},n={};function s(e){var t=n[e];return void 0!==t||(t=n[e]={exports:{}},i[e](t,t.exports,s)),t.exports}s.amdD=function(){throw Error("define cannot be used indirect")},e=s(22342),module.exports=e}();