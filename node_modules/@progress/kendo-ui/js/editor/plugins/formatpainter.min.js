!function(){var e,n={96413:function(e,t,n){var i;n=[n(90710)],void 0===(t="function"==typeof(i=function(){var h=window.kendo.jQuery,f,t=window.kendo.ui.editor,n=t.Tool,i=t.Command,e=t.ToolTemplate,r=t.EditorUtils,S=t.Dom,a=t.RangeUtils,l=r.registerTool,o=i.extend({init:function(e){i.fn.init.call(this,e)},exec:function(){var e=this.lockRange(true);this.inlineStyles=[];this.blockStyles=[];this.collectStyles(e);this.editor.inlineStyles=this.inlineStyles;this.editor.blockStyles=this.blockStyles;this.releaseRange(e)},collectStyles:function(e){var t=a.nodes(e);var n;if(t.length===1)n=t[0].parentNode;else n=e.startContainer;while(n&&!S.is(n,"body")&&n.getAttribute("data-role")!=="editor")if(S.isBlock(n)){this.populateStyles(n,"blockStyles");if(S.is(n,"li"))n=n.parentNode;else n=null}else{this.populateStyles(n,"inlineStyles");n=n.parentNode}},populateStyles:function(e,t){var n=e.style;var i=e.attributes;var r={tags:[e.tagName],attr:{style:{}}};var l,a,o,s,h;for(h=0;n&&h<n.length;h++){a=n[h];l=n[a];r.attr.style[a]=l}for(h=0;i&&h<i.length;h++){o=i[h].nodeName;s=i[h].nodeValue;if(o==="style")continue;else if(o==="class")r.attr.className=s;else r.attr[o]=s}this[t].push(r)}}),s=i.extend({init:function(e){i.fn.init.call(this,e)},exec:function(){var e=this.lockRange(true);var t=a.getMarkers(e);var n=this.editor;var i=n.inlineStyles;var r=n.blockStyles;var l;if((!i||i.length===0)&&(!r||r.length===0))return;if(t.length===3){this.marker.removeCaret(e);this.marker.caret=null}this.removeEmptyElementsFromRange(e);l=a.nodes(e);this.cleanInlineParents(l);S.normalize(e.commonAncestorContainer);if(t.length===2){e.setStartAfter(t[0]);e.setEndBefore(t[1])}else{e.setStartBefore(l[0]);e.setEndAfter(l[0])}l=a.nodes(e);if(l&&r&&r.length)this.applyBlockStyles(l,r);if(l&&i&&i.length)this.applyInlineStyles(l,i);this.releaseRange(e)},removeEmptyElementsFromRange:function(e){var t=function(e){return S.isInline(e)&&!e.firstChild&&!S.isMarker(e)};var n,i;n=a.getAll(e,t);if(n&&n.length>0)for(i=0;i<n.length;i++)n[i].parentNode.removeChild(n[i])},cleanInlineParents:function(e){var t,n,i,r,l,a,o;for(t=0;t<e.length;t++){n=e[t];i=n.parentNode;if(this.immutableParent(n))continue;while(i&&S.isInline(i)){r=i.childNodes;for(l=0;l<r.length;l++){a=r[l];if(!S.isMarker(a)&&a!==n){o=i.cloneNode(true);o.innerHTML="";S.wrap(a,o)}}S.unwrap(i);i=n.parentNode}}},applyBlockStyles:function(f,e){var c=e[0].tags[0];var m=e[0].attr;var u=this.editor.document;var t,p,n,i,r,l;var a,o,d,g,y,v,b,s,h;for(t=0,p=f.length;t<p;t++){n=f[t];if(S.isWhitespace(n)||this.immutableParent(n))continue;r=S.blockParentOrBody(n);if(r.tagName!=="BODY"&&r.tagName!==c){if(r.tagName!=="LI"&&r.tagName!=="TD"&&r.tagName!=="TH"){a=[];o=[];d=n.previousSibling;g=n.nextSibling;while(d){if(!S.isMarker(d))a.push(d);d=d.previousSibling}if(a.length){y=r.cloneNode(true);y.innerHTML="";S.insertBefore(y,a[0]);for(s=0;s<a.length;s++){b=a[s];S.insertAt(y,b,0)}}while(g){if(!S.isMarker(g))o.push(g);g=g.nextSibling}if(o.length){v=r.cloneNode(true);v.innerHTML="";S.insertBefore(v,o[0]);for(s=0;s<o.length;s++){b=o[s];v.appendChild(b)}}S.unwrap(r)}i=S.create(u,c,m);S.wrap(n,i)}else if(r.tagName===c)S.attr(r,m)}if(r&&e.length===2&&r.tagName!=="LI"&&c==="LI"){h=[];while(S.is(i,"li")){h.push(i);i=S.prev(i)}l=S.create(u,e[1].tags[0],e[1].attr);S.insertBefore(l,h[h.length-1]);l.appendChild(h[0]);for(t=1,p=h.length;t<p;t++)S.insertBefore(h[t],l.firstChild)}else if(r&&e.length===2&&r.tagName!=="LI"){l=S.create(u,e[1].tags[0],e[1].attr);S.wrap(i,l)}},applyInlineStyles:function(e,t){var n=this.editor.document;var i,r,l,a,o,s;for(a=0;a<t.length;a++){i=t[a];r=S.create(n,i.tags[0],i.attr);if(l)r.appendChild(l);l=r}if(l)for(a=0;a<e.length;a++){s=e[a];if(S.isWhitespace(s)||this.immutableParent(s))continue;o=l.cloneNode(true);S.insertBefore(o,s);while(o.children&&o.children.length)o=o.children[0];o.appendChild(s)}},immutables:function(){return this.editor&&this.editor.options.immutables},immutableParent:function(e){return this.immutables()&&t.Immutables.immutableParent(e)}}),c=n.extend({init:function(e){n.fn.init.call(this,e)},command:function(e){return new o(e)}}),m=n.extend({init:function(e){n.fn.init.call(this,e)},command:function(e){return new s(e)}});h.extend(t,{CopyFormatCommand:o,ApplyFormatCommand:s,CopyFormatTool:c,ApplyFormatTool:m}),l("copyFormat",new c({template:new e({template:r.buttonTemplate,title:"Copy format"})})),l("applyFormat",new m({template:new e({template:r.buttonTemplate,title:"Apply format"})}))})?i.apply(t,n):i)||(e.exports=t)},90710:function(e){"use strict";e.exports=require("../command")}},i={};function r(e){var t=i[e];return void 0!==t||(t=i[e]={exports:{}},n[e](t,t.exports,r)),t.exports}r.amdD=function(){throw Error("define cannot be used indirect")},e=r(96413),module.exports=e}();