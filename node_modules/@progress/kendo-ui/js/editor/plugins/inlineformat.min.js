!function(){var t,n={31509:function(t,e,n){var i;n=[n(25566)],void 0===(e="function"==typeof(i=function(){var c=window.kendo.jQuery,h=window.kendo,o=h.Class,r=h.ui.editor,t=h.ui.Editor.fn.options.formats,l=r.EditorUtils,u=r.Tool,e=r.ToolTemplate,a=r.FormatTool,g=r.Dom,s=r.RangeUtils,f=c.extend,n=r.EditorUtils.registerTool,p=r.EditorUtils.registerFormat,d="mousedown.kendoEditor",m="keydown.kendoEditor",v="k-marker",b=o.extend({init:function(t){this.format=t},numberOfSiblings:function(t){var e=0,n=0,i=0,r=t.parentNode,o;for(o=r.firstChild;o;o=o.nextSibling)if(o!=t)if(o.className==v)i++;else if(o.nodeType==3)e++;else n++;if(i>1&&r.firstChild.className==v&&r.lastChild.className==v)return 0;else return n+e},findSuitable:function(t,e){if(!e&&this.numberOfSiblings(t)>0)return null;var n=t.parentNode;var i=this.format[0].tags;while(!g.ofType(n,i)){if(this.numberOfSiblings(n)>0)return null;n=n.parentNode}return n},findFormat:function(t){var e=this.format,n=g.attrEquals,i,r,o,a,s;for(i=0,r=e.length;i<r;i++){o=t;a=e[i].tags;s=e[i].attr;if(o&&g.ofType(o,a)&&n(o,s))return o;while(o){o=g.parentOfType(o,a);if(o&&n(o,s))return o}}return null},isFormatted:function(t){var e,n;for(e=0,n=t.length;e<n;e++)if(this.findFormat(t[e]))return true;return false}}),w=o.extend({init:function(t,e){this.finder=new b(t);this.attributes=f({},t[0].attr,e);this.tag=t[0].tags[0]},wrap:function(t){return g.wrap(t,g.create(t.ownerDocument,this.tag,this.attributes))},activate:function(t,e){if(this.finder.isFormatted(e)){this.split(t);this.remove(e)}else this.apply(e)},toggle:function(t){var e=this.immutables()?s.editableTextNodes:s.textNodes;var n=e(t);if(n.length>0)this.activate(t,n)},immutables:function(){return this.editor&&this.editor.options.immutables},apply:function(t){var e=[];var n,i,r,o;if(t.length>1)for(n=0,i=t.length;n<i;n++){r=t[n];o=this.format(r,true);e.push(o)}else{r=t[0];o=this.format(r,false)}this.consolidate(e)},format:function(t,e){var n=this.finder.findSuitable(t);var i=this.attributes;var r=i?i.style||{}:{};if(n){if(g.is(n,"font")){if(r.color)n.removeAttribute("color");if(r.fontName)n.removeAttribute("face");if(r.fontSize)n.removeAttribute("size")}g.attr(n,i)}else{while(!g.isBlock(t.parentNode)&&t.parentNode.childNodes.length==1&&t.parentNode.contentEditable!=="true"&&e)t=t.parentNode;n=this.wrap(t)}return n},remove:function(t){var e,n,i;for(e=0,n=t.length;e<n;e++){i=this.finder.findFormat(t[e]);if(i)if(this.attributes&&this.attributes.style){g.unstyle(i,this.attributes.style);if(!i.style.cssText&&!i.attributes["class"])g.unwrap(i)}else g.unwrap(i)}},split:function(t){var e=s.textNodes(t);var n=e.length;var i,r;if(n>0)for(i=0;i<n;i++){r=this.finder.findFormat(e[i]);if(r)s.split(t,r,true)}},consolidate:function(t){var e,n;while(t.length>1){e=t.pop();n=t[t.length-1];if(e.previousSibling&&e.previousSibling.className==v)n.appendChild(e.previousSibling);if(e.tagName==n.tagName&&e.previousSibling==n&&e.style.cssText==n.style.cssText&&e.className===n.className){while(e.firstChild)n.appendChild(e.firstChild);g.remove(e)}}}}),y=b.extend({init:function(t,e,n){this.format=t;this.greedyProperty=e;this.fontAttr=n;b.fn.init.call(this,t)},getInlineCssValue:function(f){var t=f.attributes;var e=h.trim;var n,c,i,r,p,o,a,s,d;var m,l,u;if(!t)return;for(n=0,c=t.length;n<c;n++){i=t[n];r=i.nodeName;p=i.nodeValue;if(i.specified&&r=="style"){o=e(p||f.style.cssText).split(";");for(s=0,d=o.length;s<d;s++){a=o[s];if(a.length){m=a.split(":");l=e(m[0].toLowerCase());u=e(m[1]);if(l!=this.greedyProperty)continue;return l.indexOf("color")>=0?g.toHex(u):u}}}if(this.fontAttr&&i.specified&&r==this.fontAttr){l=i.nodeValue;u=i.nodeValue;return l.indexOf("color")>=0?g.toHex(u):u}}},getFormatInner:function(t){var e=c(g.isDataNode(t)?t.parentNode:t);var n=e.parentsUntil("[contentEditable]").addBack().toArray().reverse();var i,r,o;for(i=0,r=n.length;i<r;i++){o=this.greedyProperty=="className"?n[i].className:this.getInlineCssValue(n[i]);if(o)return o}return"inherit"},getFormat:function(t){var e=this.getFormatInner(t[0]),n,i;for(n=1,i=t.length;n<i;n++)if(e!=this.getFormatInner(t[n]))return"";return e},isFormatted:function(t){return this.getFormat(t)!==""}}),x=w.extend({init:function(t,e,n){w.fn.init.call(this,t,e);this.values=e;this.finder=new y(t,n);if(n)this.greedyProperty=h.toCamelCase(n)},activate:function(t,e){var n=this.greedyProperty;var i="apply";this.split(t);if(n&&this.values.style[n]=="inherit")i="remove";this[i](e)}}),i=a.extend({init:function(t){a.fn.init.call(this,f(t,{finder:new b(t.format),formatter:function(){return new w(t.format)}}))}}),k=u.extend({update:function(t,e){var n=t.data(this.type);n.close();n.value(this.finder.getFormat(e))}}),F=k.extend({init:function(t){u.fn.init.call(this,t);this.type=h.support.browser.msie||h.support.touch?"kendoDropDownList":"kendoComboBox";this.format=[{tags:["span","font"]}];this.finder=new y(this.format,t.cssAttr,t.fontAttr)},command:function(t){var e=this.options,n=this.format,i={};return new r.FormatCommand(f(t,{formatter:function(){i[e.domAttr]=t.value;return new x(n,{style:i},e.cssAttr)}}))},initialize:function(t,e){var n=e.editor,i=this.options,r=i.name,o,a,s=[];if(i.defaultValue)s=[{text:n.options.messages[i.defaultValue[0].text],value:i.defaultValue[0].value}];o=s.concat(i.items?i.items:n.options[r]||[]);t.attr({title:e.title});t[this.type]({dataTextField:"text",dataValueField:"value",dataSource:o,change:function(){n._range=a;u.exec(n,r,this.value())},close:function(){setTimeout(function(){n._deleteSavedRange()},0)},highlightFirst:false});t.closest(".k-combobox").removeClass("k-"+r).find("*").addBack().attr("unselectable","on");var l=t.data(this.type);l.value("inherit");l.wrapper.on(d,".k-select,.k-input-button,.k-input",function(){var t=n.getRange();a=n._containsRange(t)?t:a}).on(m,function(t){if(t.keyCode===h.keys.ENTER){n._deleteSavedRange();t.preventDefault()}})}}),T=u.extend({init:function(t){u.fn.init.call(this,t);this.format=[{tags:["span","font"]}];this.finder=new y(this.format,t.cssAttr)},options:{palette:"websafe",columns:18},update:function(){this._widget.close()},command:function(t){var e=this.options,n=this.format,i={};return new r.FormatCommand(f(t,{formatter:function(){i[e.domAttr]=t.value;return new x(n,{style:i},e.cssAttr)}}))},initialize:function(e,t){var n=this,i=t.editor,r=this.name,o=f({},T.fn.options,this.options),a=o.palette,s=o.columns;e=this._widget=new h.ui.ColorPicker(e,{closeOnSelect:true,views:["palette"],preview:false,input:false,buttons:false,toolIcon:"k-icon k-i-"+l.getToolCssClass(o.name),palette:a,columns:s,change:function(){var t=e.value();if(h.support.browser.msie&&n.storedRange&&n._inputFocused)i.selectRange(n.storedRange);if(t)u.exec(i,r,t);delete n.storedRange;delete n._inputFocused;i.focus()},open:function(t){var e=t.sender;n.storedRange=i.getRange();e._popup.element.on(d,function(t){if(!c(t.target).is("input.k-color-value"))t.preventDefault()});if(!e._popup.element.is("[unselectable='on']"))e._popup.element.attr({unselectable:"on"}).find("*:not(input)").attr("unselectable","on").end().find("input").on("focus",function(){n._inputFocused=true});setTimeout(function(){e._popup.element.find(".k-colorpalette").trigger("focus")})},close:function(t){t.sender._popup.element.off(d);if(h.support.browser.msie&&n.storedRange&&n._inputFocused)i.selectRange(n.storedRange)},activate:function(t){t.preventDefault();if(t.sender._value.toCssRgba()==="rgba(255, 255, 255, 0)")return;e.trigger("change")}});e.wrapper.attr({title:t.title,unselectable:"on"}).find("*:not(input)").attr("unselectable","on");e.value("transparent")}});f(r,{InlineFormatFinder:b,InlineFormatter:w,DelayedExecutionTool:k,GreedyInlineFormatFinder:y,GreedyInlineFormatter:x,InlineFormatTool:i,FontTool:F,ColorTool:T}),p("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]),n("bold",new i({key:"B",ctrl:true,format:t.bold,template:new e({template:l.buttonTemplate,title:"Bold"})})),p("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]),n("italic",new i({key:"I",ctrl:true,format:t.italic,template:new e({template:l.buttonTemplate,title:"Italic"})})),p("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]),n("underline",new i({key:"U",ctrl:true,format:t.underline,template:new e({template:l.buttonTemplate,title:"Underline"})})),p("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]),n("strikethrough",new i({format:t.strikethrough,template:new e({template:l.buttonTemplate,title:"Strikethrough"})})),p("superscript",[{tags:["sup"]}]),n("superscript",new i({format:t.superscript,template:new e({template:l.buttonTemplate,title:"Superscript"})})),p("subscript",[{tags:["sub"]}]),n("subscript",new i({format:t.subscript,template:new e({template:l.buttonTemplate,title:"Subscript"})})),n("foreColor",new T({cssAttr:"color",fontAttr:"color",domAttr:"color",name:"foreColor",template:new e({template:l.colorPickerTemplate,title:"Color"})})),n("backColor",new T({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new e({template:l.colorPickerTemplate,title:"Background Color"})})),n("fontName",new F({cssAttr:"font-family",fontAttr:"face",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new e({template:l.comboBoxTemplate,title:"Font Name"})})),n("fontSize",new F({cssAttr:"font-size",fontAttr:"size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new e({template:l.comboBoxTemplate,title:"Font Size"})}))})?i.apply(e,n):i)||(t.exports=e)},25566:function(t){"use strict";t.exports=require("./format")}},i={};function r(t){var e=i[t];return void 0!==e||(e=i[t]={exports:{}},n[t](e,e.exports,r)),e.exports}r.amdD=function(){throw Error("define cannot be used indirect")},t=r(31509),module.exports=t}();