!function(){var e,t={80606:function(e,n,t){var a;t=[t(94827)],void 0===(n="function"==typeof(a=function(){var s=window.kendo.jQuery,c=void 0,e=window.kendo,u=s.extend,l=s.isPlainObject,i,n=e.Class.extend({init:function(e){this.options=e;this.taskboard=e.taskboard},_confirm:function(e,n,t,a){var o=this,r=o.taskboard,d=r.options,c;if(l(d.editable)&&d.editable.confirmation===false){var i=s.Deferred();i.resolve();return i}c=s("<div></div>").kendoConfirm(u({},{title:e,content:n,messages:{okText:t,cancel:a},buttonLayout:"normal"})).data("kendoConfirm");c.open();setTimeout(function(){c.element.trigger("focus")});return c.result}}),t=n.extend({exec:function(){var e=this,t=e.taskboard;if(t.trigger("editColumn",{column:null}))return;t.columns().each(function(e,n){t.enableByColumn(n,false)});t.addColumn()}}),a=n.extend({exec:function(){var e=this,n=e.options,t=e.taskboard;if(t.trigger("editColumn",{column:n.column}))return;t.columns().each(function(e,n){t.enableByColumn(n,false)});t.editColumn(n.columnElement)}}),o=n.extend({exec:function(){var e=this,n=e.options,t=e.taskboard,a=t.options,o=a.messages,r=t.columnsDataSource;var d=e._confirm(o.deleteColumn,o.deleteColumnConfirm,o["delete"],o.cancel);d.done(function(){if(t.trigger("deleteColumn",{column:n.column})){t.dataSource.cancelChanges();return}r.remove(n.column);r.sync()})}}),r=n.extend({exec:function(){var e=this,n=e.options,t=e.taskboard,a=t.options.columnSettings,o=t.columnsDataSource,r=n.column,d=n.target.val();if(t.trigger("saveColumn",{column:n.column})){t.dataSource.cancelChanges();return}r.set(a.dataTextField,d);o.sync()}}),m=n.extend({exec:function(){var e=this,n=e.taskboard,t=n.columnsDataSource;t.cancelChanges()}}),f=n.extend({exec:function(){var e=this,n=e.taskboard,t=e.options,a=t.cardElement,o=t.columnElement,r=n.columns(),d=o.index(),c=t.value,i,s;switch(c){case"left":i=Math.max(0,d-1);break;case"right":i=Math.min(r.length-1,d+1);break;default:i=d;break}e.columns=r;e.columnIndex=i;e.column=s=n._getColumnByElement(r.eq(i));e.cards=s.cards();if(a)e._moveFromCardFocus(c,a);else if(o&&c==="down")e.cards.eq(0).trigger("focus");else r.eq(i).trigger("focus")},_moveFromCardFocus:function(e,n){var t=this,a=n.index(),o,r,d=false;switch(e){case"up":r=a-1;break;case"down":r=a+1;break;default:d=true;r=a;break}o=t.cards.eq(r);if(!o.length&&d)o=t._getFocusableCard(r,e);if(r>=0)o.trigger("focus");else t.options.columnElement.focus()},_getFocusableCard:function(e,n){var t=this,a=t.cards.length-1,o=t.cards.eq(Math.min(e,a));if(o.length)return o;if(t.columnIndex<=0||t.columnIndex>=t.columns.length-1)return;switch(n){case"left":t.columnIndex=Math.max(0,t.columnIndex-1);break;case"right":t.columnIndex=Math.min(t.columns.length-1,t.columnIndex+1);break}t.column=t.taskboard._getColumnByElement(t.columns.eq(t.columnIndex));t.cards=t.column.cards();return t._getFocusableCard(e,n)}}),d=n.extend({_updateOrder:function(e,u){var n=this,t=n.taskboard,l=t.options,a=l.dataOrderField,o=n.options,r=o.card,m=o.cardElement?o.cardElement.index():e.cards().length,f=u,d=e.cards().map(function(e,n){return t.dataItem(n)}),c=d[m-1],i;r.set(a,f);if(c&&c.get(a)>=r.get(a))r.set(a,c.get(a)+1);for(var s=f+1;s<d.length;s++){i=d[s];if(i.get(a)<=r.get(a)){i.set(a,r.get(a)+1);r=i}else break}}}),g=n.extend({exec:function(){var e=this,n=e.taskboard,t=e.options,a=t.cardElement;n._select(a,true);a.focus()}}),C=d.extend({exec:function(){var e=this,n=e.taskboard,t=n.options,a=e.options,o=a.card.get(t.dataStatusField),r=n._getColumn(o),d=s(document.activeElement);if(d.length)d.trigger("change");if(n.pane&&n.pane.form&&!n.pane.form.validate())return;if(n.trigger("saveCard",{card:a.card})){n.dataSource.cancelChanges();return}if(r&&t.dataOrderField)e._updateOrder(r,a.card.get(t.dataOrderField));n.dataSource.sync().then(function(){n.columns().eq(0).trigger("focus")})}}),h=n.extend({exec:function(){var e=this,n=e.taskboard,t=n.options.messages,a=e.options;var o=e._confirm(t.deleteCard,t.deleteCardConfirm,t["delete"],t.cancel);o.done(function(){if(n.trigger("deleteCard",{card:a.card})){n.dataSource.cancelChanges();return}n.dataSource.remove(a.card);n.dataSource.sync().then(function(){n.columns().eq(0).trigger("focus")})}).fail(function(){a.cardElement.trigger("focus")})}}),x=d.extend({exec:function(){var e=this,n=e.taskboard,t=n.options,a=t.columnSettings,o=e.options,r=o.column.get(a.dataStatusField);o.card.set(t.dataStatusField,r);if(t.dataOrderField)e._updateOrder(n._getColumn(r),o.newIndex);n.dataSource.sync()}}),p=n.extend({exec:function(){var e=this,n=e.taskboard,t=e.options;if(n.trigger("editCard",{card:t.card}))return;n._openPane(u({pane:"Edit"},t))}}),v=n.extend({exec:function(){var e=this,n=e.taskboard,t=e.options;if(n.trigger("editCard",{card:null}))return;n.dataSource.cancelChanges();n._openPane(u({pane:"Create"},t))}}),b=n.extend({exec:function(){var e=this,n=e.options,t=e.taskboard;t._openPane({pane:n.value,card:n.card,cardElement:n.cardElement,column:n.column,columnElement:n.columnElement})}}),k=n.extend({exec:function(){var e=this,n=e.taskboard;n._closePane();n.dataSource.cancelChanges()}}),S=n.extend({exec:function(){var e=this,n=e.options.value,t=e.taskboard,a=t.options,o=a.search,r=o.operator,d=o&&o.fields||[a.dataTitleField,a.dataDescriptionField],c;c=e._buildFilters(d,r,n);t.dataSource.filter(c)},_buildFilters:function(e,n,t){var a=e.map(function(e){return{field:e,operator:n,value:t}});return{logic:"or",filters:a}}});return u(e.ui.taskboard,{Command:n,commands:{AddColumnCommand:t,EditColumnCommand:a,DeleteColumnCommand:o,SaveColumnCommand:r,CancelEditColumnCommand:m,OpenPaneCommand:b,ClosePaneCommand:k,SelectCardCommand:g,MoveFocusCommand:f,SaveChangesCommand:C,DeleteCardCommand:h,MoveCardCommand:x,EditCardCommand:p,AddCardCommand:v,SearchCommand:S}}),window.kendo})?a.apply(n,t):a)||(e.exports=n)},94827:function(e){"use strict";e.exports=require("../kendo.dialog")}},a={};function o(e){var n=a[e];return void 0!==n||(n=a[e]={exports:{}},t[e](n,n.exports,o)),n.exports}o.amdD=function(){throw Error("define cannot be used indirect")},e=o(80606),module.exports=e}();