!function(){var e,r={92002:function(e,t,r){var i;r=[r(81495)],void 0===(t="function"==typeof(i=function(){var n=window.kendo.jQuery,t=void 0,r=n.extend,p,h=kendo.drawing,i=h.Group,a=h.Surface,s="render",e=kendo.Class,o=2,d={Path:"path",MultiPath:"multipath",Rect:"rect",Image:"image",Text:"text"},c=e.extend({init:function(e,t){this.viewer=t;this.processor=e.processor;this.options=e;this.pageNumber=e.number;this.element=n("<div class='k-page' />");this.element.attr(kendo.attr("number"),this.pageNumber);this._updatePageSize(e);this.width=e.width;this.height=e.height},resize:function(e){var t=this.element;this._updatePageSize({width:Math.min(t.width()*e,this.width),height:Math.min(t.height()*e,this.height)})},_updatePageSize:function(e){this.element.width(e.width).height(e.height)},destroy:function(){kendo.destroy(this.element)},render:n.noop}),u=c.extend({draw:function(){var e=this,t=e.options.geometries;e.group=new i;e.surface.draw(e.group);e._drawGeometries(t);e.viewer.trigger(s,{page:this});kendo.ui.progress(e.element,false)},load:function(){var t=this;if(t.loaded||!t.processor)return;t.processor.fetchPageData(t.pageNumber).then(function(e){t.options=e;t._initSurface();t.draw()});t.loaded=true},_initSurface:function(){var e={width:this.element.width(),height:this.element.height()};var t=r({width:this.width,height:this.height},this.viewer.options.view);this.surface=new a(this.element,t);this._updatePageSize(e)},_drawGeometries:function(e){var t=this,r;if(!e)return;for(var i=0;i<=e.length;i++){var n=e[i];if(!n)continue;switch(n.type){case d.Path:case d.MultiPath:r=t._drawPath(n);break;case d.Rect:r=t._drawRect(n);break;case d.Image:r=t._drawImage(n);break;case d.Text:r=t._drawText(n);break;default:r=null;break}if(r)t.group.append(r)}},_drawRect:function(e){var t=new kendo.geometry.Rect(e.point,e.size);return new h.Rect(t,{transform:this._getMatrix(e.transform),fill:e.fillOptions,stroke:e.strokeOptions})},_drawImage:function(e){var t=new kendo.geometry.Rect(e.point,e.size);return new h.Image(e.src,t,{transform:this._getMatrix(e.transform)})},_drawText:function(e){var t={transform:this._getMatrix(e.transform),stroke:e.strokeOptions,fill:e.fillOptions,font:e.font};return new kendo.drawing.Text(e.content,e.point,t)},_drawPath:function(e){var t={transform:this._getMatrix(e.transform),stroke:e.strokeOptions,fill:e.fillOptions};var r=new h.MultiPath(t);for(var i=0;i<e.paths.length;i++){var n=e.paths[i];if(!n.segments)return;r.moveTo.apply(r,n.point);for(var a=0;a<n.segments.length;a++){var s=n.segments[a];var o=s.points.length===1?r.lineTo:r.curveTo;o.apply(r,s.points)}if(n.closed)r.close()}return r},_getMatrix:function(e){var t=Object.create(kendo.geometry.Matrix.prototype);kendo.geometry.Matrix.apply(t,e);return t}}),g=c.extend({init:function(e,t){var r=this,i;i=n("<canvas style='width: 100%; height: 100%;' />");r.canvas=i.get(0);c.fn.init.call(r,e,t);r.canvas.width=r.width;r.canvas.height=r.height;r.element.append(i)},load:function(t,e){var r=this,i=n.Deferred();if(r._scale===t&&!e)return;else if(r._scale&&r._scale!==t&&!e){r._scale=t;r.render(t);return i.resolve(r)}if(r.processor)r.processor.fetchPageData(r.pageNumber).then(function(e){r._page=e;r._renderPromise=r.render(t).then(function(){r.viewer.trigger(s,{page:r})});i.resolve(r)});r._scale=t;r.loaded=true;return i},render:function(e){var t=this;var r=window.devicePixelRatio>=o?window.devicePixelRatio:o;var i=this.canvas.getContext("2d"),n=this._page.getViewport({scale:e});this.canvas.width=n.width*r;this.canvas.height=n.height*r;i.scale(r,r);this._scale=e;this._dpr=r;if(this._renderTask){this._renderTask.cancel();this._renderTask=null}this._updatePageSize({width:n.width,height:n.height});this._renderTask=this._page.render({canvasContext:i,viewport:n});this._renderTextLayer(n);return this._renderTask.promise.then(function(){t._renderTask=null}).catch(function(){})},_renderTextLayer:function(r){var i=this;var e=i._page;if(i.textLayer)i.textLayer.remove();i.textLayer=n("<div class='k-text-layer'></div>").get(0);i.element.append(i.textLayer);e.getTextContent({normalizeWhitespace:true}).then(function(e){n(i.textLayer).css({height:r.height,width:r.width}).html("");var t={textContent:e,container:i.textLayer,viewport:r,textDivs:[],enhanceTextSelection:true};i.processor.renderTextLayer(t)})}});return r(kendo.pdfviewer.dpl,{geometryTypes:d,Page:u}),r(kendo.pdfviewer.pdfjs,{Page:g}),window.kendo})?i.apply(t,r):i)||(e.exports=t)},81495:function(e){"use strict";e.exports=require("../kendo.drawing")}},i={};function n(e){var t=i[e];return void 0!==t||(t=i[e]={exports:{}},r[e](t,t.exports,n)),t.exports}n.amdD=function(){throw Error("define cannot be used indirect")},e=n(92002),module.exports=e}();