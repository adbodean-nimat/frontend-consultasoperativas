!function(){var e,r={94802:function(e,i,r){var t;r=[r(48619)],void 0===(i="function"==typeof(t=function(){var s=window.kendo.jQuery,i=void 0,a=window.kendo,r=s.extend,t=JSON.parse,o=a.ui.progress,h,n="open",c="zoomStart",l="zoomEnd",d=a.Class.extend({init:function(e){this.options=e;this.viewer=e.viewer;this.errorMessages=this.viewer.options.messages.errorMessages}}),e=d.extend({init:function(e){d.fn.init.call(this,e);this.upload=this.viewer.processor.upload},exec:function(){(this.viewer._upload||this._initUpload()).element.click()},_initUpload:function(){var e={select:this._onSelect.bind(this),success:this._onSuccess.bind(this),error:this._onError.bind(this),complete:this._onComplete.bind(this),showFileList:false,multiple:false,validation:{allowedExtensions:[".pdf"]}};if(this.upload)r(e,{async:{saveUrl:this.upload.url,autoUpload:true,saveField:this.upload.saveField}});var i=s('<input name="files" accept=".pdf" type="file" />').kendoUpload(e).getKendoUpload();this.viewer._upload=i;return i},_onComplete:function(){o(this.viewer.pageContainer,false)},_onSuccess:function(e){var i=t(e.response);if(s.isPlainObject(i))this.viewer.processor.fromJSON(i);else this.viewer._triggerError({error:i,message:this.errorMessages.parseError})},_onError:function(e){this.viewer._triggerError({error:e.XMLHttpRequest.responseText,message:this.errorMessages.notSupported})},_onSelect:function(e){var r=this;var i=e.files[0];o(r.viewer.pageContainer,true);if(r.viewer.trigger(n,{file:i})||r.upload)return;else if(i.extension.toLowerCase()!==".pdf"){r.viewer._triggerError({error:i,message:r.errorMessages.notSupported});return}var t=new FileReader;t.onload=function(e){var i=e.target.result;r.viewer.fromFile(i)};t.onerror=function(){r.viewer._triggerError({error:i,message:r.errorMessages.parseError})};t.readAsArrayBuffer(i.rawFile)}}),v=d.extend({exec:function(){var e=this.options.value;this.viewer.activatePage(e)}}),u=d.extend({exec:function(){if(!this.viewer.document){this.viewer._triggerError({message:this.errorMessages.notFound});return}var e=this.viewer.document.info&&this.viewer.document.info.title||this.viewer.options.messages.defaultFileName;this.viewer.processor.downloadFile(e)}}),g=d.extend({init:function(e){e=s.extend(e,this.options);d.fn.init.call(this,e)},exec:function(){var e=this.viewer._saveDialog||this._initDialog();e._updateModel({pagesCount:this.viewer.document&&this.viewer.document.total||1,page:this.viewer.options.page});e.open()},apply:function(e){var i=e.extension;if(i===".png")this.viewer.exportImage(e);else if(i===".svg")this.viewer.exportSVG(e)},_initDialog:function(){this.viewer._saveDialog=new a.pdfviewer.dialogs.ExportAsDialog({apply:this.apply.bind(this),pagesCount:this.viewer.document&&this.viewer.document.total||1,messages:this.viewer.options.messages});return this.viewer._saveDialog}}),p=d.extend({exec:function(){var e=this,i=e.viewer;i._toggleSelection(true)}}),f=d.extend({exec:function(){var e=this,i=e.viewer;i._toggleSelection(false)}}),m=d.extend({init:function(e){var i=this;i.viewer=e.viewer;if(!i.viewer.searchDialog)i.viewer.searchDialog=new a.pdfviewer.dialogs.SearchDialog({position:{top:i.viewer.pageContainer.offset().top,left:i.viewer.pageContainer.offset().left},messages:i.viewer.options.messages.dialogs.search,open:i._open.bind(i),next:i._next.bind(i),prev:i._prev.bind(i),close:i._close.bind(i)});d.fn.init.call(i,e)},exec:function(){var e=this;e.viewer.searchDialog.open()},_open:function(){var e=this;e.changeHandler=e._change.bind(e);e.zoomStartHandler=e._closeDialog.bind(e);e.openFileHandler=e._closeDialog.bind(e);if(!e.viewer._searchDOM){e.viewer._initSearchDOM();e.viewer.searchDialog.searchModel.bind("change",e.changeHandler);e.viewer.bind("zoomStart",e.zoomStartHandler);e.viewer.bind("open",e.openFileHandler)}},_close:function(){var e=this;var i=e.viewer._searchDOM;e.viewer.searchDialog.searchModel.unbind("change",e.changeHandler);e.viewer.unbind("zoomStart",e.zoomStartHandler);e.viewer.unbind("open",e.openFileHandler);i.destroy();delete e.viewer._searchDOM;e._updateSearchModel()},_change:function(e){var i=this;var r=i.viewer._searchDOM;var t=e.field;var o=i.viewer.searchDialog.searchModel;var n=o[t];if(!r)return;switch(t){case"searchText":r.search(n,o.matchCase);i._updateSearchModel();break;case"matchCase":r.search(o.searchText,n);i._updateSearchModel();break;default:break}},_next:function(){var e=this;var i=e.viewer._searchDOM;if(i.matches&&i.matches.length){i.nextMatch();e._updateSearchModel()}},_prev:function(){var e=this;var i=e.viewer._searchDOM;if(i.matches&&i.matches.length){i.previousMatch();e._updateSearchModel()}},_updateSearchModel:function(){var e=this;var i=e.viewer._searchDOM;var r=e.viewer.searchDialog.searchModel;if(i){r.set("matches",i.matches.length);r.set("matchIndex",i.getMarkedIndex());e._scrollToMark()}else{r.set("searchText","");r.set("matches",0);r.set("matchIndex",0);r.set("matchCase",false)}},_scrollToMark:function(){var e=this;var i=e.viewer._searchDOM;var r=i.getFirstMarked();var t=e.viewer._scroller;var o;if(!r.length)return;o=r.offset().top-t.scrollElement.offset().top-100;t.scrollTo(t.scrollLeft,o*-1)},_closeDialog:function(){var e=this;e.viewer.searchDialog.dialog.close()}}),w=d.extend({exec:function(){var r=this,e=r.options,t=r.viewer,o=e.scale,n=0,a=r.viewer._pageNum,s=t.pageContainer[0].clientHeight,l=1,c=[];if(t.processingLib==="dpl")return;o=r._calculateZoom();var i=function(){var e=r.viewer._scroller,i=t._scrollingStarted;if(e&&e.scrollTop>e.scrollHeight())e._resize();if(!i){t.activatePage(a);t._scrollingStarted=false}};if(!o)return;t.zoomScale=o;t._scrollingStarted=false;if(t.pages){t.pages.forEach(function(e){var i;if(t._visiblePages.indexOf(e)!==-1&&e.loaded){c.push(e.render(o));i=e._page.getViewport({scale:o}).height}else{e.resize(o);i=e.element.height()}n+=i;if(n<=s)l++});if(t._visiblePagesCount!=l){t._visiblePagesCount=l;t._loadVisiblePages()}}Promise.all(c).then(function(){i();r._triggerZoomEnd(o)}).catch(function(){i();r._triggerZoomEnd(o)})},_calculateZoom:function(){var e=this.options,i=this.viewer,r=i.options,t=i.pageContainer,o=i._visiblePages&&i._visiblePages[0].canvas,n=i._visiblePages&&i._visiblePages[0]._dpr||2,a=e.scale,s=a,l;i._allowResize=false;i._autoFit=false;if(e.zoomIn)s=a=i.zoomScale+r.zoomRate;else if(e.zoomOut)s=a=i.zoomScale-r.zoomRate;else if(a==="auto"){i._allowResize=true;s=i._autoZoomScale}else if(a==="actual")s=1;else if(a==="fitToWidth"){i._allowResize=true;i._autoFit="fitToWidth";s=t.width()/(o.width/n/i.zoomScale)}else if(a==="fitToPage"){i._allowResize=true;i._autoFit="fitToPage";s=t.height()/(o.height/n/i.zoomScale)}l=a<r.zoomMin||a>r.zoomMax;if(l||i.trigger(c,{scale:a}))return;if(e.updateComboBox&&i.toolbar)i.toolbar._updateZoomComboBox(a);return s},_triggerZoomEnd:function(e){var i=this,r=i.viewer;r.trigger(l,{scale:e})}}),_=d.extend({init:function(e){d.fn.init.call(this,e)},exec:function(){var e=this;if(!e.viewer.document){e.viewer._triggerError({message:this.errorMessages.notFound});return}o(e.viewer.pageContainer,true);e._renderPrintContainer();e._loadAllPages().then(e.processAfterRender.bind(e))},_renderPrintContainer:function(){this.printContainer=s("<div></div>")},_loadAllPages:function(){var e=this;var i=e.viewer.pages;var r=[];var t=[];var o=s.Deferred();e._originalScale=e.viewer.zoom();function n(e){t.push(e._renderPromise)}for(var a=0;a<i.length;a++)r.push(i[a].load(3,true).then(n));Promise.all(r).then(function(){o.resolve(t)});return o},processAfterRender:function(e){var i=this;Promise.all(e).then(function(){i._renderPrintPages();setTimeout(function(){i._printDocument();i.viewer.zoom(i._originalScale);o(i.viewer.pageContainer,false);delete i._originalScale},0)})},_renderPrintPages:function(){var e=this.viewer.pages;for(var i=0;i<e.length;i++)this._renderPrintImage(e[i])},_renderPrintImage:function(e){var i=e.canvas;var r=s("<div></div>");var t="<img src='"+i.toDataURL()+"' width='"+e.width+"px' height='"+e.height+"px' />";r.append(t);this.printContainer.append(r)},_printDocument:function(){var e=this;var i=e.viewer.pages;var r=i[0].width;var t=i[0].height;var o=window.open("","","innerWidth="+r+",innerHeight="+t+"location=no,titlebar=no,toolbar=no");var n=a.support.browser;if(!o){e.viewer._triggerError({message:e.errorMessages.popupBlocked});return}o.document.write(e.printContainer.html());o.document.close();o.focus();o.print();if(!n.chrome||n.chromiumEdge)o.close();else s(o.document).find("body").on("mousemove",function(){o.close()})}});return r(a.pdfviewer,{OpenCommand:e,PageChangeCommand:v,DownloadCommand:u,EnableSelectionCommand:p,EnablePanCommand:f,ExportCommand:g,PrintCommand:_,OpenSearchCommand:m,ZoomCommand:w}),window.kendo})?t.apply(i,r):t)||(e.exports=i)},48619:function(e){"use strict";e.exports=require("../kendo.upload")}},t={};function o(e){var i=t[e];return void 0!==i||(i=t[e]={exports:{}},r[e](i,i.exports,o)),i.exports}o.amdD=function(){throw Error("define cannot be used indirect")},e=o(94802),module.exports=e}();