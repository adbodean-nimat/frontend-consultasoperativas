{"ast":null,"code":"require(\"core-js/modules/es.error.cause.js\");\n\n/******/\n(function () {\n  // webpackBootstrap\n\n  /******/\n  var __webpack_modules__ = {\n    /***/\n    54453:\n    /***/\n    function (module, exports, __webpack_require__) {\n      var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n      /***********************************************************************\n      * WARNING: this file is auto-generated.  If you change it directly,\n      * your modifications will eventually be lost.  The source code is in\n      * `kendo-charts` repository, you should make your changes there and\n      * run `src-modules/sync.sh` in this repository.\n      */\n\n\n      (function (f, define) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(33877), __webpack_require__(79174)], __WEBPACK_AMD_DEFINE_FACTORY__ = f, __WEBPACK_AMD_DEFINE_RESULT__ = typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n      })(function () {\n        (function ($) {\n          /* eslint-disable space-before-blocks, space-before-function-paren, curly */\n          window.kendo.dataviz = window.kendo.dataviz || {};\n          var drawing = kendo.drawing;\n          var util = drawing.util;\n          var Path = drawing.Path;\n          var Group = drawing.Group;\n          var Class = kendo.Class;\n          var support = kendo.support;\n          var geometry = kendo.geometry;\n          var Rect = geometry.Rect;\n          var Circle = geometry.Circle;\n          var geometryTransform = geometry.transform;\n          var Segment = geometry.Segment;\n          var dataviz = kendo.dataviz;\n          var deepExtend = kendo.deepExtend;\n          var isFunction = kendo.isFunction;\n          var __common_getter_js = kendo.getter;\n          var ARC = \"arc\";\n          var AXIS_LABEL_CLICK = \"axisLabelClick\";\n          var BLACK = \"#000\";\n          var BOTTOM = \"bottom\";\n          var CENTER = \"center\";\n          var CIRCLE = \"circle\";\n          var COORD_PRECISION = 3;\n          var CROSS = \"cross\";\n          var DATE = \"date\";\n          var DEFAULT_FONT = \"12px sans-serif\";\n          var DEFAULT_HEIGHT = 400;\n          var DEFAULT_PRECISION = 10;\n          var DEFAULT_WIDTH = 600;\n          var END = \"end\";\n          var FORMAT_REGEX = /\\{\\d+:?/;\n          var HEIGHT = \"height\";\n          var HIGHLIGHT_ZINDEX = 100;\n          var INSIDE = \"inside\";\n          var LEFT = \"left\";\n          var MAX_VALUE = Number.MAX_VALUE;\n          var MIN_VALUE = -Number.MAX_VALUE;\n          var NONE = \"none\";\n          var NOTE_CLICK = \"noteClick\";\n          var NOTE_HOVER = \"noteHover\";\n          var NOTE_LEAVE = \"noteLeave\";\n          var OBJECT = \"object\";\n          var OUTSIDE = \"outside\";\n          var RIGHT = \"right\";\n          var ROUNDED_RECT = \"roundedRect\";\n          var START = \"start\";\n          var STRING = \"string\";\n          var TOP = \"top\";\n          var TRIANGLE = \"triangle\";\n          var VALUE = \"value\";\n          var WHITE = \"#fff\";\n          var WIDTH = \"width\";\n          var X = \"x\";\n          var Y = \"y\";\n          var DEFAULT_SERIES_OPACITY = 1;\n          var constants = {\n            ARC: ARC,\n            AXIS_LABEL_CLICK: AXIS_LABEL_CLICK,\n            BLACK: BLACK,\n            BOTTOM: BOTTOM,\n            CENTER: CENTER,\n            CIRCLE: CIRCLE,\n            COORD_PRECISION: COORD_PRECISION,\n            CROSS: CROSS,\n            DATE: DATE,\n            DEFAULT_FONT: DEFAULT_FONT,\n            DEFAULT_HEIGHT: DEFAULT_HEIGHT,\n            DEFAULT_PRECISION: DEFAULT_PRECISION,\n            DEFAULT_WIDTH: DEFAULT_WIDTH,\n            END: END,\n            FORMAT_REGEX: FORMAT_REGEX,\n            HEIGHT: HEIGHT,\n            HIGHLIGHT_ZINDEX: HIGHLIGHT_ZINDEX,\n            INSIDE: INSIDE,\n            LEFT: LEFT,\n            MAX_VALUE: MAX_VALUE,\n            MIN_VALUE: MIN_VALUE,\n            NONE: NONE,\n            NOTE_CLICK: NOTE_CLICK,\n            NOTE_HOVER: NOTE_HOVER,\n            NOTE_LEAVE: NOTE_LEAVE,\n            OBJECT: OBJECT,\n            OUTSIDE: OUTSIDE,\n            RIGHT: RIGHT,\n            ROUNDED_RECT: ROUNDED_RECT,\n            START: START,\n            STRING: STRING,\n            TOP: TOP,\n            TRIANGLE: TRIANGLE,\n            VALUE: VALUE,\n            WHITE: WHITE,\n            WIDTH: WIDTH,\n            X: X,\n            Y: Y,\n            DEFAULT_SERIES_OPACITY: DEFAULT_SERIES_OPACITY\n          };\n\n          function isArray(value) {\n            return Array.isArray(value);\n          }\n\n          function addClass(element, classes) {\n            var classArray = isArray(classes) ? classes : [classes];\n\n            for (var idx = 0; idx < classArray.length; idx++) {\n              var className = classArray[idx];\n\n              if (element.className.indexOf(className) === -1) {\n                element.className += \" \" + className;\n              }\n            }\n          }\n\n          var SPACE_REGEX = /\\s+/g;\n\n          function removeClass(element, className) {\n            if (element && element.className) {\n              element.className = element.className.replace(className, \"\").replace(SPACE_REGEX, \" \");\n            }\n          }\n\n          function alignPathToPixel(path) {\n            var offset = 0.5;\n\n            if (path.options.stroke && kendo.drawing.util.defined(path.options.stroke.width)) {\n              if (path.options.stroke.width % 2 === 0) {\n                offset = 0;\n              }\n            }\n\n            for (var i = 0; i < path.segments.length; i++) {\n              path.segments[i].anchor().round(0).translate(offset, offset);\n            }\n\n            return path;\n          }\n\n          function clockwise(angle1, angle2) {\n            // True if angle2 is clockwise of angle1\n            // assuming angles grow in clock-wise direction\n            // (as in the pie and radar charts)\n            return -angle1.x * angle2.y + angle1.y * angle2.x < 0;\n          }\n\n          function isNumber(value) {\n            return typeof value === \"number\" && !isNaN(value);\n          }\n\n          function isString(value) {\n            return typeof value === STRING;\n          }\n\n          function convertableToNumber(value) {\n            return isNumber(value) || isString(value) && isFinite(value);\n          }\n\n          function isObject(value) {\n            return typeof value === \"object\";\n          }\n\n          function styleValue(value) {\n            if (isNumber(value)) {\n              return value + \"px\";\n            }\n\n            return value;\n          }\n\n          var SIZE_STYLES_REGEX = /width|height|top|left|bottom|right/i;\n\n          function isSizeField(field) {\n            return SIZE_STYLES_REGEX.test(field);\n          }\n\n          function elementStyles(element, styles) {\n            var stylesArray = isString(styles) ? [styles] : styles;\n\n            if (isArray(stylesArray)) {\n              var result = {};\n              var style = window.getComputedStyle(element);\n\n              for (var idx = 0; idx < stylesArray.length; idx++) {\n                var field = stylesArray[idx];\n                result[field] = isSizeField(field) ? parseFloat(style[field]) : style[field];\n              }\n\n              return result;\n            } else if (isObject(styles)) {\n              for (var field$1 in styles) {\n                element.style[field$1] = styleValue(styles[field$1]);\n              }\n            }\n          }\n\n          function getSpacing(value, defaultSpacing) {\n            if (defaultSpacing === void 0) {\n              defaultSpacing = 0;\n            }\n\n            var spacing = {\n              top: 0,\n              right: 0,\n              bottom: 0,\n              left: 0\n            };\n\n            if (typeof value === \"number\") {\n              spacing[TOP] = spacing[RIGHT] = spacing[BOTTOM] = spacing[LEFT] = value;\n            } else {\n              spacing[TOP] = value[TOP] || defaultSpacing;\n              spacing[RIGHT] = value[RIGHT] || defaultSpacing;\n              spacing[BOTTOM] = value[BOTTOM] || defaultSpacing;\n              spacing[LEFT] = value[LEFT] || defaultSpacing;\n            }\n\n            return spacing;\n          }\n\n          var current = {\n            compile: function (template) {\n              return template;\n            }\n          };\n          var TemplateService = Class.extend({});\n\n          TemplateService.register = function (userImplementation) {\n            current = userImplementation;\n          };\n\n          TemplateService.compile = function (template) {\n            return current.compile(template);\n          };\n\n          function getTemplate(options) {\n            if (options === void 0) {\n              options = {};\n            }\n\n            var template;\n\n            if (options.template) {\n              options.template = template = TemplateService.compile(options.template);\n            } else if (isFunction(options.content)) {\n              template = options.content;\n            }\n\n            return template;\n          }\n\n          function grep(array, callback) {\n            var length = array.length;\n            var result = [];\n\n            for (var idx = 0; idx < length; idx++) {\n              if (callback(array[idx])) {\n                result.push(array[idx]);\n              }\n            }\n\n            return result;\n          }\n\n          function hasClasses(element, classNames) {\n            if (element.className) {\n              var names = classNames.split(\" \");\n\n              for (var idx = 0; idx < names.length; idx++) {\n                if (element.className.indexOf(names[idx]) !== -1) {\n                  return true;\n                }\n              }\n            }\n          }\n\n          var HashMap = function HashMap() {\n            this._map = {};\n          };\n\n          HashMap.prototype.get = function get(name) {\n            return this._map[this._key(name)];\n          };\n\n          HashMap.prototype.set = function set(name, value) {\n            this._map[this._key(name)] = value;\n          };\n\n          HashMap.prototype._key = function _key(name) {\n            return name instanceof Date ? name.getTime() : name;\n          };\n\n          function inArray(value, array) {\n            if (array) {\n              return array.indexOf(value) !== -1;\n            }\n          }\n\n          function interpolateValue(start, end, progress) {\n            return kendo.drawing.util.round(start + (end - start) * progress, COORD_PRECISION);\n          }\n\n          var TRIGGER = 'trigger';\n          var InstanceObserver = Class.extend({\n            init: function (observer, handlers) {\n              this.observer = observer;\n              this.handlerMap = deepExtend({}, this.handlerMap, handlers);\n            },\n            trigger: function (name, args) {\n              var ref = this;\n              var observer = ref.observer;\n              var handlerMap = ref.handlerMap;\n              var isDefaultPrevented;\n\n              if (handlerMap[name]) {\n                isDefaultPrevented = this.callObserver(handlerMap[name], args);\n              } else if (observer[TRIGGER]) {\n                isDefaultPrevented = this.callObserver(TRIGGER, name, args);\n              }\n\n              return isDefaultPrevented;\n            },\n            callObserver: function (fnName) {\n              var args = [],\n                  len = arguments.length - 1;\n\n              while (len-- > 0) args[len] = arguments[len + 1];\n\n              return this.observer[fnName].apply(this.observer, args);\n            },\n            requiresHandlers: function (names) {\n              var this$1 = this;\n\n              if (this.observer.requiresHandlers) {\n                return this.observer.requiresHandlers(names);\n              }\n\n              for (var idx = 0; idx < names.length; idx++) {\n                if (this$1.handlerMap[names[idx]]) {\n                  return true;\n                }\n              }\n            }\n          });\n\n          function map(array, callback) {\n            var length = array.length;\n            var result = [];\n\n            for (var idx = 0; idx < length; idx++) {\n              var value = callback(array[idx]);\n\n              if (kendo.drawing.util.defined(value)) {\n                result.push(value);\n              }\n            }\n\n            return result;\n          }\n\n          var browser = support.browser || {};\n\n          function mousewheelDelta(e) {\n            var delta = 0;\n\n            if (e.wheelDelta) {\n              delta = -e.wheelDelta / 120;\n\n              if (browser.webkit) {\n                // Webkit browsers scale the delta by twice the device resolution.\n                // Possibly related to https://bugs.webkit.org/show_bug.cgi?id=196339\n                //\n                // Low device resolutions (e.g. zoom-out to 30%) also behave strangely.\n                delta = delta / (2 * Math.max(window.devicePixelRatio, 0.625));\n              }\n            } else if (e.detail) {\n              delta = e.detail / 3;\n            }\n\n            delta = delta > 0 ? Math.ceil(delta) : Math.floor(delta);\n            return delta;\n          }\n\n          var ref = kendo.drawing.util;\n          var append = ref.append;\n          var bindEvents = ref.bindEvents;\n          var defined = ref.defined;\n          var deg = ref.deg;\n          var elementOffset = ref.elementOffset;\n          var elementSize = ref.elementSize;\n          var eventCoordinates = ref.eventCoordinates;\n          var eventElement = ref.eventElement;\n          var hashKey = ref.hashKey;\n          var last = ref.last;\n          var limitValue = ref.limitValue;\n          var objectKey = ref.objectKey;\n          var rad = ref.rad;\n          var round = ref.round;\n          var unbindEvents = ref.unbindEvents;\n          var valueOrDefault = ref.valueOrDefault;\n          var FontLoader = Class.extend({});\n\n          FontLoader.fetchFonts = function (options, fonts, state) {\n            if (state === void 0) {\n              state = {\n                depth: 0\n              };\n            }\n\n            var MAX_DEPTH = 5;\n\n            if (!options || state.depth > MAX_DEPTH || !document.fonts) {\n              return;\n            }\n\n            Object.keys(options).forEach(function (key) {\n              var value = options[key];\n\n              if (key === \"dataSource\" || key[0] === \"$\" || !value) {\n                return;\n              }\n\n              if (key === \"font\") {\n                fonts.push(value);\n              } else if (typeof value === \"object\") {\n                state.depth++;\n                FontLoader.fetchFonts(value, fonts, state);\n                state.depth--;\n              }\n            });\n          };\n\n          FontLoader.loadFonts = function (fonts, callback) {\n            var promises = [];\n\n            if (fonts.length > 0 && document.fonts) {\n              try {\n                promises = fonts.map(function (font) {\n                  return document.fonts.load(font);\n                });\n              } catch (e) {\n                // Silence font-loading errors\n                kendo.logToConsole(e);\n              }\n\n              Promise.all(promises).then(callback, callback);\n            } else {\n              callback();\n            }\n          };\n\n          FontLoader.preloadFonts = function (options, callback) {\n            var fonts = [];\n            FontLoader.fetchFonts(options, fonts);\n            FontLoader.loadFonts(fonts, callback);\n          };\n\n          function setDefaultOptions(type, options) {\n            var proto = type.prototype;\n\n            if (proto.options) {\n              proto.options = deepExtend({}, proto.options, options);\n            } else {\n              proto.options = options;\n            }\n          }\n\n          function sparseArrayLimits(arr) {\n            var min = MAX_VALUE;\n            var max = MIN_VALUE;\n\n            for (var idx = 0, length = arr.length; idx < length; idx++) {\n              var value = arr[idx];\n\n              if (value !== null && isFinite(value)) {\n                min = Math.min(min, value);\n                max = Math.max(max, value);\n              }\n            }\n\n            return {\n              min: min === MAX_VALUE ? undefined : min,\n              max: max === MIN_VALUE ? undefined : max\n            };\n          }\n\n          function find(array, predicate) {\n            for (var i = 0; i < array.length; i++) {\n              var item = array[i];\n\n              if (predicate(item, i, array)) {\n                return item;\n              }\n            }\n          }\n\n          var Matrix = geometry.Matrix;\n          var matrixRegexp = /matrix\\((.*)\\)/;\n\n          function parseMatrix(matrixString) {\n            var match = matrixString.match(matrixRegexp);\n\n            if (match === null || match.length !== 2) {\n              return Matrix.unit();\n            }\n\n            var members = match[1].split(',').map(function (x) {\n              return parseFloat(x);\n            });\n            return new (Function.prototype.bind.apply(Matrix, [null].concat(members)))();\n          }\n\n          function transformMatrix(element) {\n            var transform = getComputedStyle(element).transform;\n\n            if (transform === 'none') {\n              return Matrix.unit();\n            }\n\n            return parseMatrix(transform);\n          }\n\n          function elementScale(element) {\n            if (!element) {\n              return Matrix.unit();\n            }\n\n            var matrix = transformMatrix(element);\n            var parent = element.parentElement;\n\n            while (parent) {\n              var parentMatrix = transformMatrix(parent);\n              matrix = matrix.multiplyCopy(parentMatrix);\n              parent = parent.parentElement;\n            }\n\n            matrix.b = matrix.c = matrix.e = matrix.f = 0;\n            return matrix;\n          }\n\n          function autoTextColor(color) {\n            var isDark = new kendo.Color(color).isDark();\n\n            if (isDark) {\n              return WHITE;\n            }\n\n            return BLACK;\n          }\n\n          var DELETED = {};\n          var LegacySet = Class.extend({\n            init: function (values) {\n              var this$1 = this;\n              this._index = {};\n              this._values = values ? values.slice(0) : [];\n\n              for (var i = 0; i < this._values.length; i++) {\n                this$1._index[this$1._values[i]] = i;\n              }\n            },\n            values: function () {\n              return this._values.filter(function (item) {\n                return item !== DELETED;\n              });\n            },\n            has: function (value) {\n              return this._index[value] !== undefined;\n            },\n            add: function (value) {\n              if (!this.has(value)) {\n                this._index[value] = this._values.length;\n\n                this._values.push(value);\n              }\n            },\n            delete: function (value) {\n              var index = this._index[value];\n\n              if (index !== undefined) {\n                this._values[index] = DELETED;\n                delete this._index[value];\n              }\n            },\n            clear: function () {\n              this._index = {};\n              this._values = [];\n            }\n          });\n\n          if (Object.defineProperties) {\n            Object.defineProperties(LegacySet.fn, {\n              size: {\n                get: function () {\n                  return this._values.length;\n                }\n              }\n            });\n          }\n\n          var SetWrapper = Class.extend({\n            init: function (values) {\n              this._set = new Set(values);\n            },\n            values: function () {\n              return Array.from(this._set);\n            },\n            has: function (value) {\n              return this._set.has(value);\n            },\n            add: function (value) {\n              this._set.add(value);\n            },\n            delete: function (value) {\n              this._set.delete(value);\n            },\n            clear: function () {\n              this._set.clear();\n            }\n          });\n\n          if (Object.defineProperties) {\n            Object.defineProperties(SetWrapper.fn, {\n              size: {\n                get: function () {\n                  return this._set.size;\n                }\n              }\n            });\n          } // TODO: Drop LegacySet when removing support for IE10\n\n\n          var supportsSet = function () {\n            var supported = false;\n\n            if (typeof Set === 'function') {\n              var set = new Set([1]);\n              supported = set.has(1);\n            }\n\n            return supported;\n          };\n\n          function createHashSet(values) {\n            if (supportsSet()) {\n              return new SetWrapper(values);\n            }\n\n            return new LegacySet(values);\n          }\n\n          function defaultErrorHandler(error) {\n            throw error;\n          }\n\n          var keys = {\n            INSERT: 45,\n            DELETE: 46,\n            BACKSPACE: 8,\n            TAB: 9,\n            ENTER: 13,\n            ESC: 27,\n            LEFT: 37,\n            UP: 38,\n            RIGHT: 39,\n            DOWN: 40,\n            END: 35,\n            HOME: 36,\n            SPACEBAR: 32,\n            PAGEUP: 33,\n            PAGEDOWN: 34,\n            F2: 113,\n            F10: 121,\n            F12: 123,\n            NUMPAD_PLUS: 107,\n            NUMPAD_MINUS: 109,\n            NUMPAD_DOT: 110\n          };\n\n          function autoMajorUnit(min, max) {\n            var diff = round(max - min, DEFAULT_PRECISION - 1);\n\n            if (diff === 0) {\n              if (max === 0) {\n                return 0.1;\n              }\n\n              diff = Math.abs(max);\n            }\n\n            var scale = Math.pow(10, Math.floor(Math.log(diff) / Math.log(10)));\n            var relativeValue = round(diff / scale, DEFAULT_PRECISION);\n            var scaleMultiplier = 1;\n\n            if (relativeValue < 1.904762) {\n              scaleMultiplier = 0.2;\n            } else if (relativeValue < 4.761904) {\n              scaleMultiplier = 0.5;\n            } else if (relativeValue < 9.523809) {\n              scaleMultiplier = 1;\n            } else {\n              scaleMultiplier = 2;\n            }\n\n            return round(scale * scaleMultiplier, DEFAULT_PRECISION);\n          }\n\n          var Point = Class.extend({\n            init: function (x, y) {\n              this.x = x || 0;\n              this.y = y || 0;\n            },\n            clone: function () {\n              return new Point(this.x, this.y);\n            },\n            equals: function (point) {\n              return point && this.x === point.x && this.y === point.y;\n            },\n            rotate: function (center, degrees) {\n              var theta = rad(degrees);\n              var cosT = Math.cos(theta);\n              var sinT = Math.sin(theta);\n              var cx = center.x;\n              var cy = center.y;\n              var ref = this;\n              var x = ref.x;\n              var y = ref.y;\n              this.x = round(cx + (x - cx) * cosT + (y - cy) * sinT, COORD_PRECISION);\n              this.y = round(cy + (y - cy) * cosT - (x - cx) * sinT, COORD_PRECISION);\n              return this;\n            },\n            multiply: function (a) {\n              this.x *= a;\n              this.y *= a;\n              return this;\n            },\n            distanceTo: function (point) {\n              var dx = this.x - point.x;\n              var dy = this.y - point.y;\n              return Math.sqrt(dx * dx + dy * dy);\n            }\n          });\n\n          Point.onCircle = function (center, angle, radius) {\n            var radians = rad(angle);\n            return new Point(center.x - radius * Math.cos(radians), center.y - radius * Math.sin(radians));\n          };\n\n          var Box = Class.extend({\n            init: function (x1, y1, x2, y2) {\n              this.x1 = x1 || 0;\n              this.y1 = y1 || 0;\n              this.x2 = x2 || 0;\n              this.y2 = y2 || 0;\n            },\n            equals: function (box) {\n              return this.x1 === box.x1 && this.x2 === box.x2 && this.y1 === box.y1 && this.y2 === box.y2;\n            },\n            width: function () {\n              return this.x2 - this.x1;\n            },\n            height: function () {\n              return this.y2 - this.y1;\n            },\n            translate: function (dx, dy) {\n              this.x1 += dx;\n              this.x2 += dx;\n              this.y1 += dy;\n              this.y2 += dy;\n              return this;\n            },\n            move: function (x, y) {\n              var height = this.height();\n              var width = this.width();\n\n              if (defined(x)) {\n                this.x1 = x;\n                this.x2 = this.x1 + width;\n              }\n\n              if (defined(y)) {\n                this.y1 = y;\n                this.y2 = this.y1 + height;\n              }\n\n              return this;\n            },\n            wrap: function (targetBox) {\n              this.x1 = Math.min(this.x1, targetBox.x1);\n              this.y1 = Math.min(this.y1, targetBox.y1);\n              this.x2 = Math.max(this.x2, targetBox.x2);\n              this.y2 = Math.max(this.y2, targetBox.y2);\n              return this;\n            },\n            wrapPoint: function (point) {\n              var arrayPoint = isArray(point);\n              var x = arrayPoint ? point[0] : point.x;\n              var y = arrayPoint ? point[1] : point.y;\n              this.wrap(new Box(x, y, x, y));\n              return this;\n            },\n            snapTo: function (targetBox, axis) {\n              if (axis === X || !axis) {\n                this.x1 = targetBox.x1;\n                this.x2 = targetBox.x2;\n              }\n\n              if (axis === Y || !axis) {\n                this.y1 = targetBox.y1;\n                this.y2 = targetBox.y2;\n              }\n\n              return this;\n            },\n            alignTo: function (targetBox, anchor) {\n              var height = this.height();\n              var width = this.width();\n              var axis = anchor === TOP || anchor === BOTTOM ? Y : X;\n              var offset = axis === Y ? height : width;\n\n              if (anchor === CENTER) {\n                var targetCenter = targetBox.center();\n                var center = this.center();\n                this.x1 += targetCenter.x - center.x;\n                this.y1 += targetCenter.y - center.y;\n              } else if (anchor === TOP || anchor === LEFT) {\n                this[axis + 1] = targetBox[axis + 1] - offset;\n              } else {\n                this[axis + 1] = targetBox[axis + 2];\n              }\n\n              this.x2 = this.x1 + width;\n              this.y2 = this.y1 + height;\n              return this;\n            },\n            shrink: function (dw, dh) {\n              this.x2 -= dw;\n              this.y2 -= dh;\n              return this;\n            },\n            expand: function (dw, dh) {\n              this.shrink(-dw, -dh);\n              return this;\n            },\n            pad: function (padding) {\n              var spacing = getSpacing(padding);\n              this.x1 -= spacing.left;\n              this.x2 += spacing.right;\n              this.y1 -= spacing.top;\n              this.y2 += spacing.bottom;\n              return this;\n            },\n            unpad: function (padding) {\n              var spacing = getSpacing(padding);\n              spacing.left = -spacing.left;\n              spacing.top = -spacing.top;\n              spacing.right = -spacing.right;\n              spacing.bottom = -spacing.bottom;\n              return this.pad(spacing);\n            },\n            clone: function () {\n              return new Box(this.x1, this.y1, this.x2, this.y2);\n            },\n            center: function () {\n              return new Point(this.x1 + this.width() / 2, this.y1 + this.height() / 2);\n            },\n            containsPoint: function (point) {\n              return point.x >= this.x1 && point.x <= this.x2 && point.y >= this.y1 && point.y <= this.y2;\n            },\n            points: function () {\n              return [new Point(this.x1, this.y1), new Point(this.x2, this.y1), new Point(this.x2, this.y2), new Point(this.x1, this.y2)];\n            },\n            getHash: function () {\n              return [this.x1, this.y1, this.x2, this.y2].join(\",\");\n            },\n            overlaps: function (box) {\n              return !(box.y2 < this.y1 || this.y2 < box.y1 || box.x2 < this.x1 || this.x2 < box.x1);\n            },\n            rotate: function (rotation) {\n              var width = this.width();\n              var height = this.height();\n              var ref = this.center();\n              var cx = ref.x;\n              var cy = ref.y;\n              var r1 = rotatePoint(0, 0, cx, cy, rotation);\n              var r2 = rotatePoint(width, 0, cx, cy, rotation);\n              var r3 = rotatePoint(width, height, cx, cy, rotation);\n              var r4 = rotatePoint(0, height, cx, cy, rotation);\n              width = Math.max(r1.x, r2.x, r3.x, r4.x) - Math.min(r1.x, r2.x, r3.x, r4.x);\n              height = Math.max(r1.y, r2.y, r3.y, r4.y) - Math.min(r1.y, r2.y, r3.y, r4.y);\n              this.x2 = this.x1 + width;\n              this.y2 = this.y1 + height;\n              return this;\n            },\n            toRect: function () {\n              return new Rect([this.x1, this.y1], [this.width(), this.height()]);\n            },\n            hasSize: function () {\n              return this.width() !== 0 && this.height() !== 0;\n            },\n            align: function (targetBox, axis, alignment) {\n              var c1 = axis + 1;\n              var c2 = axis + 2;\n              var sizeFunc = axis === X ? WIDTH : HEIGHT;\n              var size = this[sizeFunc]();\n\n              if (inArray(alignment, [LEFT, TOP])) {\n                this[c1] = targetBox[c1];\n                this[c2] = this[c1] + size;\n              } else if (inArray(alignment, [RIGHT, BOTTOM])) {\n                this[c2] = targetBox[c2];\n                this[c1] = this[c2] - size;\n              } else if (alignment === CENTER) {\n                this[c1] = targetBox[c1] + (targetBox[sizeFunc]() - size) / 2;\n                this[c2] = this[c1] + size;\n              }\n            }\n          });\n\n          function rotatePoint(x, y, cx, cy, angle) {\n            var theta = rad(angle);\n            return new Point(cx + (x - cx) * Math.cos(theta) + (y - cy) * Math.sin(theta), cy - (x - cx) * Math.sin(theta) + (y - cy) * Math.cos(theta));\n          }\n\n          var Ring = Class.extend({\n            init: function (center, innerRadius, radius, startAngle, angle) {\n              this.center = center;\n              this.innerRadius = innerRadius;\n              this.radius = radius;\n              this.startAngle = startAngle;\n              this.angle = angle;\n            },\n            clone: function () {\n              return new Ring(this.center, this.innerRadius, this.radius, this.startAngle, this.angle);\n            },\n            middle: function () {\n              return this.startAngle + this.angle / 2;\n            },\n            setRadius: function (newRadius, innerRadius) {\n              if (innerRadius) {\n                this.innerRadius = newRadius;\n              } else {\n                this.radius = newRadius;\n              }\n\n              return this;\n            },\n            point: function (angle, innerRadius) {\n              var radianAngle = rad(angle);\n              var ax = Math.cos(radianAngle);\n              var ay = Math.sin(radianAngle);\n              var radius = innerRadius ? this.innerRadius : this.radius;\n              var x = round(this.center.x - ax * radius, COORD_PRECISION);\n              var y = round(this.center.y - ay * radius, COORD_PRECISION);\n              return new Point(x, y);\n            },\n            adjacentBox: function (distance, width, height) {\n              var sector = this.clone().expand(distance);\n              var midAndle = sector.middle();\n              var midPoint = sector.point(midAndle);\n              var hw = width / 2;\n              var hh = height / 2;\n              var sa = Math.sin(rad(midAndle));\n              var ca = Math.cos(rad(midAndle));\n              var x = midPoint.x - hw;\n              var y = midPoint.y - hh;\n\n              if (Math.abs(sa) < 0.9) {\n                x += hw * -ca / Math.abs(ca);\n              }\n\n              if (Math.abs(ca) < 0.9) {\n                y += hh * -sa / Math.abs(sa);\n              }\n\n              return new Box(x, y, x + width, y + height);\n            },\n            containsPoint: function (p) {\n              var center = this.center;\n              var innerRadius = this.innerRadius;\n              var radius = this.radius;\n              var startAngle = this.startAngle;\n              var endAngle = this.startAngle + this.angle;\n              var dx = p.x - center.x;\n              var dy = p.y - center.y;\n              var vector = new Point(dx, dy);\n              var startPoint = this.point(startAngle);\n              var startVector = new Point(startPoint.x - center.x, startPoint.y - center.y);\n              var endPoint = this.point(endAngle);\n              var endVector = new Point(endPoint.x - center.x, endPoint.y - center.y);\n              var dist = round(dx * dx + dy * dy, COORD_PRECISION);\n              return (startVector.equals(vector) || clockwise(startVector, vector)) && !clockwise(endVector, vector) && dist >= innerRadius * innerRadius && dist <= radius * radius;\n            },\n            getBBox: function () {\n              var this$1 = this;\n              var box = new Box(MAX_VALUE, MAX_VALUE, MIN_VALUE, MIN_VALUE);\n              var startAngle = round(this.startAngle % 360);\n              var endAngle = round((startAngle + this.angle) % 360);\n              var innerRadius = this.innerRadius;\n              var allAngles = [0, 90, 180, 270, startAngle, endAngle].sort(numericComparer);\n              var startAngleIndex = allAngles.indexOf(startAngle);\n              var endAngleIndex = allAngles.indexOf(endAngle);\n              var angles;\n\n              if (startAngle === endAngle) {\n                angles = allAngles;\n              } else {\n                if (startAngleIndex < endAngleIndex) {\n                  angles = allAngles.slice(startAngleIndex, endAngleIndex + 1);\n                } else {\n                  angles = [].concat(allAngles.slice(0, endAngleIndex + 1), allAngles.slice(startAngleIndex, allAngles.length));\n                }\n              }\n\n              for (var i = 0; i < angles.length; i++) {\n                var point = this$1.point(angles[i]);\n                box.wrapPoint(point);\n                box.wrapPoint(point, innerRadius);\n              }\n\n              if (!innerRadius) {\n                box.wrapPoint(this.center);\n              }\n\n              return box;\n            },\n            expand: function (value) {\n              this.radius += value;\n              return this;\n            }\n          });\n\n          function numericComparer(a, b) {\n            return a - b;\n          }\n\n          var Sector = Ring.extend({\n            init: function (center, radius, startAngle, angle) {\n              Ring.fn.init.call(this, center, 0, radius, startAngle, angle);\n            },\n            expand: function (value) {\n              return Ring.fn.expand.call(this, value);\n            },\n            clone: function () {\n              return new Sector(this.center, this.radius, this.startAngle, this.angle);\n            },\n            setRadius: function (newRadius) {\n              this.radius = newRadius;\n              return this;\n            }\n          });\n          var DIRECTION_ANGLE = 0.001; //any value that will make the endAngle bigger than the start angle will work here.\n\n          var ShapeBuilder = Class.extend({\n            createRing: function (sector, options) {\n              var startAngle = sector.startAngle + 180;\n              var endAngle = sector.angle + startAngle; //required in order to avoid reversing the arc direction in cases like 0.000000000000001 + 100 === 100\n\n              if (sector.angle > 0 && startAngle === endAngle) {\n                endAngle += DIRECTION_ANGLE;\n              }\n\n              var center = new geometry.Point(sector.center.x, sector.center.y);\n              var radius = Math.max(sector.radius, 0);\n              var innerRadius = Math.max(sector.innerRadius, 0);\n              var arc = new geometry.Arc(center, {\n                startAngle: startAngle,\n                endAngle: endAngle,\n                radiusX: radius,\n                radiusY: radius\n              });\n              var path = Path.fromArc(arc, options).close();\n\n              if (innerRadius) {\n                arc.radiusX = arc.radiusY = innerRadius;\n                var innerEnd = arc.pointAt(endAngle);\n                path.lineTo(innerEnd.x, innerEnd.y);\n                path.arc(endAngle, startAngle, innerRadius, innerRadius, true);\n              } else {\n                path.lineTo(center.x, center.y);\n              }\n\n              return path;\n            }\n          });\n          ShapeBuilder.current = new ShapeBuilder();\n          var ChartElement = Class.extend({\n            init: function (options) {\n              this.children = [];\n              this.options = deepExtend({}, this.options, this.initUserOptions(options));\n            },\n            initUserOptions: function (options) {\n              return options;\n            },\n            reflow: function (targetBox) {\n              var children = this.children;\n              var box;\n\n              for (var i = 0; i < children.length; i++) {\n                var currentChild = children[i];\n                currentChild.reflow(targetBox);\n                box = box ? box.wrap(currentChild.box) : currentChild.box.clone();\n              }\n\n              this.box = box || targetBox;\n            },\n            destroy: function () {\n              var children = this.children;\n\n              if (this.animation) {\n                this.animation.destroy();\n              }\n\n              for (var i = 0; i < children.length; i++) {\n                children[i].destroy();\n              }\n            },\n            getRoot: function () {\n              var parent = this.parent;\n              return parent ? parent.getRoot() : null;\n            },\n            getSender: function () {\n              var service = this.getService();\n\n              if (service) {\n                return service.sender;\n              }\n            },\n            getService: function () {\n              var element = this;\n\n              while (element) {\n                if (element.chartService) {\n                  return element.chartService;\n                }\n\n                element = element.parent;\n              }\n            },\n            translateChildren: function (dx, dy) {\n              var children = this.children;\n              var childrenCount = children.length;\n\n              for (var i = 0; i < childrenCount; i++) {\n                children[i].box.translate(dx, dy);\n              }\n            },\n            append: function () {\n              var arguments$1 = arguments;\n              var this$1 = this;\n\n              for (var i = 0; i < arguments.length; i++) {\n                var item = arguments$1[i];\n                this$1.children.push(item);\n                item.parent = this$1;\n              }\n            },\n            renderVisual: function () {\n              if (this.options.visible === false) {\n                return;\n              }\n\n              this.createVisual();\n              this.addVisual();\n              this.renderChildren();\n              this.createAnimation();\n              this.renderComplete();\n            },\n            addVisual: function () {\n              if (this.visual) {\n                this.visual.chartElement = this;\n\n                if (this.parent) {\n                  this.parent.appendVisual(this.visual);\n                }\n              }\n            },\n            renderChildren: function () {\n              var children = this.children;\n              var length = children.length;\n\n              for (var i = 0; i < length; i++) {\n                children[i].renderVisual();\n              }\n            },\n            createVisual: function () {\n              this.visual = new Group({\n                zIndex: this.options.zIndex,\n                visible: valueOrDefault(this.options.visible, true)\n              });\n            },\n            createAnimation: function () {\n              if (this.visual && this.options.animation) {\n                this.animation = drawing.Animation.create(this.visual, this.options.animation);\n              }\n            },\n            appendVisual: function (childVisual) {\n              if (!childVisual.chartElement) {\n                childVisual.chartElement = this;\n              }\n\n              if (childVisual.options.noclip) {\n                this.clipRoot().visual.append(childVisual);\n              } else if (defined(childVisual.options.zIndex)) {\n                this.stackRoot().stackVisual(childVisual);\n              } else if (this.isStackRoot) {\n                this.stackVisual(childVisual);\n              } else if (this.visual) {\n                this.visual.append(childVisual);\n              } else {\n                // Allow chart elements without visuals to\n                // pass through child visuals\n                this.parent.appendVisual(childVisual);\n              }\n            },\n            clipRoot: function () {\n              if (this.parent) {\n                return this.parent.clipRoot();\n              }\n\n              return this;\n            },\n            stackRoot: function () {\n              if (this.parent) {\n                return this.parent.stackRoot();\n              }\n\n              return this;\n            },\n            stackVisual: function (childVisual) {\n              var zIndex = childVisual.options.zIndex || 0;\n              var visuals = this.visual.children;\n              var length = visuals.length;\n              var pos;\n\n              for (pos = 0; pos < length; pos++) {\n                var sibling = visuals[pos];\n                var here = valueOrDefault(sibling.options.zIndex, 0);\n\n                if (here > zIndex) {\n                  break;\n                }\n              }\n\n              this.visual.insert(pos, childVisual);\n            },\n            traverse: function (callback) {\n              var children = this.children;\n              var length = children.length;\n\n              for (var i = 0; i < length; i++) {\n                var child = children[i];\n                callback(child);\n\n                if (child.traverse) {\n                  child.traverse(callback);\n                }\n              }\n            },\n            closest: function (match) {\n              var element = this;\n              var matched = false;\n\n              while (element && !matched) {\n                matched = match(element);\n\n                if (!matched) {\n                  element = element.parent;\n                }\n              }\n\n              if (matched) {\n                return element;\n              }\n            },\n            renderComplete: function () {},\n            hasHighlight: function () {\n              var options = (this.options || {}).highlight;\n              return !(!this.createHighlight || options && options.visible === false);\n            },\n            toggleHighlight: function (show, opacity) {\n              var this$1 = this;\n              var options = (this.options || {}).highlight || {};\n              var customVisual = options.visual;\n              var highlight = this._highlight;\n\n              if (!highlight) {\n                var highlightOptions = {\n                  fill: {\n                    color: WHITE,\n                    opacity: opacity || 0.2\n                  },\n                  stroke: {\n                    color: WHITE,\n                    width: 1,\n                    opacity: opacity || 0.2\n                  }\n                };\n\n                if (customVisual) {\n                  highlight = this._highlight = customVisual($.extend(this.highlightVisualArgs(), {\n                    createVisual: function () {\n                      return this$1.createHighlight(highlightOptions);\n                    },\n                    sender: this.getSender(),\n                    series: this.series,\n                    dataItem: this.dataItem,\n                    category: this.category,\n                    value: this.value,\n                    percentage: this.percentage,\n                    runningTotal: this.runningTotal,\n                    total: this.total\n                  }));\n\n                  if (!highlight) {\n                    return;\n                  }\n                } else {\n                  highlight = this._highlight = this.createHighlight(highlightOptions);\n                }\n\n                if (!defined(highlight.options.zIndex)) {\n                  highlight.options.zIndex = valueOrDefault(options.zIndex, this.options.zIndex);\n                }\n\n                this.appendVisual(highlight);\n              }\n\n              highlight.visible(show);\n            },\n            createGradientOverlay: function (element, options, gradientOptions) {\n              var overlay = new Path($.extend({\n                stroke: {\n                  color: \"none\"\n                },\n                fill: this.createGradient(gradientOptions),\n                closed: element.options.closed\n              }, options));\n              overlay.segments.elements(element.segments.elements());\n              return overlay;\n            },\n            createGradient: function (options) {\n              if (this.parent) {\n                return this.parent.createGradient(options);\n              }\n            },\n            supportsPointInactiveOpacity: function () {\n              return true;\n            }\n          });\n          ChartElement.prototype.options = {};\n          var BoxElement = ChartElement.extend({\n            init: function (options) {\n              ChartElement.fn.init.call(this, options);\n              this.options.margin = getSpacing(this.options.margin);\n              this.options.padding = getSpacing(this.options.padding);\n            },\n            reflow: function (targetBox) {\n              var this$1 = this;\n              var options = this.options;\n              var width = options.width;\n              var height = options.height;\n              var shrinkToFit = options.shrinkToFit;\n              var hasSetSize = width && height;\n              var margin = options.margin;\n              var padding = options.padding;\n              var borderWidth = options.border.width;\n              var box;\n\n              var reflowPaddingBox = function () {\n                this$1.align(targetBox, X, options.align);\n                this$1.align(targetBox, Y, options.vAlign);\n                this$1.paddingBox = box.clone().unpad(margin).unpad(borderWidth);\n              };\n\n              var contentBox = targetBox.clone();\n\n              if (hasSetSize) {\n                contentBox.x2 = contentBox.x1 + width;\n                contentBox.y2 = contentBox.y1 + height;\n              }\n\n              if (shrinkToFit) {\n                contentBox.unpad(margin).unpad(borderWidth).unpad(padding);\n              }\n\n              ChartElement.fn.reflow.call(this, contentBox);\n\n              if (hasSetSize) {\n                box = this.box = new Box(0, 0, width, height);\n              } else {\n                box = this.box;\n              }\n\n              if (shrinkToFit && hasSetSize) {\n                reflowPaddingBox();\n                contentBox = this.contentBox = this.paddingBox.clone().unpad(padding);\n              } else {\n                contentBox = this.contentBox = box.clone();\n                box.pad(padding).pad(borderWidth).pad(margin);\n                reflowPaddingBox();\n              }\n\n              this.translateChildren(box.x1 - contentBox.x1 + margin.left + borderWidth + padding.left, box.y1 - contentBox.y1 + margin.top + borderWidth + padding.top);\n              var children = this.children;\n\n              for (var i = 0; i < children.length; i++) {\n                var item = children[i];\n                item.reflow(item.box);\n              }\n            },\n            align: function (targetBox, axis, alignment) {\n              this.box.align(targetBox, axis, alignment);\n            },\n            hasBox: function () {\n              var options = this.options;\n              return options.border.width || options.background;\n            },\n            createVisual: function () {\n              ChartElement.fn.createVisual.call(this);\n              var options = this.options;\n\n              if (options.visible && this.hasBox()) {\n                this.visual.append(Path.fromRect(this.paddingBox.toRect(), this.visualStyle()));\n              }\n            },\n            visualStyle: function () {\n              var options = this.options;\n              var border = options.border || {};\n              return {\n                stroke: {\n                  width: border.width,\n                  color: border.color,\n                  opacity: valueOrDefault(border.opacity, options.opacity),\n                  dashType: border.dashType\n                },\n                fill: {\n                  color: options.background,\n                  opacity: options.opacity\n                },\n                cursor: options.cursor\n              };\n            }\n          });\n          setDefaultOptions(BoxElement, {\n            align: LEFT,\n            vAlign: TOP,\n            margin: {},\n            padding: {},\n            border: {\n              color: BLACK,\n              width: 0\n            },\n            background: \"\",\n            shrinkToFit: false,\n            width: 0,\n            height: 0,\n            visible: true\n          });\n          var ShapeElement = BoxElement.extend({\n            init: function (options, pointData) {\n              BoxElement.fn.init.call(this, options);\n              this.pointData = pointData;\n            },\n            getElement: function () {\n              var ref = this;\n              var options = ref.options;\n              var box = ref.paddingBox;\n              var type = options.type;\n              var rotation = options.rotation;\n              var center = box.center();\n              var halfWidth = box.width() / 2;\n              var halfHeight = box.height() / 2;\n\n              if (!options.visible || !this.hasBox()) {\n                return null;\n              }\n\n              var style = this.visualStyle();\n              var element;\n\n              if (type === CIRCLE) {\n                element = new drawing.Circle(new Circle([round(box.x1 + halfWidth, COORD_PRECISION), round(box.y1 + halfHeight, COORD_PRECISION)], Math.min(halfWidth, halfHeight)), style);\n              } else if (type === TRIANGLE) {\n                element = Path.fromPoints([[box.x1 + halfWidth, box.y1], [box.x1, box.y2], [box.x2, box.y2]], style).close();\n              } else if (type === CROSS) {\n                element = new drawing.MultiPath(style);\n                element.moveTo(box.x1, box.y1).lineTo(box.x2, box.y2);\n                element.moveTo(box.x1, box.y2).lineTo(box.x2, box.y1);\n              } else {\n                var rect = box.toRect();\n\n                if (type === ROUNDED_RECT) {\n                  var borderRadius = valueOrDefault(options.borderRadius, rect.width() / 5);\n                  rect.setCornerRadius(borderRadius);\n                }\n\n                element = Path.fromRect(rect, style);\n              }\n\n              if (rotation) {\n                element.transform(geometryTransform().rotate(-rotation, [center.x, center.y]));\n              }\n\n              element.options.zIndex = options.zIndex;\n              return element;\n            },\n            createElement: function () {\n              var this$1 = this;\n              var customVisual = this.options.visual;\n              var pointData = this.pointData || {};\n              var visual;\n\n              if (customVisual) {\n                visual = customVisual({\n                  value: pointData.value,\n                  dataItem: pointData.dataItem,\n                  sender: this.getSender(),\n                  series: pointData.series,\n                  category: pointData.category,\n                  rect: this.paddingBox.toRect(),\n                  options: this.visualOptions(),\n                  createVisual: function () {\n                    return this$1.getElement();\n                  }\n                });\n              } else {\n                visual = this.getElement();\n              }\n\n              return visual;\n            },\n            visualOptions: function () {\n              var options = this.options;\n              return {\n                background: options.background,\n                border: options.border,\n                margin: options.margin,\n                padding: options.padding,\n                type: options.type,\n                size: options.width,\n                visible: options.visible\n              };\n            },\n            createVisual: function () {\n              this.visual = this.createElement();\n            }\n          });\n          setDefaultOptions(ShapeElement, {\n            type: CIRCLE,\n            align: CENTER,\n            vAlign: CENTER\n          });\n          var LINEAR = \"linear\";\n          var RADIAL = \"radial\";\n          var GRADIENTS = {\n            glass: {\n              type: LINEAR,\n              rotation: 0,\n              stops: [{\n                offset: 0,\n                color: WHITE,\n                opacity: 0\n              }, {\n                offset: 0.25,\n                color: WHITE,\n                opacity: 0.3\n              }, {\n                offset: 1,\n                color: WHITE,\n                opacity: 0\n              }]\n            },\n            sharpBevel: {\n              type: RADIAL,\n              stops: [{\n                offset: 0,\n                color: WHITE,\n                opacity: 0.55\n              }, {\n                offset: 0.65,\n                color: WHITE,\n                opacity: 0\n              }, {\n                offset: 0.95,\n                color: WHITE,\n                opacity: 0.25\n              }]\n            },\n            roundedBevel: {\n              type: RADIAL,\n              stops: [{\n                offset: 0.33,\n                color: WHITE,\n                opacity: 0.06\n              }, {\n                offset: 0.83,\n                color: WHITE,\n                opacity: 0.2\n              }, {\n                offset: 0.95,\n                color: WHITE,\n                opacity: 0\n              }]\n            },\n            roundedGlass: {\n              type: RADIAL,\n              supportVML: false,\n              stops: [{\n                offset: 0,\n                color: WHITE,\n                opacity: 0\n              }, {\n                offset: 0.5,\n                color: WHITE,\n                opacity: 0.3\n              }, {\n                offset: 0.99,\n                color: WHITE,\n                opacity: 0\n              }]\n            },\n            sharpGlass: {\n              type: RADIAL,\n              supportVML: false,\n              stops: [{\n                offset: 0,\n                color: WHITE,\n                opacity: 0.2\n              }, {\n                offset: 0.15,\n                color: WHITE,\n                opacity: 0.15\n              }, {\n                offset: 0.17,\n                color: WHITE,\n                opacity: 0.35\n              }, {\n                offset: 0.85,\n                color: WHITE,\n                opacity: 0.05\n              }, {\n                offset: 0.87,\n                color: WHITE,\n                opacity: 0.15\n              }, {\n                offset: 0.99,\n                color: WHITE,\n                opacity: 0\n              }]\n            },\n            bubbleShadow: {\n              type: RADIAL,\n              center: [0.5, 0.5],\n              radius: 0.5\n            }\n          };\n\n          function boxDiff(r, s) {\n            if (r.x1 === s.x1 && r.y1 === s.y1 && r.x2 === s.x2 && r.y2 === s.y2) {\n              return s;\n            }\n\n            var a = Math.min(r.x1, s.x1);\n            var b = Math.max(r.x1, s.x1);\n            var c = Math.min(r.x2, s.x2);\n            var d = Math.max(r.x2, s.x2);\n            var e = Math.min(r.y1, s.y1);\n            var f = Math.max(r.y1, s.y1);\n            var g = Math.min(r.y2, s.y2);\n            var h = Math.max(r.y2, s.y2);\n            var boxes = []; // X = intersection, 0-7 = possible difference areas\n            // h +-+-+-+\n            // . |5|6|7|\n            // g +-+-+-+\n            // . |3|X|4|\n            // f +-+-+-+\n            // . |0|1|2|\n            // e +-+-+-+\n            // . a b c d\n            // we'll always have rectangles 1, 3, 4 and 6\n\n            boxes[0] = new Box(b, e, c, f);\n            boxes[1] = new Box(a, f, b, g);\n            boxes[2] = new Box(c, f, d, g);\n            boxes[3] = new Box(b, g, c, h); // decide which corners\n\n            if (r.x1 === a && r.y1 === e || s.x1 === a && s.y1 === e) {\n              // corners 0 and 7\n              boxes[4] = new Box(a, e, b, f);\n              boxes[5] = new Box(c, g, d, h);\n            } else {\n              // corners 2 and 5\n              boxes[4] = new Box(c, e, d, f);\n              boxes[5] = new Box(a, g, b, h);\n            }\n\n            return grep(boxes, function (box) {\n              return box.height() > 0 && box.width() > 0;\n            })[0];\n          }\n\n          var RootElement = ChartElement.extend({\n            init: function (options) {\n              ChartElement.fn.init.call(this, options);\n              var rootOptions = this.options;\n              rootOptions.width = parseInt(rootOptions.width, 10);\n              rootOptions.height = parseInt(rootOptions.height, 10);\n              this.gradients = {};\n            },\n            reflow: function () {\n              var ref = this;\n              var options = ref.options;\n              var children = ref.children;\n              var currentBox = new Box(0, 0, options.width, options.height);\n              this.box = currentBox.unpad(options.margin);\n\n              for (var i = 0; i < children.length; i++) {\n                children[i].reflow(currentBox);\n                currentBox = boxDiff(currentBox, children[i].box) || new Box();\n              }\n            },\n            createVisual: function () {\n              this.visual = new Group();\n              this.createBackground();\n            },\n            createBackground: function () {\n              var options = this.options;\n              var border = options.border || {};\n              var box = this.box.clone().pad(options.margin).unpad(border.width);\n              var background = Path.fromRect(box.toRect(), {\n                stroke: {\n                  color: border.width ? border.color : \"\",\n                  width: border.width,\n                  dashType: border.dashType\n                },\n                fill: {\n                  color: options.background,\n                  opacity: options.opacity\n                },\n                zIndex: -10\n              });\n              this.visual.append(background);\n            },\n            getRoot: function () {\n              return this;\n            },\n            createGradient: function (options) {\n              var gradients = this.gradients;\n              var hashCode = objectKey(options);\n              var gradient = GRADIENTS[options.gradient];\n              var drawingGradient;\n\n              if (gradients[hashCode]) {\n                drawingGradient = gradients[hashCode];\n              } else {\n                var gradientOptions = $.extend({}, gradient, options);\n\n                if (gradient.type === \"linear\") {\n                  drawingGradient = new drawing.LinearGradient(gradientOptions);\n                } else {\n                  if (options.innerRadius) {\n                    gradientOptions.stops = innerRadialStops(gradientOptions);\n                  }\n\n                  drawingGradient = new drawing.RadialGradient(gradientOptions);\n                  drawingGradient.supportVML = gradient.supportVML !== false;\n                }\n\n                gradients[hashCode] = drawingGradient;\n              }\n\n              return drawingGradient;\n            },\n            cleanGradients: function () {\n              var gradients = this.gradients;\n\n              for (var hashCode in gradients) {\n                gradients[hashCode]._observers = []; //add clear observers method in drawing ObserversMixin\n              }\n            },\n            size: function () {\n              var options = this.options;\n              return new Box(0, 0, options.width, options.height);\n            }\n          });\n          setDefaultOptions(RootElement, {\n            width: DEFAULT_WIDTH,\n            height: DEFAULT_HEIGHT,\n            background: WHITE,\n            border: {\n              color: BLACK,\n              width: 0\n            },\n            margin: getSpacing(5),\n            zIndex: -2\n          });\n\n          function innerRadialStops(options) {\n            var stops = options.stops;\n            var usedSpace = options.innerRadius / options.radius * 100;\n            var length = stops.length;\n            var currentStops = [];\n\n            for (var i = 0; i < length; i++) {\n              var currentStop = $.extend({}, stops[i]);\n              currentStop.offset = (currentStop.offset * (100 - usedSpace) + usedSpace) / 100;\n              currentStops.push(currentStop);\n            }\n\n            return currentStops;\n          }\n\n          var FloatElement = ChartElement.extend({\n            init: function (options) {\n              ChartElement.fn.init.call(this, options);\n\n              this._initDirection();\n            },\n            _initDirection: function () {\n              var options = this.options;\n\n              if (options.vertical) {\n                this.groupAxis = X;\n                this.elementAxis = Y;\n                this.groupSizeField = WIDTH;\n                this.elementSizeField = HEIGHT;\n                this.groupSpacing = options.spacing;\n                this.elementSpacing = options.vSpacing;\n              } else {\n                this.groupAxis = Y;\n                this.elementAxis = X;\n                this.groupSizeField = HEIGHT;\n                this.elementSizeField = WIDTH;\n                this.groupSpacing = options.vSpacing;\n                this.elementSpacing = options.spacing;\n              }\n            },\n            reflow: function (targetBox) {\n              this.box = targetBox.clone();\n              this.reflowChildren();\n            },\n            reflowChildren: function () {\n              var this$1 = this;\n              var ref = this;\n              var box = ref.box;\n              var elementAxis = ref.elementAxis;\n              var groupAxis = ref.groupAxis;\n              var elementSizeField = ref.elementSizeField;\n              var groupSizeField = ref.groupSizeField;\n              var ref$1 = this.groupOptions();\n              var groups = ref$1.groups;\n              var groupsSize = ref$1.groupsSize;\n              var maxGroupElementsSize = ref$1.maxGroupElementsSize;\n              var groupsCount = groups.length;\n              var groupsStart = box[groupAxis + 1] + this.alignStart(groupsSize, box[groupSizeField]());\n\n              if (groupsCount) {\n                var groupStart = groupsStart;\n\n                for (var groupIdx = 0; groupIdx < groupsCount; groupIdx++) {\n                  var group = groups[groupIdx];\n                  var groupElements = group.groupElements;\n                  var elementStart = box[elementAxis + 1];\n                  var groupElementsCount = groupElements.length;\n\n                  for (var idx = 0; idx < groupElementsCount; idx++) {\n                    var element = groupElements[idx];\n                    var elementSize$$1 = this$1.elementSize(element);\n                    var groupElementStart = groupStart + this$1.alignStart(elementSize$$1[groupSizeField], group.groupSize);\n                    var elementBox = new Box();\n                    elementBox[groupAxis + 1] = groupElementStart;\n                    elementBox[groupAxis + 2] = groupElementStart + elementSize$$1[groupSizeField];\n                    elementBox[elementAxis + 1] = elementStart;\n                    elementBox[elementAxis + 2] = elementStart + elementSize$$1[elementSizeField];\n                    element.reflow(elementBox);\n                    elementStart += elementSize$$1[elementSizeField] + this$1.elementSpacing;\n                  }\n\n                  groupStart += group.groupSize + this$1.groupSpacing;\n                }\n\n                box[groupAxis + 1] = groupsStart;\n                box[groupAxis + 2] = groupsStart + groupsSize;\n                box[elementAxis + 2] = box[elementAxis + 1] + maxGroupElementsSize;\n              }\n            },\n            alignStart: function (size, maxSize) {\n              var start = 0;\n              var align = this.options.align;\n\n              if (align === RIGHT || align === BOTTOM) {\n                start = maxSize - size;\n              } else if (align === CENTER) {\n                start = (maxSize - size) / 2;\n              }\n\n              return start;\n            },\n            groupOptions: function () {\n              var this$1 = this;\n              var ref = this;\n              var box = ref.box;\n              var children = ref.children;\n              var elementSizeField = ref.elementSizeField;\n              var groupSizeField = ref.groupSizeField;\n              var elementSpacing = ref.elementSpacing;\n              var groupSpacing = ref.groupSpacing;\n              var maxSize = round(box[elementSizeField]());\n              var childrenCount = children.length;\n              var groups = [];\n              var groupSize = 0;\n              var groupElementsSize = 0;\n              var groupsSize = 0;\n              var maxGroupElementsSize = 0;\n              var groupElements = [];\n\n              for (var idx = 0; idx < childrenCount; idx++) {\n                var element = children[idx];\n\n                if (!element.box) {\n                  element.reflow(box);\n                }\n\n                var elementSize$$1 = this$1.elementSize(element);\n\n                if (this$1.options.wrap && round(groupElementsSize + elementSpacing + elementSize$$1[elementSizeField]) > maxSize) {\n                  groups.push({\n                    groupElements: groupElements,\n                    groupSize: groupSize,\n                    groupElementsSize: groupElementsSize\n                  });\n                  maxGroupElementsSize = Math.max(maxGroupElementsSize, groupElementsSize);\n                  groupsSize += groupSpacing + groupSize;\n                  groupSize = 0;\n                  groupElementsSize = 0;\n                  groupElements = [];\n                }\n\n                groupSize = Math.max(groupSize, elementSize$$1[groupSizeField]);\n\n                if (groupElementsSize > 0) {\n                  groupElementsSize += elementSpacing;\n                }\n\n                groupElementsSize += elementSize$$1[elementSizeField];\n                groupElements.push(element);\n              }\n\n              groups.push({\n                groupElements: groupElements,\n                groupSize: groupSize,\n                groupElementsSize: groupElementsSize\n              });\n              maxGroupElementsSize = Math.max(maxGroupElementsSize, groupElementsSize);\n              groupsSize += groupSize;\n              return {\n                groups: groups,\n                groupsSize: groupsSize,\n                maxGroupElementsSize: maxGroupElementsSize\n              };\n            },\n            elementSize: function (element) {\n              return {\n                width: element.box.width(),\n                height: element.box.height()\n              };\n            },\n            createVisual: function () {}\n          });\n          setDefaultOptions(FloatElement, {\n            vertical: true,\n            wrap: true,\n            vSpacing: 0,\n            spacing: 0\n          });\n          var DrawingText = drawing.Text;\n          var Text = ChartElement.extend({\n            init: function (content, options) {\n              ChartElement.fn.init.call(this, options);\n              this.content = content; // Calculate size\n\n              this.reflow(new Box());\n            },\n            reflow: function (targetBox) {\n              var options = this.options;\n              var size = options.size = util.measureText(this.content, {\n                font: options.font\n              });\n              this.baseline = size.baseline;\n              this.box = new Box(targetBox.x1, targetBox.y1, targetBox.x1 + size.width, targetBox.y1 + size.height);\n            },\n            createVisual: function () {\n              var ref = this.options;\n              var font = ref.font;\n              var color = ref.color;\n              var opacity = ref.opacity;\n              var cursor = ref.cursor;\n              this.visual = new DrawingText(this.content, this.box.toRect().topLeft(), {\n                font: font,\n                fill: {\n                  color: color,\n                  opacity: opacity\n                },\n                cursor: cursor\n              });\n            }\n          });\n          setDefaultOptions(Text, {\n            font: DEFAULT_FONT,\n            color: BLACK\n          });\n\n          function rectToBox(rect) {\n            var origin = rect.origin;\n            var bottomRight = rect.bottomRight();\n            return new Box(origin.x, origin.y, bottomRight.x, bottomRight.y);\n          }\n\n          var ROWS_SPLIT_REGEX = /\\n/m;\n          var TextBox = BoxElement.extend({\n            init: function (content, options, data) {\n              BoxElement.fn.init.call(this, options);\n              this.content = content;\n              this.data = data;\n\n              this._initContainer();\n\n              if (this.options._autoReflow !== false) {\n                this.reflow(new Box());\n              }\n            },\n            _initContainer: function () {\n              var options = this.options;\n              var rows = String(this.content).split(ROWS_SPLIT_REGEX);\n              var floatElement = new FloatElement({\n                vertical: true,\n                align: options.align,\n                wrap: false\n              });\n              var textOptions = deepExtend({}, options, {\n                opacity: 1,\n                animation: null\n              });\n              this.container = floatElement;\n              this.append(floatElement);\n\n              for (var rowIdx = 0; rowIdx < rows.length; rowIdx++) {\n                var text = new Text(rows[rowIdx].trim(), textOptions);\n                floatElement.append(text);\n              }\n            },\n            reflow: function (targetBox) {\n              var options = this.options;\n              var visualFn = options.visual;\n              this.container.options.align = options.align;\n\n              if (visualFn && !this._boxReflow) {\n                var visualBox = targetBox;\n\n                if (!visualBox.hasSize()) {\n                  this._boxReflow = true;\n                  this.reflow(visualBox);\n                  this._boxReflow = false;\n                  visualBox = this.box;\n                }\n\n                var visual = this.visual = visualFn(this.visualContext(visualBox));\n\n                if (visual) {\n                  visualBox = rectToBox(visual.clippedBBox() || new Rect());\n                  visual.options.zIndex = options.zIndex;\n                }\n\n                this.box = this.contentBox = this.paddingBox = visualBox;\n              } else {\n                BoxElement.fn.reflow.call(this, targetBox);\n\n                if (options.rotation) {\n                  var margin = getSpacing(options.margin);\n                  var box = this.box.unpad(margin);\n                  this.targetBox = targetBox;\n                  this.normalBox = box.clone();\n                  box = this.rotate();\n                  box.translate(margin.left - margin.right, margin.top - margin.bottom);\n                  this.rotatedBox = box.clone();\n                  box.pad(margin);\n                }\n              }\n            },\n            createVisual: function () {\n              var options = this.options;\n              this.visual = new Group({\n                transform: this.rotationTransform(),\n                zIndex: options.zIndex,\n                noclip: options.noclip\n              });\n\n              if (this.hasBox()) {\n                var box = Path.fromRect(this.paddingBox.toRect(), this.visualStyle());\n                this.visual.append(box);\n              }\n            },\n            renderVisual: function () {\n              if (!this.options.visible) {\n                return;\n              }\n\n              if (this.options.visual) {\n                var visual = this.visual;\n\n                if (visual && !defined(visual.options.noclip)) {\n                  visual.options.noclip = this.options.noclip;\n                }\n\n                this.addVisual();\n                this.createAnimation();\n              } else {\n                BoxElement.fn.renderVisual.call(this);\n              }\n            },\n            visualContext: function (targetBox) {\n              var this$1 = this;\n              var context = {\n                text: this.content,\n                rect: targetBox.toRect(),\n                sender: this.getSender(),\n                options: this.options,\n                createVisual: function () {\n                  this$1._boxReflow = true;\n                  this$1.reflow(targetBox);\n                  this$1._boxReflow = false;\n                  return this$1.getDefaultVisual();\n                }\n              };\n\n              if (this.data) {\n                $.extend(context, this.data);\n              }\n\n              return context;\n            },\n            getDefaultVisual: function () {\n              this.createVisual();\n              this.renderChildren();\n              var visual = this.visual;\n              delete this.visual;\n              return visual;\n            },\n            rotate: function () {\n              var options = this.options;\n              this.box.rotate(options.rotation);\n              this.align(this.targetBox, X, options.align);\n              this.align(this.targetBox, Y, options.vAlign);\n              return this.box;\n            },\n            rotationTransform: function () {\n              var rotation = this.options.rotation;\n\n              if (!rotation) {\n                return null;\n              }\n\n              var ref = this.normalBox.center();\n              var cx = ref.x;\n              var cy = ref.y;\n              var boxCenter = this.rotatedBox.center();\n              return geometryTransform().translate(boxCenter.x - cx, boxCenter.y - cy).rotate(rotation, [cx, cy]);\n            }\n          });\n          var Title = ChartElement.extend({\n            init: function (options) {\n              ChartElement.fn.init.call(this, options);\n              this.append(new TextBox(this.options.text, $.extend({}, this.options, {\n                vAlign: this.options.position\n              })));\n            },\n            reflow: function (targetBox) {\n              ChartElement.fn.reflow.call(this, targetBox);\n              this.box.snapTo(targetBox, X);\n            }\n          });\n\n          Title.buildTitle = function (options, parent, defaultOptions) {\n            var titleOptions = options;\n\n            if (typeof options === \"string\") {\n              titleOptions = {\n                text: options\n              };\n            }\n\n            titleOptions = $.extend({\n              visible: true\n            }, defaultOptions, titleOptions);\n            var title;\n\n            if (titleOptions && titleOptions.visible && titleOptions.text) {\n              title = new Title(titleOptions);\n              parent.append(title);\n            }\n\n            return title;\n          };\n\n          setDefaultOptions(Title, {\n            color: BLACK,\n            position: TOP,\n            align: CENTER,\n            margin: getSpacing(5),\n            padding: getSpacing(5)\n          });\n          var AxisLabel = TextBox.extend({\n            init: function (value, text, index, dataItem, options) {\n              TextBox.fn.init.call(this, text, options);\n              this.text = text;\n              this.value = value;\n              this.index = index;\n              this.dataItem = dataItem;\n              this.reflow(new Box());\n            },\n            visualContext: function (targetBox) {\n              var context = TextBox.fn.visualContext.call(this, targetBox);\n              context.value = this.value;\n              context.dataItem = this.dataItem;\n              context.format = this.options.format;\n              context.culture = this.options.culture;\n              return context;\n            },\n            click: function (widget, e) {\n              widget.trigger(AXIS_LABEL_CLICK, {\n                element: eventElement(e),\n                value: this.value,\n                text: this.text,\n                index: this.index,\n                dataItem: this.dataItem,\n                axis: this.parent.options\n              });\n            },\n            rotate: function () {\n              if (this.options.alignRotation !== CENTER) {\n                var box = this.normalBox.toRect();\n                var transform = this.rotationTransform();\n                this.box = rectToBox(box.bbox(transform.matrix()));\n              } else {\n                TextBox.fn.rotate.call(this);\n              }\n\n              return this.box;\n            },\n            rotationTransform: function () {\n              var options = this.options;\n              var rotation = options.rotation;\n\n              if (!rotation) {\n                return null;\n              }\n\n              if (options.alignRotation === CENTER) {\n                return TextBox.fn.rotationTransform.call(this);\n              }\n\n              var rotationMatrix = geometryTransform().rotate(rotation).matrix();\n              var box = this.normalBox.toRect();\n              var rect = this.targetBox.toRect();\n              var rotationOrigin = options.rotationOrigin || TOP;\n              var alignAxis = rotationOrigin === TOP || rotationOrigin === BOTTOM ? X : Y;\n              var distanceAxis = rotationOrigin === TOP || rotationOrigin === BOTTOM ? Y : X;\n              var axisAnchor = rotationOrigin === TOP || rotationOrigin === LEFT ? rect.origin : rect.bottomRight();\n              var topLeft = box.topLeft().transformCopy(rotationMatrix);\n              var topRight = box.topRight().transformCopy(rotationMatrix);\n              var bottomRight = box.bottomRight().transformCopy(rotationMatrix);\n              var bottomLeft = box.bottomLeft().transformCopy(rotationMatrix);\n              var rotatedBox = Rect.fromPoints(topLeft, topRight, bottomRight, bottomLeft);\n              var translate = {};\n              translate[distanceAxis] = rect.origin[distanceAxis] - rotatedBox.origin[distanceAxis];\n              var distanceLeft = Math.abs(topLeft[distanceAxis] + translate[distanceAxis] - axisAnchor[distanceAxis]);\n              var distanceRight = Math.abs(topRight[distanceAxis] + translate[distanceAxis] - axisAnchor[distanceAxis]);\n              var alignStart, alignEnd;\n\n              if (round(distanceLeft, DEFAULT_PRECISION) === round(distanceRight, DEFAULT_PRECISION)) {\n                alignStart = topLeft;\n                alignEnd = topRight;\n              } else if (distanceRight < distanceLeft) {\n                alignStart = topRight;\n                alignEnd = bottomRight;\n              } else {\n                alignStart = topLeft;\n                alignEnd = bottomLeft;\n              }\n\n              var alignCenter = alignStart[alignAxis] + (alignEnd[alignAxis] - alignStart[alignAxis]) / 2;\n              translate[alignAxis] = rect.center()[alignAxis] - alignCenter;\n              return geometryTransform().translate(translate.x, translate.y).rotate(rotation);\n            }\n          });\n          setDefaultOptions(AxisLabel, {\n            _autoReflow: false\n          });\n          var DEFAULT_ICON_SIZE = 7;\n          var DEFAULT_LABEL_COLOR = \"#fff\";\n          var Note = BoxElement.extend({\n            init: function (fields, options, chartService) {\n              BoxElement.fn.init.call(this, options);\n              this.fields = fields;\n              this.chartService = chartService;\n              this.render();\n            },\n            hide: function () {\n              this.options.visible = false;\n            },\n            show: function () {\n              this.options.visible = true;\n            },\n            render: function () {\n              var this$1 = this;\n              var options = this.options;\n\n              if (options.visible) {\n                var label = options.label;\n                var icon = options.icon;\n                var box = new Box();\n\n                var childAlias = function () {\n                  return this$1;\n                };\n\n                var size = icon.size;\n                var text = this.fields.text;\n                var width, height;\n\n                if (defined(label) && label.visible) {\n                  var noteTemplate = getTemplate(label);\n\n                  if (noteTemplate) {\n                    text = noteTemplate(this.fields);\n                  } else if (label.format) {\n                    text = this.chartService.format.auto(label.format, text);\n                  }\n\n                  if (!label.color) {\n                    label.color = label.position === INSIDE ? DEFAULT_LABEL_COLOR : icon.background;\n                  }\n\n                  this.label = new TextBox(text, deepExtend({}, label));\n                  this.label.aliasFor = childAlias;\n\n                  if (label.position === INSIDE && !defined(size)) {\n                    if (icon.type === CIRCLE) {\n                      size = Math.max(this.label.box.width(), this.label.box.height());\n                    } else {\n                      width = this.label.box.width();\n                      height = this.label.box.height();\n                    }\n\n                    box.wrap(this.label.box);\n                  }\n                }\n\n                icon.width = width || size || DEFAULT_ICON_SIZE;\n                icon.height = height || size || DEFAULT_ICON_SIZE;\n                var marker = new ShapeElement(deepExtend({}, icon));\n                marker.aliasFor = childAlias;\n                this.marker = marker;\n                this.append(marker);\n\n                if (this.label) {\n                  this.append(this.label);\n                }\n\n                marker.reflow(new Box());\n                this.wrapperBox = box.wrap(marker.box);\n              }\n            },\n            reflow: function (targetBox) {\n              var ref = this;\n              var options = ref.options;\n              var label = ref.label;\n              var marker = ref.marker;\n              var wrapperBox = ref.wrapperBox;\n              var center = targetBox.center();\n              var length = options.line.length;\n              var position = options.position; // TODO: Review\n\n              if (options.visible) {\n                var lineStart, box, contentBox;\n\n                if (inArray(position, [LEFT, RIGHT])) {\n                  if (position === LEFT) {\n                    contentBox = wrapperBox.alignTo(targetBox, position).translate(-length, targetBox.center().y - wrapperBox.center().y);\n\n                    if (options.line.visible) {\n                      lineStart = [targetBox.x1, center.y];\n                      this.linePoints = [lineStart, [contentBox.x2, center.y]];\n                      box = contentBox.clone().wrapPoint(lineStart);\n                    }\n                  } else {\n                    contentBox = wrapperBox.alignTo(targetBox, position).translate(length, targetBox.center().y - wrapperBox.center().y);\n\n                    if (options.line.visible) {\n                      lineStart = [targetBox.x2, center.y];\n                      this.linePoints = [lineStart, [contentBox.x1, center.y]];\n                      box = contentBox.clone().wrapPoint(lineStart);\n                    }\n                  }\n                } else {\n                  if (position === BOTTOM) {\n                    contentBox = wrapperBox.alignTo(targetBox, position).translate(targetBox.center().x - wrapperBox.center().x, length);\n\n                    if (options.line.visible) {\n                      lineStart = [center.x, targetBox.y2];\n                      this.linePoints = [lineStart, [center.x, contentBox.y1]];\n                      box = contentBox.clone().wrapPoint(lineStart);\n                    }\n                  } else {\n                    contentBox = wrapperBox.alignTo(targetBox, position).translate(targetBox.center().x - wrapperBox.center().x, -length);\n\n                    if (options.line.visible) {\n                      lineStart = [center.x, targetBox.y1];\n                      this.linePoints = [lineStart, [center.x, contentBox.y2]];\n                      box = contentBox.clone().wrapPoint(lineStart);\n                    }\n                  }\n                }\n\n                if (marker) {\n                  marker.reflow(contentBox);\n                }\n\n                if (label) {\n                  label.reflow(contentBox);\n\n                  if (marker) {\n                    if (options.label.position === OUTSIDE) {\n                      label.box.alignTo(marker.box, position);\n                    }\n\n                    label.reflow(label.box);\n                  }\n                }\n\n                this.contentBox = contentBox;\n                this.targetBox = targetBox;\n                this.box = box || contentBox;\n              }\n            },\n            createVisual: function () {\n              BoxElement.fn.createVisual.call(this);\n              this.visual.options.noclip = this.options.noclip;\n\n              if (this.options.visible) {\n                this.createLine();\n              }\n            },\n            renderVisual: function () {\n              var this$1 = this;\n              var options = this.options;\n              var customVisual = options.visual;\n\n              if (options.visible && customVisual) {\n                this.visual = customVisual($.extend(this.fields, {\n                  sender: this.getSender(),\n                  rect: this.targetBox.toRect(),\n                  options: {\n                    background: options.background,\n                    border: options.background,\n                    icon: options.icon,\n                    label: options.label,\n                    line: options.line,\n                    position: options.position,\n                    visible: options.visible\n                  },\n                  createVisual: function () {\n                    this$1.createVisual();\n                    this$1.renderChildren();\n                    var defaultVisual = this$1.visual;\n                    delete this$1.visual;\n                    return defaultVisual;\n                  }\n                }));\n                this.addVisual();\n              } else {\n                BoxElement.fn.renderVisual.call(this);\n              }\n            },\n            createLine: function () {\n              var options = this.options.line;\n\n              if (this.linePoints) {\n                var path = Path.fromPoints(this.linePoints, {\n                  stroke: {\n                    color: options.color,\n                    width: options.width,\n                    dashType: options.dashType\n                  }\n                });\n                alignPathToPixel(path);\n                this.visual.append(path);\n              }\n            },\n            click: function (widget, e) {\n              var args = this.eventArgs(e);\n\n              if (!widget.trigger(NOTE_CLICK, args)) {\n                e.preventDefault();\n              }\n            },\n            over: function (widget, e) {\n              var args = this.eventArgs(e);\n\n              if (!widget.trigger(NOTE_HOVER, args)) {\n                e.preventDefault();\n              }\n            },\n            out: function (widget, e) {\n              var args = this.eventArgs(e);\n              widget.trigger(NOTE_LEAVE, args);\n            },\n            eventArgs: function (e) {\n              var options = this.options;\n              return $.extend(this.fields, {\n                element: eventElement(e),\n                text: defined(options.label) ? options.label.text : \"\",\n                visual: this.visual\n              });\n            }\n          });\n          setDefaultOptions(Note, {\n            icon: {\n              visible: true,\n              type: CIRCLE\n            },\n            label: {\n              position: INSIDE,\n              visible: true,\n              align: CENTER,\n              vAlign: CENTER\n            },\n            line: {\n              visible: true\n            },\n            visible: true,\n            position: TOP,\n            zIndex: 2\n          });\n          var defaultImplementation = {\n            format: function (format, value) {\n              return value;\n            },\n            toString: function (value) {\n              return value;\n            },\n            parseDate: function (value) {\n              return new Date(value);\n            },\n            firstDay: function () {\n              return 0;\n            }\n          };\n          var current$1 = defaultImplementation;\n          var IntlService = Class.extend({});\n\n          IntlService.register = function (userImplementation) {\n            current$1 = userImplementation;\n          };\n\n          if (Object.defineProperties) {\n            Object.defineProperties(IntlService, {\n              implementation: {\n                get: function () {\n                  return current$1;\n                }\n              }\n            });\n          }\n\n          var FORMAT_REPLACE_REGEX = /\\{(\\d+)(:[^\\}]+)?\\}/g;\n          var FormatService = Class.extend({\n            init: function (intlService) {\n              this._intlService = intlService;\n            },\n            auto: function (formatString) {\n              var values = [],\n                  len = arguments.length - 1;\n\n              while (len-- > 0) values[len] = arguments[len + 1];\n\n              var intl = this.intl;\n\n              if (isString(formatString) && formatString.match(FORMAT_REGEX)) {\n                return intl.format.apply(intl, [formatString].concat(values));\n              }\n\n              return intl.toString(values[0], formatString);\n            },\n            localeAuto: function (formatString, values, locale) {\n              var intl = this.intl;\n              var result;\n\n              if (isString(formatString) && formatString.match(FORMAT_REGEX)) {\n                result = formatString.replace(FORMAT_REPLACE_REGEX, function (match, index, placeholderFormat) {\n                  var value = values[parseInt(index, 10)];\n                  return intl.toString(value, placeholderFormat ? placeholderFormat.substring(1) : \"\", locale);\n                });\n              } else {\n                result = intl.toString(values[0], formatString, locale);\n              }\n\n              return result;\n            }\n          });\n\n          if (Object.defineProperties) {\n            Object.defineProperties(FormatService.fn, {\n              intl: {\n                get: function () {\n                  return this._intlService || IntlService.implementation;\n                },\n                set: function (value) {\n                  this._intlService = value;\n                }\n              }\n            });\n          }\n\n          var ChartService = Class.extend({\n            init: function (chart, context) {\n              if (context === void 0) {\n                context = {};\n              }\n\n              this._intlService = context.intlService;\n              this.sender = context.sender || chart;\n              this.format = new FormatService(context.intlService);\n              this.chart = chart;\n              this.rtl = Boolean(context.rtl);\n            },\n            notify: function (name, args) {\n              if (this.chart) {\n                this.chart.trigger(name, args);\n              }\n            },\n            isPannable: function (axis) {\n              var pannable = ((this.chart || {}).options || {}).pannable;\n              return pannable && pannable.lock !== axis;\n            }\n          });\n\n          if (Object.defineProperties) {\n            Object.defineProperties(ChartService.fn, {\n              intl: {\n                get: function () {\n                  return this._intlService || IntlService.implementation;\n                },\n                set: function (value) {\n                  this._intlService = value;\n                  this.format.intl = value;\n                }\n              }\n            });\n          }\n\n          var current$2;\n          var DomEventsBuilder = Class.extend({});\n\n          DomEventsBuilder.register = function (userImplementation) {\n            current$2 = userImplementation;\n          };\n\n          DomEventsBuilder.create = function (element, events) {\n            if (current$2) {\n              return current$2.create(element, events);\n            }\n          };\n\n          var services = {\n            ChartService: ChartService,\n            DomEventsBuilder: DomEventsBuilder,\n            FormatService: FormatService,\n            IntlService: IntlService,\n            TemplateService: TemplateService\n          };\n\n          function createAxisTick(options, tickOptions) {\n            var tickX = options.tickX;\n            var tickY = options.tickY;\n            var position = options.position;\n            var tick = new Path({\n              stroke: {\n                width: tickOptions.width,\n                color: tickOptions.color\n              }\n            });\n\n            if (options.vertical) {\n              tick.moveTo(tickX, position).lineTo(tickX + tickOptions.size, position);\n            } else {\n              tick.moveTo(position, tickY).lineTo(position, tickY + tickOptions.size);\n            }\n\n            alignPathToPixel(tick);\n            return tick;\n          }\n\n          function createAxisGridLine(options, gridLine) {\n            var lineStart = options.lineStart;\n            var lineEnd = options.lineEnd;\n            var position = options.position;\n            var line = new Path({\n              stroke: {\n                width: gridLine.width,\n                color: gridLine.color,\n                dashType: gridLine.dashType\n              }\n            });\n\n            if (options.vertical) {\n              line.moveTo(lineStart, position).lineTo(lineEnd, position);\n            } else {\n              line.moveTo(position, lineStart).lineTo(position, lineEnd);\n            }\n\n            alignPathToPixel(line);\n            return line;\n          }\n\n          var Axis = ChartElement.extend({\n            init: function (options, chartService) {\n              if (chartService === void 0) {\n                chartService = new ChartService();\n              }\n\n              ChartElement.fn.init.call(this, options);\n              this.chartService = chartService;\n\n              if (!this.options.visible) {\n                this.options = deepExtend({}, this.options, {\n                  labels: {\n                    visible: false\n                  },\n                  line: {\n                    visible: false\n                  },\n                  margin: 0,\n                  majorTickSize: 0,\n                  minorTickSize: 0\n                });\n              }\n\n              this.options.minorTicks = deepExtend({}, {\n                color: this.options.line.color,\n                width: this.options.line.width,\n                visible: this.options.minorTickType !== NONE\n              }, this.options.minorTicks, {\n                size: this.options.minorTickSize,\n                align: this.options.minorTickType\n              });\n              this.options.majorTicks = deepExtend({}, {\n                color: this.options.line.color,\n                width: this.options.line.width,\n                visible: this.options.majorTickType !== NONE\n              }, this.options.majorTicks, {\n                size: this.options.majorTickSize,\n                align: this.options.majorTickType\n              });\n              this.initFields();\n\n              if (!this.options._deferLabels) {\n                this.createLabels();\n              }\n\n              this.createTitle();\n              this.createNotes();\n            },\n            initFields: function () {},\n            labelsRange: function () {\n              return {\n                min: this.options.labels.skip,\n                max: this.labelsCount()\n              };\n            },\n            normalizeLabelRotation: function (labelOptions) {\n              var rotation = labelOptions.rotation;\n\n              if (isObject(rotation)) {\n                labelOptions.alignRotation = rotation.align;\n                labelOptions.rotation = rotation.angle;\n              }\n            },\n            createLabels: function () {\n              var this$1 = this;\n              var options = this.options;\n              var align = options.vertical ? RIGHT : CENTER;\n              var labelOptions = deepExtend({}, options.labels, {\n                align: align,\n                zIndex: options.zIndex\n              });\n              var step = Math.max(1, labelOptions.step);\n              this.clearLabels();\n\n              if (labelOptions.visible) {\n                this.normalizeLabelRotation(labelOptions);\n\n                if (labelOptions.rotation === \"auto\") {\n                  labelOptions.rotation = 0;\n                  options.autoRotateLabels = true;\n                }\n\n                var range = this.labelsRange();\n\n                for (var idx = range.min; idx < range.max; idx += step) {\n                  var labelContext = {\n                    index: idx,\n                    count: range.max\n                  };\n                  var label = this$1.createAxisLabel(idx, labelOptions, labelContext);\n\n                  if (label) {\n                    this$1.append(label);\n                    this$1.labels.push(label);\n                  }\n                }\n              }\n            },\n            clearLabels: function () {\n              this.children = grep(this.children, function (child) {\n                return !(child instanceof AxisLabel);\n              });\n              this.labels = [];\n            },\n            clearTitle: function () {\n              var this$1 = this;\n\n              if (this.title) {\n                this.children = grep(this.children, function (child) {\n                  return child !== this$1.title;\n                });\n                this.title = undefined;\n              }\n            },\n            clear: function () {\n              this.clearLabels();\n              this.clearTitle();\n            },\n            lineBox: function () {\n              var ref = this;\n              var options = ref.options;\n              var box = ref.box;\n              var vertical = options.vertical;\n              var mirror = options.labels.mirror;\n              var axisX = mirror ? box.x1 : box.x2;\n              var axisY = mirror ? box.y2 : box.y1;\n              var lineWidth = options.line.width || 0;\n              return vertical ? new Box(axisX, box.y1, axisX, box.y2 - lineWidth) : new Box(box.x1, axisY, box.x2 - lineWidth, axisY);\n            },\n            createTitle: function () {\n              var options = this.options;\n              var titleOptions = deepExtend({\n                rotation: options.vertical ? -90 : 0,\n                text: \"\",\n                zIndex: 1,\n                visualSize: true\n              }, options.title);\n\n              if (titleOptions.visible && titleOptions.text) {\n                var title = new TextBox(titleOptions.text, titleOptions);\n                this.append(title);\n                this.title = title;\n              }\n            },\n            createNotes: function () {\n              var this$1 = this;\n              var options = this.options;\n              var notes = options.notes;\n              var items = notes.data || [];\n              this.notes = [];\n\n              for (var i = 0; i < items.length; i++) {\n                var item = deepExtend({}, notes, items[i]);\n                item.value = this$1.parseNoteValue(item.value);\n                var note = new Note({\n                  value: item.value,\n                  text: item.label.text,\n                  dataItem: item\n                }, item, this$1.chartService);\n\n                if (note.options.visible) {\n                  if (defined(note.options.position)) {\n                    if (options.vertical && !inArray(note.options.position, [LEFT, RIGHT])) {\n                      note.options.position = options.reverse ? LEFT : RIGHT;\n                    } else if (!options.vertical && !inArray(note.options.position, [TOP, BOTTOM])) {\n                      note.options.position = options.reverse ? BOTTOM : TOP;\n                    }\n                  } else {\n                    if (options.vertical) {\n                      note.options.position = options.reverse ? LEFT : RIGHT;\n                    } else {\n                      note.options.position = options.reverse ? BOTTOM : TOP;\n                    }\n                  }\n\n                  this$1.append(note);\n                  this$1.notes.push(note);\n                }\n              }\n            },\n            parseNoteValue: function (value) {\n              return value;\n            },\n            renderVisual: function () {\n              ChartElement.fn.renderVisual.call(this);\n              this.createPlotBands();\n            },\n            createVisual: function () {\n              ChartElement.fn.createVisual.call(this);\n              this.createBackground();\n              this.createLine();\n            },\n            gridLinesVisual: function () {\n              var gridLines = this._gridLines;\n\n              if (!gridLines) {\n                gridLines = this._gridLines = new Group({\n                  zIndex: -2\n                });\n                this.appendVisual(this._gridLines);\n              }\n\n              return gridLines;\n            },\n            createTicks: function (lineGroup) {\n              var options = this.options;\n              var lineBox = this.lineBox();\n              var mirror = options.labels.mirror;\n              var majorUnit = options.majorTicks.visible ? options.majorUnit : 0;\n              var tickLineOptions = {\n                // TODO\n                // _alignLines: options._alignLines,\n                vertical: options.vertical\n              };\n\n              function render(tickPositions, tickOptions, skipUnit) {\n                var count = tickPositions.length;\n                var step = Math.max(1, tickOptions.step);\n\n                if (tickOptions.visible) {\n                  for (var i = tickOptions.skip; i < count; i += step) {\n                    if (defined(skipUnit) && i % skipUnit === 0) {\n                      continue;\n                    }\n\n                    tickLineOptions.tickX = mirror ? lineBox.x2 : lineBox.x2 - tickOptions.size;\n                    tickLineOptions.tickY = mirror ? lineBox.y1 - tickOptions.size : lineBox.y1;\n                    tickLineOptions.position = tickPositions[i];\n                    lineGroup.append(createAxisTick(tickLineOptions, tickOptions));\n                  }\n                }\n              }\n\n              render(this.getMajorTickPositions(), options.majorTicks);\n              render(this.getMinorTickPositions(), options.minorTicks, majorUnit / options.minorUnit);\n            },\n            createLine: function () {\n              var options = this.options;\n              var line = options.line;\n              var lineBox = this.lineBox();\n\n              if (line.width > 0 && line.visible) {\n                var path = new Path({\n                  stroke: {\n                    width: line.width,\n                    color: line.color,\n                    dashType: line.dashType\n                  }\n                  /* TODO\n                  zIndex: line.zIndex,\n                  */\n\n                });\n                path.moveTo(lineBox.x1, lineBox.y1).lineTo(lineBox.x2, lineBox.y2);\n\n                if (options._alignLines) {\n                  alignPathToPixel(path);\n                }\n\n                var group = this._lineGroup = new Group();\n                group.append(path);\n                this.visual.append(group);\n                this.createTicks(group);\n              }\n            },\n            getActualTickSize: function () {\n              var options = this.options;\n              var tickSize = 0;\n\n              if (options.majorTicks.visible && options.minorTicks.visible) {\n                tickSize = Math.max(options.majorTicks.size, options.minorTicks.size);\n              } else if (options.majorTicks.visible) {\n                tickSize = options.majorTicks.size;\n              } else if (options.minorTicks.visible) {\n                tickSize = options.minorTicks.size;\n              }\n\n              return tickSize;\n            },\n            createBackground: function () {\n              var ref = this;\n              var options = ref.options;\n              var box = ref.box;\n              var background = options.background;\n\n              if (background) {\n                this._backgroundPath = Path.fromRect(box.toRect(), {\n                  fill: {\n                    color: background\n                  },\n                  stroke: null\n                });\n                this.visual.append(this._backgroundPath);\n              }\n            },\n            createPlotBands: function () {\n              var this$1 = this;\n              var options = this.options;\n              var plotBands = options.plotBands || [];\n              var vertical = options.vertical;\n              var plotArea = this.plotArea;\n\n              if (plotBands.length === 0) {\n                return;\n              }\n\n              var group = this._plotbandGroup = new Group({\n                zIndex: -1\n              });\n              var altAxis = grep(this.pane.axes, function (axis) {\n                return axis.options.vertical !== this$1.options.vertical;\n              })[0];\n\n              for (var idx = 0; idx < plotBands.length; idx++) {\n                var item = plotBands[idx];\n                var slotX = void 0,\n                    slotY = void 0;\n                var labelOptions = item.label;\n                var label = void 0;\n\n                if (vertical) {\n                  slotX = (altAxis || plotArea.axisX).lineBox();\n                  slotY = this$1.getSlot(item.from, item.to, true);\n                } else {\n                  slotX = this$1.getSlot(item.from, item.to, true);\n                  slotY = (altAxis || plotArea.axisY).lineBox();\n                }\n\n                if (labelOptions) {\n                  labelOptions.vAlign = labelOptions.position || LEFT;\n                  label = this$1.createPlotBandLabel(labelOptions, item, new Box(slotX.x1, slotY.y1, slotX.x2, slotY.y2));\n                }\n\n                if (slotX.width() !== 0 && slotY.height() !== 0) {\n                  var bandRect = new Rect([slotX.x1, slotY.y1], [slotX.width(), slotY.height()]);\n                  var path = Path.fromRect(bandRect, {\n                    fill: {\n                      color: item.color,\n                      opacity: item.opacity\n                    },\n                    stroke: null\n                  });\n                  group.append(path);\n\n                  if (label) {\n                    group.append(label);\n                  }\n                }\n              }\n\n              this.appendVisual(group);\n            },\n            createPlotBandLabel: function (label, item, box) {\n              if (label.visible === false) {\n                return null;\n              }\n\n              var text = label.text;\n              var textbox;\n\n              if (defined(label) && label.visible) {\n                var labelTemplate = getTemplate(label);\n\n                if (labelTemplate) {\n                  text = labelTemplate({\n                    text: text,\n                    item: item\n                  });\n                } else if (label.format) {\n                  text = this.chartService.format.auto(label.format, text);\n                }\n\n                if (!label.color) {\n                  label.color = this.options.labels.color;\n                }\n              }\n\n              textbox = new TextBox(text, label);\n              textbox.reflow(box);\n              textbox.renderVisual();\n              return textbox.visual;\n            },\n            createGridLines: function (altAxis) {\n              var options = this.options;\n              var minorGridLines = options.minorGridLines;\n              var majorGridLines = options.majorGridLines;\n              var minorUnit = options.minorUnit;\n              var vertical = options.vertical;\n              var axisLineVisible = altAxis.options.line.visible;\n              var majorUnit = majorGridLines.visible ? options.majorUnit : 0;\n              var lineBox = altAxis.lineBox();\n              var linePos = lineBox[vertical ? \"y1\" : \"x1\"];\n              var lineOptions = {\n                lineStart: lineBox[vertical ? \"x1\" : \"y1\"],\n                lineEnd: lineBox[vertical ? \"x2\" : \"y2\"],\n                vertical: vertical\n              };\n              var majorTicks = [];\n              var container = this.gridLinesVisual();\n\n              function render(tickPositions, gridLine, skipUnit) {\n                var count = tickPositions.length;\n                var step = Math.max(1, gridLine.step);\n\n                if (gridLine.visible) {\n                  for (var i = gridLine.skip; i < count; i += step) {\n                    var pos = round(tickPositions[i]);\n\n                    if (!inArray(pos, majorTicks)) {\n                      if (i % skipUnit !== 0 && (!axisLineVisible || linePos !== pos)) {\n                        lineOptions.position = pos;\n                        container.append(createAxisGridLine(lineOptions, gridLine));\n                        majorTicks.push(pos);\n                      }\n                    }\n                  }\n                }\n              }\n\n              render(this.getMajorTickPositions(), majorGridLines);\n              render(this.getMinorTickPositions(), minorGridLines, majorUnit / minorUnit);\n              return container.children;\n            },\n            reflow: function (box) {\n              var ref = this;\n              var options = ref.options;\n              var labels = ref.labels;\n              var title = ref.title;\n              var vertical = options.vertical;\n              var count = labels.length;\n              var sizeFn = vertical ? WIDTH : HEIGHT;\n              var titleSize = title ? title.box[sizeFn]() : 0;\n              var space = this.getActualTickSize() + options.margin + titleSize;\n              var rootBox = (this.getRoot() || {}).box || box;\n              var boxSize = rootBox[sizeFn]();\n              var maxLabelSize = 0;\n\n              for (var i = 0; i < count; i++) {\n                var labelSize = labels[i].box[sizeFn]();\n\n                if (labelSize + space <= boxSize) {\n                  maxLabelSize = Math.max(maxLabelSize, labelSize);\n                }\n              }\n\n              if (vertical) {\n                this.box = new Box(box.x1, box.y1, box.x1 + maxLabelSize + space, box.y2);\n              } else {\n                this.box = new Box(box.x1, box.y1, box.x2, box.y1 + maxLabelSize + space);\n              }\n\n              this.arrangeTitle();\n              this.arrangeLabels();\n              this.arrangeNotes();\n            },\n            getLabelsTickPositions: function () {\n              return this.getMajorTickPositions();\n            },\n            labelTickIndex: function (label) {\n              return label.index;\n            },\n            arrangeLabels: function () {\n              var this$1 = this;\n              var ref = this;\n              var options = ref.options;\n              var labels = ref.labels;\n              var labelsBetweenTicks = this.labelsBetweenTicks();\n              var vertical = options.vertical;\n              var mirror = options.labels.mirror;\n              var tickPositions = this.getLabelsTickPositions();\n\n              for (var idx = 0; idx < labels.length; idx++) {\n                var label = labels[idx];\n                var tickIx = this$1.labelTickIndex(label);\n                var labelSize = vertical ? label.box.height() : label.box.width();\n                var firstTickPosition = tickPositions[tickIx];\n                var nextTickPosition = tickPositions[tickIx + 1];\n                var positionStart = void 0,\n                    positionEnd = void 0;\n\n                if (vertical) {\n                  if (labelsBetweenTicks) {\n                    var middle = firstTickPosition + (nextTickPosition - firstTickPosition) / 2;\n                    positionStart = middle - labelSize / 2;\n                  } else {\n                    positionStart = firstTickPosition - labelSize / 2;\n                  }\n\n                  positionEnd = positionStart;\n                } else {\n                  if (labelsBetweenTicks) {\n                    positionStart = firstTickPosition;\n                    positionEnd = nextTickPosition;\n                  } else {\n                    positionStart = firstTickPosition - labelSize / 2;\n                    positionEnd = positionStart + labelSize;\n                  }\n                }\n\n                this$1.positionLabel(label, mirror, positionStart, positionEnd);\n              }\n            },\n            positionLabel: function (label, mirror, positionStart, positionEnd) {\n              if (positionEnd === void 0) {\n                positionEnd = positionStart;\n              }\n\n              var options = this.options;\n              var vertical = options.vertical;\n              var lineBox = this.lineBox();\n              var labelOffset = this.getActualTickSize() + options.margin;\n              var labelBox;\n\n              if (vertical) {\n                var labelX = lineBox.x2;\n\n                if (mirror) {\n                  labelX += labelOffset;\n                  label.options.rotationOrigin = LEFT;\n                } else {\n                  labelX -= labelOffset + label.box.width();\n                  label.options.rotationOrigin = RIGHT;\n                }\n\n                labelBox = label.box.move(labelX, positionStart);\n              } else {\n                var labelY = lineBox.y1;\n\n                if (mirror) {\n                  labelY -= labelOffset + label.box.height();\n                  label.options.rotationOrigin = BOTTOM;\n                } else {\n                  labelY += labelOffset;\n                  label.options.rotationOrigin = TOP;\n                }\n\n                labelBox = new Box(positionStart, labelY, positionEnd, labelY + label.box.height());\n              }\n\n              label.reflow(labelBox);\n            },\n            autoRotateLabelAngle: function (labelBox, slotWidth) {\n              if (labelBox.width() < slotWidth) {\n                return 0;\n              }\n\n              if (labelBox.height() > slotWidth) {\n                return -90;\n              }\n\n              return -45;\n            },\n            autoRotateLabels: function () {\n              var this$1 = this;\n\n              if (!this.options.autoRotateLabels || this.options.vertical) {\n                return false;\n              }\n\n              var tickPositions = this.getMajorTickPositions();\n              var labels = this.labels;\n              var limit = Math.min(labels.length, tickPositions.length - 1);\n              var angle = 0;\n\n              for (var idx = 0; idx < limit; idx++) {\n                var width = Math.abs(tickPositions[idx + 1] - tickPositions[idx]);\n                var labelBox = labels[idx].box;\n                var labelAngle = this$1.autoRotateLabelAngle(labelBox, width);\n\n                if (labelAngle !== 0) {\n                  angle = labelAngle;\n                }\n\n                if (angle === -90) {\n                  break;\n                }\n              }\n\n              if (angle !== 0) {\n                for (var idx$1 = 0; idx$1 < labels.length; idx$1++) {\n                  labels[idx$1].options.rotation = angle;\n                  labels[idx$1].reflow(new Box());\n                }\n\n                return true;\n              }\n            },\n            arrangeTitle: function () {\n              var ref = this;\n              var options = ref.options;\n              var title = ref.title;\n              var mirror = options.labels.mirror;\n              var vertical = options.vertical;\n\n              if (title) {\n                if (vertical) {\n                  title.options.align = mirror ? RIGHT : LEFT;\n                  title.options.vAlign = title.options.position;\n                } else {\n                  title.options.align = title.options.position;\n                  title.options.vAlign = mirror ? TOP : BOTTOM;\n                }\n\n                title.reflow(this.box);\n              }\n            },\n            arrangeNotes: function () {\n              var this$1 = this;\n\n              for (var idx = 0; idx < this.notes.length; idx++) {\n                var item = this$1.notes[idx];\n                var value = item.options.value;\n                var slot = void 0;\n\n                if (defined(value)) {\n                  if (this$1.shouldRenderNote(value)) {\n                    item.show();\n                  } else {\n                    item.hide();\n                  }\n\n                  slot = this$1.noteSlot(value);\n                } else {\n                  item.hide();\n                }\n\n                item.reflow(slot || this$1.lineBox());\n              }\n            },\n            noteSlot: function (value) {\n              return this.getSlot(value);\n            },\n            alignTo: function (secondAxis) {\n              var lineBox = secondAxis.lineBox();\n              var vertical = this.options.vertical;\n              var pos = vertical ? Y : X;\n              this.box.snapTo(lineBox, pos);\n\n              if (vertical) {\n                this.box.shrink(0, this.lineBox().height() - lineBox.height());\n              } else {\n                this.box.shrink(this.lineBox().width() - lineBox.width(), 0);\n              }\n\n              this.box[pos + 1] -= this.lineBox()[pos + 1] - lineBox[pos + 1];\n              this.box[pos + 2] -= this.lineBox()[pos + 2] - lineBox[pos + 2];\n            },\n            axisLabelText: function (value, options, context) {\n              var this$1 = this;\n              var text;\n              var tmpl = getTemplate(options);\n\n              var defaultText = function () {\n                if (!options.format) {\n                  return value;\n                }\n\n                return this$1.chartService.format.localeAuto(options.format, [value], options.culture);\n              };\n\n              if (tmpl) {\n                var templateContext = $.extend({}, context, {\n                  get text() {\n                    return defaultText();\n                  },\n\n                  value: value,\n                  format: options.format,\n                  culture: options.culture\n                });\n                text = tmpl(templateContext);\n              } else {\n                text = defaultText();\n              }\n\n              return text;\n            },\n            slot: function (from, to, limit) {\n              var slot = this.getSlot(from, to, limit);\n\n              if (slot) {\n                return slot.toRect();\n              }\n            },\n            contentBox: function () {\n              var box = this.box.clone();\n              var labels = this.labels;\n\n              if (labels.length) {\n                var axis = this.options.vertical ? Y : X;\n\n                if (this.chartService.isPannable(axis)) {\n                  var offset = this.maxLabelOffset();\n                  box[axis + 1] -= offset.start;\n                  box[axis + 2] += offset.end;\n                } else {\n                  if (labels[0].options.visible) {\n                    box.wrap(labels[0].box);\n                  }\n\n                  var lastLabel = labels[labels.length - 1];\n\n                  if (lastLabel.options.visible) {\n                    box.wrap(lastLabel.box);\n                  }\n                }\n              }\n\n              return box;\n            },\n            maxLabelOffset: function () {\n              var this$1 = this;\n              var ref = this.options;\n              var vertical = ref.vertical;\n              var reverse = ref.reverse;\n              var labelsBetweenTicks = this.labelsBetweenTicks();\n              var tickPositions = this.getLabelsTickPositions();\n              var offsetField = vertical ? Y : X;\n              var labels = this.labels;\n              var startPosition = reverse ? 1 : 0;\n              var endPosition = reverse ? 0 : 1;\n              var maxStartOffset = 0;\n              var maxEndOffset = 0;\n\n              for (var idx = 0; idx < labels.length; idx++) {\n                var label = labels[idx];\n                var tickIx = this$1.labelTickIndex(label);\n                var startTick = void 0,\n                    endTick = void 0;\n\n                if (labelsBetweenTicks) {\n                  startTick = tickPositions[tickIx + startPosition];\n                  endTick = tickPositions[tickIx + endPosition];\n                } else {\n                  startTick = endTick = tickPositions[tickIx];\n                }\n\n                maxStartOffset = Math.max(maxStartOffset, startTick - label.box[offsetField + 1]);\n                maxEndOffset = Math.max(maxEndOffset, label.box[offsetField + 2] - endTick);\n              }\n\n              return {\n                start: maxStartOffset,\n                end: maxEndOffset\n              };\n            },\n            limitRange: function (from, to, min, max, offset) {\n              var options = this.options;\n\n              if (from < min && offset < 0 && (!defined(options.min) || options.min <= min) || max < to && offset > 0 && (!defined(options.max) || max <= options.max)) {\n                return null;\n              }\n\n              if (to < min && offset > 0 || max < from && offset < 0) {\n                return {\n                  min: from,\n                  max: to\n                };\n              }\n\n              var rangeSize = to - from;\n              var minValue = from;\n              var maxValue = to;\n\n              if (from < min && offset < 0) {\n                minValue = limitValue(from, min, max);\n                maxValue = limitValue(from + rangeSize, min + rangeSize, max);\n              } else if (to > max && offset > 0) {\n                maxValue = limitValue(to, min, max);\n                minValue = limitValue(to - rangeSize, min, max - rangeSize);\n              }\n\n              return {\n                min: minValue,\n                max: maxValue\n              };\n            },\n            valueRange: function () {\n              return {\n                min: this.seriesMin,\n                max: this.seriesMax\n              };\n            },\n            lineDir: function () {\n              /*\n               * Axis line direction:\n               *   * Vertical: up.\n               *   * Horizontal: right.\n               */\n              var ref = this.options;\n              var vertical = ref.vertical;\n              var reverse = ref.reverse;\n              return (vertical ? -1 : 1) * (reverse ? -1 : 1);\n            },\n            lineInfo: function () {\n              var ref = this.options;\n              var vertical = ref.vertical;\n              var lineBox = this.lineBox();\n              var lineSize = vertical ? lineBox.height() : lineBox.width();\n              var axis = vertical ? Y : X;\n              var axisDir = this.lineDir();\n              var startEdge = axisDir === 1 ? 1 : 2;\n              var axisOrigin = axis + startEdge.toString();\n              var lineStart = lineBox[axisOrigin];\n              return {\n                axis: axis,\n                axisOrigin: axisOrigin,\n                axisDir: axisDir,\n                lineBox: lineBox,\n                lineSize: lineSize,\n                lineStart: lineStart\n              };\n            },\n            pointOffset: function (point) {\n              var ref = this.lineInfo();\n              var axis = ref.axis;\n              var axisDir = ref.axisDir;\n              var axisOrigin = ref.axisOrigin;\n              var lineBox = ref.lineBox;\n              var lineSize = ref.lineSize;\n              var relative = axisDir > 0 ? point[axis] - lineBox[axisOrigin] : lineBox[axisOrigin] - point[axis];\n              var offset = relative / lineSize;\n              return offset;\n            },\n            scaleToDelta: function (rawScale, range) {\n              // Scale >= 1 would result in axis range of 0.\n              // Scale <= -1 would reverse the scale direction.\n              var MAX_SCALE = 0.999;\n              var scale = limitValue(rawScale, -MAX_SCALE, MAX_SCALE);\n              var delta;\n\n              if (scale > 0) {\n                delta = range * Math.min(1, scale);\n              } else {\n                delta = range - range / (1 + scale);\n              }\n\n              return delta;\n            },\n            labelsBetweenTicks: function () {\n              return !this.options.justified;\n            },\n            prepareUserOptions: function () {}\n          });\n          setDefaultOptions(Axis, {\n            labels: {\n              visible: true,\n              rotation: 0,\n              mirror: false,\n              step: 1,\n              skip: 0\n            },\n            line: {\n              width: 1,\n              color: BLACK,\n              visible: true\n            },\n            title: {\n              visible: true,\n              position: CENTER\n            },\n            majorTicks: {\n              align: OUTSIDE,\n              size: 4,\n              skip: 0,\n              step: 1\n            },\n            minorTicks: {\n              align: OUTSIDE,\n              size: 3,\n              skip: 0,\n              step: 1\n            },\n            axisCrossingValue: 0,\n            majorTickType: OUTSIDE,\n            minorTickType: NONE,\n            majorGridLines: {\n              skip: 0,\n              step: 1\n            },\n            minorGridLines: {\n              visible: false,\n              width: 1,\n              color: BLACK,\n              skip: 0,\n              step: 1\n            },\n            // TODO: Move to line or labels options\n            margin: 5,\n            visible: true,\n            reverse: false,\n            justified: true,\n            notes: {\n              label: {\n                text: \"\"\n              }\n            },\n            _alignLines: true,\n            _deferLabels: false\n          });\n          var MILLISECONDS = \"milliseconds\";\n          var SECONDS = \"seconds\";\n          var MINUTES = \"minutes\";\n          var HOURS = \"hours\";\n          var DAYS = \"days\";\n          var WEEKS = \"weeks\";\n          var MONTHS = \"months\";\n          var YEARS = \"years\";\n          var TIME_PER_MILLISECOND = 1;\n          var TIME_PER_SECOND = 1000;\n          var TIME_PER_MINUTE = 60 * TIME_PER_SECOND;\n          var TIME_PER_HOUR = 60 * TIME_PER_MINUTE;\n          var TIME_PER_DAY = 24 * TIME_PER_HOUR;\n          var TIME_PER_WEEK = 7 * TIME_PER_DAY;\n          var TIME_PER_MONTH = 31 * TIME_PER_DAY;\n          var TIME_PER_YEAR = 365 * TIME_PER_DAY;\n          var TIME_PER_UNIT = {\n            \"years\": TIME_PER_YEAR,\n            \"months\": TIME_PER_MONTH,\n            \"weeks\": TIME_PER_WEEK,\n            \"days\": TIME_PER_DAY,\n            \"hours\": TIME_PER_HOUR,\n            \"minutes\": TIME_PER_MINUTE,\n            \"seconds\": TIME_PER_SECOND,\n            \"milliseconds\": TIME_PER_MILLISECOND\n          };\n\n          function absoluteDateDiff(a, b) {\n            var diff = a.getTime() - b;\n            var offsetDiff = a.getTimezoneOffset() - b.getTimezoneOffset();\n            return diff - offsetDiff * TIME_PER_MINUTE;\n          }\n\n          function addTicks(date, ticks) {\n            return new Date(date.getTime() + ticks);\n          }\n\n          function toDate(value) {\n            var result;\n\n            if (value instanceof Date) {\n              result = value;\n            } else if (value) {\n              result = new Date(value);\n            }\n\n            return result;\n          }\n\n          function startOfWeek(date, weekStartDay) {\n            if (weekStartDay === void 0) {\n              weekStartDay = 0;\n            }\n\n            var daysToSubtract = 0;\n            var day = date.getDay();\n\n            if (!isNaN(day)) {\n              while (day !== weekStartDay) {\n                if (day === 0) {\n                  day = 6;\n                } else {\n                  day--;\n                }\n\n                daysToSubtract++;\n              }\n            }\n\n            return addTicks(date, -daysToSubtract * TIME_PER_DAY);\n          }\n\n          function adjustDST(date, hours) {\n            if (hours === 0 && date.getHours() === 23) {\n              date.setHours(date.getHours() + 2);\n              return true;\n            }\n\n            return false;\n          }\n\n          function addHours(date, hours) {\n            var roundedDate = new Date(date);\n            roundedDate.setMinutes(0, 0, 0);\n            var tzDiff = (date.getTimezoneOffset() - roundedDate.getTimezoneOffset()) * TIME_PER_MINUTE;\n            return addTicks(roundedDate, tzDiff + hours * TIME_PER_HOUR);\n          }\n\n          function addDuration(dateValue, value, unit, weekStartDay) {\n            var result = dateValue;\n\n            if (dateValue) {\n              var date = toDate(dateValue);\n              var hours = date.getHours();\n\n              if (unit === YEARS) {\n                result = new Date(date.getFullYear() + value, 0, 1);\n                adjustDST(result, 0);\n              } else if (unit === MONTHS) {\n                result = new Date(date.getFullYear(), date.getMonth() + value, 1);\n                adjustDST(result, hours);\n              } else if (unit === WEEKS) {\n                result = addDuration(startOfWeek(date, weekStartDay), value * 7, DAYS);\n                adjustDST(result, hours);\n              } else if (unit === DAYS) {\n                result = new Date(date.getFullYear(), date.getMonth(), date.getDate() + value);\n                adjustDST(result, hours);\n              } else if (unit === HOURS) {\n                result = addHours(date, value);\n              } else if (unit === MINUTES) {\n                result = addTicks(date, value * TIME_PER_MINUTE);\n\n                if (result.getSeconds() > 0) {\n                  result.setSeconds(0);\n                }\n              } else if (unit === SECONDS) {\n                result = addTicks(date, value * TIME_PER_SECOND);\n              } else if (unit === MILLISECONDS) {\n                result = addTicks(date, value);\n              }\n\n              if (unit !== MILLISECONDS && result.getMilliseconds() > 0) {\n                result.setMilliseconds(0);\n              }\n            }\n\n            return result;\n          }\n\n          function floorDate(date, unit, weekStartDay) {\n            return addDuration(toDate(date), 0, unit, weekStartDay);\n          }\n\n          function ceilDate(dateValue, unit, weekStartDay) {\n            var date = toDate(dateValue);\n\n            if (date && floorDate(date, unit, weekStartDay).getTime() === date.getTime()) {\n              return date;\n            }\n\n            return addDuration(date, 1, unit, weekStartDay);\n          }\n\n          function dateComparer(a, b) {\n            if (a && b) {\n              return a.getTime() - b.getTime();\n            }\n\n            return -1;\n          }\n\n          function dateDiff(a, b) {\n            return a.getTime() - b;\n          }\n\n          function toTime(value) {\n            if (isArray(value)) {\n              var result = [];\n\n              for (var idx = 0; idx < value.length; idx++) {\n                result.push(toTime(value[idx]));\n              }\n\n              return result;\n            } else if (value) {\n              return toDate(value).getTime();\n            }\n          }\n\n          function dateEquals(a, b) {\n            if (a && b) {\n              return toTime(a) === toTime(b);\n            }\n\n            return a === b;\n          }\n\n          function timeIndex(date, start, baseUnit) {\n            return absoluteDateDiff(date, start) / TIME_PER_UNIT[baseUnit];\n          }\n\n          function dateIndex(value, start, baseUnit, baseUnitStep) {\n            var date = toDate(value);\n            var startDate = toDate(start);\n            var index;\n\n            if (baseUnit === MONTHS) {\n              index = date.getMonth() - startDate.getMonth() + (date.getFullYear() - startDate.getFullYear()) * 12 + timeIndex(date, new Date(date.getFullYear(), date.getMonth()), DAYS) / new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n            } else if (baseUnit === YEARS) {\n              index = date.getFullYear() - startDate.getFullYear() + dateIndex(date, new Date(date.getFullYear(), 0), MONTHS, 1) / 12;\n            } else if (baseUnit === DAYS || baseUnit === WEEKS) {\n              index = timeIndex(date, startDate, baseUnit);\n            } else {\n              index = dateDiff(date, start) / TIME_PER_UNIT[baseUnit];\n            }\n\n            return index / baseUnitStep;\n          }\n\n          function duration(a, b, unit) {\n            var diff;\n\n            if (unit === YEARS) {\n              diff = b.getFullYear() - a.getFullYear();\n            } else if (unit === MONTHS) {\n              diff = duration(a, b, YEARS) * 12 + b.getMonth() - a.getMonth();\n            } else if (unit === DAYS) {\n              diff = Math.floor(dateDiff(b, a) / TIME_PER_DAY);\n            } else {\n              diff = Math.floor(dateDiff(b, a) / TIME_PER_UNIT[unit]);\n            }\n\n            return diff;\n          }\n\n          function lteDateIndex(date, sortedDates) {\n            var low = 0;\n            var high = sortedDates.length - 1;\n            var index;\n\n            while (low <= high) {\n              index = Math.floor((low + high) / 2);\n              var currentDate = sortedDates[index];\n\n              if (currentDate < date) {\n                low = index + 1;\n                continue;\n              }\n\n              if (currentDate > date) {\n                high = index - 1;\n                continue;\n              }\n\n              while (dateEquals(sortedDates[index - 1], date)) {\n                index--;\n              }\n\n              return index;\n            }\n\n            if (sortedDates[index] <= date) {\n              return index;\n            }\n\n            return index - 1;\n          }\n\n          function parseDate(intlService, date) {\n            var result;\n\n            if (isString(date)) {\n              result = intlService.parseDate(date) || toDate(date);\n            } else {\n              result = toDate(date);\n            }\n\n            return result;\n          }\n\n          function parseDates(intlService, dates) {\n            if (isArray(dates)) {\n              var result = [];\n\n              for (var idx = 0; idx < dates.length; idx++) {\n                result.push(parseDate(intlService, dates[idx]));\n              }\n\n              return result;\n            }\n\n            return parseDate(intlService, dates);\n          }\n\n          function firstDay(options, intlService) {\n            if (isNumber(options.weekStartDay)) {\n              return options.weekStartDay;\n            }\n\n            if (intlService && intlService.firstDay) {\n              return intlService.firstDay();\n            }\n\n            return 0;\n          }\n\n          var MIN_CATEGORY_POINTS_RANGE = 0.01;\n          var MIN_CATEGORY_RANGE = 0.1;\n\n          function indexOf(value, arr) {\n            if (value instanceof Date) {\n              var length = arr.length;\n\n              for (var idx = 0; idx < length; idx++) {\n                if (dateEquals(arr[idx], value)) {\n                  return idx;\n                }\n              }\n\n              return -1;\n            }\n\n            return arr.indexOf(value);\n          }\n\n          var CategoryAxis = Axis.extend({\n            initFields: function () {\n              this._ticks = {};\n            },\n            categoriesHash: function () {\n              return \"\";\n            },\n            clone: function () {\n              var copy = new CategoryAxis($.extend({}, this.options, {\n                categories: this.options.srcCategories\n              }), this.chartService);\n              copy.createLabels();\n              return copy;\n            },\n            initUserOptions: function (options) {\n              var categories = options.categories || [];\n              var definedMin = defined(options.min);\n              var definedMax = defined(options.max);\n              options.srcCategories = options.categories = categories;\n\n              if ((definedMin || definedMax) && categories.length) {\n                var min = definedMin ? Math.floor(options.min) : 0;\n                var max;\n\n                if (definedMax) {\n                  max = options.justified ? Math.floor(options.max) + 1 : Math.ceil(options.max);\n                } else {\n                  max = categories.length;\n                }\n\n                options.categories = options.categories.slice(min, max);\n              }\n\n              return options;\n            },\n            rangeIndices: function () {\n              var options = this.options;\n              var length = options.categories.length || 1;\n              var min = isNumber(options.min) ? options.min % 1 : 0;\n              var max;\n\n              if (isNumber(options.max) && options.max % 1 !== 0 && options.max < this.totalRange().max) {\n                max = length - (1 - options.max % 1);\n              } else {\n                max = length - (options.justified ? 1 : 0);\n              }\n\n              return {\n                min: min,\n                max: max\n              };\n            },\n            totalRangeIndices: function (limit) {\n              var options = this.options;\n              var min = isNumber(options.min) ? options.min : 0;\n              var max;\n\n              if (isNumber(options.max)) {\n                max = options.max;\n              } else if (isNumber(options.min)) {\n                max = min + options.categories.length;\n              } else {\n                max = this.totalRange().max || 1;\n              }\n\n              if (limit) {\n                var totalRange = this.totalRange();\n                min = limitValue(min, 0, totalRange.max);\n                max = limitValue(max, 0, totalRange.max);\n              }\n\n              return {\n                min: min,\n                max: max\n              };\n            },\n            range: function () {\n              var options = this.options;\n              var min = isNumber(options.min) ? options.min : 0;\n              var max = isNumber(options.max) ? options.max : this.totalRange().max;\n              return {\n                min: min,\n                max: max\n              };\n            },\n            roundedRange: function () {\n              return this.range();\n            },\n            totalRange: function () {\n              var options = this.options;\n              return {\n                min: 0,\n                max: Math.max(this._seriesMax || 0, options.srcCategories.length) - (options.justified ? 1 : 0)\n              };\n            },\n            scaleOptions: function () {\n              var ref = this.rangeIndices();\n              var min = ref.min;\n              var max = ref.max;\n              var lineBox = this.lineBox();\n              var size = this.options.vertical ? lineBox.height() : lineBox.width();\n              var scale = size / (max - min || 1);\n              return {\n                scale: scale * (this.options.reverse ? -1 : 1),\n                box: lineBox,\n                min: min,\n                max: max\n              };\n            },\n            arrangeLabels: function () {\n              Axis.fn.arrangeLabels.call(this);\n              this.hideOutOfRangeLabels();\n            },\n            hideOutOfRangeLabels: function () {\n              var ref = this;\n              var box = ref.box;\n              var labels = ref.labels;\n\n              if (labels.length > 0) {\n                var valueAxis = this.options.vertical ? Y : X;\n                var start = box[valueAxis + 1];\n                var end = box[valueAxis + 2];\n                var firstLabel = labels[0];\n                var lastLabel = last(labels);\n\n                if (firstLabel.box[valueAxis + 1] > end || firstLabel.box[valueAxis + 2] < start) {\n                  firstLabel.options.visible = false;\n                }\n\n                if (lastLabel.box[valueAxis + 1] > end || lastLabel.box[valueAxis + 2] < start) {\n                  lastLabel.options.visible = false;\n                }\n              }\n            },\n            getMajorTickPositions: function () {\n              return this.getTicks().majorTicks;\n            },\n            getMinorTickPositions: function () {\n              return this.getTicks().minorTicks;\n            },\n            getLabelsTickPositions: function () {\n              return this.getTicks().labelTicks;\n            },\n            tickIndices: function (stepSize) {\n              var ref = this.rangeIndices();\n              var min = ref.min;\n              var max = ref.max;\n              var limit = Math.ceil(max);\n              var current = Math.floor(min);\n              var indices = [];\n\n              while (current <= limit) {\n                indices.push(current);\n                current += stepSize;\n              }\n\n              return indices;\n            },\n            getTickPositions: function (stepSize) {\n              var ref = this.options;\n              var vertical = ref.vertical;\n              var reverse = ref.reverse;\n              var ref$1 = this.scaleOptions();\n              var scale = ref$1.scale;\n              var box = ref$1.box;\n              var min = ref$1.min;\n              var pos = box[(vertical ? Y : X) + (reverse ? 2 : 1)];\n              var indices = this.tickIndices(stepSize);\n              var positions = [];\n\n              for (var idx = 0; idx < indices.length; idx++) {\n                positions.push(pos + round(scale * (indices[idx] - min), COORD_PRECISION));\n              }\n\n              return positions;\n            },\n            getTicks: function () {\n              var options = this.options;\n              var cache = this._ticks;\n              var range = this.rangeIndices();\n              var lineBox = this.lineBox();\n              var hash = lineBox.getHash() + range.min + \",\" + range.max + options.reverse + options.justified;\n\n              if (cache._hash !== hash) {\n                var hasMinor = options.minorTicks.visible || options.minorGridLines.visible;\n                cache._hash = hash;\n                cache.labelTicks = this.getTickPositions(1);\n                cache.majorTicks = this.filterOutOfRangePositions(cache.labelTicks, lineBox);\n                cache.minorTicks = hasMinor ? this.filterOutOfRangePositions(this.getTickPositions(0.5), lineBox) : [];\n              }\n\n              return cache;\n            },\n            filterOutOfRangePositions: function (positions, lineBox) {\n              if (!positions.length) {\n                return positions;\n              }\n\n              var axis = this.options.vertical ? Y : X;\n\n              var inRange = function (position) {\n                return lineBox[axis + 1] <= position && position <= lineBox[axis + 2];\n              };\n\n              var end = positions.length - 1;\n              var startIndex = 0;\n\n              while (!inRange(positions[startIndex]) && startIndex <= end) {\n                startIndex++;\n              }\n\n              var endIndex = end;\n\n              while (!inRange(positions[endIndex]) && endIndex >= 0) {\n                endIndex--;\n              }\n\n              return positions.slice(startIndex, endIndex + 1);\n            },\n            lineInfo: function () {\n              var ref = this.options;\n              var vertical = ref.vertical;\n              var reverse = ref.reverse;\n              var lineBox = this.lineBox();\n              var lineSize = vertical ? lineBox.height() : lineBox.width();\n              var axis = vertical ? Y : X;\n              var axisDir = reverse ? -1 : 1;\n              var startEdge = axisDir === 1 ? 1 : 2;\n              var axisOrigin = axis + startEdge.toString();\n              var lineStart = lineBox[axisOrigin];\n              return {\n                axis: axis,\n                axisOrigin: axisOrigin,\n                axisDir: axisDir,\n                lineBox: lineBox,\n                lineSize: lineSize,\n                lineStart: lineStart\n              };\n            },\n            lineDir: function () {\n              /*\n               *  Category axis line direction:\n               *    * Vertical: down.\n               *    * Horizontal: right.\n               */\n              var ref = this.options;\n              var reverse = ref.reverse;\n              return reverse ? -1 : 1;\n            },\n            getSlot: function (from, to, limit) {\n              var options = this.options;\n              var reverse = options.reverse;\n              var justified = options.justified;\n              var ref = this.scaleOptions();\n              var scale = ref.scale;\n              var box = ref.box;\n              var min = ref.min;\n              var ref$1 = this.lineInfo();\n              var valueAxis = ref$1.axis;\n              var lineStart = ref$1.lineStart;\n              var slotBox = box.clone();\n              var singleSlot = !defined(to);\n              var start = valueOrDefault(from, 0);\n              var end = valueOrDefault(to, start);\n              end = Math.max(end - 1, start); // Fixes transient bug caused by iOS 6.0 JIT\n              // (one can never be too sure)\n\n              end = Math.max(start, end);\n              var p1 = lineStart + (start - min) * scale;\n              var p2 = lineStart + (end + 1 - min) * scale;\n\n              if (singleSlot && justified) {\n                p2 = p1;\n              }\n\n              if (limit) {\n                p1 = limitValue(p1, box[valueAxis + 1], box[valueAxis + 2]);\n                p2 = limitValue(p2, box[valueAxis + 1], box[valueAxis + 2]);\n              }\n\n              slotBox[valueAxis + 1] = reverse ? p2 : p1;\n              slotBox[valueAxis + 2] = reverse ? p1 : p2;\n              return slotBox;\n            },\n            limitSlot: function (slot) {\n              var vertical = this.options.vertical;\n              var valueAxis = vertical ? Y : X;\n              var lineBox = this.lineBox();\n              var limittedSlot = slot.clone();\n              limittedSlot[valueAxis + 1] = limitValue(slot[valueAxis + 1], lineBox[valueAxis + 1], lineBox[valueAxis + 2]);\n              limittedSlot[valueAxis + 2] = limitValue(slot[valueAxis + 2], lineBox[valueAxis + 1], lineBox[valueAxis + 2]);\n              return limittedSlot;\n            },\n            slot: function (from, to, limit) {\n              var min = Math.floor(this.options.min || 0);\n              var start = from;\n              var end = to;\n\n              if (typeof start === \"string\") {\n                start = this.categoryIndex(start);\n              } else if (isNumber(start)) {\n                start -= min;\n              }\n\n              if (typeof end === \"string\") {\n                end = this.categoryIndex(end);\n              } else if (isNumber(end)) {\n                end -= min;\n              }\n\n              return Axis.fn.slot.call(this, start, end, limit);\n            },\n            pointCategoryIndex: function (point) {\n              var ref = this.options;\n              var reverse = ref.reverse;\n              var justified = ref.justified;\n              var vertical = ref.vertical;\n              var valueAxis = vertical ? Y : X;\n              var ref$1 = this.scaleOptions();\n              var scale = ref$1.scale;\n              var box = ref$1.box;\n              var min = ref$1.min;\n              var max = ref$1.max;\n              var startValue = reverse ? max : min;\n              var lineStart = box[valueAxis + 1];\n              var lineEnd = box[valueAxis + 2];\n              var pos = point[valueAxis];\n\n              if (pos < lineStart || pos > lineEnd) {\n                return null;\n              }\n\n              var value = startValue + (pos - lineStart) / scale;\n              var diff = value % 1;\n\n              if (justified) {\n                value = Math.round(value);\n              } else if (diff === 0 && value > 0) {\n                value--;\n              }\n\n              return Math.floor(value);\n            },\n            getCategory: function (point) {\n              var index = this.pointCategoryIndex(point);\n\n              if (index === null) {\n                return null;\n              }\n\n              return this.options.categories[index];\n            },\n            categoryIndex: function (value) {\n              return this.totalIndex(value) - Math.floor(this.options.min || 0);\n            },\n            categoryAt: function (index, total) {\n              var options = this.options;\n              return (total ? options.srcCategories : options.categories)[index];\n            },\n            categoriesCount: function () {\n              return (this.options.categories || []).length;\n            },\n            translateRange: function (delta) {\n              var options = this.options;\n              var lineBox = this.lineBox();\n              var size = options.vertical ? lineBox.height() : lineBox.width();\n              var range = options.categories.length;\n              var scale = size / range;\n              var offset = round(delta / scale, DEFAULT_PRECISION);\n              return {\n                min: offset,\n                max: range + offset\n              };\n            },\n            scaleRange: function (scale, cursor) {\n              var position = Math.abs(this.pointOffset(cursor));\n              var rangeIndices = this.totalRangeIndices();\n              var range = rangeIndices.max - rangeIndices.min;\n              var delta = this.scaleToDelta(scale, range);\n              var minDelta = position * delta;\n              var maxDelta = (1 - position) * delta;\n              var min = rangeIndices.min + minDelta;\n              var max = rangeIndices.max - maxDelta;\n\n              if (max - min < MIN_CATEGORY_RANGE) {\n                max = min + MIN_CATEGORY_RANGE;\n              }\n\n              return {\n                min: min,\n                max: max\n              };\n            },\n            zoomRange: function (scale, cursor) {\n              var ref = this.totalRange();\n              var totalMin = ref.min;\n              var totalMax = ref.max;\n              var range = this.scaleRange(scale, cursor);\n              return {\n                min: limitValue(range.min, totalMin, totalMax),\n                max: limitValue(range.max, totalMin, totalMax)\n              };\n            },\n            labelsCount: function () {\n              var labelsRange = this.labelsRange();\n              return labelsRange.max - labelsRange.min;\n            },\n            labelsRange: function () {\n              var options = this.options;\n              var justified = options.justified;\n              var labelOptions = options.labels;\n              var ref = this.totalRangeIndices(true);\n              var min = ref.min;\n              var max = ref.max;\n              var start = Math.floor(min);\n\n              if (!justified) {\n                min = Math.floor(min);\n                max = Math.ceil(max);\n              } else {\n                min = Math.ceil(min);\n                max = Math.floor(max);\n              }\n\n              var skip;\n\n              if (min > labelOptions.skip) {\n                skip = labelOptions.skip + labelOptions.step * Math.ceil((min - labelOptions.skip) / labelOptions.step);\n              } else {\n                skip = labelOptions.skip;\n              }\n\n              return {\n                min: skip - start,\n                max: (options.categories.length ? max + (justified ? 1 : 0) : 0) - start\n              };\n            },\n            createAxisLabel: function (index, labelOptions, labelContext) {\n              var options = this.options;\n              var dataItem = options.dataItems ? options.dataItems[index] : null;\n              var category = valueOrDefault(options.categories[index], \"\");\n              labelContext.dataItem = dataItem;\n              var text = this.axisLabelText(category, labelOptions, labelContext);\n              return new AxisLabel(category, text, index, dataItem, labelOptions);\n            },\n            shouldRenderNote: function (value) {\n              var range = this.totalRangeIndices();\n              return Math.floor(range.min) <= value && value <= Math.ceil(range.max);\n            },\n            noteSlot: function (value) {\n              var options = this.options;\n              var index = value - Math.floor(options.min || 0);\n              return this.getSlot(index);\n            },\n            arrangeNotes: function () {\n              Axis.fn.arrangeNotes.call(this);\n              this.hideOutOfRangeNotes();\n            },\n            hideOutOfRangeNotes: function () {\n              var ref = this;\n              var notes = ref.notes;\n              var box = ref.box;\n\n              if (notes && notes.length) {\n                var valueAxis = this.options.vertical ? Y : X;\n                var start = box[valueAxis + 1];\n                var end = box[valueAxis + 2];\n\n                for (var idx = 0; idx < notes.length; idx++) {\n                  var note = notes[idx];\n\n                  if (note.box && (end < note.box[valueAxis + 1] || note.box[valueAxis + 2] < start)) {\n                    note.hide();\n                  }\n                }\n              }\n            },\n            pan: function (delta) {\n              var range = this.totalRangeIndices(true);\n              var ref = this.scaleOptions();\n              var scale = ref.scale;\n              var offset = round(delta / scale, DEFAULT_PRECISION);\n              var totalRange = this.totalRange();\n              var min = range.min + offset;\n              var max = range.max + offset;\n              return this.limitRange(min, max, 0, totalRange.max, offset);\n            },\n            pointsRange: function (start, end) {\n              var ref = this.options;\n              var reverse = ref.reverse;\n              var vertical = ref.vertical;\n              var valueAxis = vertical ? Y : X;\n              var range = this.totalRangeIndices(true);\n              var ref$1 = this.scaleOptions();\n              var scale = ref$1.scale;\n              var box = ref$1.box;\n              var lineStart = box[valueAxis + (reverse ? 2 : 1)];\n              var diffStart = start[valueAxis] - lineStart;\n              var diffEnd = end[valueAxis] - lineStart;\n              var min = range.min + diffStart / scale;\n              var max = range.min + diffEnd / scale;\n              var rangeMin = Math.min(min, max);\n              var rangeMax = Math.max(min, max);\n\n              if (rangeMax - rangeMin >= MIN_CATEGORY_POINTS_RANGE) {\n                return {\n                  min: rangeMin,\n                  max: rangeMax\n                };\n              }\n            },\n            valueRange: function () {\n              return this.range();\n            },\n            totalIndex: function (value) {\n              var options = this.options;\n              var index = this._categoriesMap ? this._categoriesMap.get(value) : indexOf(value, options.srcCategories);\n              return index;\n            },\n            currentRangeIndices: function () {\n              var options = this.options;\n              var min = 0;\n\n              if (isNumber(options.min)) {\n                min = Math.floor(options.min);\n              }\n\n              var max;\n\n              if (isNumber(options.max)) {\n                max = options.justified ? Math.floor(options.max) : Math.ceil(options.max) - 1;\n              } else {\n                max = this.totalCount() - 1;\n              }\n\n              return {\n                min: min,\n                max: max\n              };\n            },\n            mapCategories: function () {\n              if (!this._categoriesMap) {\n                var map$$1 = this._categoriesMap = new HashMap();\n                var srcCategories = this.options.srcCategories;\n\n                for (var idx = 0; idx < srcCategories.length; idx++) {\n                  map$$1.set(srcCategories[idx], idx);\n                }\n              }\n            },\n            totalCount: function () {\n              return Math.max(this.options.srcCategories.length, this._seriesMax || 0);\n            }\n          });\n          setDefaultOptions(CategoryAxis, {\n            type: \"category\",\n            vertical: false,\n            majorGridLines: {\n              visible: false,\n              width: 1,\n              color: BLACK\n            },\n            labels: {\n              zIndex: 1\n            },\n            justified: false,\n            _deferLabels: true\n          });\n          var COORDINATE_LIMIT = 300000;\n          var DateLabelFormats = {\n            milliseconds: \"HH:mm:ss.fff\",\n            seconds: \"HH:mm:ss\",\n            minutes: \"HH:mm\",\n            hours: \"HH:mm\",\n            days: \"M/d\",\n            weeks: \"M/d\",\n            months: \"MMM 'yy\",\n            years: \"yyyy\"\n          };\n          var ZERO_THRESHOLD = 0.2;\n          var AUTO = \"auto\";\n          var BASE_UNITS = [MILLISECONDS, SECONDS, MINUTES, HOURS, DAYS, WEEKS, MONTHS, YEARS];\n          var FIT = \"fit\";\n\n          function categoryRange(categories) {\n            var range = categories._range;\n\n            if (!range) {\n              range = categories._range = sparseArrayLimits(categories);\n              range.min = toDate(range.min);\n              range.max = toDate(range.max);\n            }\n\n            return range;\n          }\n\n          var EmptyDateRange = Class.extend({\n            init: function (options) {\n              this.options = options;\n            },\n            displayIndices: function () {\n              return {\n                min: 0,\n                max: 1\n              };\n            },\n            displayRange: function () {\n              return {};\n            },\n            total: function () {\n              return {};\n            },\n            valueRange: function () {\n              return {};\n            },\n            valueIndex: function () {\n              return -1;\n            },\n            values: function () {\n              return [];\n            },\n            totalIndex: function () {\n              return -1;\n            },\n            valuesCount: function () {\n              return 0;\n            },\n            totalCount: function () {\n              return 0;\n            },\n            dateAt: function () {\n              return null;\n            }\n          });\n          var DateRange = Class.extend({\n            init: function (start, end, options) {\n              this.options = options;\n              options.baseUnitStep = options.baseUnitStep || 1;\n              var roundToBaseUnit = options.roundToBaseUnit;\n              var justified = options.justified;\n              this.start = addDuration(start, 0, options.baseUnit, options.weekStartDay);\n              var lowerEnd = this.roundToTotalStep(end);\n              var expandEnd = !justified && dateEquals(end, lowerEnd) && !options.justifyEnd;\n              this.end = this.roundToTotalStep(end, !justified, expandEnd ? 1 : 0);\n              var min = options.min || start;\n              this.valueStart = this.roundToTotalStep(min);\n              this.displayStart = roundToBaseUnit ? this.valueStart : min;\n              var max = options.max;\n\n              if (!max) {\n                this.valueEnd = lowerEnd;\n                this.displayEnd = roundToBaseUnit || expandEnd ? this.end : end;\n              } else {\n                var next = !justified && dateEquals(max, this.roundToTotalStep(max)) ? -1 : 0;\n                this.valueEnd = this.roundToTotalStep(max, false, next);\n                this.displayEnd = roundToBaseUnit ? this.roundToTotalStep(max, !justified) : options.max;\n              }\n\n              if (this.valueEnd < this.valueStart) {\n                this.valueEnd = this.valueStart;\n              }\n\n              if (this.displayEnd <= this.displayStart) {\n                this.displayEnd = this.roundToTotalStep(this.displayStart, false, 1);\n              }\n            },\n            displayRange: function () {\n              return {\n                min: this.displayStart,\n                max: this.displayEnd\n              };\n            },\n            displayIndices: function () {\n              if (!this._indices) {\n                var options = this.options;\n                var baseUnit = options.baseUnit;\n                var baseUnitStep = options.baseUnitStep;\n                var minIdx = dateIndex(this.displayStart, this.valueStart, baseUnit, baseUnitStep);\n                var maxIdx = dateIndex(this.displayEnd, this.valueStart, baseUnit, baseUnitStep);\n                this._indices = {\n                  min: minIdx,\n                  max: maxIdx\n                };\n              }\n\n              return this._indices;\n            },\n            total: function () {\n              return {\n                min: this.start,\n                max: this.end\n              };\n            },\n            totalCount: function () {\n              var last$$1 = this.totalIndex(this.end);\n              return last$$1 + (this.options.justified ? 1 : 0);\n            },\n            valueRange: function () {\n              return {\n                min: this.valueStart,\n                max: this.valueEnd\n              };\n            },\n            valueIndex: function (value) {\n              var options = this.options;\n              return Math.floor(dateIndex(value, this.valueStart, options.baseUnit, options.baseUnitStep));\n            },\n            totalIndex: function (value) {\n              var options = this.options;\n              return Math.floor(dateIndex(value, this.start, options.baseUnit, options.baseUnitStep));\n            },\n            dateIndex: function (value) {\n              var options = this.options;\n              return dateIndex(value, this.valueStart, options.baseUnit, options.baseUnitStep);\n            },\n            valuesCount: function () {\n              var maxIdx = this.valueIndex(this.valueEnd);\n              return maxIdx + 1;\n            },\n            values: function () {\n              var values = this._values;\n\n              if (!values) {\n                var options = this.options;\n                var range = this.valueRange();\n                this._values = values = [];\n\n                for (var date = range.min; date <= range.max;) {\n                  values.push(date);\n                  date = addDuration(date, options.baseUnitStep, options.baseUnit, options.weekStartDay);\n                }\n              }\n\n              return values;\n            },\n            dateAt: function (index, total) {\n              var options = this.options;\n              return addDuration(total ? this.start : this.valueStart, options.baseUnitStep * index, options.baseUnit, options.weekStartDay);\n            },\n            roundToTotalStep: function (value, upper, next) {\n              var ref = this.options;\n              var baseUnit = ref.baseUnit;\n              var baseUnitStep = ref.baseUnitStep;\n              var weekStartDay = ref.weekStartDay;\n              var start = this.start;\n              var step = dateIndex(value, start, baseUnit, baseUnitStep);\n              var roundedStep = upper ? Math.ceil(step) : Math.floor(step);\n\n              if (next) {\n                roundedStep += next;\n              }\n\n              return addDuration(start, roundedStep * baseUnitStep, baseUnit, weekStartDay);\n            }\n          });\n\n          function autoBaseUnit(options, startUnit, startStep) {\n            var categoryLimits = categoryRange(options.categories);\n            var span = (options.max || categoryLimits.max) - (options.min || categoryLimits.min);\n            var autoBaseUnitSteps = options.autoBaseUnitSteps;\n            var maxDateGroups = options.maxDateGroups;\n            var autoUnit = options.baseUnit === FIT;\n            var autoUnitIx = startUnit ? BASE_UNITS.indexOf(startUnit) : 0;\n            var baseUnit = autoUnit ? BASE_UNITS[autoUnitIx++] : options.baseUnit;\n            var units = span / TIME_PER_UNIT[baseUnit];\n            var totalUnits = units;\n            var unitSteps, step, nextStep;\n\n            while (!step || units >= maxDateGroups) {\n              unitSteps = unitSteps || autoBaseUnitSteps[baseUnit].slice(0);\n\n              do {\n                nextStep = unitSteps.shift();\n              } while (nextStep && startUnit === baseUnit && nextStep < startStep);\n\n              if (nextStep) {\n                step = nextStep;\n                units = totalUnits / step;\n              } else if (baseUnit === last(BASE_UNITS)) {\n                step = Math.ceil(totalUnits / maxDateGroups);\n                break;\n              } else if (autoUnit) {\n                baseUnit = BASE_UNITS[autoUnitIx++] || last(BASE_UNITS);\n                totalUnits = span / TIME_PER_UNIT[baseUnit];\n                unitSteps = null;\n              } else {\n                if (units > maxDateGroups) {\n                  step = Math.ceil(totalUnits / maxDateGroups);\n                }\n\n                break;\n              }\n            }\n\n            options.baseUnitStep = step;\n            options.baseUnit = baseUnit;\n          }\n\n          function defaultBaseUnit(options) {\n            var categories = options.categories;\n            var count = defined(categories) ? categories.length : 0;\n            var minDiff = MAX_VALUE;\n            var lastCategory, unit;\n\n            for (var categoryIx = 0; categoryIx < count; categoryIx++) {\n              var category = categories[categoryIx];\n\n              if (category && lastCategory) {\n                var diff = absoluteDateDiff(category, lastCategory);\n\n                if (diff > 0) {\n                  minDiff = Math.min(minDiff, diff);\n\n                  if (minDiff >= TIME_PER_YEAR) {\n                    unit = YEARS;\n                  } else if (minDiff >= TIME_PER_MONTH - TIME_PER_DAY * 3) {\n                    unit = MONTHS;\n                  } else if (minDiff >= TIME_PER_WEEK) {\n                    unit = WEEKS;\n                  } else if (minDiff >= TIME_PER_DAY) {\n                    unit = DAYS;\n                  } else if (minDiff >= TIME_PER_HOUR) {\n                    unit = HOURS;\n                  } else if (minDiff >= TIME_PER_MINUTE) {\n                    unit = MINUTES;\n                  } else {\n                    unit = SECONDS;\n                  }\n                }\n              }\n\n              lastCategory = category;\n            }\n\n            options.baseUnit = unit || DAYS;\n          }\n\n          function initUnit(options) {\n            var baseUnit = (options.baseUnit || \"\").toLowerCase();\n            var useDefault = baseUnit !== FIT && !inArray(baseUnit, BASE_UNITS);\n\n            if (useDefault) {\n              defaultBaseUnit(options);\n            }\n\n            if (baseUnit === FIT || options.baseUnitStep === AUTO) {\n              autoBaseUnit(options);\n            }\n\n            return options;\n          }\n\n          var DateCategoryAxis = CategoryAxis.extend({\n            clone: function () {\n              var copy = new DateCategoryAxis($.extend({}, this.options), this.chartService);\n              copy.createLabels();\n              return copy;\n            },\n            categoriesHash: function () {\n              var start = this.dataRange.total().min;\n              return this.options.baseUnit + this.options.baseUnitStep + start;\n            },\n            initUserOptions: function (options) {\n              return options;\n            },\n            initFields: function () {\n              CategoryAxis.fn.initFields.call(this);\n              var chartService = this.chartService;\n              var intlService = chartService.intl;\n              var options = this.options;\n              var categories = options.categories || [];\n\n              if (!categories._parsed) {\n                categories = parseDates(intlService, categories);\n                categories._parsed = true;\n              }\n\n              options = deepExtend({\n                roundToBaseUnit: true\n              }, options, {\n                categories: categories,\n                min: parseDate(intlService, options.min),\n                max: parseDate(intlService, options.max),\n                weekStartDay: firstDay(options, intlService)\n              });\n\n              if (chartService.panning && chartService.isPannable(options.vertical ? Y : X)) {\n                options.roundToBaseUnit = false;\n              }\n\n              options.userSetBaseUnit = options.userSetBaseUnit || options.baseUnit;\n              options.userSetBaseUnitStep = options.userSetBaseUnitStep || options.baseUnitStep;\n              this.options = options;\n              options.srcCategories = categories;\n\n              if (categories.length > 0) {\n                var range = categoryRange(categories);\n                var maxDivisions = options.maxDivisions;\n                this.dataRange = new DateRange(range.min, range.max, initUnit(options));\n\n                if (maxDivisions) {\n                  var dataRange = this.dataRange.displayRange();\n                  var divisionOptions = $.extend({}, options, {\n                    justified: true,\n                    roundToBaseUnit: false,\n                    baseUnit: 'fit',\n                    min: dataRange.min,\n                    max: dataRange.max,\n                    maxDateGroups: maxDivisions\n                  });\n                  var dataRangeOptions = this.dataRange.options;\n                  autoBaseUnit(divisionOptions, dataRangeOptions.baseUnit, dataRangeOptions.baseUnitStep);\n                  this.divisionRange = new DateRange(range.min, range.max, divisionOptions);\n                } else {\n                  this.divisionRange = this.dataRange;\n                }\n              } else {\n                options.baseUnit = options.baseUnit || DAYS;\n                this.dataRange = this.divisionRange = new EmptyDateRange(options);\n              }\n\n              this.rangeLabels = [];\n            },\n            tickIndices: function (stepSize) {\n              var ref = this;\n              var dataRange = ref.dataRange;\n              var divisionRange = ref.divisionRange;\n              var valuesCount = divisionRange.valuesCount();\n\n              if (!this.options.maxDivisions || !valuesCount) {\n                return CategoryAxis.fn.tickIndices.call(this, stepSize);\n              }\n\n              var indices = [];\n              var values = divisionRange.values();\n              var offset = 0;\n\n              if (!this.options.justified) {\n                values = values.concat(divisionRange.dateAt(valuesCount));\n                offset = 0.5; //align ticks to the center of not justified categories\n              }\n\n              for (var idx = 0; idx < values.length; idx++) {\n                indices.push(dataRange.dateIndex(values[idx]) + offset);\n\n                if (stepSize !== 1 && idx >= 1) {\n                  var last$$1 = indices.length - 1;\n                  indices.splice(idx, 0, indices[last$$1 - 1] + (indices[last$$1] - indices[last$$1 - 1]) * stepSize);\n                }\n              }\n\n              return indices;\n            },\n            shouldRenderNote: function (value) {\n              var range = this.range();\n              var categories = this.options.categories || [];\n              return dateComparer(value, range.min) >= 0 && dateComparer(value, range.max) <= 0 && categories.length;\n            },\n            parseNoteValue: function (value) {\n              return parseDate(this.chartService.intl, value);\n            },\n            noteSlot: function (value) {\n              return this.getSlot(value);\n            },\n            translateRange: function (delta) {\n              var options = this.options;\n              var baseUnit = options.baseUnit;\n              var weekStartDay = options.weekStartDay;\n              var vertical = options.vertical;\n              var lineBox = this.lineBox();\n              var size = vertical ? lineBox.height() : lineBox.width();\n              var range = this.range();\n              var scale = size / (range.max - range.min);\n              var offset = round(delta / scale, DEFAULT_PRECISION);\n\n              if (range.min && range.max) {\n                var from = addTicks(options.min || range.min, offset);\n                var to = addTicks(options.max || range.max, offset);\n                range = {\n                  min: addDuration(from, 0, baseUnit, weekStartDay),\n                  max: addDuration(to, 0, baseUnit, weekStartDay)\n                };\n              }\n\n              return range;\n            },\n            labelsRange: function () {\n              return {\n                min: this.options.labels.skip,\n                max: this.divisionRange.valuesCount()\n              };\n            },\n            pan: function (delta) {\n              if (this.isEmpty()) {\n                return null;\n              }\n\n              var options = this.options;\n              var lineBox = this.lineBox();\n              var size = options.vertical ? lineBox.height() : lineBox.width();\n              var ref = this.dataRange.displayRange();\n              var min = ref.min;\n              var max = ref.max;\n              var totalLimits = this.dataRange.total();\n              var scale = size / (max - min);\n              var offset = round(delta / scale, DEFAULT_PRECISION) * (options.reverse ? -1 : 1);\n              var from = addTicks(min, offset);\n              var to = addTicks(max, offset);\n              var panRange = this.limitRange(toTime(from), toTime(to), toTime(totalLimits.min), toTime(totalLimits.max), offset);\n\n              if (panRange) {\n                panRange.min = toDate(panRange.min);\n                panRange.max = toDate(panRange.max);\n                panRange.baseUnit = options.baseUnit;\n                panRange.baseUnitStep = options.baseUnitStep || 1;\n                panRange.userSetBaseUnit = options.userSetBaseUnit;\n                panRange.userSetBaseUnitStep = options.userSetBaseUnitStep;\n                return panRange;\n              }\n            },\n            pointsRange: function (start, end) {\n              if (this.isEmpty()) {\n                return null;\n              }\n\n              var pointsRange = CategoryAxis.fn.pointsRange.call(this, start, end);\n              var datesRange = this.dataRange.displayRange();\n              var indicesRange = this.dataRange.displayIndices();\n              var scale = dateDiff(datesRange.max, datesRange.min) / (indicesRange.max - indicesRange.min);\n              var options = this.options;\n              var min = addTicks(datesRange.min, pointsRange.min * scale);\n              var max = addTicks(datesRange.min, pointsRange.max * scale);\n              return {\n                min: min,\n                max: max,\n                baseUnit: options.userSetBaseUnit || options.baseUnit,\n                baseUnitStep: options.userSetBaseUnitStep || options.baseUnitStep\n              };\n            },\n            scaleRange: function (scale, cursor) {\n              if (this.isEmpty()) {\n                return {};\n              }\n\n              var options = this.options;\n              var fit = options.userSetBaseUnit === FIT;\n              var totalLimits = this.dataRange.total();\n              var ref = this.dataRange.displayRange();\n              var rangeMin = ref.min;\n              var rangeMax = ref.max;\n              var position = Math.abs(this.pointOffset(cursor));\n              var range = rangeMax - rangeMin;\n              var delta = this.scaleToDelta(scale, range);\n              var minDelta = Math.round(position * delta);\n              var maxDelta = Math.round((1 - position) * delta);\n              var ref$1 = this.dataRange.options;\n              var baseUnit = ref$1.baseUnit;\n              var min = new Date(rangeMin.getTime() + minDelta);\n              var max = new Date(rangeMax.getTime() - maxDelta);\n\n              if (fit) {\n                var autoBaseUnitSteps = options.autoBaseUnitSteps;\n                var maxDateGroups = options.maxDateGroups;\n                var maxDiff = last(autoBaseUnitSteps[baseUnit]) * maxDateGroups * TIME_PER_UNIT[baseUnit];\n                var rangeDiff = dateDiff(rangeMax, rangeMin);\n                var diff = dateDiff(max, min);\n                var baseUnitIndex = BASE_UNITS.indexOf(baseUnit);\n                var autoBaseUnitStep, ticks;\n\n                if (diff < TIME_PER_UNIT[baseUnit] && baseUnit !== MILLISECONDS) {\n                  baseUnit = BASE_UNITS[baseUnitIndex - 1];\n                  autoBaseUnitStep = last(autoBaseUnitSteps[baseUnit]);\n                  ticks = (rangeDiff - (maxDateGroups - 1) * autoBaseUnitStep * TIME_PER_UNIT[baseUnit]) / 2;\n                  min = addTicks(rangeMin, ticks);\n                  max = addTicks(rangeMax, -ticks);\n                } else if (diff > maxDiff && baseUnit !== YEARS) {\n                  var stepIndex = 0;\n\n                  do {\n                    baseUnitIndex++;\n                    baseUnit = BASE_UNITS[baseUnitIndex];\n                    stepIndex = 0;\n                    ticks = 2 * TIME_PER_UNIT[baseUnit];\n\n                    do {\n                      autoBaseUnitStep = autoBaseUnitSteps[baseUnit][stepIndex];\n                      stepIndex++;\n                    } while (stepIndex < autoBaseUnitSteps[baseUnit].length && ticks * autoBaseUnitStep < rangeDiff);\n                  } while (baseUnit !== YEARS && ticks * autoBaseUnitStep < rangeDiff);\n\n                  ticks = (ticks * autoBaseUnitStep - rangeDiff) / 2;\n\n                  if (ticks > 0) {\n                    min = addTicks(rangeMin, -ticks);\n                    max = addTicks(rangeMax, ticks);\n                    min = addTicks(min, limitValue(max, totalLimits.min, totalLimits.max) - max);\n                    max = addTicks(max, limitValue(min, totalLimits.min, totalLimits.max) - min);\n                  }\n                }\n              }\n\n              if (min && max && dateDiff(max, min) > 0) {\n                return {\n                  min: min,\n                  max: max,\n                  baseUnit: options.userSetBaseUnit || options.baseUnit,\n                  baseUnitStep: options.userSetBaseUnitStep || options.baseUnitStep\n                };\n              }\n            },\n            zoomRange: function (scale, cursor) {\n              var totalLimits = this.dataRange.total();\n              var range = this.scaleRange(scale, cursor);\n\n              if (range) {\n                if (range.min < totalLimits.min) {\n                  range.min = totalLimits.min;\n                }\n\n                if (range.max > totalLimits.max) {\n                  range.max = totalLimits.max;\n                }\n              }\n\n              return range;\n            },\n            range: function () {\n              return this.dataRange.displayRange();\n            },\n            createLabels: function () {\n              CategoryAxis.fn.createLabels.call(this);\n              this.createRangeLabels();\n            },\n            clearLabels: function () {\n              CategoryAxis.fn.clearLabels.call(this);\n              this.rangeLabels = [];\n            },\n            arrangeLabels: function () {\n              this.arrangeRangeLabels();\n              CategoryAxis.fn.arrangeLabels.call(this);\n            },\n            arrangeRangeLabels: function () {\n              var ref = this;\n              var options = ref.options;\n              var rangeLabels = ref.rangeLabels;\n\n              if (rangeLabels.length === 0) {\n                return;\n              }\n\n              var lineBox = this.lineBox();\n              var vertical = options.vertical;\n              var mirror = options.rangeLabels.mirror || options.labels.mirror;\n              var firstLabel = rangeLabels[0];\n\n              if (firstLabel) {\n                var position = vertical ? lineBox.y1 - firstLabel.box.height() / 2 : lineBox.x1;\n                this.positionLabel(firstLabel, mirror, position);\n              }\n\n              var lastLabel = rangeLabels[1];\n\n              if (lastLabel) {\n                var position$1 = vertical ? lineBox.y2 - lastLabel.box.height() / 2 : lineBox.x2;\n                this.positionLabel(lastLabel, mirror, position$1);\n              }\n            },\n            autoRotateLabels: function () {\n              CategoryAxis.fn.autoRotateLabels.call(this);\n              this.autoRotateRangeLabels();\n            },\n            hideOutOfRangeLabels: function () {\n              CategoryAxis.fn.hideOutOfRangeLabels.call(this);\n              this.hideOverlappingLabels();\n            },\n            hideOverlappingLabels: function () {\n              var ref = this;\n              var rangeLabels = ref.rangeLabels;\n              var labels = ref.labels;\n\n              if (rangeLabels.length === 0) {\n                return;\n              }\n\n              function clip(rangeLabel, label) {\n                if (!label.options.visible || label.box.overlaps(rangeLabel.box)) {\n                  label.options.visible = false;\n                  return true;\n                }\n\n                return false;\n              }\n\n              var firstRangeLabel = rangeLabels[0];\n\n              if (firstRangeLabel && firstRangeLabel.options.visible) {\n                for (var i = 0; i < labels.length; i++) {\n                  var overlaps = clip(firstRangeLabel, labels[i]);\n\n                  if (!overlaps) {\n                    break;\n                  }\n                }\n              }\n\n              var lastRangeLabel = rangeLabels[1];\n\n              if (lastRangeLabel && lastRangeLabel.options.visible) {\n                for (var i$1 = labels.length - 1; i$1 > 0; --i$1) {\n                  var overlaps$1 = clip(lastRangeLabel, labels[i$1]);\n\n                  if (!overlaps$1) {\n                    break;\n                  }\n                }\n              }\n            },\n            contentBox: function () {\n              var box = CategoryAxis.fn.contentBox.call(this);\n              var rangeLabels = this.rangeLabels;\n\n              for (var i = 0; i < rangeLabels.length; i++) {\n                var label = rangeLabels[i];\n\n                if (label.options.visible) {\n                  box.wrap(label.box);\n                }\n              }\n\n              return box;\n            },\n            createAxisLabel: function (index, labelOptions, labelContext) {\n              if (labelContext === void 0) {\n                labelContext = {};\n              }\n\n              var options = this.options;\n              var dataItem = options.dataItems && !options.maxDivisions ? options.dataItems[index] : null;\n              var date = this.divisionRange.dateAt(index);\n              var unitFormat = labelOptions.dateFormats[this.divisionRange.options.baseUnit];\n              labelOptions.format = labelOptions.format || unitFormat;\n              labelContext.dataItem = dataItem;\n              var text = this.axisLabelText(date, labelOptions, labelContext);\n\n              if (text) {\n                return new AxisLabel(date, text, index, dataItem, labelOptions);\n              }\n            },\n            createRangeLabels: function () {\n              var this$1 = this;\n              var ref = this.divisionRange;\n              var displayStart = ref.displayStart;\n              var displayEnd = ref.displayEnd;\n              var options = this.options;\n              var labelOptions = $.extend({}, options.labels, options.rangeLabels, {\n                align: CENTER,\n                zIndex: options.zIndex\n              });\n\n              if (labelOptions.visible !== true) {\n                return;\n              }\n\n              this.normalizeLabelRotation(labelOptions);\n              labelOptions.alignRotation = CENTER;\n\n              if (labelOptions.rotation === \"auto\") {\n                labelOptions.rotation = 0;\n                options.autoRotateRangeLabels = true;\n              }\n\n              var unitFormat = labelOptions.dateFormats[this.divisionRange.options.baseUnit];\n              labelOptions.format = labelOptions.format || unitFormat;\n\n              var createLabel = function (index, date, text) {\n                if (text) {\n                  var label = new AxisLabel(date, text, index, null, labelOptions);\n                  this$1.append(label);\n                  this$1.rangeLabels.push(label);\n                }\n              };\n\n              var startText = this.axisLabelText(displayStart, labelOptions, {\n                index: 0,\n                count: 2\n              });\n              createLabel(0, displayStart, startText);\n              var endText = this.axisLabelText(displayEnd, labelOptions, {\n                index: 1,\n                count: 2\n              });\n              createLabel(1, displayEnd, endText);\n            },\n            autoRotateRangeLabels: function () {\n              var this$1 = this;\n              var labels = this.rangeLabels;\n\n              if (!this.options.autoRotateRangeLabels || this.options.vertical || labels.length !== 2) {\n                return;\n              }\n\n              var rotateLabel = function (label, tickPositions, index) {\n                var width = Math.abs(tickPositions[index + 1] - tickPositions[index]) * 2;\n                var angle = this$1.autoRotateLabelAngle(label.box, width);\n\n                if (angle !== 0) {\n                  label.options.rotation = angle;\n                  label.reflow(new Box());\n                }\n              };\n\n              var tickPositions = this.getMajorTickPositions();\n              rotateLabel(labels[0], tickPositions, 0);\n              rotateLabel(labels[1], tickPositions, tickPositions.length - 2);\n            },\n            categoryIndex: function (value) {\n              return this.dataRange.valueIndex(value);\n            },\n            slot: function (from, to, limit) {\n              var dateRange = this.dataRange;\n              var start = from;\n              var end = to;\n\n              if (start instanceof Date) {\n                start = dateRange.dateIndex(start);\n              }\n\n              if (end instanceof Date) {\n                end = dateRange.dateIndex(end);\n              }\n\n              var slot = this.getSlot(start, end, limit);\n\n              if (slot) {\n                return slot.toRect();\n              }\n            },\n            getSlot: function (a, b, limit) {\n              var start = a;\n              var end = b;\n\n              if (typeof start === OBJECT) {\n                start = this.categoryIndex(start);\n              }\n\n              if (typeof end === OBJECT) {\n                end = this.categoryIndex(end);\n              }\n\n              return CategoryAxis.fn.getSlot.call(this, start, end, limit);\n            },\n            valueRange: function () {\n              var options = this.options;\n              var range = categoryRange(options.srcCategories);\n              return {\n                min: toDate(range.min),\n                max: toDate(range.max)\n              };\n            },\n            categoryAt: function (index, total) {\n              return this.dataRange.dateAt(index, total);\n            },\n            categoriesCount: function () {\n              return this.dataRange.valuesCount();\n            },\n            rangeIndices: function () {\n              return this.dataRange.displayIndices();\n            },\n            labelsBetweenTicks: function () {\n              return !this.divisionRange.options.justified;\n            },\n            prepareUserOptions: function () {\n              if (this.isEmpty()) {\n                return;\n              }\n\n              this.options.categories = this.dataRange.values();\n            },\n            getCategory: function (point) {\n              var index = this.pointCategoryIndex(point);\n\n              if (index === null) {\n                return null;\n              }\n\n              return this.dataRange.dateAt(index);\n            },\n            totalIndex: function (value) {\n              return this.dataRange.totalIndex(value);\n            },\n            currentRangeIndices: function () {\n              var range = this.dataRange.valueRange();\n              return {\n                min: this.dataRange.totalIndex(range.min),\n                max: this.dataRange.totalIndex(range.max)\n              };\n            },\n            totalRange: function () {\n              return this.dataRange.total();\n            },\n            totalCount: function () {\n              return this.dataRange.totalCount();\n            },\n            isEmpty: function () {\n              return !this.options.srcCategories.length;\n            },\n            roundedRange: function () {\n              if (this.options.roundToBaseUnit !== false || this.isEmpty()) {\n                return this.range();\n              }\n\n              var options = this.options;\n              var datesRange = categoryRange(options.srcCategories);\n              var dateRange = new DateRange(datesRange.min, datesRange.max, $.extend({}, options, {\n                justified: false,\n                roundToBaseUnit: true,\n                justifyEnd: options.justified\n              }));\n              return dateRange.displayRange();\n            }\n          });\n          setDefaultOptions(DateCategoryAxis, {\n            type: DATE,\n            labels: {\n              dateFormats: DateLabelFormats\n            },\n            rangeLabels: {\n              visible: false\n            },\n            autoBaseUnitSteps: {\n              milliseconds: [1, 10, 100],\n              seconds: [1, 2, 5, 15, 30],\n              minutes: [1, 2, 5, 15, 30],\n              hours: [1, 2, 3],\n              days: [1, 2, 3],\n              weeks: [1, 2],\n              months: [1, 2, 3, 6],\n              years: [1, 2, 3, 5, 10, 25, 50]\n            },\n            maxDateGroups: 10\n          });\n\n          function autoAxisMin(min, max, narrow) {\n            if (!min && !max) {\n              return 0;\n            }\n\n            var axisMin;\n\n            if (min >= 0 && max >= 0) {\n              var minValue = min === max ? 0 : min;\n              var diff = (max - minValue) / max;\n\n              if (narrow === false || !narrow && diff > ZERO_THRESHOLD) {\n                return 0;\n              }\n\n              axisMin = Math.max(0, minValue - (max - minValue) / 2);\n            } else {\n              axisMin = min;\n            }\n\n            return axisMin;\n          }\n\n          function autoAxisMax(min, max, narrow) {\n            if (!min && !max) {\n              return 1;\n            }\n\n            var axisMax;\n\n            if (min <= 0 && max <= 0) {\n              var maxValue = min === max ? 0 : max;\n              var diff = Math.abs((maxValue - min) / maxValue);\n\n              if (narrow === false || !narrow && diff > ZERO_THRESHOLD) {\n                return 0;\n              }\n\n              axisMax = Math.min(0, maxValue - (min - maxValue) / 2);\n            } else {\n              axisMax = max;\n            }\n\n            return axisMax;\n          }\n\n          function floor(value, step) {\n            return round(Math.floor(value / step) * step, DEFAULT_PRECISION);\n          }\n\n          function ceil(value, step) {\n            return round(Math.ceil(value / step) * step, DEFAULT_PRECISION);\n          }\n\n          function limitCoordinate(value) {\n            return Math.max(Math.min(value, COORDINATE_LIMIT), -COORDINATE_LIMIT);\n          }\n\n          var MIN_VALUE_RANGE$1 = Math.pow(10, -DEFAULT_PRECISION + 1);\n          var NumericAxis = Axis.extend({\n            init: function (seriesMin, seriesMax, options, chartService) {\n              Axis.fn.init.call(this, $.extend({}, options, {\n                seriesMin: seriesMin,\n                seriesMax: seriesMax\n              }), chartService);\n            },\n            initUserOptions: function (options) {\n              var autoOptions = autoAxisOptions(options.seriesMin, options.seriesMax, options);\n              this.totalOptions = totalAxisOptions(autoOptions, options);\n              return axisOptions(autoOptions, options);\n            },\n            initFields: function () {\n              this.totalMin = this.totalOptions.min;\n              this.totalMax = this.totalOptions.max;\n              this.totalMajorUnit = this.totalOptions.majorUnit;\n              this.seriesMin = this.options.seriesMin;\n              this.seriesMax = this.options.seriesMax;\n            },\n            clone: function () {\n              return new NumericAxis(this.seriesMin, this.seriesMax, $.extend({}, this.options), this.chartService);\n            },\n            startValue: function () {\n              return 0;\n            },\n            range: function () {\n              var options = this.options;\n              return {\n                min: options.min,\n                max: options.max\n              };\n            },\n            getDivisions: function (stepValue) {\n              if (stepValue === 0) {\n                return 1;\n              }\n\n              var options = this.options;\n              var range = options.max - options.min;\n              return Math.floor(round(range / stepValue, COORD_PRECISION)) + 1;\n            },\n            getTickPositions: function (unit, skipUnit) {\n              var options = this.options;\n              var ref = this.lineInfo();\n              var axisDir = ref.axisDir;\n              var axisOrigin = ref.axisOrigin;\n              var lineBox = ref.lineBox;\n              var lineSize = ref.lineSize;\n              var range = options.max - options.min;\n              var scale = lineSize / range;\n              var step = unit * scale;\n              var divisions = this.getDivisions(unit);\n              var positions = [];\n              var pos = lineBox[axisOrigin];\n              var skipStep = 0;\n\n              if (skipUnit) {\n                skipStep = skipUnit / unit;\n              }\n\n              for (var idx = 0; idx < divisions; idx++) {\n                if (idx % skipStep !== 0) {\n                  positions.push(round(pos, COORD_PRECISION));\n                }\n\n                pos = pos + step * axisDir;\n              }\n\n              return positions;\n            },\n            getMajorTickPositions: function () {\n              return this.getTickPositions(this.options.majorUnit);\n            },\n            getMinorTickPositions: function () {\n              return this.getTickPositions(this.options.minorUnit);\n            },\n            getSlot: function (a, b, limit) {\n              if (limit === void 0) {\n                limit = false;\n              }\n\n              var options = this.options;\n              var ref = this.lineInfo();\n              var axis = ref.axis;\n              var axisDir = ref.axisDir;\n              var lineBox = ref.lineBox;\n              var lineSize = ref.lineSize;\n              var lineStart = ref.lineStart;\n              var step = axisDir * (lineSize / (options.max - options.min));\n              var start = valueOrDefault(a, b || 0);\n              var end = valueOrDefault(b, a || 0);\n\n              if (limit) {\n                start = limitValue(start, options.min, options.max);\n                end = limitValue(end, options.min, options.max);\n              }\n\n              var p1 = Math.min(start, end) - options.min;\n              var p2 = Math.max(start, end) - options.min;\n              var slotBox = new Box(lineBox.x1, lineBox.y1, lineBox.x1, lineBox.y1);\n              slotBox[axis + 1] = limitCoordinate(lineStart + step * (axisDir > 0 ? p1 : p2));\n              slotBox[axis + 2] = limitCoordinate(lineStart + step * (axisDir > 0 ? p2 : p1));\n              return slotBox;\n            },\n            getValue: function (point) {\n              var options = this.options;\n              var max = Number(options.max);\n              var min = Number(options.min);\n              var offset = this.pointOffset(point);\n              var valueOffset = offset * (max - min);\n\n              if (offset < 0 || offset > 1) {\n                return null;\n              }\n\n              var value = min + valueOffset;\n              return round(value, DEFAULT_PRECISION);\n            },\n            translateRange: function (delta) {\n              var options = this.options;\n              var vertical = options.vertical;\n              var reverse = options.reverse;\n              var max = options.max;\n              var min = options.min;\n              var ref = this.lineInfo();\n              var lineSize = ref.lineSize;\n              var range = max - min;\n              var scale = lineSize / range;\n              var offset = round(delta / scale, DEFAULT_PRECISION);\n\n              if ((vertical || reverse) && !(vertical && reverse)) {\n                offset = -offset;\n              }\n\n              return {\n                min: min + offset,\n                max: max + offset,\n                offset: offset\n              };\n            },\n            labelsCount: function () {\n              return this.getDivisions(this.options.majorUnit);\n            },\n            createAxisLabel: function (index, labelOptions, labelContext) {\n              var options = this.options;\n              var value = round(options.min + index * options.majorUnit, DEFAULT_PRECISION);\n              var text = this.axisLabelText(value, labelOptions, labelContext);\n              return new AxisLabel(value, text, index, null, labelOptions);\n            },\n            shouldRenderNote: function (value) {\n              var range = this.range();\n              return range.min <= value && value <= range.max;\n            },\n            pan: function (delta) {\n              var range = this.translateRange(delta);\n              return this.limitRange(range.min, range.max, this.totalMin, this.totalMax, range.offset);\n            },\n            pointsRange: function (start, end) {\n              var startValue = this.getValue(start);\n              var endValue = this.getValue(end);\n              var min = Math.min(startValue, endValue);\n              var max = Math.max(startValue, endValue);\n\n              if (this.isValidRange(min, max)) {\n                return {\n                  min: min,\n                  max: max\n                };\n              }\n            },\n            scaleRange: function (scale, cursor) {\n              var position = Math.abs(this.pointOffset(cursor));\n              var range = this.options.max - this.options.min;\n              var delta = this.scaleToDelta(scale, range);\n              var minDelta = position * delta;\n              var maxDelta = (1 - position) * delta;\n              var min = round(this.options.min + minDelta, DEFAULT_PRECISION);\n              var max = round(this.options.max - maxDelta, DEFAULT_PRECISION);\n\n              if (max - min < MIN_VALUE_RANGE$1) {\n                max = min + MIN_VALUE_RANGE$1;\n              }\n\n              return {\n                min: min,\n                max: max\n              };\n            },\n            zoomRange: function (scale, cursor) {\n              var ref = this;\n              var totalMin = ref.totalMin;\n              var totalMax = ref.totalMax;\n              var range = this.scaleRange(scale, cursor);\n              return {\n                min: limitValue(range.min, totalMin, totalMax),\n                max: limitValue(range.max, totalMin, totalMax),\n                narrowRange: false\n              };\n            },\n            isValidRange: function (min, max) {\n              return max - min > MIN_VALUE_RANGE$1;\n            }\n          });\n\n          function autoAxisOptions(seriesMin, seriesMax, options) {\n            var narrowRange = options.narrowRange;\n            var autoMin = autoAxisMin(seriesMin, seriesMax, narrowRange);\n            var autoMax = autoAxisMax(seriesMin, seriesMax, narrowRange);\n            var majorUnit = autoMajorUnit(autoMin, autoMax);\n            var autoOptions = {\n              majorUnit: majorUnit\n            };\n\n            if (options.roundToMajorUnit !== false) {\n              if (autoMin < 0 && remainderClose(autoMin, majorUnit, 1 / 3)) {\n                autoMin -= majorUnit;\n              }\n\n              if (autoMax > 0 && remainderClose(autoMax, majorUnit, 1 / 3)) {\n                autoMax += majorUnit;\n              }\n            }\n\n            autoOptions.min = floor(autoMin, majorUnit);\n            autoOptions.max = ceil(autoMax, majorUnit);\n            return autoOptions;\n          }\n\n          function totalAxisOptions(autoOptions, options) {\n            return {\n              min: defined(options.min) ? Math.min(autoOptions.min, options.min) : autoOptions.min,\n              max: defined(options.max) ? Math.max(autoOptions.max, options.max) : autoOptions.max,\n              majorUnit: autoOptions.majorUnit\n            };\n          }\n\n          function clearNullValues(options, fields) {\n            for (var idx = 0; idx < fields.length; idx++) {\n              var field = fields[idx];\n\n              if (options[field] === null) {\n                options[field] = undefined;\n              }\n            }\n          }\n\n          function axisOptions(autoOptions, userOptions) {\n            var options = userOptions;\n            var userSetMin, userSetMax;\n\n            if (userOptions) {\n              clearNullValues(userOptions, ['min', 'max']);\n              userSetMin = defined(userOptions.min);\n              userSetMax = defined(userOptions.max);\n              var userSetLimits = userSetMin || userSetMax;\n\n              if (userSetLimits) {\n                if (userOptions.min === userOptions.max) {\n                  if (userOptions.min > 0) {\n                    userOptions.min = 0;\n                  } else {\n                    userOptions.max = 1;\n                  }\n                }\n              }\n\n              if (userOptions.majorUnit) {\n                autoOptions.min = floor(autoOptions.min, userOptions.majorUnit);\n                autoOptions.max = ceil(autoOptions.max, userOptions.majorUnit);\n              } else if (userSetLimits) {\n                options = deepExtend(autoOptions, userOptions); // Determine an auto major unit after min/max have been set\n\n                autoOptions.majorUnit = autoMajorUnit(options.min, options.max);\n              }\n            }\n\n            autoOptions.minorUnit = (options.majorUnit || autoOptions.majorUnit) / 5;\n            var result = deepExtend(autoOptions, options);\n\n            if (result.min >= result.max) {\n              if (userSetMin && !userSetMax) {\n                result.max = result.min + result.majorUnit;\n              } else if (!userSetMin && userSetMax) {\n                result.min = result.max - result.majorUnit;\n              }\n            }\n\n            return result;\n          }\n\n          function remainderClose(value, divisor, ratio) {\n            var remainder = round(Math.abs(value % divisor), DEFAULT_PRECISION);\n            var threshold = divisor * (1 - ratio);\n            return remainder === 0 || remainder > threshold;\n          }\n\n          setDefaultOptions(NumericAxis, {\n            type: \"numeric\",\n            min: 0,\n            max: 1,\n            vertical: true,\n            majorGridLines: {\n              visible: true,\n              width: 1,\n              color: BLACK\n            },\n            labels: {\n              format: \"#.####################\"\n            },\n            zIndex: 1\n          });\n          var MIN_VALUE_RANGE = 1000;\n          var DateValueAxis = Axis.extend({\n            init: function (seriesMin, seriesMax, axisOptions, chartService) {\n              var min = toDate(seriesMin);\n              var max = toDate(seriesMax);\n              var intlService = chartService.intl;\n              var options = axisOptions || {};\n              options = deepExtend(options || {}, {\n                min: parseDate(intlService, options.min),\n                max: parseDate(intlService, options.max),\n                axisCrossingValue: parseDates(intlService, options.axisCrossingValues || options.axisCrossingValue),\n                weekStartDay: firstDay(options, intlService)\n              });\n              options = applyDefaults(min, max, options);\n              Axis.fn.init.call(this, options, chartService);\n              this.intlService = intlService;\n              this.seriesMin = min;\n              this.seriesMax = max;\n              var weekStartDay = options.weekStartDay || 0;\n              this.totalMin = toTime(floorDate(toTime(min) - 1, options.baseUnit, weekStartDay));\n              this.totalMax = toTime(ceilDate(toTime(max) + 1, options.baseUnit, weekStartDay));\n            },\n            clone: function () {\n              return new DateValueAxis(this.seriesMin, this.seriesMax, $.extend({}, this.options), this.chartService);\n            },\n            range: function () {\n              var options = this.options;\n              return {\n                min: options.min,\n                max: options.max\n              };\n            },\n            getDivisions: function (stepValue) {\n              var options = this.options;\n              return Math.floor(duration(options.min, options.max, options.baseUnit) / stepValue + 1);\n            },\n            getTickPositions: function (step) {\n              var options = this.options;\n              var ref = this.lineInfo();\n              var dir = ref.axisDir;\n              var lineSize = ref.lineSize;\n              var start = ref.lineStart;\n              var divisions = this.getDivisions(step);\n              var timeRange = dateDiff(options.max, options.min);\n              var scale = lineSize / timeRange;\n              var weekStartDay = options.weekStartDay || 0;\n              var positions = [start];\n\n              for (var i = 1; i < divisions; i++) {\n                var date = addDuration(options.min, i * step, options.baseUnit, weekStartDay);\n                var pos = start + dateDiff(date, options.min) * scale * dir;\n                positions.push(round(pos, COORD_PRECISION));\n              }\n\n              return positions;\n            },\n            getMajorTickPositions: function () {\n              return this.getTickPositions(this.options.majorUnit);\n            },\n            getMinorTickPositions: function () {\n              return this.getTickPositions(this.options.minorUnit);\n            },\n            getSlot: function (a, b, limit) {\n              return NumericAxis.prototype.getSlot.call(this, parseDate(this.intlService, a), parseDate(this.intlService, b), limit);\n            },\n            getValue: function (point) {\n              var value = NumericAxis.prototype.getValue.call(this, point);\n              return value !== null ? toDate(value) : null;\n            },\n            labelsCount: function () {\n              return this.getDivisions(this.options.majorUnit);\n            },\n            createAxisLabel: function (index, labelOptions, labelContext) {\n              var options = this.options;\n              var offset = index * options.majorUnit;\n              var weekStartDay = options.weekStartDay || 0;\n              var date = options.min;\n\n              if (offset > 0) {\n                date = addDuration(date, offset, options.baseUnit, weekStartDay);\n              }\n\n              var unitFormat = labelOptions.dateFormats[options.baseUnit];\n              labelOptions.format = labelOptions.format || unitFormat;\n              var text = this.axisLabelText(date, labelOptions, labelContext);\n              return new AxisLabel(date, text, index, null, labelOptions);\n            },\n            translateRange: function (delta) {\n              var options = this.options;\n              var lineBox = this.lineBox();\n              var vertical = options.vertical;\n              var reverse = options.reverse;\n              var size = vertical ? lineBox.height() : lineBox.width();\n              var range = this.range();\n              var scale = size / dateDiff(range.max, range.min);\n              var offset = round(delta / scale, DEFAULT_PRECISION);\n\n              if ((vertical || reverse) && !(vertical && reverse)) {\n                offset = -offset;\n              }\n\n              var from = addTicks(options.min, offset);\n              var to = addTicks(options.max, offset);\n              return {\n                min: from,\n                max: to,\n                offset: offset\n              };\n            },\n            shouldRenderNote: function (value) {\n              var range = this.range();\n              return dateComparer(value, range.min) >= 0 && dateComparer(value, range.max) <= 0;\n            },\n            pan: function (delta) {\n              var range = this.translateRange(delta, true);\n              var limittedRange = this.limitRange(toTime(range.min), toTime(range.max), this.totalMin, this.totalMax, range.offset);\n\n              if (limittedRange) {\n                return {\n                  min: toDate(limittedRange.min),\n                  max: toDate(limittedRange.max)\n                };\n              }\n            },\n            pointsRange: function (start, end) {\n              var startValue = this.getValue(start);\n              var endValue = this.getValue(end);\n              var min = Math.min(startValue, endValue);\n              var max = Math.max(startValue, endValue);\n              return {\n                min: toDate(min),\n                max: toDate(max)\n              };\n            },\n            scaleRange: function (scale, cursor) {\n              var position = Math.abs(this.pointOffset(cursor));\n              var range = this.options.max - this.options.min;\n              var delta = this.scaleToDelta(scale, range);\n              var minDelta = position * delta;\n              var maxDelta = (1 - position) * delta;\n              var min = toDate(toTime(this.options.min) + minDelta);\n              var max = toDate(toTime(this.options.max) - maxDelta);\n\n              if (max - min < MIN_VALUE_RANGE) {\n                max = toDate(toTime(min) + MIN_VALUE_RANGE);\n              }\n\n              return {\n                min: min,\n                max: max\n              };\n            },\n            zoomRange: function (scale, cursor) {\n              var range = this.scaleRange(scale, cursor);\n              var min = toDate(limitValue(toTime(range.min), this.totalMin, this.totalMax));\n              var max = toDate(limitValue(toTime(range.max), this.totalMin, this.totalMax));\n              return {\n                min: min,\n                max: max\n              };\n            }\n          });\n\n          function timeUnits(delta) {\n            var unit = HOURS;\n\n            if (delta >= TIME_PER_YEAR) {\n              unit = YEARS;\n            } else if (delta >= TIME_PER_MONTH) {\n              unit = MONTHS;\n            } else if (delta >= TIME_PER_WEEK) {\n              unit = WEEKS;\n            } else if (delta >= TIME_PER_DAY) {\n              unit = DAYS;\n            }\n\n            return unit;\n          }\n\n          function applyDefaults(seriesMin, seriesMax, options) {\n            var min = options.min || seriesMin;\n            var max = options.max || seriesMax;\n            var baseUnit = options.baseUnit || (max && min ? timeUnits(absoluteDateDiff(max, min)) : HOURS);\n            var baseUnitTime = TIME_PER_UNIT[baseUnit];\n            var weekStartDay = options.weekStartDay || 0;\n            var autoMin = floorDate(toTime(min) - 1, baseUnit, weekStartDay) || toDate(max);\n            var autoMax = ceilDate(toTime(max) + 1, baseUnit, weekStartDay);\n            var userMajorUnit = options.majorUnit ? options.majorUnit : undefined;\n            var majorUnit = userMajorUnit || ceil(autoMajorUnit(autoMin.getTime(), autoMax.getTime()), baseUnitTime) / baseUnitTime;\n            var actualUnits = duration(autoMin, autoMax, baseUnit);\n            var totalUnits = ceil(actualUnits, majorUnit);\n            var unitsToAdd = totalUnits - actualUnits;\n            var head = Math.floor(unitsToAdd / 2);\n            var tail = unitsToAdd - head;\n\n            if (!options.baseUnit) {\n              delete options.baseUnit;\n            }\n\n            options.baseUnit = options.baseUnit || baseUnit;\n            options.min = options.min || addDuration(autoMin, -head, baseUnit, weekStartDay);\n            options.max = options.max || addDuration(autoMax, tail, baseUnit, weekStartDay);\n            options.minorUnit = options.minorUnit || majorUnit / 5;\n            options.majorUnit = majorUnit;\n            return options;\n          }\n\n          setDefaultOptions(DateValueAxis, {\n            type: DATE,\n            majorGridLines: {\n              visible: true,\n              width: 1,\n              color: BLACK\n            },\n            labels: {\n              dateFormats: DateLabelFormats\n            }\n          });\n          var DEFAULT_MAJOR_UNIT = 10;\n          var MIN_VALUE_RANGE$2 = 1e-6;\n          var LogarithmicAxis = Axis.extend({\n            init: function (seriesMin, seriesMax, options, chartService) {\n              var axisOptions = deepExtend({\n                majorUnit: DEFAULT_MAJOR_UNIT,\n                min: seriesMin,\n                max: seriesMax\n              }, options);\n              var base = axisOptions.majorUnit;\n              var autoMax = autoAxisMax$1(seriesMax, base);\n              var autoMin = autoAxisMin$1(seriesMin, seriesMax, axisOptions);\n              var range = initRange(autoMin, autoMax, axisOptions, options);\n              axisOptions.max = range.max;\n              axisOptions.min = range.min;\n              axisOptions.minorUnit = options.minorUnit || round(base - 1, DEFAULT_PRECISION);\n              Axis.fn.init.call(this, axisOptions, chartService);\n              this.totalMin = defined(options.min) ? Math.min(autoMin, options.min) : autoMin;\n              this.totalMax = defined(options.max) ? Math.max(autoMax, options.max) : autoMax;\n              this.logMin = round(log(range.min, base), DEFAULT_PRECISION);\n              this.logMax = round(log(range.max, base), DEFAULT_PRECISION);\n              this.seriesMin = seriesMin;\n              this.seriesMax = seriesMax;\n              this.createLabels();\n            },\n            clone: function () {\n              return new LogarithmicAxis(this.seriesMin, this.seriesMax, $.extend({}, this.options), this.chartService);\n            },\n            startValue: function () {\n              return this.options.min;\n            },\n            getSlot: function (a, b, limit) {\n              var ref = this;\n              var options = ref.options;\n              var logMin = ref.logMin;\n              var logMax = ref.logMax;\n              var base = options.majorUnit;\n              var min = options.min;\n              var max = options.max;\n              var ref$1 = this.lineInfo();\n              var axis = ref$1.axis;\n              var axisDir = ref$1.axisDir;\n              var lineBox = ref$1.lineBox;\n              var lineSize = ref$1.lineSize;\n              var lineStart = ref$1.lineStart;\n              var step = axisDir * (lineSize / (logMax - logMin));\n              var start = valueOrDefault(a, b || 1);\n              var end = valueOrDefault(b, a || 1);\n\n              if (start <= 0 || end <= 0) {\n                return null;\n              }\n\n              if (limit) {\n                start = limitValue(start, min, max);\n                end = limitValue(end, min, max);\n              }\n\n              start = log(start, base);\n              end = log(end, base);\n              var p1 = Math.min(start, end) - logMin;\n              var p2 = Math.max(start, end) - logMin;\n              var slotBox = new Box(lineBox.x1, lineBox.y1, lineBox.x1, lineBox.y1);\n              slotBox[axis + 1] = limitCoordinate(lineStart + step * (axisDir > 0 ? p1 : p2));\n              slotBox[axis + 2] = limitCoordinate(lineStart + step * (axisDir > 0 ? p2 : p1));\n              return slotBox;\n            },\n            getValue: function (point) {\n              var ref = this;\n              var options = ref.options;\n              var logMin = ref.logMin;\n              var logMax = ref.logMax;\n              var base = options.majorUnit;\n              var ref$1 = this.lineInfo();\n              var axis = ref$1.axis;\n              var axisDir = ref$1.axisDir;\n              var lineStart = ref$1.lineStart;\n              var lineSize = ref$1.lineSize;\n              var step = (logMax - logMin) / lineSize;\n              var offset = axisDir * (point[axis] - lineStart);\n              var valueOffset = offset * step;\n\n              if (offset < 0 || offset > lineSize) {\n                return null;\n              }\n\n              var value = logMin + valueOffset;\n              return round(Math.pow(base, value), DEFAULT_PRECISION);\n            },\n            range: function () {\n              var options = this.options;\n              return {\n                min: options.min,\n                max: options.max\n              };\n            },\n            translateRange: function (delta) {\n              var ref = this;\n              var options = ref.options;\n              var logMin = ref.logMin;\n              var logMax = ref.logMax;\n              var reverse = options.reverse;\n              var vertical = options.vertical;\n              var base = options.majorUnit;\n              var lineBox = this.lineBox();\n              var size = vertical ? lineBox.height() : lineBox.width();\n              var scale = size / (logMax - logMin);\n              var offset = round(delta / scale, DEFAULT_PRECISION);\n\n              if ((vertical || reverse) && !(vertical && reverse)) {\n                offset = -offset;\n              }\n\n              return {\n                min: Math.pow(base, logMin + offset),\n                max: Math.pow(base, logMax + offset),\n                offset: offset\n              };\n            },\n            labelsCount: function () {\n              var floorMax = Math.floor(this.logMax);\n              var count = Math.floor(floorMax - this.logMin) + 1;\n              return count;\n            },\n            getMajorTickPositions: function () {\n              var ticks = [];\n              this.traverseMajorTicksPositions(function (position) {\n                ticks.push(position);\n              }, {\n                step: 1,\n                skip: 0\n              });\n              return ticks;\n            },\n            createTicks: function (lineGroup) {\n              var options = this.options;\n              var majorTicks = options.majorTicks;\n              var minorTicks = options.minorTicks;\n              var vertical = options.vertical;\n              var mirror = options.labels.mirror;\n              var lineBox = this.lineBox();\n              var ticks = [];\n              var tickLineOptions = {\n                // TODO\n                // _alignLines: options._alignLines,\n                vertical: vertical\n              };\n\n              function render(tickPosition, tickOptions) {\n                tickLineOptions.tickX = mirror ? lineBox.x2 : lineBox.x2 - tickOptions.size;\n                tickLineOptions.tickY = mirror ? lineBox.y1 - tickOptions.size : lineBox.y1;\n                tickLineOptions.position = tickPosition;\n                lineGroup.append(createAxisTick(tickLineOptions, tickOptions));\n              }\n\n              if (majorTicks.visible) {\n                this.traverseMajorTicksPositions(render, majorTicks);\n              }\n\n              if (minorTicks.visible) {\n                this.traverseMinorTicksPositions(render, minorTicks);\n              }\n\n              return ticks;\n            },\n            createGridLines: function (altAxis) {\n              var options = this.options;\n              var minorGridLines = options.minorGridLines;\n              var majorGridLines = options.majorGridLines;\n              var vertical = options.vertical;\n              var lineBox = altAxis.lineBox();\n              var lineOptions = {\n                lineStart: lineBox[vertical ? \"x1\" : \"y1\"],\n                lineEnd: lineBox[vertical ? \"x2\" : \"y2\"],\n                vertical: vertical\n              };\n              var majorTicks = [];\n              var container = this.gridLinesVisual();\n\n              function render(tickPosition, gridLine) {\n                if (!inArray(tickPosition, majorTicks)) {\n                  lineOptions.position = tickPosition;\n                  container.append(createAxisGridLine(lineOptions, gridLine));\n                  majorTicks.push(tickPosition);\n                }\n              }\n\n              if (majorGridLines.visible) {\n                this.traverseMajorTicksPositions(render, majorGridLines);\n              }\n\n              if (minorGridLines.visible) {\n                this.traverseMinorTicksPositions(render, minorGridLines);\n              }\n\n              return container.children;\n            },\n            traverseMajorTicksPositions: function (callback, tickOptions) {\n              var ref = this.lineInfo();\n              var lineStart = ref.lineStart;\n              var step = ref.step;\n              var ref$1 = this;\n              var logMin = ref$1.logMin;\n              var logMax = ref$1.logMax;\n\n              for (var power = Math.ceil(logMin) + tickOptions.skip; power <= logMax; power += tickOptions.step) {\n                var position = round(lineStart + step * (power - logMin), DEFAULT_PRECISION);\n                callback(position, tickOptions);\n              }\n            },\n            traverseMinorTicksPositions: function (callback, tickOptions) {\n              var this$1 = this;\n              var ref = this.options;\n              var min = ref.min;\n              var max = ref.max;\n              var minorUnit = ref.minorUnit;\n              var base = ref.majorUnit;\n              var ref$1 = this.lineInfo();\n              var lineStart = ref$1.lineStart;\n              var step = ref$1.step;\n              var ref$2 = this;\n              var logMin = ref$2.logMin;\n              var logMax = ref$2.logMax;\n              var start = Math.floor(logMin);\n\n              for (var power = start; power < logMax; power++) {\n                var minorOptions = this$1._minorIntervalOptions(power);\n\n                for (var idx = tickOptions.skip; idx < minorUnit; idx += tickOptions.step) {\n                  var value = minorOptions.value + idx * minorOptions.minorStep;\n\n                  if (value > max) {\n                    break;\n                  }\n\n                  if (value >= min) {\n                    var position = round(lineStart + step * (log(value, base) - logMin), DEFAULT_PRECISION);\n                    callback(position, tickOptions);\n                  }\n                }\n              }\n            },\n            createAxisLabel: function (index, labelOptions, labelContext) {\n              var power = Math.ceil(this.logMin + index);\n              var value = Math.pow(this.options.majorUnit, power);\n              var text = this.axisLabelText(value, labelOptions, labelContext);\n              return new AxisLabel(value, text, index, null, labelOptions);\n            },\n            shouldRenderNote: function (value) {\n              var range = this.range();\n              return range.min <= value && value <= range.max;\n            },\n            pan: function (delta) {\n              var range = this.translateRange(delta);\n              return this.limitRange(range.min, range.max, this.totalMin, this.totalMax, range.offset);\n            },\n            pointsRange: function (start, end) {\n              var startValue = this.getValue(start);\n              var endValue = this.getValue(end);\n              var min = Math.min(startValue, endValue);\n              var max = Math.max(startValue, endValue);\n              return {\n                min: min,\n                max: max\n              };\n            },\n            scaleRange: function (scale, cursor) {\n              var ref = this.options;\n              var base = ref.majorUnit;\n              var logMin = log(this.options.min, base);\n              var logMax = log(this.options.max, base);\n              var position = Math.abs(this.pointOffset(cursor));\n              var range = logMax - logMin;\n              var delta = this.scaleToDelta(scale, range);\n              var min = Math.pow(base, logMin + position * delta);\n              var max = Math.pow(base, logMax - (1 - position) * delta);\n\n              if (max - min < MIN_VALUE_RANGE$2) {\n                max = min + MIN_VALUE_RANGE$2;\n              }\n\n              return {\n                min: min,\n                max: max\n              };\n            },\n            zoomRange: function (scale, cursor) {\n              var range = this.scaleRange(scale, cursor);\n              var ref = this;\n              var totalMin = ref.totalMin;\n              var totalMax = ref.totalMax;\n              return {\n                min: limitValue(range.min, totalMin, totalMax),\n                max: limitValue(range.max, totalMin, totalMax)\n              };\n            },\n            _minorIntervalOptions: function (power) {\n              var ref = this.options;\n              var minorUnit = ref.minorUnit;\n              var base = ref.majorUnit;\n              var value = Math.pow(base, power);\n              var nextValue = Math.pow(base, power + 1);\n              var difference = nextValue - value;\n              var minorStep = difference / minorUnit;\n              return {\n                value: value,\n                minorStep: minorStep\n              };\n            },\n            lineInfo: function () {\n              var info = Axis.fn.lineInfo.call(this);\n              info.step = info.axisDir * (info.lineSize / (this.logMax - this.logMin));\n              return info;\n            }\n          });\n\n          function initRange(autoMin, autoMax, axisOptions, options) {\n            var min = axisOptions.min;\n            var max = axisOptions.max;\n\n            if (defined(axisOptions.axisCrossingValue) && axisOptions.axisCrossingValue <= 0) {\n              throwNegativeValuesError();\n            }\n\n            if (!defined(options.max)) {\n              max = autoMax;\n            } else if (options.max <= 0) {\n              throwNegativeValuesError();\n            }\n\n            if (!defined(options.min)) {\n              min = autoMin;\n            } else if (options.min <= 0) {\n              throwNegativeValuesError();\n            }\n\n            return {\n              min: min,\n              max: max\n            };\n          }\n\n          function autoAxisMin$1(min, max, options) {\n            var base = options.majorUnit;\n            var autoMin = min;\n\n            if (min <= 0) {\n              autoMin = max <= 1 ? Math.pow(base, -2) : 1;\n            } else if (!options.narrowRange) {\n              autoMin = Math.pow(base, Math.floor(log(min, base)));\n            }\n\n            return autoMin;\n          }\n\n          function autoAxisMax$1(max, base) {\n            var logMaxRemainder = round(log(max, base), DEFAULT_PRECISION) % 1;\n            var autoMax;\n\n            if (max <= 0) {\n              autoMax = base;\n            } else if (logMaxRemainder !== 0 && (logMaxRemainder < 0.3 || logMaxRemainder > 0.9)) {\n              autoMax = Math.pow(base, log(max, base) + 0.2);\n            } else {\n              autoMax = Math.pow(base, Math.ceil(log(max, base)));\n            }\n\n            return autoMax;\n          }\n\n          function throwNegativeValuesError() {\n            throw new Error(\"Non positive values cannot be used for a logarithmic axis\");\n          }\n\n          function log(x, base) {\n            return Math.log(x) / Math.log(base);\n          }\n\n          setDefaultOptions(LogarithmicAxis, {\n            type: \"log\",\n            majorUnit: DEFAULT_MAJOR_UNIT,\n            minorUnit: 1,\n            axisCrossingValue: 1,\n            vertical: true,\n            majorGridLines: {\n              visible: true,\n              width: 1,\n              color: BLACK\n            },\n            zIndex: 1,\n            _deferLabels: true\n          });\n          var GridLinesMixin = {\n            createGridLines: function (altAxis) {\n              var options = this.options;\n              var radius = Math.abs(this.box.center().y - altAxis.lineBox().y1);\n              var gridLines = [];\n              var skipMajor = false;\n              var majorAngles, minorAngles;\n\n              if (options.majorGridLines.visible) {\n                majorAngles = this.majorGridLineAngles(altAxis);\n                skipMajor = true;\n                gridLines = this.renderMajorGridLines(majorAngles, radius, options.majorGridLines);\n              }\n\n              if (options.minorGridLines.visible) {\n                minorAngles = this.minorGridLineAngles(altAxis, skipMajor);\n                append(gridLines, this.renderMinorGridLines(minorAngles, radius, options.minorGridLines, altAxis, skipMajor));\n              }\n\n              return gridLines;\n            },\n            renderMajorGridLines: function (angles, radius, options) {\n              return this.renderGridLines(angles, radius, options);\n            },\n            renderMinorGridLines: function (angles, radius, options, altAxis, skipMajor) {\n              var radiusCallback = this.radiusCallback && this.radiusCallback(radius, altAxis, skipMajor);\n              return this.renderGridLines(angles, radius, options, radiusCallback);\n            },\n            renderGridLines: function (angles, radius, options, radiusCallback) {\n              var style = {\n                stroke: {\n                  width: options.width,\n                  color: options.color,\n                  dashType: options.dashType\n                }\n              };\n              var center = this.box.center();\n              var circle = new Circle([center.x, center.y], radius);\n              var container = this.gridLinesVisual();\n\n              for (var i = 0; i < angles.length; i++) {\n                var line = new Path(style);\n\n                if (radiusCallback) {\n                  circle.radius = radiusCallback(angles[i]);\n                }\n\n                line.moveTo(circle.center).lineTo(circle.pointAt(angles[i] + 180));\n                container.append(line);\n              }\n\n              return container.children;\n            },\n            gridLineAngles: function (altAxis, size, skip, step, skipAngles) {\n              var this$1 = this;\n              var divs = this.intervals(size, skip, step, skipAngles);\n              var options = altAxis.options;\n              var altAxisVisible = options.visible && (options.line || {}).visible !== false;\n              return map(divs, function (d) {\n                var alpha = this$1.intervalAngle(d);\n\n                if (!altAxisVisible || alpha !== 90) {\n                  return alpha;\n                }\n              });\n            }\n          };\n          var RadarCategoryAxis = CategoryAxis.extend({\n            range: function () {\n              return {\n                min: 0,\n                max: this.options.categories.length\n              };\n            },\n            reflow: function (box) {\n              this.box = box;\n              this.reflowLabels();\n            },\n            lineBox: function () {\n              return this.box;\n            },\n            reflowLabels: function () {\n              var this$1 = this;\n              var ref = this;\n              var labels = ref.labels;\n              var labelOptions = ref.options.labels;\n              var skip = labelOptions.skip || 0;\n              var step = labelOptions.step || 1;\n              var measureBox = new Box();\n\n              for (var i = 0; i < labels.length; i++) {\n                labels[i].reflow(measureBox);\n                var labelBox = labels[i].box;\n                labels[i].reflow(this$1.getSlot(skip + i * step).adjacentBox(0, labelBox.width(), labelBox.height()));\n              }\n            },\n            intervals: function (size, skipOption, stepOption, skipAngles) {\n              if (skipAngles === void 0) {\n                skipAngles = false;\n              }\n\n              var options = this.options;\n              var categories = options.categories.length;\n              var divCount = categories / size || 1;\n              var divAngle = 360 / divCount;\n              var skip = skipOption || 0;\n              var step = stepOption || 1;\n              var divs = [];\n              var angle = 0;\n\n              for (var i = skip; i < divCount; i += step) {\n                if (options.reverse) {\n                  angle = 360 - i * divAngle;\n                } else {\n                  angle = i * divAngle;\n                }\n\n                angle = round(angle, COORD_PRECISION) % 360;\n\n                if (!(skipAngles && inArray(angle, skipAngles))) {\n                  divs.push(angle);\n                }\n              }\n\n              return divs;\n            },\n            majorIntervals: function () {\n              return this.intervals(1);\n            },\n            minorIntervals: function () {\n              return this.intervals(0.5);\n            },\n            intervalAngle: function (interval) {\n              return (360 + interval + this.options.startAngle) % 360;\n            },\n            majorAngles: function () {\n              var this$1 = this;\n              return map(this.majorIntervals(), function (interval) {\n                return this$1.intervalAngle(interval);\n              });\n            },\n            createLine: function () {\n              return [];\n            },\n            majorGridLineAngles: function (altAxis) {\n              var majorGridLines = this.options.majorGridLines;\n              return this.gridLineAngles(altAxis, 1, majorGridLines.skip, majorGridLines.step);\n            },\n            minorGridLineAngles: function (altAxis, skipMajor) {\n              var ref = this.options;\n              var minorGridLines = ref.minorGridLines;\n              var majorGridLines = ref.majorGridLines;\n              var majorGridLineAngles = skipMajor ? this.intervals(1, majorGridLines.skip, majorGridLines.step) : null;\n              return this.gridLineAngles(altAxis, 0.5, minorGridLines.skip, minorGridLines.step, majorGridLineAngles);\n            },\n            radiusCallback: function (radius, altAxis, skipMajor) {\n              if (altAxis.options.type !== ARC) {\n                var minorAngle = rad(360 / (this.options.categories.length * 2));\n                var minorRadius = Math.cos(minorAngle) * radius;\n                var majorAngles = this.majorAngles();\n\n                var radiusCallback = function (angle) {\n                  if (!skipMajor && inArray(angle, majorAngles)) {\n                    return radius;\n                  }\n\n                  return minorRadius;\n                };\n\n                return radiusCallback;\n              }\n            },\n            createPlotBands: function () {\n              var this$1 = this;\n              var plotBands = this.options.plotBands || [];\n              var group = this._plotbandGroup = new Group({\n                zIndex: -1\n              });\n\n              for (var i = 0; i < plotBands.length; i++) {\n                var band = plotBands[i];\n                var slot = this$1.plotBandSlot(band);\n                var singleSlot = this$1.getSlot(band.from);\n                var head = band.from - Math.floor(band.from);\n                slot.startAngle += head * singleSlot.angle;\n                var tail = Math.ceil(band.to) - band.to;\n                slot.angle -= (tail + head) * singleSlot.angle;\n                var ring = ShapeBuilder.current.createRing(slot, {\n                  fill: {\n                    color: band.color,\n                    opacity: band.opacity\n                  },\n                  stroke: {\n                    opacity: band.opacity\n                  }\n                });\n                group.append(ring);\n              }\n\n              this.appendVisual(group);\n            },\n            plotBandSlot: function (band) {\n              return this.getSlot(band.from, band.to - 1);\n            },\n            getSlot: function (from, to) {\n              var options = this.options;\n              var justified = options.justified;\n              var box = this.box;\n              var divs = this.majorAngles();\n              var totalDivs = divs.length;\n              var slotAngle = 360 / totalDivs;\n              var fromValue = from;\n\n              if (options.reverse && !justified) {\n                fromValue = (fromValue + 1) % totalDivs;\n              }\n\n              fromValue = limitValue(Math.floor(fromValue), 0, totalDivs - 1);\n              var slotStart = divs[fromValue];\n\n              if (justified) {\n                slotStart = slotStart - slotAngle / 2;\n\n                if (slotStart < 0) {\n                  slotStart += 360;\n                }\n              }\n\n              var toValue = limitValue(Math.ceil(to || fromValue), fromValue, totalDivs - 1);\n              var slots = toValue - fromValue + 1;\n              var angle = slotAngle * slots;\n              return new Ring(box.center(), 0, box.height() / 2, slotStart, angle);\n            },\n            slot: function (from, to) {\n              var slot = this.getSlot(from, to);\n              var startAngle = slot.startAngle + 180;\n              var endAngle = startAngle + slot.angle;\n              return new geometry.Arc([slot.center.x, slot.center.y], {\n                startAngle: startAngle,\n                endAngle: endAngle,\n                radiusX: slot.radius,\n                radiusY: slot.radius\n              });\n            },\n            pointCategoryIndex: function (point) {\n              var this$1 = this;\n              var length = this.options.categories.length;\n              var index = null;\n\n              for (var i = 0; i < length; i++) {\n                var slot = this$1.getSlot(i);\n\n                if (slot.containsPoint(point)) {\n                  index = i;\n                  break;\n                }\n              }\n\n              return index;\n            }\n          });\n          setDefaultOptions(RadarCategoryAxis, {\n            startAngle: 90,\n            labels: {\n              margin: getSpacing(10)\n            },\n            majorGridLines: {\n              visible: true\n            },\n            justified: true\n          });\n          deepExtend(RadarCategoryAxis.prototype, GridLinesMixin);\n          var PolarAxis = Axis.extend({\n            init: function (options, chartService) {\n              Axis.fn.init.call(this, options, chartService);\n              var instanceOptions = this.options;\n              instanceOptions.minorUnit = instanceOptions.minorUnit || instanceOptions.majorUnit / 2;\n            },\n            getDivisions: function (stepValue) {\n              return NumericAxis.prototype.getDivisions.call(this, stepValue) - 1;\n            },\n            reflow: function (box) {\n              this.box = box;\n              this.reflowLabels();\n            },\n            reflowLabels: function () {\n              var this$1 = this;\n              var ref = this;\n              var options = ref.options;\n              var labels = ref.labels;\n              var labelOptions = ref.options.labels;\n              var skip = labelOptions.skip || 0;\n              var step = labelOptions.step || 1;\n              var measureBox = new Box();\n              var divs = this.intervals(options.majorUnit, skip, step);\n\n              for (var i = 0; i < labels.length; i++) {\n                labels[i].reflow(measureBox);\n                var labelBox = labels[i].box;\n                labels[i].reflow(this$1.getSlot(divs[i]).adjacentBox(0, labelBox.width(), labelBox.height()));\n              }\n            },\n            lineBox: function () {\n              return this.box;\n            },\n            intervals: function (size, skipOption, stepOption, skipAngles) {\n              if (skipAngles === void 0) {\n                skipAngles = false;\n              }\n\n              var min = this.options.min;\n              var divisions = this.getDivisions(size);\n              var divs = [];\n              var skip = skipOption || 0;\n              var step = stepOption || 1;\n\n              for (var i = skip; i < divisions; i += step) {\n                var current = (360 + min + i * size) % 360;\n\n                if (!(skipAngles && inArray(current, skipAngles))) {\n                  divs.push(current);\n                }\n              }\n\n              return divs;\n            },\n            majorIntervals: function () {\n              return this.intervals(this.options.majorUnit);\n            },\n            minorIntervals: function () {\n              return this.intervals(this.options.minorUnit);\n            },\n            intervalAngle: function (i) {\n              return (540 - i - this.options.startAngle) % 360;\n            },\n            createLine: function () {\n              return [];\n            },\n            majorGridLineAngles: function (altAxis) {\n              var majorGridLines = this.options.majorGridLines;\n              return this.gridLineAngles(altAxis, this.options.majorUnit, majorGridLines.skip, majorGridLines.step);\n            },\n            minorGridLineAngles: function (altAxis, skipMajor) {\n              var options = this.options;\n              var minorGridLines = options.minorGridLines;\n              var majorGridLines = options.majorGridLines;\n              var majorGridLineAngles = skipMajor ? this.intervals(options.majorUnit, majorGridLines.skip, majorGridLines.step) : null;\n              return this.gridLineAngles(altAxis, options.minorUnit, minorGridLines.skip, minorGridLines.step, majorGridLineAngles);\n            },\n            plotBandSlot: function (band) {\n              return this.getSlot(band.from, band.to);\n            },\n            getSlot: function (a, b) {\n              var ref = this;\n              var options = ref.options;\n              var box = ref.box;\n              var startAngle = options.startAngle;\n              var start = limitValue(a, options.min, options.max);\n              var end = limitValue(b || start, start, options.max);\n\n              if (options.reverse) {\n                start *= -1;\n                end *= -1;\n              }\n\n              start = (540 - start - startAngle) % 360;\n              end = (540 - end - startAngle) % 360;\n\n              if (end < start) {\n                var tmp = start;\n                start = end;\n                end = tmp;\n              }\n\n              return new Ring(box.center(), 0, box.height() / 2, start, end - start);\n            },\n            slot: function (from, to) {\n              if (to === void 0) {\n                to = from;\n              }\n\n              var options = this.options;\n              var start = 360 - options.startAngle;\n              var slot = this.getSlot(from, to);\n              var min = Math.min(from, to);\n              var max = Math.max(from, to);\n              var startAngle, endAngle;\n\n              if (options.reverse) {\n                startAngle = min;\n                endAngle = max;\n              } else {\n                startAngle = 360 - max;\n                endAngle = 360 - min;\n              }\n\n              startAngle = (startAngle + start) % 360;\n              endAngle = (endAngle + start) % 360;\n              return new geometry.Arc([slot.center.x, slot.center.y], {\n                startAngle: startAngle,\n                endAngle: endAngle,\n                radiusX: slot.radius,\n                radiusY: slot.radius\n              });\n            },\n            getValue: function (point) {\n              var options = this.options;\n              var center = this.box.center();\n              var dx = point.x - center.x;\n              var dy = point.y - center.y;\n              var theta = Math.round(deg(Math.atan2(dy, dx)));\n              var start = options.startAngle;\n\n              if (!options.reverse) {\n                theta *= -1;\n                start *= -1;\n              }\n\n              return (theta + start + 360) % 360;\n            },\n            valueRange: function () {\n              return {\n                min: 0,\n                max: Math.PI * 2\n              };\n            }\n          });\n          setDefaultOptions(PolarAxis, {\n            type: \"polar\",\n            startAngle: 0,\n            reverse: false,\n            majorUnit: 60,\n            min: 0,\n            max: 360,\n            labels: {\n              margin: getSpacing(10)\n            },\n            majorGridLines: {\n              color: BLACK,\n              visible: true,\n              width: 1\n            },\n            minorGridLines: {\n              color: \"#aaa\"\n            }\n          });\n          deepExtend(PolarAxis.prototype, GridLinesMixin, {\n            createPlotBands: RadarCategoryAxis.prototype.createPlotBands,\n            majorAngles: RadarCategoryAxis.prototype.majorAngles,\n            range: NumericAxis.prototype.range,\n            labelsCount: NumericAxis.prototype.labelsCount,\n            createAxisLabel: NumericAxis.prototype.createAxisLabel\n          });\n          var RadarNumericAxisMixin = {\n            options: {\n              majorGridLines: {\n                visible: true\n              }\n            },\n            createPlotBands: function () {\n              var this$1 = this;\n              var ref = this.options;\n              var type = ref.majorGridLines.type;\n              var plotBands = ref.plotBands;\n\n              if (plotBands === void 0) {\n                plotBands = [];\n              }\n\n              var altAxis = this.plotArea.polarAxis;\n              var majorAngles = altAxis.majorAngles();\n              var center = altAxis.box.center();\n              var group = this._plotbandGroup = new Group({\n                zIndex: -1\n              });\n\n              for (var i = 0; i < plotBands.length; i++) {\n                var band = plotBands[i];\n                var bandStyle = {\n                  fill: {\n                    color: band.color,\n                    opacity: band.opacity\n                  },\n                  stroke: {\n                    opacity: band.opacity\n                  }\n                };\n                var slot = this$1.getSlot(band.from, band.to, true);\n                var ring = new Ring(center, center.y - slot.y2, center.y - slot.y1, 0, 360);\n                var shape = void 0;\n\n                if (type === ARC) {\n                  shape = ShapeBuilder.current.createRing(ring, bandStyle);\n                } else {\n                  shape = Path.fromPoints(this$1.plotBandPoints(ring, majorAngles), bandStyle).close();\n                }\n\n                group.append(shape);\n              }\n\n              this.appendVisual(group);\n            },\n            plotBandPoints: function (ring, angles) {\n              var innerPoints = [];\n              var outerPoints = [];\n              var center = [ring.center.x, ring.center.y];\n              var innerCircle = new Circle(center, ring.innerRadius);\n              var outerCircle = new Circle(center, ring.radius);\n\n              for (var i = 0; i < angles.length; i++) {\n                innerPoints.push(innerCircle.pointAt(angles[i] + 180));\n                outerPoints.push(outerCircle.pointAt(angles[i] + 180));\n              }\n\n              innerPoints.reverse();\n              innerPoints.push(innerPoints[0]);\n              outerPoints.push(outerPoints[0]);\n              return outerPoints.concat(innerPoints);\n            },\n            createGridLines: function (altAxis) {\n              var options = this.options;\n              var majorTicks = this.radarMajorGridLinePositions();\n              var majorAngles = altAxis.majorAngles();\n              var center = altAxis.box.center();\n              var gridLines = [];\n\n              if (options.majorGridLines.visible) {\n                gridLines = this.renderGridLines(center, majorTicks, majorAngles, options.majorGridLines);\n              }\n\n              if (options.minorGridLines.visible) {\n                var minorTicks = this.radarMinorGridLinePositions();\n                append(gridLines, this.renderGridLines(center, minorTicks, majorAngles, options.minorGridLines));\n              }\n\n              return gridLines;\n            },\n            renderGridLines: function (center, ticks, angles, options) {\n              var style = {\n                stroke: {\n                  width: options.width,\n                  color: options.color,\n                  dashType: options.dashType\n                }\n              };\n              var skip = options.skip;\n\n              if (skip === void 0) {\n                skip = 0;\n              }\n\n              var step = options.step;\n\n              if (step === void 0) {\n                step = 0;\n              }\n\n              var container = this.gridLinesVisual();\n\n              for (var tickIx = skip; tickIx < ticks.length; tickIx += step) {\n                var tickRadius = center.y - ticks[tickIx];\n\n                if (tickRadius > 0) {\n                  var circle = new Circle([center.x, center.y], tickRadius);\n\n                  if (options.type === ARC) {\n                    container.append(new drawing.Circle(circle, style));\n                  } else {\n                    var line = new Path(style);\n\n                    for (var angleIx = 0; angleIx < angles.length; angleIx++) {\n                      line.lineTo(circle.pointAt(angles[angleIx] + 180));\n                    }\n\n                    line.close();\n                    container.append(line);\n                  }\n                }\n              }\n\n              return container.children;\n            },\n            getValue: function (point) {\n              var lineBox = this.lineBox();\n              var altAxis = this.plotArea.polarAxis;\n              var majorAngles = altAxis.majorAngles();\n              var center = altAxis.box.center();\n              var radius = point.distanceTo(center);\n              var distance = radius;\n\n              if (this.options.majorGridLines.type !== ARC && majorAngles.length > 1) {\n                var dx = point.x - center.x;\n                var dy = point.y - center.y;\n                var theta = (deg(Math.atan2(dy, dx)) + 540) % 360;\n                majorAngles.sort(function (a, b) {\n                  return angularDistance(a, theta) - angularDistance(b, theta);\n                }); // Solve triangle (center, point, axis X) using one side (radius) and two angles.\n                // Angles are derived from triangle (center, point, gridline X)\n\n                var midAngle = angularDistance(majorAngles[0], majorAngles[1]) / 2;\n                var alpha = angularDistance(theta, majorAngles[0]);\n                var gamma = 90 - midAngle;\n                var beta = 180 - alpha - gamma;\n                distance = radius * (Math.sin(rad(beta)) / Math.sin(rad(gamma)));\n              }\n\n              return this.axisType().prototype.getValue.call(this, new Point(lineBox.x1, lineBox.y2 - distance));\n            }\n          };\n\n          function angularDistance(a, b) {\n            return 180 - Math.abs(Math.abs(a - b) - 180);\n          }\n\n          var RadarNumericAxis = NumericAxis.extend({\n            radarMajorGridLinePositions: function () {\n              return this.getTickPositions(this.options.majorUnit);\n            },\n            radarMinorGridLinePositions: function () {\n              var options = this.options;\n              var minorSkipStep = 0;\n\n              if (options.majorGridLines.visible) {\n                minorSkipStep = options.majorUnit;\n              }\n\n              return this.getTickPositions(options.minorUnit, minorSkipStep);\n            },\n            axisType: function () {\n              return NumericAxis;\n            }\n          });\n          deepExtend(RadarNumericAxis.prototype, RadarNumericAxisMixin);\n          var RadarLogarithmicAxis = LogarithmicAxis.extend({\n            radarMajorGridLinePositions: function () {\n              var positions = [];\n              this.traverseMajorTicksPositions(function (position) {\n                positions.push(position);\n              }, this.options.majorGridLines);\n              return positions;\n            },\n            radarMinorGridLinePositions: function () {\n              var positions = [];\n              this.traverseMinorTicksPositions(function (position) {\n                positions.push(position);\n              }, this.options.minorGridLines);\n              return positions;\n            },\n            axisType: function () {\n              return LogarithmicAxis;\n            }\n          });\n          deepExtend(RadarLogarithmicAxis.prototype, RadarNumericAxisMixin);\n          var WEIGHT = 0.333;\n          var EXTREMUM_ALLOWED_DEVIATION = 0.01;\n          var CurveProcessor = Class.extend({\n            init: function (closed) {\n              this.closed = closed;\n            },\n            process: function (dataPoints) {\n              var this$1 = this;\n              var points = dataPoints.slice(0);\n              var segments = [];\n              var closed = this.closed;\n              var length = points.length;\n\n              if (length > 2) {\n                this.removeDuplicates(0, points);\n                length = points.length;\n              }\n\n              if (length < 2 || length === 2 && points[0].equals(points[1])) {\n                return segments;\n              }\n\n              var p0 = points[0];\n              var p1 = points[1];\n              var p2 = points[2];\n              segments.push(new Segment(p0));\n\n              while (p0.equals(points[length - 1])) {\n                closed = true;\n                points.pop();\n                length--;\n              }\n\n              if (length === 2) {\n                var tangent = this.tangent(p0, p1, X, Y);\n                last(segments).controlOut(this.firstControlPoint(tangent, p0, p1, X, Y));\n                segments.push(new Segment(p1, this.secondControlPoint(tangent, p0, p1, X, Y)));\n                return segments;\n              }\n\n              var initialControlPoint, lastControlPoint;\n\n              if (closed) {\n                p0 = points[length - 1];\n                p1 = points[0];\n                p2 = points[1];\n                var controlPoints = this.controlPoints(p0, p1, p2);\n                initialControlPoint = controlPoints[1];\n                lastControlPoint = controlPoints[0];\n              } else {\n                var tangent$1 = this.tangent(p0, p1, X, Y);\n                initialControlPoint = this.firstControlPoint(tangent$1, p0, p1, X, Y);\n              }\n\n              var cp0 = initialControlPoint;\n\n              for (var idx = 0; idx <= length - 3; idx++) {\n                this$1.removeDuplicates(idx, points);\n                length = points.length;\n\n                if (idx + 3 <= length) {\n                  p0 = points[idx];\n                  p1 = points[idx + 1];\n                  p2 = points[idx + 2];\n                  var controlPoints$1 = this$1.controlPoints(p0, p1, p2);\n                  last(segments).controlOut(cp0);\n                  cp0 = controlPoints$1[1];\n                  var cp1 = controlPoints$1[0];\n                  segments.push(new Segment(p1, cp1));\n                }\n              }\n\n              if (closed) {\n                p0 = points[length - 2];\n                p1 = points[length - 1];\n                p2 = points[0];\n                var controlPoints$2 = this.controlPoints(p0, p1, p2);\n                last(segments).controlOut(cp0);\n                segments.push(new Segment(p1, controlPoints$2[0]));\n                last(segments).controlOut(controlPoints$2[1]);\n                segments.push(new Segment(p2, lastControlPoint));\n              } else {\n                var tangent$2 = this.tangent(p1, p2, X, Y);\n                last(segments).controlOut(cp0);\n                segments.push(new Segment(p2, this.secondControlPoint(tangent$2, p1, p2, X, Y)));\n              }\n\n              return segments;\n            },\n            removeDuplicates: function (idx, points) {\n              while (points[idx + 1] && (points[idx].equals(points[idx + 1]) || points[idx + 1].equals(points[idx + 2]))) {\n                points.splice(idx + 1, 1);\n              }\n            },\n            invertAxis: function (p0, p1, p2) {\n              var invertAxis = false;\n\n              if (p0.x === p1.x) {\n                invertAxis = true;\n              } else if (p1.x === p2.x) {\n                if (p1.y < p2.y && p0.y <= p1.y || p2.y < p1.y && p1.y <= p0.y) {\n                  invertAxis = true;\n                }\n              } else {\n                var fn = this.lineFunction(p0, p1);\n                var y2 = this.calculateFunction(fn, p2.x);\n\n                if (!(p0.y <= p1.y && p2.y <= y2) && !(p1.y <= p0.y && p2.y >= y2)) {\n                  invertAxis = true;\n                }\n              }\n\n              return invertAxis;\n            },\n            isLine: function (p0, p1, p2) {\n              var fn = this.lineFunction(p0, p1);\n              var y2 = this.calculateFunction(fn, p2.x);\n              return p0.x === p1.x && p1.x === p2.x || round(y2, 1) === round(p2.y, 1);\n            },\n            lineFunction: function (p1, p2) {\n              var a = (p2.y - p1.y) / (p2.x - p1.x);\n              var b = p1.y - a * p1.x;\n              return [b, a];\n            },\n            controlPoints: function (p0, p1, p2) {\n              var xField = X;\n              var yField = Y;\n              var restrict = false;\n              var switchOrientation = false;\n              var tangent;\n\n              if (this.isLine(p0, p1, p2)) {\n                tangent = this.tangent(p0, p1, X, Y);\n              } else {\n                var monotonic = {\n                  x: this.isMonotonicByField(p0, p1, p2, X),\n                  y: this.isMonotonicByField(p0, p1, p2, Y)\n                };\n\n                if (monotonic.x && monotonic.y) {\n                  tangent = this.tangent(p0, p2, X, Y);\n                  restrict = true;\n                } else {\n                  if (this.invertAxis(p0, p1, p2)) {\n                    xField = Y;\n                    yField = X;\n                  }\n\n                  if (monotonic[xField]) {\n                    tangent = 0;\n                  } else {\n                    var sign;\n\n                    if (p2[yField] < p0[yField] && p0[yField] <= p1[yField] || p0[yField] < p2[yField] && p1[yField] <= p0[yField]) {\n                      sign = numberSign((p2[yField] - p0[yField]) * (p1[xField] - p0[xField]));\n                    } else {\n                      sign = -numberSign((p2[xField] - p0[xField]) * (p1[yField] - p0[yField]));\n                    }\n\n                    tangent = EXTREMUM_ALLOWED_DEVIATION * sign;\n                    switchOrientation = true;\n                  }\n                }\n              }\n\n              var secondControlPoint = this.secondControlPoint(tangent, p0, p1, xField, yField);\n\n              if (switchOrientation) {\n                var oldXField = xField;\n                xField = yField;\n                yField = oldXField;\n              }\n\n              var firstControlPoint = this.firstControlPoint(tangent, p1, p2, xField, yField);\n\n              if (restrict) {\n                this.restrictControlPoint(p0, p1, secondControlPoint, tangent);\n                this.restrictControlPoint(p1, p2, firstControlPoint, tangent);\n              }\n\n              return [secondControlPoint, firstControlPoint];\n            },\n            restrictControlPoint: function (p1, p2, cp, tangent) {\n              if (p1.y < p2.y) {\n                if (p2.y < cp.y) {\n                  cp.x = p1.x + (p2.y - p1.y) / tangent;\n                  cp.y = p2.y;\n                } else if (cp.y < p1.y) {\n                  cp.x = p2.x - (p2.y - p1.y) / tangent;\n                  cp.y = p1.y;\n                }\n              } else {\n                if (cp.y < p2.y) {\n                  cp.x = p1.x - (p1.y - p2.y) / tangent;\n                  cp.y = p2.y;\n                } else if (p1.y < cp.y) {\n                  cp.x = p2.x + (p1.y - p2.y) / tangent;\n                  cp.y = p1.y;\n                }\n              }\n            },\n            tangent: function (p0, p1, xField, yField) {\n              var x = p1[xField] - p0[xField];\n              var y = p1[yField] - p0[yField];\n              var tangent;\n\n              if (x === 0) {\n                tangent = 0;\n              } else {\n                tangent = y / x;\n              }\n\n              return tangent;\n            },\n            isMonotonicByField: function (p0, p1, p2, field) {\n              return p2[field] > p1[field] && p1[field] > p0[field] || p2[field] < p1[field] && p1[field] < p0[field];\n            },\n            firstControlPoint: function (tangent, p0, p3, xField, yField) {\n              var t1 = p0[xField];\n              var t2 = p3[xField];\n              var distance = (t2 - t1) * WEIGHT;\n              return this.point(t1 + distance, p0[yField] + distance * tangent, xField, yField);\n            },\n            secondControlPoint: function (tangent, p0, p3, xField, yField) {\n              var t1 = p0[xField];\n              var t2 = p3[xField];\n              var distance = (t2 - t1) * WEIGHT;\n              return this.point(t2 - distance, p3[yField] - distance * tangent, xField, yField);\n            },\n            point: function (xValue, yValue, xField, yField) {\n              var controlPoint = new geometry.Point();\n              controlPoint[xField] = xValue;\n              controlPoint[yField] = yValue;\n              return controlPoint;\n            },\n            calculateFunction: function (fn, x) {\n              var length = fn.length;\n              var result = 0;\n\n              for (var i = 0; i < length; i++) {\n                result += Math.pow(x, i) * fn[i];\n              }\n\n              return result;\n            }\n          });\n\n          function numberSign(value) {\n            return value <= 0 ? -1 : 1;\n          }\n\n          dataviz.Gradients = GRADIENTS;\n          kendo.deepExtend(kendo.dataviz, {\n            constants: constants,\n            services: services,\n            autoMajorUnit: autoMajorUnit,\n            Point: Point,\n            Box: Box,\n            Ring: Ring,\n            Sector: Sector,\n            ShapeBuilder: ShapeBuilder,\n            ShapeElement: ShapeElement,\n            ChartElement: ChartElement,\n            BoxElement: BoxElement,\n            RootElement: RootElement,\n            FloatElement: FloatElement,\n            Text: Text,\n            TextBox: TextBox,\n            Title: Title,\n            AxisLabel: AxisLabel,\n            Axis: Axis,\n            Note: Note,\n            CategoryAxis: CategoryAxis,\n            DateCategoryAxis: DateCategoryAxis,\n            DateValueAxis: DateValueAxis,\n            NumericAxis: NumericAxis,\n            LogarithmicAxis: LogarithmicAxis,\n            PolarAxis: PolarAxis,\n            RadarCategoryAxis: RadarCategoryAxis,\n            RadarNumericAxis: RadarNumericAxis,\n            RadarLogarithmicAxis: RadarLogarithmicAxis,\n            CurveProcessor: CurveProcessor,\n            rectToBox: rectToBox,\n            addClass: addClass,\n            removeClass: removeClass,\n            alignPathToPixel: alignPathToPixel,\n            clockwise: clockwise,\n            convertableToNumber: convertableToNumber,\n            deepExtend: deepExtend,\n            elementStyles: elementStyles,\n            getSpacing: getSpacing,\n            getTemplate: getTemplate,\n            getter: __common_getter_js,\n            grep: grep,\n            hasClasses: hasClasses,\n            HashMap: HashMap,\n            inArray: inArray,\n            interpolateValue: interpolateValue,\n            InstanceObserver: InstanceObserver,\n            isArray: isArray,\n            isFunction: isFunction,\n            isNumber: isNumber,\n            isObject: isObject,\n            isString: isString,\n            map: map,\n            mousewheelDelta: mousewheelDelta,\n            FontLoader: FontLoader,\n            setDefaultOptions: setDefaultOptions,\n            sparseArrayLimits: sparseArrayLimits,\n            styleValue: styleValue,\n            find: find,\n            elementScale: elementScale,\n            autoTextColor: autoTextColor,\n            createHashSet: createHashSet,\n            defaultErrorHandler: defaultErrorHandler,\n            keys: keys,\n            append: append,\n            bindEvents: bindEvents,\n            Class: Class,\n            defined: defined,\n            deg: deg,\n            elementOffset: elementOffset,\n            elementSize: elementSize,\n            eventCoordinates: eventCoordinates,\n            eventElement: eventElement,\n            hashKey: hashKey,\n            last: last,\n            limitValue: limitValue,\n            logToConsole: kendo.logToConsole,\n            objectKey: objectKey,\n            rad: rad,\n            round: round,\n            unbindEvents: unbindEvents,\n            valueOrDefault: valueOrDefault,\n            absoluteDateDiff: absoluteDateDiff,\n            addDuration: addDuration,\n            addTicks: addTicks,\n            ceilDate: ceilDate,\n            dateComparer: dateComparer,\n            dateDiff: dateDiff,\n            dateEquals: dateEquals,\n            dateIndex: dateIndex,\n            duration: duration,\n            floorDate: floorDate,\n            lteDateIndex: lteDateIndex,\n            startOfWeek: startOfWeek,\n            toDate: toDate,\n            parseDate: parseDate,\n            parseDates: parseDates,\n            toTime: toTime,\n            firstDay: firstDay\n          });\n        })(window.kendo.jQuery);\n      }, __webpack_require__.amdD);\n      /***/\n\n    },\n\n    /***/\n    33877:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"../../kendo.core\");\n      /***/\n    },\n\n    /***/\n    79174:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"../../kendo.drawing\");\n      /***/\n    }\n    /******/\n\n  };\n  /************************************************************************/\n\n  /******/\n  // The module cache\n\n  /******/\n\n  var __webpack_module_cache__ = {};\n  /******/\n\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n    // Check if module is in cache\n\n    /******/\n    var cachedModule = __webpack_module_cache__[moduleId];\n    /******/\n\n    if (cachedModule !== undefined) {\n      /******/\n      return cachedModule.exports;\n      /******/\n    }\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n\n    var module = __webpack_module_cache__[moduleId] = {\n      /******/\n      // no module.id needed\n\n      /******/\n      // no module.loaded needed\n\n      /******/\n      exports: {}\n      /******/\n\n    };\n    /******/\n\n    /******/\n    // Execute the module function\n\n    /******/\n\n    __webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n    /******/\n\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n\n    return module.exports;\n    /******/\n  }\n  /******/\n\n  /************************************************************************/\n\n  /******/\n\n  /* webpack/runtime/amd define */\n\n  /******/\n\n\n  !function () {\n    /******/\n    __webpack_require__.amdD = function () {\n      /******/\n      throw new Error('define cannot be used indirect');\n      /******/\n    };\n    /******/\n\n  }();\n  /******/\n\n  /************************************************************************/\n\n  /******/\n\n  /******/\n  // startup\n\n  /******/\n  // Load entry module and return exports\n\n  /******/\n  // This entry module used 'module' so it can't be inlined\n\n  /******/\n\n  var __webpack_exports__ = __webpack_require__(54453);\n  /******/\n\n\n  module.exports = __webpack_exports__;\n  /******/\n\n  /******/\n})();","map":{"version":3,"names":["__webpack_modules__","module","exports","__webpack_require__","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","f","define","apply","undefined","$","window","kendo","dataviz","drawing","util","Path","Group","Class","support","geometry","Rect","Circle","geometryTransform","transform","Segment","deepExtend","isFunction","__common_getter_js","getter","ARC","AXIS_LABEL_CLICK","BLACK","BOTTOM","CENTER","CIRCLE","COORD_PRECISION","CROSS","DATE","DEFAULT_FONT","DEFAULT_HEIGHT","DEFAULT_PRECISION","DEFAULT_WIDTH","END","FORMAT_REGEX","HEIGHT","HIGHLIGHT_ZINDEX","INSIDE","LEFT","MAX_VALUE","Number","MIN_VALUE","NONE","NOTE_CLICK","NOTE_HOVER","NOTE_LEAVE","OBJECT","OUTSIDE","RIGHT","ROUNDED_RECT","START","STRING","TOP","TRIANGLE","VALUE","WHITE","WIDTH","X","Y","DEFAULT_SERIES_OPACITY","constants","isArray","value","Array","addClass","element","classes","classArray","idx","length","className","indexOf","SPACE_REGEX","removeClass","replace","alignPathToPixel","path","offset","options","stroke","defined","width","i","segments","anchor","round","translate","clockwise","angle1","angle2","x","y","isNumber","isNaN","isString","convertableToNumber","isFinite","isObject","styleValue","SIZE_STYLES_REGEX","isSizeField","field","test","elementStyles","styles","stylesArray","result","style","getComputedStyle","parseFloat","field$1","getSpacing","defaultSpacing","spacing","top","right","bottom","left","current","compile","template","TemplateService","extend","register","userImplementation","getTemplate","content","grep","array","callback","push","hasClasses","classNames","names","split","HashMap","_map","prototype","get","name","_key","set","Date","getTime","inArray","interpolateValue","start","end","progress","TRIGGER","InstanceObserver","init","observer","handlers","handlerMap","trigger","args","ref","isDefaultPrevented","callObserver","fnName","len","arguments","requiresHandlers","this$1","map","browser","mousewheelDelta","e","delta","wheelDelta","webkit","Math","max","devicePixelRatio","detail","ceil","floor","append","bindEvents","deg","elementOffset","elementSize","eventCoordinates","eventElement","hashKey","last","limitValue","objectKey","rad","unbindEvents","valueOrDefault","FontLoader","fetchFonts","fonts","state","depth","MAX_DEPTH","document","Object","keys","forEach","key","loadFonts","promises","font","load","logToConsole","Promise","all","then","preloadFonts","setDefaultOptions","type","proto","sparseArrayLimits","arr","min","find","predicate","item","Matrix","matrixRegexp","parseMatrix","matrixString","match","unit","members","Function","bind","concat","transformMatrix","elementScale","matrix","parent","parentElement","parentMatrix","multiplyCopy","b","c","autoTextColor","color","isDark","Color","DELETED","LegacySet","values","_index","_values","slice","filter","has","add","delete","index","clear","defineProperties","fn","size","SetWrapper","_set","Set","from","supportsSet","supported","createHashSet","defaultErrorHandler","error","INSERT","DELETE","BACKSPACE","TAB","ENTER","ESC","UP","DOWN","HOME","SPACEBAR","PAGEUP","PAGEDOWN","F2","F10","F12","NUMPAD_PLUS","NUMPAD_MINUS","NUMPAD_DOT","autoMajorUnit","diff","abs","scale","pow","log","relativeValue","scaleMultiplier","Point","clone","equals","point","rotate","center","degrees","theta","cosT","cos","sinT","sin","cx","cy","multiply","a","distanceTo","dx","dy","sqrt","onCircle","angle","radius","radians","Box","x1","y1","x2","y2","box","height","move","wrap","targetBox","wrapPoint","arrayPoint","snapTo","axis","alignTo","targetCenter","shrink","dw","dh","expand","pad","padding","unpad","containsPoint","points","getHash","join","overlaps","rotation","r1","rotatePoint","r2","r3","r4","toRect","hasSize","align","alignment","c1","c2","sizeFunc","Ring","innerRadius","startAngle","middle","setRadius","newRadius","radianAngle","ax","ay","adjacentBox","distance","sector","midAndle","midPoint","hw","hh","sa","ca","p","endAngle","vector","startPoint","startVector","endPoint","endVector","dist","getBBox","allAngles","sort","numericComparer","startAngleIndex","endAngleIndex","angles","Sector","call","DIRECTION_ANGLE","ShapeBuilder","createRing","arc","Arc","radiusX","radiusY","fromArc","close","innerEnd","pointAt","lineTo","ChartElement","children","initUserOptions","reflow","currentChild","destroy","animation","getRoot","getSender","service","getService","sender","chartService","translateChildren","childrenCount","arguments$1","renderVisual","visible","createVisual","addVisual","renderChildren","createAnimation","renderComplete","visual","chartElement","appendVisual","zIndex","Animation","create","childVisual","noclip","clipRoot","stackRoot","stackVisual","isStackRoot","visuals","pos","sibling","here","insert","traverse","child","closest","matched","hasHighlight","highlight","createHighlight","toggleHighlight","show","opacity","customVisual","_highlight","highlightOptions","fill","highlightVisualArgs","series","dataItem","category","percentage","runningTotal","total","createGradientOverlay","gradientOptions","overlay","createGradient","closed","elements","supportsPointInactiveOpacity","BoxElement","margin","shrinkToFit","hasSetSize","borderWidth","border","reflowPaddingBox","vAlign","paddingBox","contentBox","hasBox","background","fromRect","visualStyle","dashType","cursor","ShapeElement","pointData","getElement","halfWidth","halfHeight","fromPoints","MultiPath","moveTo","rect","borderRadius","setCornerRadius","createElement","visualOptions","LINEAR","RADIAL","GRADIENTS","glass","stops","sharpBevel","roundedBevel","roundedGlass","supportVML","sharpGlass","bubbleShadow","boxDiff","r","s","d","g","h","boxes","RootElement","rootOptions","parseInt","gradients","currentBox","createBackground","hashCode","gradient","drawingGradient","LinearGradient","innerRadialStops","RadialGradient","cleanGradients","_observers","usedSpace","currentStops","currentStop","FloatElement","_initDirection","vertical","groupAxis","elementAxis","groupSizeField","elementSizeField","groupSpacing","elementSpacing","vSpacing","reflowChildren","ref$1","groupOptions","groups","groupsSize","maxGroupElementsSize","groupsCount","groupsStart","alignStart","groupStart","groupIdx","group","groupElements","elementStart","groupElementsCount","elementSize$$1","groupElementStart","groupSize","elementBox","maxSize","groupElementsSize","DrawingText","Text","measureText","baseline","topLeft","rectToBox","origin","bottomRight","ROWS_SPLIT_REGEX","TextBox","data","_initContainer","_autoReflow","rows","String","floatElement","textOptions","container","rowIdx","text","trim","visualFn","_boxReflow","visualBox","visualContext","clippedBBox","normalBox","rotatedBox","rotationTransform","context","getDefaultVisual","boxCenter","Title","position","buildTitle","defaultOptions","titleOptions","title","AxisLabel","format","culture","click","widget","alignRotation","bbox","rotationMatrix","rotationOrigin","alignAxis","distanceAxis","axisAnchor","transformCopy","topRight","bottomLeft","distanceLeft","distanceRight","alignEnd","alignCenter","DEFAULT_ICON_SIZE","DEFAULT_LABEL_COLOR","Note","fields","render","hide","label","icon","childAlias","noteTemplate","auto","aliasFor","marker","wrapperBox","line","lineStart","linePoints","createLine","defaultVisual","eventArgs","preventDefault","over","out","defaultImplementation","toString","parseDate","firstDay","current$1","IntlService","implementation","FORMAT_REPLACE_REGEX","FormatService","intlService","_intlService","formatString","intl","localeAuto","locale","placeholderFormat","substring","ChartService","chart","rtl","Boolean","notify","isPannable","pannable","lock","current$2","DomEventsBuilder","events","services","createAxisTick","tickOptions","tickX","tickY","tick","createAxisGridLine","gridLine","lineEnd","Axis","labels","majorTickSize","minorTickSize","minorTicks","minorTickType","majorTicks","majorTickType","initFields","_deferLabels","createLabels","createTitle","createNotes","labelsRange","skip","labelsCount","normalizeLabelRotation","labelOptions","step","clearLabels","autoRotateLabels","range","labelContext","count","createAxisLabel","clearTitle","lineBox","mirror","axisX","axisY","lineWidth","visualSize","notes","items","parseNoteValue","note","reverse","createPlotBands","gridLinesVisual","gridLines","_gridLines","createTicks","lineGroup","majorUnit","tickLineOptions","tickPositions","skipUnit","getMajorTickPositions","getMinorTickPositions","minorUnit","_alignLines","_lineGroup","getActualTickSize","tickSize","_backgroundPath","plotBands","plotArea","_plotbandGroup","altAxis","pane","axes","slotX","slotY","getSlot","to","createPlotBandLabel","bandRect","textbox","labelTemplate","createGridLines","minorGridLines","majorGridLines","axisLineVisible","linePos","lineOptions","sizeFn","titleSize","space","rootBox","boxSize","maxLabelSize","labelSize","arrangeTitle","arrangeLabels","arrangeNotes","getLabelsTickPositions","labelTickIndex","labelsBetweenTicks","tickIx","firstTickPosition","nextTickPosition","positionStart","positionEnd","positionLabel","labelOffset","labelBox","labelX","labelY","autoRotateLabelAngle","slotWidth","limit","labelAngle","idx$1","slot","shouldRenderNote","noteSlot","secondAxis","axisLabelText","tmpl","defaultText","templateContext","maxLabelOffset","lastLabel","offsetField","startPosition","endPosition","maxStartOffset","maxEndOffset","startTick","endTick","limitRange","rangeSize","minValue","maxValue","valueRange","seriesMin","seriesMax","lineDir","lineInfo","lineSize","axisDir","startEdge","axisOrigin","pointOffset","relative","scaleToDelta","rawScale","MAX_SCALE","justified","prepareUserOptions","axisCrossingValue","MILLISECONDS","SECONDS","MINUTES","HOURS","DAYS","WEEKS","MONTHS","YEARS","TIME_PER_MILLISECOND","TIME_PER_SECOND","TIME_PER_MINUTE","TIME_PER_HOUR","TIME_PER_DAY","TIME_PER_WEEK","TIME_PER_MONTH","TIME_PER_YEAR","TIME_PER_UNIT","absoluteDateDiff","offsetDiff","getTimezoneOffset","addTicks","date","ticks","toDate","startOfWeek","weekStartDay","daysToSubtract","day","getDay","adjustDST","hours","getHours","setHours","addHours","roundedDate","setMinutes","tzDiff","addDuration","dateValue","getFullYear","getMonth","getDate","getSeconds","setSeconds","getMilliseconds","setMilliseconds","floorDate","ceilDate","dateComparer","dateDiff","toTime","dateEquals","timeIndex","baseUnit","dateIndex","baseUnitStep","startDate","duration","lteDateIndex","sortedDates","low","high","currentDate","parseDates","dates","MIN_CATEGORY_POINTS_RANGE","MIN_CATEGORY_RANGE","CategoryAxis","_ticks","categoriesHash","copy","categories","srcCategories","definedMin","definedMax","rangeIndices","totalRange","totalRangeIndices","roundedRange","_seriesMax","scaleOptions","hideOutOfRangeLabels","valueAxis","firstLabel","getTicks","labelTicks","tickIndices","stepSize","indices","getTickPositions","positions","cache","hash","_hash","hasMinor","filterOutOfRangePositions","inRange","startIndex","endIndex","slotBox","singleSlot","p1","p2","limitSlot","limittedSlot","categoryIndex","pointCategoryIndex","startValue","getCategory","totalIndex","categoryAt","categoriesCount","translateRange","scaleRange","minDelta","maxDelta","zoomRange","totalMin","totalMax","dataItems","hideOutOfRangeNotes","pan","pointsRange","diffStart","diffEnd","rangeMin","rangeMax","_categoriesMap","currentRangeIndices","totalCount","mapCategories","map$$1","COORDINATE_LIMIT","DateLabelFormats","milliseconds","seconds","minutes","days","weeks","months","years","ZERO_THRESHOLD","AUTO","BASE_UNITS","FIT","categoryRange","_range","EmptyDateRange","displayIndices","displayRange","valueIndex","valuesCount","dateAt","DateRange","roundToBaseUnit","lowerEnd","roundToTotalStep","expandEnd","justifyEnd","valueStart","displayStart","valueEnd","displayEnd","next","_indices","minIdx","maxIdx","last$$1","upper","roundedStep","autoBaseUnit","startUnit","startStep","categoryLimits","span","autoBaseUnitSteps","maxDateGroups","autoUnit","autoUnitIx","units","totalUnits","unitSteps","nextStep","shift","defaultBaseUnit","minDiff","lastCategory","categoryIx","initUnit","toLowerCase","useDefault","DateCategoryAxis","dataRange","_parsed","panning","userSetBaseUnit","userSetBaseUnitStep","maxDivisions","divisionOptions","dataRangeOptions","divisionRange","rangeLabels","splice","isEmpty","totalLimits","panRange","datesRange","indicesRange","fit","maxDiff","rangeDiff","baseUnitIndex","autoBaseUnitStep","stepIndex","createRangeLabels","arrangeRangeLabels","position$1","autoRotateRangeLabels","hideOverlappingLabels","clip","rangeLabel","firstRangeLabel","lastRangeLabel","i$1","overlaps$1","unitFormat","dateFormats","createLabel","startText","endText","rotateLabel","dateRange","autoAxisMin","narrow","axisMin","autoAxisMax","axisMax","limitCoordinate","MIN_VALUE_RANGE$1","NumericAxis","autoOptions","autoAxisOptions","totalOptions","totalAxisOptions","axisOptions","totalMajorUnit","getDivisions","stepValue","divisions","skipStep","getValue","valueOffset","endValue","isValidRange","narrowRange","autoMin","autoMax","roundToMajorUnit","remainderClose","clearNullValues","userOptions","userSetMin","userSetMax","userSetLimits","divisor","ratio","remainder","threshold","MIN_VALUE_RANGE","DateValueAxis","axisCrossingValues","applyDefaults","dir","timeRange","limittedRange","timeUnits","baseUnitTime","userMajorUnit","actualUnits","unitsToAdd","head","tail","DEFAULT_MAJOR_UNIT","MIN_VALUE_RANGE$2","LogarithmicAxis","base","autoAxisMax$1","autoAxisMin$1","initRange","logMin","logMax","floorMax","traverseMajorTicksPositions","tickPosition","traverseMinorTicksPositions","power","ref$2","minorOptions","_minorIntervalOptions","minorStep","nextValue","difference","info","throwNegativeValuesError","logMaxRemainder","Error","GridLinesMixin","skipMajor","majorAngles","minorAngles","majorGridLineAngles","renderMajorGridLines","minorGridLineAngles","renderMinorGridLines","renderGridLines","radiusCallback","circle","gridLineAngles","skipAngles","divs","intervals","altAxisVisible","alpha","intervalAngle","RadarCategoryAxis","reflowLabels","measureBox","skipOption","stepOption","divCount","divAngle","majorIntervals","minorIntervals","interval","minorAngle","minorRadius","band","plotBandSlot","ring","totalDivs","slotAngle","fromValue","slotStart","toValue","slots","PolarAxis","instanceOptions","tmp","atan2","PI","RadarNumericAxisMixin","polarAxis","bandStyle","shape","plotBandPoints","innerPoints","outerPoints","innerCircle","outerCircle","radarMajorGridLinePositions","radarMinorGridLinePositions","tickRadius","angleIx","angularDistance","midAngle","gamma","beta","axisType","RadarNumericAxis","minorSkipStep","RadarLogarithmicAxis","WEIGHT","EXTREMUM_ALLOWED_DEVIATION","CurveProcessor","process","dataPoints","removeDuplicates","p0","pop","tangent","controlOut","firstControlPoint","secondControlPoint","initialControlPoint","lastControlPoint","controlPoints","tangent$1","cp0","controlPoints$1","cp1","controlPoints$2","tangent$2","invertAxis","lineFunction","calculateFunction","isLine","xField","yField","restrict","switchOrientation","monotonic","isMonotonicByField","sign","numberSign","oldXField","restrictControlPoint","cp","p3","t1","t2","xValue","yValue","controlPoint","Gradients","jQuery","amdD","require","__webpack_module_cache__","moduleId","cachedModule","__webpack_exports__"],"sources":["C:/Users/abodean/restapi-nodejs/client/app-router/node_modules/@progress/kendo-ui/js/dataviz/core/kendo-core.js"],"sourcesContent":["/******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 54453:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/***********************************************************************\n * WARNING: this file is auto-generated.  If you change it directly,\n * your modifications will eventually be lost.  The source code is in\n * `kendo-charts` repository, you should make your changes there and\n * run `src-modules/sync.sh` in this repository.\n */\n(function(f, define) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n        __webpack_require__(33877),\n        __webpack_require__(79174)\n    ], __WEBPACK_AMD_DEFINE_FACTORY__ = (f),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n})(function() {\n\n(function($) {\n/* eslint-disable space-before-blocks, space-before-function-paren, curly */\n\nwindow.kendo.dataviz = window.kendo.dataviz || {};\nvar drawing = kendo.drawing;\nvar util = drawing.util;\nvar Path = drawing.Path;\nvar Group = drawing.Group;\nvar Class = kendo.Class;\nvar support = kendo.support;\nvar geometry = kendo.geometry;\nvar Rect = geometry.Rect;\nvar Circle = geometry.Circle;\nvar geometryTransform = geometry.transform;\nvar Segment = geometry.Segment;\nvar dataviz = kendo.dataviz;\n\nvar deepExtend = kendo.deepExtend;\nvar isFunction = kendo.isFunction;\nvar __common_getter_js = kendo.getter;\n\nvar ARC = \"arc\";\nvar AXIS_LABEL_CLICK = \"axisLabelClick\";\nvar BLACK = \"#000\";\nvar BOTTOM = \"bottom\";\nvar CENTER = \"center\";\nvar CIRCLE = \"circle\";\nvar COORD_PRECISION = 3;\nvar CROSS = \"cross\";\nvar DATE = \"date\";\nvar DEFAULT_FONT = \"12px sans-serif\";\nvar DEFAULT_HEIGHT = 400;\nvar DEFAULT_PRECISION = 10;\nvar DEFAULT_WIDTH = 600;\nvar END = \"end\";\nvar FORMAT_REGEX = /\\{\\d+:?/;\nvar HEIGHT = \"height\";\nvar HIGHLIGHT_ZINDEX = 100;\nvar INSIDE = \"inside\";\nvar LEFT = \"left\";\nvar MAX_VALUE = Number.MAX_VALUE;\nvar MIN_VALUE = -Number.MAX_VALUE;\nvar NONE = \"none\";\nvar NOTE_CLICK = \"noteClick\";\nvar NOTE_HOVER = \"noteHover\";\nvar NOTE_LEAVE = \"noteLeave\";\nvar OBJECT = \"object\";\nvar OUTSIDE = \"outside\";\nvar RIGHT = \"right\";\nvar ROUNDED_RECT = \"roundedRect\";\nvar START = \"start\";\nvar STRING = \"string\";\nvar TOP = \"top\";\nvar TRIANGLE = \"triangle\";\nvar VALUE = \"value\";\nvar WHITE = \"#fff\";\nvar WIDTH = \"width\";\nvar X = \"x\";\nvar Y = \"y\";\nvar DEFAULT_SERIES_OPACITY = 1;\n\nvar constants = {\n\tARC: ARC,\n\tAXIS_LABEL_CLICK: AXIS_LABEL_CLICK,\n\tBLACK: BLACK,\n\tBOTTOM: BOTTOM,\n\tCENTER: CENTER,\n\tCIRCLE: CIRCLE,\n\tCOORD_PRECISION: COORD_PRECISION,\n\tCROSS: CROSS,\n\tDATE: DATE,\n\tDEFAULT_FONT: DEFAULT_FONT,\n\tDEFAULT_HEIGHT: DEFAULT_HEIGHT,\n\tDEFAULT_PRECISION: DEFAULT_PRECISION,\n\tDEFAULT_WIDTH: DEFAULT_WIDTH,\n\tEND: END,\n\tFORMAT_REGEX: FORMAT_REGEX,\n\tHEIGHT: HEIGHT,\n\tHIGHLIGHT_ZINDEX: HIGHLIGHT_ZINDEX,\n\tINSIDE: INSIDE,\n\tLEFT: LEFT,\n\tMAX_VALUE: MAX_VALUE,\n\tMIN_VALUE: MIN_VALUE,\n\tNONE: NONE,\n\tNOTE_CLICK: NOTE_CLICK,\n\tNOTE_HOVER: NOTE_HOVER,\n\tNOTE_LEAVE: NOTE_LEAVE,\n\tOBJECT: OBJECT,\n\tOUTSIDE: OUTSIDE,\n\tRIGHT: RIGHT,\n\tROUNDED_RECT: ROUNDED_RECT,\n\tSTART: START,\n\tSTRING: STRING,\n\tTOP: TOP,\n\tTRIANGLE: TRIANGLE,\n\tVALUE: VALUE,\n\tWHITE: WHITE,\n\tWIDTH: WIDTH,\n\tX: X,\n\tY: Y,\n\tDEFAULT_SERIES_OPACITY: DEFAULT_SERIES_OPACITY\n};\n\nfunction isArray(value) {\n    return Array.isArray(value);\n}\n\nfunction addClass(element, classes) {\n    var classArray = isArray(classes) ? classes : [ classes ];\n\n    for (var idx = 0; idx < classArray.length; idx++) {\n        var className = classArray[idx];\n        if (element.className.indexOf(className) === -1) {\n            element.className += \" \" + className;\n        }\n    }\n}\n\nvar SPACE_REGEX = /\\s+/g;\n\nfunction removeClass(element, className) {\n    if (element && element.className) {\n        element.className = element.className.replace(className, \"\").replace(SPACE_REGEX, \" \");\n    }\n}\n\nfunction alignPathToPixel(path) {\n    var offset = 0.5;\n    if (path.options.stroke && kendo.drawing.util.defined(path.options.stroke.width)) {\n        if (path.options.stroke.width % 2 === 0) {\n            offset = 0;\n        }\n    }\n\n    for (var i = 0; i < path.segments.length; i++) {\n        path.segments[i].anchor().round(0).translate(offset, offset);\n    }\n\n    return path;\n}\n\nfunction clockwise(angle1, angle2) {\n    // True if angle2 is clockwise of angle1\n    // assuming angles grow in clock-wise direction\n    // (as in the pie and radar charts)\n    return -angle1.x * angle2.y + angle1.y * angle2.x < 0;\n}\n\nfunction isNumber(value) {\n    return typeof value === \"number\" && !isNaN(value);\n}\n\nfunction isString(value) {\n    return typeof value === STRING;\n}\n\nfunction convertableToNumber(value) {\n    return isNumber(value) || (isString(value) && isFinite(value));\n}\n\nfunction isObject(value) {\n    return typeof value === \"object\";\n}\n\nfunction styleValue(value) {\n    if (isNumber(value)) {\n        return value + \"px\";\n    }\n    return value;\n}\n\nvar SIZE_STYLES_REGEX = /width|height|top|left|bottom|right/i;\n\nfunction isSizeField(field) {\n    return SIZE_STYLES_REGEX.test(field);\n}\n\nfunction elementStyles(element, styles) {\n    var stylesArray = isString(styles) ? [ styles ] : styles;\n\n    if (isArray(stylesArray)) {\n        var result = {};\n        var style = window.getComputedStyle(element);\n\n        for (var idx = 0; idx < stylesArray.length; idx++) {\n            var field = stylesArray[idx];\n            result[field] = isSizeField(field) ? parseFloat(style[field]) : style[field];\n        }\n\n        return result;\n    } else if (isObject(styles)) {\n        for (var field$1 in styles) {\n            element.style[field$1] = styleValue(styles[field$1]);\n        }\n    }\n}\n\nfunction getSpacing(value, defaultSpacing) {\n    if (defaultSpacing === void 0) { defaultSpacing = 0; }\n\n    var spacing = { top: 0, right: 0, bottom: 0, left: 0 };\n\n    if (typeof(value) === \"number\") {\n        spacing[TOP] = spacing[RIGHT] = spacing[BOTTOM] = spacing[LEFT] = value;\n    } else {\n        spacing[TOP] = value[TOP] || defaultSpacing;\n        spacing[RIGHT] = value[RIGHT] || defaultSpacing;\n        spacing[BOTTOM] = value[BOTTOM] || defaultSpacing;\n        spacing[LEFT] = value[LEFT] || defaultSpacing;\n    }\n\n    return spacing;\n}\n\nvar current = {\n    compile: function(template) {\n        return template;\n    }\n};\n\nvar TemplateService = Class.extend({\n\n});\n\nTemplateService.register = function(userImplementation) {\n    current = userImplementation;\n};\n\nTemplateService.compile = function(template) {\n    return current.compile(template);\n};\n\nfunction getTemplate(options) {\n    if (options === void 0) { options = {}; }\n\n    var template;\n    if (options.template) {\n        options.template = template = TemplateService.compile(options.template);\n    } else if (isFunction(options.content)) {\n        template = options.content;\n    }\n\n    return template;\n}\n\nfunction grep(array, callback) {\n    var length = array.length;\n    var result = [];\n    for (var idx = 0; idx < length; idx++) {\n        if (callback(array[idx])) {\n            result .push(array[idx]);\n        }\n    }\n\n    return result;\n}\n\nfunction hasClasses(element, classNames) {\n    if (element.className) {\n        var names = classNames.split(\" \");\n        for (var idx = 0; idx < names.length; idx++) {\n            if (element.className.indexOf(names[idx]) !== -1) {\n                return true;\n            }\n        }\n    }\n}\n\nvar HashMap = function HashMap() {\n    this._map = {};\n};\n\nHashMap.prototype.get = function get (name) {\n    return this._map[this._key(name)];\n};\n\nHashMap.prototype.set = function set (name, value) {\n    this._map[this._key(name)] = value;\n};\n\nHashMap.prototype._key = function _key (name) {\n    return name instanceof Date ? name.getTime() : name;\n};\n\nfunction inArray(value, array) {\n    if (array) {\n        return array.indexOf(value) !== -1;\n    }\n}\n\nfunction interpolateValue(start, end, progress) {\n    return kendo.drawing.util.round(start + (end - start) * progress, COORD_PRECISION);\n}\n\nvar TRIGGER = 'trigger';\n\nvar InstanceObserver = Class.extend({\n    init: function(observer, handlers) {\n        this.observer = observer;\n        this.handlerMap = deepExtend({}, this.handlerMap, handlers);\n    },\n\n    trigger: function(name, args) {\n        var ref = this;\n        var observer = ref.observer;\n        var handlerMap = ref.handlerMap;\n        var isDefaultPrevented;\n        if (handlerMap[name]) {\n            isDefaultPrevented = this.callObserver(handlerMap[name], args);\n        } else if (observer[TRIGGER]) {\n            isDefaultPrevented = this.callObserver(TRIGGER, name, args);\n        }\n\n        return isDefaultPrevented;\n    },\n\n    callObserver: function(fnName) {\n        var args = [], len = arguments.length - 1;\n        while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n        return this.observer[fnName].apply(this.observer, args);\n    },\n\n    requiresHandlers: function(names) {\n        var this$1 = this;\n\n        if (this.observer.requiresHandlers) {\n            return this.observer.requiresHandlers(names);\n        }\n\n        for (var idx = 0; idx < names.length; idx++) {\n            if (this$1.handlerMap[names[idx]]) {\n                return true;\n            }\n        }\n    }\n});\n\nfunction map(array, callback) {\n    var length = array.length;\n    var result = [];\n    for (var idx = 0; idx < length; idx++) {\n        var value = callback(array[idx]);\n        if (kendo.drawing.util.defined(value)) {\n            result.push(value);\n        }\n    }\n    return result;\n}\n\nvar browser = support.browser || {};\n\nfunction mousewheelDelta(e) {\n    var delta = 0;\n\n    if (e.wheelDelta) {\n        delta = -e.wheelDelta / 120;\n\n        if (browser.webkit) {\n            // Webkit browsers scale the delta by twice the device resolution.\n            // Possibly related to https://bugs.webkit.org/show_bug.cgi?id=196339\n            //\n            // Low device resolutions (e.g. zoom-out to 30%) also behave strangely.\n            delta = delta / (2 * Math.max(window.devicePixelRatio, 0.625));\n        }\n    } else if (e.detail) {\n        delta = e.detail / 3;\n    }\n\n    delta = delta > 0 ? Math.ceil(delta) : Math.floor(delta);\n\n    return delta;\n}\n\nvar ref = kendo.drawing.util;\nvar append = ref.append;\nvar bindEvents = ref.bindEvents;\nvar defined = ref.defined;\nvar deg = ref.deg;\nvar elementOffset = ref.elementOffset;\nvar elementSize = ref.elementSize;\nvar eventCoordinates = ref.eventCoordinates;\nvar eventElement = ref.eventElement;\nvar hashKey = ref.hashKey;\nvar last = ref.last;\nvar limitValue = ref.limitValue;\nvar objectKey = ref.objectKey;\nvar rad = ref.rad;\nvar round = ref.round;\nvar unbindEvents = ref.unbindEvents;\nvar valueOrDefault = ref.valueOrDefault;\n\nvar FontLoader = Class.extend({\n\n});\n\nFontLoader.fetchFonts = function(options, fonts, state) {\n    if (state === void 0) { state = { depth: 0 }; }\n\n    var MAX_DEPTH = 5;\n\n    if (!options || state.depth > MAX_DEPTH || !document.fonts) {\n        return;\n    }\n\n    Object.keys(options).forEach(function(key) {\n        var value = options[key];\n        if (key === \"dataSource\" || key[0] === \"$\" || !value) {\n            return;\n        }\n\n        if (key === \"font\") {\n            fonts.push(value);\n        } else if (typeof value === \"object\") {\n            state.depth++;\n            FontLoader.fetchFonts(value, fonts, state);\n            state.depth--;\n        }\n    });\n};\n\nFontLoader.loadFonts = function(fonts, callback) {\n    var promises = [];\n\n    if (fonts.length > 0 && document.fonts) {\n        try {\n            promises = fonts.map(function(font) {\n                return document.fonts.load(font);\n            });\n        } catch (e) {\n            // Silence font-loading errors\n            kendo.logToConsole(e);\n        }\n\n        Promise.all(promises).then(callback, callback);\n    } else {\n        callback();\n    }\n};\n\nFontLoader.preloadFonts = function(options, callback) {\n    var fonts = [];\n    FontLoader.fetchFonts(options, fonts);\n\n    FontLoader.loadFonts(fonts, callback);\n};\n\nfunction setDefaultOptions(type, options) {\n    var proto = type.prototype;\n    if (proto.options) {\n        proto.options = deepExtend({}, proto.options, options);\n    } else {\n        proto.options = options;\n    }\n}\n\nfunction sparseArrayLimits(arr) {\n    var min = MAX_VALUE;\n    var max = MIN_VALUE;\n\n    for (var idx = 0, length = arr.length; idx < length; idx++) {\n        var value = arr[idx];\n        if (value !== null && isFinite(value)) {\n            min = Math.min(min, value);\n            max = Math.max(max, value);\n        }\n    }\n\n    return {\n        min: min === MAX_VALUE ? undefined : min,\n        max: max === MIN_VALUE ? undefined : max\n    };\n}\n\nfunction find(array, predicate) {\n    for (var i = 0; i < array.length; i++) {\n        var item = array[i];\n        if (predicate(item, i, array)) {\n            return item;\n        }\n    }\n}\n\nvar Matrix = geometry.Matrix;\nvar matrixRegexp = /matrix\\((.*)\\)/;\n\nfunction parseMatrix(matrixString) {\n    var match = matrixString.match(matrixRegexp);\n    if (match === null || match.length !== 2) {\n        return Matrix.unit();\n    }\n\n    var members = match[1].split(',').map(function (x) { return parseFloat(x); });\n    return new (Function.prototype.bind.apply( Matrix, [ null ].concat( members) ));\n}\n\nfunction transformMatrix(element) {\n    var transform = getComputedStyle(element).transform;\n\n    if (transform === 'none') {\n        return Matrix.unit();\n    }\n\n    return parseMatrix(transform);\n}\n\nfunction elementScale(element) {\n    if (!element) {\n        return Matrix.unit();\n    }\n\n    var matrix = transformMatrix(element);\n    var parent = element.parentElement;\n    while (parent) {\n        var parentMatrix = transformMatrix(parent);\n        matrix = matrix.multiplyCopy(parentMatrix);\n        parent = parent.parentElement;\n    }\n\n    matrix.b = matrix.c = matrix.e = matrix.f = 0;\n    return matrix;\n}\n\nfunction autoTextColor(color) {\n    var isDark = new kendo.Color(color).isDark();\n    if (isDark) {\n        return WHITE;\n    }\n\n    return BLACK;\n}\n\nvar DELETED = {};\n\nvar LegacySet = Class.extend({\n    init: function(values) {\n        var this$1 = this;\n\n        this._index = {};\n        this._values = values ? values.slice(0) : [];\n\n        for (var i = 0; i < this._values.length; i++) {\n            this$1._index[this$1._values[i]] = i;\n        }\n    },\n\n    values: function() {\n        return this._values.filter(function (item) { return item !== DELETED; });\n    },\n\n    has: function(value) {\n        return this._index[value] !== undefined;\n    },\n\n    add: function(value) {\n        if (!this.has(value)) {\n            this._index[value] = this._values.length;\n            this._values.push(value);\n        }\n    },\n\n    delete: function(value) {\n        var index = this._index[value];\n        if (index !== undefined) {\n            this._values[index] = DELETED;\n            delete this._index[value];\n        }\n    },\n\n    clear: function() {\n        this._index = {};\n        this._values = [];\n    }\n});\n\nif (Object.defineProperties) {\n    Object.defineProperties(LegacySet.fn, {\n        size: {\n            get: function() {\n                return this._values.length;\n            }\n        }\n    });\n}\n\nvar SetWrapper = Class.extend({\n    init: function(values) {\n        this._set = new Set(values);\n    },\n\n    values: function() {\n        return Array.from(this._set);\n    },\n\n    has: function(value) {\n        return this._set.has(value);\n    },\n\n    add: function(value) {\n        this._set.add(value);\n    },\n\n    delete: function(value) {\n        this._set.delete(value);\n    },\n\n    clear: function() {\n        this._set.clear();\n    }\n});\n\nif (Object.defineProperties) {\n    Object.defineProperties(SetWrapper.fn, {\n        size: {\n            get: function() {\n                return this._set.size;\n            }\n        }\n    });\n}\n\n// TODO: Drop LegacySet when removing support for IE10\nvar supportsSet = function () {\n    var supported = false;\n\n    if (typeof Set === 'function') {\n        var set = new Set([1]);\n        supported = set.has(1);\n    }\n\n    return supported;\n};\n\nfunction createHashSet(values) {\n    if (supportsSet()) {\n        return new SetWrapper(values);\n    }\n\n    return new LegacySet(values);\n}\n\nfunction defaultErrorHandler(error) {\n    throw error;\n}\n\nvar keys = {\n    INSERT: 45,\n    DELETE: 46,\n    BACKSPACE: 8,\n    TAB: 9,\n    ENTER: 13,\n    ESC: 27,\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40,\n    END: 35,\n    HOME: 36,\n    SPACEBAR: 32,\n    PAGEUP: 33,\n    PAGEDOWN: 34,\n    F2: 113,\n    F10: 121,\n    F12: 123,\n    NUMPAD_PLUS: 107,\n    NUMPAD_MINUS: 109,\n    NUMPAD_DOT: 110\n};\n\nfunction autoMajorUnit(min, max) {\n    var diff = round(max - min, DEFAULT_PRECISION - 1);\n\n    if (diff === 0) {\n        if (max === 0) {\n            return 0.1;\n        }\n\n        diff = Math.abs(max);\n    }\n\n    var scale = Math.pow(10, Math.floor(Math.log(diff) / Math.log(10)));\n    var relativeValue = round((diff / scale), DEFAULT_PRECISION);\n    var scaleMultiplier = 1;\n\n    if (relativeValue < 1.904762) {\n        scaleMultiplier = 0.2;\n    } else if (relativeValue < 4.761904) {\n        scaleMultiplier = 0.5;\n    } else if (relativeValue < 9.523809) {\n        scaleMultiplier = 1;\n    } else {\n        scaleMultiplier = 2;\n    }\n\n    return round(scale * scaleMultiplier, DEFAULT_PRECISION);\n}\n\nvar Point = Class.extend({\n    init: function(x, y) {\n\n        this.x = x || 0;\n        this.y = y || 0;\n    },\n\n    clone: function() {\n        return new Point(this.x, this.y);\n    },\n\n    equals: function(point) {\n        return point && this.x === point.x && this.y === point.y;\n    },\n\n    rotate: function(center, degrees) {\n        var theta = rad(degrees);\n        var cosT = Math.cos(theta);\n        var sinT = Math.sin(theta);\n        var cx = center.x;\n        var cy = center.y;\n        var ref = this;\n        var x = ref.x;\n        var y = ref.y;\n\n        this.x = round(\n            cx + (x - cx) * cosT + (y - cy) * sinT,\n            COORD_PRECISION\n        );\n\n        this.y = round(\n            cy + (y - cy) * cosT - (x - cx) * sinT,\n            COORD_PRECISION\n        );\n\n        return this;\n    },\n\n    multiply: function(a) {\n\n        this.x *= a;\n        this.y *= a;\n\n        return this;\n    },\n\n    distanceTo: function(point) {\n        var dx = this.x - point.x;\n        var dy = this.y - point.y;\n\n        return Math.sqrt(dx * dx + dy * dy);\n    }\n});\n\nPoint.onCircle = function(center, angle, radius) {\n    var radians = rad(angle);\n\n    return new Point(\n        center.x - radius * Math.cos(radians),\n        center.y - radius * Math.sin(radians)\n    );\n};\n\nvar Box = Class.extend({\n    init: function(x1, y1, x2, y2) {\n\n        this.x1 = x1 || 0;\n        this.y1 = y1 || 0;\n        this.x2 = x2 || 0;\n        this.y2 = y2 || 0;\n    },\n\n    equals: function(box) {\n        return this.x1 === box.x1 && this.x2 === box.x2 &&\n            this.y1 === box.y1 && this.y2 === box.y2;\n    },\n\n    width: function() {\n        return this.x2 - this.x1;\n    },\n\n    height: function() {\n        return this.y2 - this.y1;\n    },\n\n    translate: function(dx, dy) {\n        this.x1 += dx;\n        this.x2 += dx;\n        this.y1 += dy;\n        this.y2 += dy;\n\n        return this;\n    },\n\n    move: function(x, y) {\n        var height = this.height();\n        var width = this.width();\n\n        if (defined(x)) {\n            this.x1 = x;\n            this.x2 = this.x1 + width;\n        }\n\n        if (defined(y)) {\n            this.y1 = y;\n            this.y2 = this.y1 + height;\n        }\n\n        return this;\n    },\n\n    wrap: function(targetBox) {\n        this.x1 = Math.min(this.x1, targetBox.x1);\n        this.y1 = Math.min(this.y1, targetBox.y1);\n        this.x2 = Math.max(this.x2, targetBox.x2);\n        this.y2 = Math.max(this.y2, targetBox.y2);\n\n        return this;\n    },\n\n    wrapPoint: function(point) {\n        var arrayPoint = isArray(point);\n        var x = arrayPoint ? point[0] : point.x;\n        var y = arrayPoint ? point[1] : point.y;\n        this.wrap(new Box(x, y, x, y));\n\n        return this;\n    },\n\n    snapTo: function(targetBox, axis) {\n\n        if (axis === X || !axis) {\n            this.x1 = targetBox.x1;\n            this.x2 = targetBox.x2;\n        }\n\n        if (axis === Y || !axis) {\n            this.y1 = targetBox.y1;\n            this.y2 = targetBox.y2;\n        }\n\n        return this;\n    },\n\n    alignTo: function(targetBox, anchor) {\n        var height = this.height();\n        var width = this.width();\n        var axis = anchor === TOP || anchor === BOTTOM ? Y : X;\n        var offset = axis === Y ? height : width;\n\n        if (anchor === CENTER) {\n            var targetCenter = targetBox.center();\n            var center = this.center();\n\n            this.x1 += targetCenter.x - center.x;\n            this.y1 += targetCenter.y - center.y;\n        } else if (anchor === TOP || anchor === LEFT) {\n            this[axis + 1] = targetBox[axis + 1] - offset;\n        } else {\n            this[axis + 1] = targetBox[axis + 2];\n        }\n\n        this.x2 = this.x1 + width;\n        this.y2 = this.y1 + height;\n\n        return this;\n    },\n\n    shrink: function(dw, dh) {\n\n        this.x2 -= dw;\n        this.y2 -= dh;\n\n        return this;\n    },\n\n    expand: function(dw, dh) {\n        this.shrink(-dw, -dh);\n        return this;\n    },\n\n    pad: function(padding) {\n        var spacing = getSpacing(padding);\n\n        this.x1 -= spacing.left;\n        this.x2 += spacing.right;\n        this.y1 -= spacing.top;\n        this.y2 += spacing.bottom;\n\n        return this;\n    },\n\n    unpad: function(padding) {\n        var spacing = getSpacing(padding);\n\n        spacing.left = -spacing.left;\n        spacing.top = -spacing.top;\n        spacing.right = -spacing.right;\n        spacing.bottom = -spacing.bottom;\n\n        return this.pad(spacing);\n    },\n\n    clone: function() {\n        return new Box(this.x1, this.y1, this.x2, this.y2);\n    },\n\n    center: function() {\n        return new Point(\n            this.x1 + this.width() / 2,\n            this.y1 + this.height() / 2\n        );\n    },\n\n    containsPoint: function(point) {\n\n        return point.x >= this.x1 && point.x <= this.x2 &&\n               point.y >= this.y1 && point.y <= this.y2;\n    },\n\n    points: function() {\n        return [\n            new Point(this.x1, this.y1),\n            new Point(this.x2, this.y1),\n            new Point(this.x2, this.y2),\n            new Point(this.x1, this.y2)\n        ];\n    },\n\n    getHash: function() {\n        return [ this.x1, this.y1, this.x2, this.y2 ].join(\",\");\n    },\n\n    overlaps: function(box) {\n        return !(box.y2 < this.y1 || this.y2 < box.y1 || box.x2 < this.x1 || this.x2 < box.x1);\n    },\n\n    rotate: function(rotation) {\n        var width = this.width();\n        var height = this.height();\n        var ref = this.center();\n        var cx = ref.x;\n        var cy = ref.y;\n\n        var r1 = rotatePoint(0, 0, cx, cy, rotation);\n        var r2 = rotatePoint(width, 0, cx, cy, rotation);\n        var r3 = rotatePoint(width, height, cx, cy, rotation);\n        var r4 = rotatePoint(0, height, cx, cy, rotation);\n\n        width = Math.max(r1.x, r2.x, r3.x, r4.x) - Math.min(r1.x, r2.x, r3.x, r4.x);\n        height = Math.max(r1.y, r2.y, r3.y, r4.y) - Math.min(r1.y, r2.y, r3.y, r4.y);\n\n        this.x2 = this.x1 + width;\n        this.y2 = this.y1 + height;\n\n        return this;\n    },\n\n    toRect: function() {\n        return new Rect([ this.x1, this.y1 ], [ this.width(), this.height() ]);\n    },\n\n    hasSize: function() {\n        return this.width() !== 0 && this.height() !== 0;\n    },\n\n    align: function(targetBox, axis, alignment) {\n        var c1 = axis + 1;\n        var c2 = axis + 2;\n        var sizeFunc = axis === X ? WIDTH : HEIGHT;\n        var size = this[sizeFunc]();\n\n        if (inArray(alignment, [ LEFT, TOP ])) {\n            this[c1] = targetBox[c1];\n            this[c2] = this[c1] + size;\n        } else if (inArray(alignment, [ RIGHT, BOTTOM ])) {\n            this[c2] = targetBox[c2];\n            this[c1] = this[c2] - size;\n        } else if (alignment === CENTER) {\n            this[c1] = targetBox[c1] + (targetBox[sizeFunc]() - size) / 2;\n            this[c2] = this[c1] + size;\n        }\n    }\n});\n\nfunction rotatePoint(x, y, cx, cy, angle) {\n    var theta = rad(angle);\n\n    return new Point(\n        cx + (x - cx) * Math.cos(theta) + (y - cy) * Math.sin(theta),\n        cy - (x - cx) * Math.sin(theta) + (y - cy) * Math.cos(theta)\n    );\n}\n\nvar Ring = Class.extend({\n    init: function(center, innerRadius, radius, startAngle, angle) {\n\n        this.center = center;\n        this.innerRadius = innerRadius;\n        this.radius = radius;\n        this.startAngle = startAngle;\n        this.angle = angle;\n    },\n\n    clone: function() {\n        return new Ring(this.center, this.innerRadius, this.radius, this.startAngle, this.angle);\n    },\n\n    middle: function() {\n        return this.startAngle + this.angle / 2;\n    },\n\n    setRadius: function(newRadius, innerRadius) {\n        if (innerRadius) {\n            this.innerRadius = newRadius;\n        } else {\n            this.radius = newRadius;\n        }\n\n        return this;\n    },\n\n    point: function(angle, innerRadius) {\n        var radianAngle = rad(angle);\n        var ax = Math.cos(radianAngle);\n        var ay = Math.sin(radianAngle);\n        var radius = innerRadius ? this.innerRadius : this.radius;\n        var x = round(this.center.x - (ax * radius), COORD_PRECISION);\n        var y = round(this.center.y - (ay * radius), COORD_PRECISION);\n\n        return new Point(x, y);\n    },\n\n    adjacentBox: function(distance, width, height) {\n        var sector = this.clone().expand(distance);\n        var midAndle = sector.middle();\n        var midPoint = sector.point(midAndle);\n        var hw = width / 2;\n        var hh = height / 2;\n        var sa = Math.sin(rad(midAndle));\n        var ca = Math.cos(rad(midAndle));\n        var x = midPoint.x - hw;\n        var y = midPoint.y - hh;\n\n        if (Math.abs(sa) < 0.9) {\n            x += hw * -ca / Math.abs(ca);\n        }\n\n        if (Math.abs(ca) < 0.9) {\n            y += hh * -sa / Math.abs(sa);\n        }\n\n        return new Box(x, y, x + width, y + height);\n    },\n\n    containsPoint: function(p) {\n        var center = this.center;\n        var innerRadius = this.innerRadius;\n        var radius = this.radius;\n        var startAngle = this.startAngle;\n        var endAngle = this.startAngle + this.angle;\n        var dx = p.x - center.x;\n        var dy = p.y - center.y;\n        var vector = new Point(dx, dy);\n        var startPoint = this.point(startAngle);\n        var startVector = new Point(startPoint.x - center.x, startPoint.y - center.y);\n        var endPoint = this.point(endAngle);\n        var endVector = new Point(endPoint.x - center.x, endPoint.y - center.y);\n        var dist = round(dx * dx + dy * dy, COORD_PRECISION);\n\n        return (startVector.equals(vector) || clockwise(startVector, vector)) &&\n               !clockwise(endVector, vector) &&\n               dist >= innerRadius * innerRadius && dist <= radius * radius;\n    },\n\n    getBBox: function() {\n        var this$1 = this;\n\n        var box = new Box(MAX_VALUE, MAX_VALUE, MIN_VALUE, MIN_VALUE);\n        var startAngle = round(this.startAngle % 360);\n        var endAngle = round((startAngle + this.angle) % 360);\n        var innerRadius = this.innerRadius;\n        var allAngles = [ 0, 90, 180, 270, startAngle, endAngle ].sort(numericComparer);\n        var startAngleIndex = allAngles.indexOf(startAngle);\n        var endAngleIndex = allAngles.indexOf(endAngle);\n        var angles;\n\n        if (startAngle === endAngle) {\n            angles = allAngles;\n        } else {\n            if (startAngleIndex < endAngleIndex) {\n                angles = allAngles.slice(startAngleIndex, endAngleIndex + 1);\n            } else {\n                angles = [].concat(\n                    allAngles.slice(0, endAngleIndex + 1),\n                    allAngles.slice(startAngleIndex, allAngles.length)\n                );\n            }\n        }\n\n        for (var i = 0; i < angles.length; i++) {\n            var point = this$1.point(angles[i]);\n            box.wrapPoint(point);\n            box.wrapPoint(point, innerRadius);\n        }\n\n        if (!innerRadius) {\n            box.wrapPoint(this.center);\n        }\n\n        return box;\n    },\n\n    expand: function(value) {\n        this.radius += value;\n        return this;\n    }\n});\n\nfunction numericComparer(a, b) {\n    return a - b;\n}\n\nvar Sector = Ring.extend({\n    init: function(center, radius, startAngle, angle) {\n        Ring.fn.init.call(this, center, 0, radius, startAngle, angle);\n    },\n\n    expand: function(value) {\n        return Ring.fn.expand.call(this, value);\n    },\n\n    clone: function() {\n        return new Sector(this.center, this.radius, this.startAngle, this.angle);\n    },\n\n    setRadius: function(newRadius) {\n        this.radius = newRadius;\n\n        return this;\n    }\n});\n\nvar DIRECTION_ANGLE = 0.001; //any value that will make the endAngle bigger than the start angle will work here.\n\nvar ShapeBuilder = Class.extend({\n    createRing: function(sector, options) {\n        var startAngle = sector.startAngle + 180;\n        var endAngle = sector.angle + startAngle;\n\n        //required in order to avoid reversing the arc direction in cases like 0.000000000000001 + 100 === 100\n        if (sector.angle > 0 && startAngle === endAngle) {\n            endAngle += DIRECTION_ANGLE;\n        }\n\n        var center = new geometry.Point(sector.center.x, sector.center.y);\n        var radius = Math.max(sector.radius, 0);\n        var innerRadius = Math.max(sector.innerRadius, 0);\n        var arc = new geometry.Arc(center, {\n            startAngle: startAngle,\n            endAngle: endAngle,\n            radiusX: radius,\n            radiusY: radius\n        });\n        var path = Path.fromArc(arc, options).close();\n\n        if (innerRadius) {\n            arc.radiusX = arc.radiusY = innerRadius;\n            var innerEnd = arc.pointAt(endAngle);\n            path.lineTo(innerEnd.x, innerEnd.y);\n            path.arc(endAngle, startAngle, innerRadius, innerRadius, true);\n        } else {\n            path.lineTo(center.x, center.y);\n        }\n\n        return path;\n    }\n});\n\nShapeBuilder.current = new ShapeBuilder();\n\nvar ChartElement = Class.extend({\n    init: function(options) {\n\n        this.children = [];\n\n        this.options = deepExtend({}, this.options, this.initUserOptions(options));\n    },\n\n    initUserOptions: function(options) {\n        return options;\n    },\n\n    reflow: function(targetBox) {\n        var children = this.children;\n        var box;\n\n        for (var i = 0; i < children.length; i++) {\n            var currentChild = children[i];\n            currentChild.reflow(targetBox);\n\n            box = box ? box.wrap(currentChild.box) : currentChild.box.clone();\n        }\n\n        this.box = box || targetBox;\n    },\n\n    destroy: function() {\n        var children = this.children;\n\n        if (this.animation) {\n            this.animation.destroy();\n        }\n\n        for (var i = 0; i < children.length; i++) {\n            children[i].destroy();\n        }\n    },\n\n    getRoot: function() {\n        var parent = this.parent;\n\n        return parent ? parent.getRoot() : null;\n    },\n\n    getSender: function() {\n        var service = this.getService();\n        if (service) {\n            return service.sender;\n        }\n    },\n\n    getService: function() {\n        var element = this;\n        while (element) {\n            if (element.chartService) {\n                return element.chartService;\n            }\n            element = element.parent;\n        }\n    },\n\n    translateChildren: function(dx, dy) {\n        var children = this.children;\n        var childrenCount = children.length;\n\n        for (var i = 0; i < childrenCount; i++) {\n            children[i].box.translate(dx, dy);\n        }\n    },\n\n    append: function() {\n        var arguments$1 = arguments;\n        var this$1 = this;\n\n        for (var i = 0; i < arguments.length; i++) {\n            var item = arguments$1[i];\n            this$1.children.push(item);\n            item.parent = this$1;\n        }\n    },\n\n    renderVisual: function() {\n        if (this.options.visible === false) {\n            return;\n        }\n\n        this.createVisual();\n\n        this.addVisual();\n\n        this.renderChildren();\n\n        this.createAnimation();\n        this.renderComplete();\n    },\n\n    addVisual: function() {\n        if (this.visual) {\n            this.visual.chartElement = this;\n\n            if (this.parent) {\n                this.parent.appendVisual(this.visual);\n            }\n        }\n    },\n\n    renderChildren: function() {\n        var children = this.children;\n        var length = children.length;\n        for (var i = 0; i < length; i++) {\n            children[i].renderVisual();\n        }\n    },\n\n    createVisual: function() {\n        this.visual = new Group({\n            zIndex: this.options.zIndex,\n            visible: valueOrDefault(this.options.visible, true)\n        });\n    },\n\n    createAnimation: function() {\n        if (this.visual && this.options.animation) {\n            this.animation = drawing.Animation.create(\n                this.visual, this.options.animation\n            );\n        }\n    },\n\n    appendVisual: function(childVisual) {\n        if (!childVisual.chartElement) {\n            childVisual.chartElement = this;\n        }\n\n        if (childVisual.options.noclip) {\n            this.clipRoot().visual.append(childVisual);\n        } else if (defined(childVisual.options.zIndex)) {\n            this.stackRoot().stackVisual(childVisual);\n        } else if (this.isStackRoot) {\n            this.stackVisual(childVisual);\n        } else if (this.visual) {\n            this.visual.append(childVisual);\n        } else {\n            // Allow chart elements without visuals to\n            // pass through child visuals\n            this.parent.appendVisual(childVisual);\n        }\n    },\n\n    clipRoot: function() {\n        if (this.parent) {\n            return this.parent.clipRoot();\n        }\n\n        return this;\n    },\n\n    stackRoot: function() {\n        if (this.parent) {\n            return this.parent.stackRoot();\n        }\n\n        return this;\n    },\n\n    stackVisual: function(childVisual) {\n        var zIndex = childVisual.options.zIndex || 0;\n        var visuals = this.visual.children;\n        var length = visuals.length;\n        var pos;\n\n        for (pos = 0; pos < length; pos++) {\n            var sibling = visuals[pos];\n            var here = valueOrDefault(sibling.options.zIndex, 0);\n            if (here > zIndex) {\n                break;\n            }\n        }\n\n        this.visual.insert(pos, childVisual);\n    },\n\n    traverse: function(callback) {\n        var children = this.children;\n        var length = children.length;\n\n        for (var i = 0; i < length; i++) {\n            var child = children[i];\n\n            callback(child);\n            if (child.traverse) {\n                child.traverse(callback);\n            }\n        }\n    },\n\n    closest: function(match) {\n        var element = this;\n        var matched = false;\n\n        while (element && !matched) {\n            matched = match(element);\n\n            if (!matched) {\n                element = element.parent;\n            }\n        }\n\n        if (matched) {\n            return element;\n        }\n    },\n\n    renderComplete: function() {},\n\n    hasHighlight: function() {\n        var options = (this.options || {}).highlight;\n        return !(!this.createHighlight || (options && options.visible === false));\n    },\n\n    toggleHighlight: function(show, opacity) {\n        var this$1 = this;\n\n        var options = (this.options || {}).highlight || {};\n        var customVisual = options.visual;\n        var highlight = this._highlight;\n\n        if (!highlight) {\n            var highlightOptions = {\n                fill: {\n                    color: WHITE,\n                    opacity: opacity || 0.2\n                },\n                stroke: {\n                    color: WHITE,\n                    width: 1,\n                    opacity: opacity || 0.2\n                }\n            };\n\n            if (customVisual) {\n                highlight = this._highlight = customVisual(\n                    $.extend(this.highlightVisualArgs(), {\n                        createVisual: function () { return this$1.createHighlight(highlightOptions); },\n                        sender: this.getSender(),\n                        series: this.series,\n                        dataItem: this.dataItem,\n                        category: this.category,\n                        value: this.value,\n                        percentage: this.percentage,\n                        runningTotal: this.runningTotal,\n                        total: this.total\n                    }\n                ));\n\n                if (!highlight) {\n                    return;\n                }\n            } else {\n                highlight = this._highlight = this.createHighlight(highlightOptions);\n            }\n\n            if (!defined(highlight.options.zIndex)) {\n                highlight.options.zIndex = valueOrDefault(options.zIndex, this.options.zIndex);\n            }\n\n            this.appendVisual(highlight);\n        }\n\n        highlight.visible(show);\n    },\n\n    createGradientOverlay: function(element, options, gradientOptions) {\n        var overlay = new Path($.extend({\n            stroke: {\n                color: \"none\"\n            },\n            fill: this.createGradient(gradientOptions),\n            closed: element.options.closed\n        }, options));\n\n        overlay.segments.elements(element.segments.elements());\n\n        return overlay;\n    },\n\n    createGradient: function(options) {\n        if (this.parent) {\n            return this.parent.createGradient(options);\n        }\n    },\n\n    supportsPointInactiveOpacity: function() {\n        return true;\n    }\n});\n\nChartElement.prototype.options = { };\n\nvar BoxElement = ChartElement.extend({\n    init: function(options) {\n        ChartElement.fn.init.call(this, options);\n\n        this.options.margin = getSpacing(this.options.margin);\n        this.options.padding = getSpacing(this.options.padding);\n    },\n\n    reflow: function(targetBox) {\n        var this$1 = this;\n\n        var options = this.options;\n        var width = options.width;\n        var height = options.height;\n        var shrinkToFit = options.shrinkToFit;\n        var hasSetSize = width && height;\n        var margin = options.margin;\n        var padding = options.padding;\n        var borderWidth = options.border.width;\n        var box;\n\n        var reflowPaddingBox = function () {\n            this$1.align(targetBox, X, options.align);\n            this$1.align(targetBox, Y, options.vAlign);\n            this$1.paddingBox = box.clone().unpad(margin).unpad(borderWidth);\n        };\n\n        var contentBox = targetBox.clone();\n        if (hasSetSize) {\n            contentBox.x2 = contentBox.x1 + width;\n            contentBox.y2 = contentBox.y1 + height;\n        }\n\n        if (shrinkToFit) {\n            contentBox.unpad(margin).unpad(borderWidth).unpad(padding);\n        }\n\n        ChartElement.fn.reflow.call(this, contentBox);\n\n        if (hasSetSize) {\n            box = this.box = new Box(0, 0, width, height);\n        } else {\n            box = this.box;\n        }\n\n        if (shrinkToFit && hasSetSize) {\n            reflowPaddingBox();\n            contentBox = this.contentBox = this.paddingBox.clone().unpad(padding);\n        } else {\n            contentBox = this.contentBox = box.clone();\n            box.pad(padding).pad(borderWidth).pad(margin);\n            reflowPaddingBox();\n        }\n\n        this.translateChildren(\n            box.x1 - contentBox.x1 + margin.left + borderWidth + padding.left,\n            box.y1 - contentBox.y1 + margin.top + borderWidth + padding.top\n        );\n\n        var children = this.children;\n        for (var i = 0; i < children.length; i++) {\n            var item = children[i];\n            item.reflow(item.box);\n        }\n    },\n\n    align: function(targetBox, axis, alignment) {\n        this.box.align(targetBox, axis, alignment);\n    },\n\n    hasBox: function() {\n        var options = this.options;\n        return options.border.width || options.background;\n    },\n\n    createVisual: function() {\n        ChartElement.fn.createVisual.call(this);\n\n        var options = this.options;\n        if (options.visible && this.hasBox()) {\n            this.visual.append(Path.fromRect(\n                this.paddingBox.toRect(),\n                this.visualStyle()\n            ));\n        }\n    },\n\n    visualStyle: function() {\n        var options = this.options;\n        var border = options.border || {};\n\n        return {\n            stroke: {\n                width: border.width,\n                color: border.color,\n                opacity: valueOrDefault(border.opacity, options.opacity),\n                dashType: border.dashType\n            },\n            fill: {\n                color: options.background,\n                opacity: options.opacity\n            },\n            cursor: options.cursor\n        };\n    }\n});\n\nsetDefaultOptions(BoxElement, {\n    align: LEFT,\n    vAlign: TOP,\n    margin: {},\n    padding: {},\n    border: {\n        color: BLACK,\n        width: 0\n    },\n    background: \"\",\n    shrinkToFit: false,\n    width: 0,\n    height: 0,\n    visible: true\n});\n\nvar ShapeElement = BoxElement.extend({\n    init: function(options, pointData) {\n        BoxElement.fn.init.call(this, options);\n\n        this.pointData = pointData;\n    },\n\n    getElement: function() {\n        var ref = this;\n        var options = ref.options;\n        var box = ref.paddingBox;\n        var type = options.type;\n        var rotation = options.rotation;\n        var center = box.center();\n        var halfWidth = box.width() / 2;\n        var halfHeight = box.height() / 2;\n\n        if (!options.visible || !this.hasBox()) {\n            return null;\n        }\n\n        var style = this.visualStyle();\n        var element;\n\n        if (type === CIRCLE) {\n            element = new drawing.Circle(\n                new Circle([\n                    round(box.x1 + halfWidth, COORD_PRECISION),\n                    round(box.y1 + halfHeight, COORD_PRECISION)\n                ], Math.min(halfWidth, halfHeight)),\n                style\n            );\n        } else if (type === TRIANGLE) {\n            element = Path.fromPoints([\n                [ box.x1 + halfWidth, box.y1 ],\n                [ box.x1, box.y2 ],\n                [ box.x2, box.y2 ]\n            ], style).close();\n        } else if (type === CROSS) {\n            element = new drawing.MultiPath(style);\n\n            element.moveTo(box.x1, box.y1).lineTo(box.x2, box.y2);\n            element.moveTo(box.x1, box.y2).lineTo(box.x2, box.y1);\n        } else {\n            var rect = box.toRect();\n            if (type === ROUNDED_RECT) {\n                var borderRadius = valueOrDefault(options.borderRadius, rect.width() / 5);\n                rect.setCornerRadius(borderRadius);\n            }\n\n            element = Path.fromRect(rect, style);\n        }\n\n        if (rotation) {\n            element.transform(geometryTransform()\n                .rotate(-rotation, [ center.x, center.y ])\n            );\n        }\n\n        element.options.zIndex = options.zIndex;\n\n        return element;\n    },\n\n    createElement: function() {\n        var this$1 = this;\n\n        var customVisual = this.options.visual;\n        var pointData = this.pointData || {};\n        var visual;\n\n        if (customVisual) {\n            visual = customVisual({\n                value: pointData.value,\n                dataItem: pointData.dataItem,\n                sender: this.getSender(),\n                series: pointData.series,\n                category: pointData.category,\n                rect: this.paddingBox.toRect(),\n                options: this.visualOptions(),\n                createVisual: function () { return this$1.getElement(); }\n            });\n        } else {\n            visual = this.getElement();\n        }\n\n        return visual;\n    },\n\n    visualOptions: function() {\n        var options = this.options;\n        return {\n            background: options.background,\n            border: options.border,\n            margin: options.margin,\n            padding: options.padding,\n            type: options.type,\n            size: options.width,\n            visible: options.visible\n        };\n    },\n\n    createVisual: function() {\n        this.visual = this.createElement();\n    }\n});\n\nsetDefaultOptions(ShapeElement, {\n    type: CIRCLE,\n    align: CENTER,\n    vAlign: CENTER\n});\n\nvar LINEAR = \"linear\";\nvar RADIAL = \"radial\";\n\nvar GRADIENTS = {\n    glass: {\n        type: LINEAR,\n        rotation: 0,\n        stops: [ {\n            offset: 0,\n            color: WHITE,\n            opacity: 0\n        }, {\n            offset: 0.25,\n            color: WHITE,\n            opacity: 0.3\n        }, {\n            offset: 1,\n            color: WHITE,\n            opacity: 0\n        } ]\n    },\n    sharpBevel: {\n        type: RADIAL,\n        stops: [ {\n            offset: 0,\n            color: WHITE,\n            opacity: 0.55\n        }, {\n            offset: 0.65,\n            color: WHITE,\n            opacity: 0\n        }, {\n            offset: 0.95,\n            color: WHITE,\n            opacity: 0.25\n        } ]\n    },\n    roundedBevel: {\n        type: RADIAL,\n        stops: [ {\n            offset: 0.33,\n            color: WHITE,\n            opacity: 0.06\n        }, {\n            offset: 0.83,\n            color: WHITE,\n            opacity: 0.2\n        }, {\n            offset: 0.95,\n            color: WHITE,\n            opacity: 0\n        } ]\n    },\n    roundedGlass: {\n        type: RADIAL,\n        supportVML: false,\n        stops: [ {\n            offset: 0,\n            color: WHITE,\n            opacity: 0\n        }, {\n            offset: 0.5,\n            color: WHITE,\n            opacity: 0.3\n        }, {\n            offset: 0.99,\n            color: WHITE,\n            opacity: 0\n        } ]\n    },\n    sharpGlass: {\n        type: RADIAL,\n        supportVML: false,\n        stops: [ {\n            offset: 0,\n            color: WHITE,\n            opacity: 0.2\n        }, {\n            offset: 0.15,\n            color: WHITE,\n            opacity: 0.15\n        }, {\n            offset: 0.17,\n            color: WHITE,\n            opacity: 0.35\n        }, {\n            offset: 0.85,\n            color: WHITE,\n            opacity: 0.05\n        }, {\n            offset: 0.87,\n            color: WHITE,\n            opacity: 0.15\n        }, {\n            offset: 0.99,\n            color: WHITE,\n            opacity: 0\n        } ]\n    },\n    bubbleShadow: {\n        type: RADIAL,\n        center: [ 0.5, 0.5 ],\n        radius: 0.5\n    }\n};\n\nfunction boxDiff(r, s) {\n    if (r.x1 === s.x1 && r.y1 === s.y1 && r.x2 === s.x2 && r.y2 === s.y2) {\n        return s;\n    }\n\n    var a = Math.min(r.x1, s.x1);\n    var b = Math.max(r.x1, s.x1);\n    var c = Math.min(r.x2, s.x2);\n    var d = Math.max(r.x2, s.x2);\n    var e = Math.min(r.y1, s.y1);\n    var f = Math.max(r.y1, s.y1);\n    var g = Math.min(r.y2, s.y2);\n    var h = Math.max(r.y2, s.y2);\n    var boxes = [];\n\n    // X = intersection, 0-7 = possible difference areas\n    // h +-+-+-+\n    // . |5|6|7|\n    // g +-+-+-+\n    // . |3|X|4|\n    // f +-+-+-+\n    // . |0|1|2|\n    // e +-+-+-+\n    // . a b c d\n\n    // we'll always have rectangles 1, 3, 4 and 6\n    boxes[0] = new Box(b, e, c, f);\n    boxes[1] = new Box(a, f, b, g);\n    boxes[2] = new Box(c, f, d, g);\n    boxes[3] = new Box(b, g, c, h);\n\n    // decide which corners\n    if (r.x1 === a && r.y1 === e || s.x1 === a && s.y1 === e) { // corners 0 and 7\n        boxes[4] = new Box(a, e, b, f);\n        boxes[5] = new Box(c, g, d, h);\n    } else { // corners 2 and 5\n        boxes[4] = new Box(c, e, d, f);\n        boxes[5] = new Box(a, g, b, h);\n    }\n\n    return grep(boxes, function(box) {\n        return box.height() > 0 && box.width() > 0;\n    })[0];\n}\n\nvar RootElement = ChartElement.extend({\n    init: function(options) {\n        ChartElement.fn.init.call(this, options);\n\n        var rootOptions = this.options;\n        rootOptions.width = parseInt(rootOptions.width, 10);\n        rootOptions.height = parseInt(rootOptions.height, 10);\n\n        this.gradients = {};\n    },\n\n    reflow: function() {\n        var ref = this;\n        var options = ref.options;\n        var children = ref.children;\n        var currentBox = new Box(0, 0, options.width, options.height);\n\n        this.box = currentBox.unpad(options.margin);\n\n        for (var i = 0; i < children.length; i++) {\n            children[i].reflow(currentBox);\n            currentBox = boxDiff(currentBox, children[i].box) || new Box();\n        }\n    },\n\n    createVisual: function() {\n        this.visual = new Group();\n        this.createBackground();\n    },\n\n    createBackground: function() {\n        var options = this.options;\n        var border = options.border || {};\n        var box = this.box.clone().pad(options.margin).unpad(border.width);\n\n        var background = Path.fromRect(box.toRect(), {\n            stroke: {\n                color: border.width ? border.color : \"\",\n                width: border.width,\n                dashType: border.dashType\n            },\n            fill: {\n                color: options.background,\n                opacity: options.opacity\n            },\n            zIndex: -10\n        });\n\n        this.visual.append(background);\n    },\n\n    getRoot: function() {\n        return this;\n    },\n\n    createGradient: function(options) {\n        var gradients = this.gradients;\n        var hashCode = objectKey(options);\n        var gradient = GRADIENTS[options.gradient];\n        var drawingGradient;\n\n        if (gradients[hashCode]) {\n            drawingGradient = gradients[hashCode];\n        } else {\n            var gradientOptions = $.extend({}, gradient, options);\n            if (gradient.type === \"linear\") {\n                drawingGradient = new drawing.LinearGradient(gradientOptions);\n            } else {\n                if (options.innerRadius) {\n                    gradientOptions.stops = innerRadialStops(gradientOptions);\n                }\n                drawingGradient = new drawing.RadialGradient(gradientOptions);\n                drawingGradient.supportVML = gradient.supportVML !== false;\n            }\n            gradients[hashCode] = drawingGradient;\n        }\n\n        return drawingGradient;\n    },\n\n    cleanGradients: function() {\n        var gradients = this.gradients;\n        for (var hashCode in gradients) {\n            gradients[hashCode]._observers = [];//add clear observers method in drawing ObserversMixin\n        }\n    },\n\n    size: function() {\n        var options = this.options;\n        return new Box(0, 0, options.width, options.height);\n    }\n});\n\nsetDefaultOptions(RootElement, {\n    width: DEFAULT_WIDTH,\n    height: DEFAULT_HEIGHT,\n    background: WHITE,\n    border: {\n        color: BLACK,\n        width: 0\n    },\n    margin: getSpacing(5),\n    zIndex: -2\n});\n\nfunction innerRadialStops(options) {\n    var stops = options.stops;\n    var usedSpace = ((options.innerRadius / options.radius) * 100);\n    var length = stops.length;\n    var currentStops = [];\n\n    for (var i = 0; i < length; i++) {\n        var currentStop = $.extend({}, stops[i]);\n        currentStop.offset = (currentStop.offset * (100 - usedSpace) + usedSpace) / 100;\n        currentStops.push(currentStop);\n    }\n\n    return currentStops;\n}\n\nvar FloatElement = ChartElement.extend({\n    init: function(options) {\n        ChartElement.fn.init.call(this, options);\n        this._initDirection();\n    },\n\n    _initDirection: function() {\n        var options = this.options;\n        if (options.vertical) {\n            this.groupAxis = X;\n            this.elementAxis = Y;\n            this.groupSizeField = WIDTH;\n            this.elementSizeField = HEIGHT;\n            this.groupSpacing = options.spacing;\n            this.elementSpacing = options.vSpacing;\n        } else {\n            this.groupAxis = Y;\n            this.elementAxis = X;\n            this.groupSizeField = HEIGHT;\n            this.elementSizeField = WIDTH;\n            this.groupSpacing = options.vSpacing;\n            this.elementSpacing = options.spacing;\n        }\n    },\n\n    reflow: function(targetBox) {\n        this.box = targetBox.clone();\n        this.reflowChildren();\n    },\n\n    reflowChildren: function() {\n        var this$1 = this;\n\n        var ref = this;\n        var box = ref.box;\n        var elementAxis = ref.elementAxis;\n        var groupAxis = ref.groupAxis;\n        var elementSizeField = ref.elementSizeField;\n        var groupSizeField = ref.groupSizeField;\n        var ref$1 = this.groupOptions();\n        var groups = ref$1.groups;\n        var groupsSize = ref$1.groupsSize;\n        var maxGroupElementsSize = ref$1.maxGroupElementsSize;\n        var groupsCount = groups.length;\n        var groupsStart = box[groupAxis + 1] + this.alignStart(groupsSize, box[groupSizeField]());\n\n        if (groupsCount) {\n            var groupStart = groupsStart;\n\n            for (var groupIdx = 0; groupIdx < groupsCount; groupIdx++) {\n                var group = groups[groupIdx];\n                var groupElements = group.groupElements;\n                var elementStart = box[elementAxis + 1];\n                var groupElementsCount = groupElements.length;\n\n                for (var idx = 0; idx < groupElementsCount; idx++) {\n                    var element = groupElements[idx];\n                    var elementSize$$1 = this$1.elementSize(element);\n                    var groupElementStart = groupStart + this$1.alignStart(elementSize$$1[groupSizeField], group.groupSize);\n\n                    var elementBox = new Box();\n                    elementBox[groupAxis + 1] = groupElementStart;\n                    elementBox[groupAxis + 2] = groupElementStart + elementSize$$1[groupSizeField];\n                    elementBox[elementAxis + 1] = elementStart;\n                    elementBox[elementAxis + 2] = elementStart + elementSize$$1[elementSizeField];\n\n                    element.reflow(elementBox);\n\n                    elementStart += elementSize$$1[elementSizeField] + this$1.elementSpacing;\n                }\n                groupStart += group.groupSize + this$1.groupSpacing;\n            }\n            box[groupAxis + 1] = groupsStart;\n            box[groupAxis + 2] = groupsStart + groupsSize;\n            box[elementAxis + 2] = box[elementAxis + 1] + maxGroupElementsSize;\n        }\n    },\n\n    alignStart: function(size, maxSize) {\n        var start = 0;\n        var align = this.options.align;\n        if (align === RIGHT || align === BOTTOM) {\n            start = maxSize - size;\n        } else if (align === CENTER) {\n            start = (maxSize - size) / 2;\n        }\n        return start;\n    },\n\n    groupOptions: function() {\n        var this$1 = this;\n\n        var ref = this;\n        var box = ref.box;\n        var children = ref.children;\n        var elementSizeField = ref.elementSizeField;\n        var groupSizeField = ref.groupSizeField;\n        var elementSpacing = ref.elementSpacing;\n        var groupSpacing = ref.groupSpacing;\n        var maxSize = round(box[elementSizeField]());\n        var childrenCount = children.length;\n        var groups = [];\n\n        var groupSize = 0;\n        var groupElementsSize = 0;\n        var groupsSize = 0;\n        var maxGroupElementsSize = 0;\n        var groupElements = [];\n\n        for (var idx = 0; idx < childrenCount; idx++) {\n            var element = children[idx];\n            if (!element.box) {\n                element.reflow(box);\n            }\n\n            var elementSize$$1 = this$1.elementSize(element);\n            if (this$1.options.wrap && round(groupElementsSize + elementSpacing + elementSize$$1[elementSizeField]) > maxSize) {\n                groups.push({\n                    groupElements: groupElements,\n                    groupSize: groupSize,\n                    groupElementsSize: groupElementsSize\n                });\n                maxGroupElementsSize = Math.max(maxGroupElementsSize, groupElementsSize);\n                groupsSize += groupSpacing + groupSize;\n                groupSize = 0;\n                groupElementsSize = 0;\n                groupElements = [];\n            }\n            groupSize = Math.max(groupSize, elementSize$$1[groupSizeField]);\n            if (groupElementsSize > 0) {\n                groupElementsSize += elementSpacing;\n            }\n            groupElementsSize += elementSize$$1[elementSizeField];\n            groupElements.push(element);\n        }\n\n        groups.push({\n            groupElements: groupElements,\n            groupSize: groupSize,\n            groupElementsSize: groupElementsSize\n        });\n        maxGroupElementsSize = Math.max(maxGroupElementsSize, groupElementsSize);\n        groupsSize += groupSize;\n\n        return {\n            groups: groups,\n            groupsSize: groupsSize,\n            maxGroupElementsSize: maxGroupElementsSize\n        };\n    },\n\n    elementSize: function(element) {\n        return {\n            width: element.box.width(),\n            height: element.box.height()\n        };\n    },\n\n    createVisual: function() {}\n});\n\nsetDefaultOptions(FloatElement, {\n    vertical: true,\n    wrap: true,\n    vSpacing: 0,\n    spacing: 0\n});\n\nvar DrawingText = drawing.Text;\n\nvar Text = ChartElement.extend({\n    init: function(content, options) {\n        ChartElement.fn.init.call(this, options);\n\n        this.content = content;\n\n        // Calculate size\n        this.reflow(new Box());\n    },\n\n    reflow: function(targetBox) {\n        var options = this.options;\n        var size = options.size = util.measureText(this.content, { font: options.font });\n\n        this.baseline = size.baseline;\n\n        this.box = new Box(targetBox.x1, targetBox.y1,\n                targetBox.x1 + size.width, targetBox.y1 + size.height);\n    },\n\n    createVisual: function() {\n        var ref = this.options;\n        var font = ref.font;\n        var color = ref.color;\n        var opacity = ref.opacity;\n        var cursor = ref.cursor;\n\n        this.visual = new DrawingText(this.content, this.box.toRect().topLeft(), {\n            font: font,\n            fill: { color: color, opacity: opacity },\n            cursor: cursor\n        });\n    }\n});\n\nsetDefaultOptions(Text, {\n    font: DEFAULT_FONT,\n    color: BLACK\n});\n\nfunction rectToBox(rect) {\n    var origin = rect.origin;\n    var bottomRight = rect.bottomRight();\n\n    return new Box(origin.x, origin.y, bottomRight.x, bottomRight.y);\n}\n\nvar ROWS_SPLIT_REGEX = /\\n/m;\n\nvar TextBox = BoxElement.extend({\n    init: function(content, options, data) {\n        BoxElement.fn.init.call(this, options);\n        this.content = content;\n        this.data = data;\n\n        this._initContainer();\n        if (this.options._autoReflow !== false) {\n            this.reflow(new Box());\n        }\n    },\n\n    _initContainer: function() {\n        var options = this.options;\n        var rows = String(this.content).split(ROWS_SPLIT_REGEX);\n        var floatElement = new FloatElement({ vertical: true, align: options.align, wrap: false });\n        var textOptions = deepExtend({ }, options, { opacity: 1, animation: null });\n\n        this.container = floatElement;\n        this.append(floatElement);\n\n        for (var rowIdx = 0; rowIdx < rows.length; rowIdx++) {\n            var text = new Text(rows[rowIdx].trim(), textOptions);\n            floatElement.append(text);\n        }\n    },\n\n    reflow: function(targetBox) {\n        var options = this.options;\n        var visualFn = options.visual;\n        this.container.options.align = options.align;\n\n        if (visualFn && !this._boxReflow) {\n            var visualBox = targetBox;\n            if (!visualBox.hasSize()) {\n                this._boxReflow = true;\n                this.reflow(visualBox);\n                this._boxReflow = false;\n                visualBox = this.box;\n            }\n            var visual = this.visual = visualFn(this.visualContext(visualBox));\n\n            if (visual) {\n                visualBox = rectToBox(visual.clippedBBox() || new Rect());\n\n                visual.options.zIndex = options.zIndex;\n            }\n\n            this.box = this.contentBox = this.paddingBox = visualBox;\n        } else {\n            BoxElement.fn.reflow.call(this, targetBox);\n\n            if (options.rotation) {\n                var margin = getSpacing(options.margin);\n                var box = this.box.unpad(margin);\n\n                this.targetBox = targetBox;\n                this.normalBox = box.clone();\n\n                box = this.rotate();\n                box.translate(margin.left - margin.right, margin.top - margin.bottom);\n\n                this.rotatedBox = box.clone();\n\n                box.pad(margin);\n            }\n        }\n    },\n\n    createVisual: function() {\n        var options = this.options;\n\n        this.visual = new Group({\n            transform: this.rotationTransform(),\n            zIndex: options.zIndex,\n            noclip: options.noclip\n        });\n\n        if (this.hasBox()) {\n            var box = Path.fromRect(this.paddingBox.toRect(), this.visualStyle());\n            this.visual.append(box);\n        }\n    },\n\n    renderVisual: function() {\n        if (!this.options.visible) {\n            return;\n        }\n\n        if (this.options.visual) {\n            var visual = this.visual;\n            if (visual && !defined(visual.options.noclip)) {\n                visual.options.noclip = this.options.noclip;\n            }\n            this.addVisual();\n            this.createAnimation();\n        } else {\n            BoxElement.fn.renderVisual.call(this);\n        }\n    },\n\n    visualContext: function(targetBox) {\n        var this$1 = this;\n\n        var context = {\n            text: this.content,\n            rect: targetBox.toRect(),\n            sender: this.getSender(),\n            options: this.options,\n            createVisual: function () {\n                this$1._boxReflow = true;\n                this$1.reflow(targetBox);\n                this$1._boxReflow = false;\n                return this$1.getDefaultVisual();\n            }\n        };\n        if (this.data) {\n            $.extend(context, this.data);\n        }\n\n        return context;\n    },\n\n    getDefaultVisual: function() {\n        this.createVisual();\n        this.renderChildren();\n        var visual = this.visual;\n        delete this.visual;\n        return visual;\n    },\n\n    rotate: function() {\n        var options = this.options;\n        this.box.rotate(options.rotation);\n        this.align(this.targetBox, X, options.align);\n        this.align(this.targetBox, Y, options.vAlign);\n        return this.box;\n    },\n\n    rotationTransform: function() {\n        var rotation = this.options.rotation;\n        if (!rotation) {\n            return null;\n        }\n\n        var ref = this.normalBox.center();\n        var cx = ref.x;\n        var cy = ref.y;\n        var boxCenter = this.rotatedBox.center();\n\n        return geometryTransform()\n                   .translate(boxCenter.x - cx, boxCenter.y - cy)\n                   .rotate(rotation, [ cx, cy ]);\n    }\n});\n\nvar Title = ChartElement.extend({\n    init: function(options) {\n        ChartElement.fn.init.call(this, options);\n\n        this.append(\n            new TextBox(this.options.text, $.extend({}, this.options, {\n                vAlign: this.options.position\n            }))\n        );\n    },\n\n    reflow: function(targetBox) {\n        ChartElement.fn.reflow.call(this, targetBox);\n        this.box.snapTo(targetBox, X);\n    }\n});\n\nTitle.buildTitle = function(options, parent, defaultOptions) {\n    var titleOptions = options;\n\n    if (typeof options === \"string\") {\n        titleOptions = { text: options };\n    }\n\n    titleOptions = $.extend({ visible: true }, defaultOptions, titleOptions);\n\n    var title;\n    if (titleOptions && titleOptions.visible && titleOptions.text) {\n        title = new Title(titleOptions);\n        parent.append(title);\n    }\n\n    return title;\n};\n\nsetDefaultOptions(Title, {\n    color: BLACK,\n    position: TOP,\n    align: CENTER,\n    margin: getSpacing(5),\n    padding: getSpacing(5)\n});\n\nvar AxisLabel = TextBox.extend({\n    init: function(value, text, index, dataItem, options) {\n        TextBox.fn.init.call(this, text, options);\n\n        this.text = text;\n        this.value = value;\n        this.index = index;\n        this.dataItem = dataItem;\n        this.reflow(new Box());\n    },\n\n    visualContext: function(targetBox) {\n        var context = TextBox.fn.visualContext.call(this, targetBox);\n\n        context.value = this.value;\n        context.dataItem = this.dataItem;\n        context.format = this.options.format;\n        context.culture = this.options.culture;\n\n        return context;\n    },\n\n    click: function(widget, e) {\n\n        widget.trigger(AXIS_LABEL_CLICK, {\n            element: eventElement(e),\n            value: this.value,\n            text: this.text,\n            index: this.index,\n            dataItem: this.dataItem,\n            axis: this.parent.options\n        });\n    },\n\n    rotate: function() {\n        if (this.options.alignRotation !== CENTER) {\n            var box = this.normalBox.toRect();\n            var transform = this.rotationTransform();\n\n            this.box = rectToBox(box.bbox(transform.matrix()));\n        } else {\n            TextBox.fn.rotate.call(this);\n        }\n\n        return this.box;\n    },\n\n    rotationTransform: function() {\n        var options = this.options;\n        var rotation = options.rotation;\n        if (!rotation) {\n            return null;\n        }\n\n        if (options.alignRotation === CENTER) {\n            return TextBox.fn.rotationTransform.call(this);\n        }\n\n        var rotationMatrix = geometryTransform().rotate(rotation).matrix();\n        var box = this.normalBox.toRect();\n        var rect = this.targetBox.toRect();\n\n        var rotationOrigin = options.rotationOrigin || TOP;\n        var alignAxis = rotationOrigin === TOP || rotationOrigin === BOTTOM ? X : Y;\n        var distanceAxis = rotationOrigin === TOP || rotationOrigin === BOTTOM ? Y : X;\n        var axisAnchor = rotationOrigin === TOP || rotationOrigin === LEFT ? rect.origin : rect.bottomRight();\n\n        var topLeft = box.topLeft().transformCopy(rotationMatrix);\n        var topRight = box.topRight().transformCopy(rotationMatrix);\n        var bottomRight = box.bottomRight().transformCopy(rotationMatrix);\n        var bottomLeft = box.bottomLeft().transformCopy(rotationMatrix);\n        var rotatedBox = Rect.fromPoints(topLeft, topRight, bottomRight, bottomLeft);\n\n        var translate = {};\n        translate[distanceAxis] = rect.origin[distanceAxis] - rotatedBox.origin[distanceAxis];\n\n        var distanceLeft = Math.abs(topLeft[distanceAxis] + translate[distanceAxis] - axisAnchor[distanceAxis]);\n        var distanceRight = Math.abs(topRight[distanceAxis] + translate[distanceAxis] - axisAnchor[distanceAxis]);\n\n        var alignStart, alignEnd;\n\n        if (round(distanceLeft, DEFAULT_PRECISION) === round(distanceRight, DEFAULT_PRECISION)) {\n            alignStart = topLeft;\n            alignEnd = topRight;\n        } else if (distanceRight < distanceLeft) {\n            alignStart = topRight;\n            alignEnd = bottomRight;\n        } else {\n            alignStart = topLeft;\n            alignEnd = bottomLeft;\n        }\n\n        var alignCenter = alignStart[alignAxis] + (alignEnd[alignAxis] - alignStart[alignAxis]) / 2;\n        translate[alignAxis] = rect.center()[alignAxis] - alignCenter;\n\n        return geometryTransform()\n            .translate(translate.x, translate.y)\n            .rotate(rotation);\n    }\n});\n\nsetDefaultOptions(AxisLabel, {\n    _autoReflow: false\n});\n\nvar DEFAULT_ICON_SIZE = 7;\nvar DEFAULT_LABEL_COLOR = \"#fff\";\n\nvar Note = BoxElement.extend({\n    init: function(fields, options, chartService) {\n        BoxElement.fn.init.call(this, options);\n\n        this.fields = fields;\n        this.chartService = chartService;\n\n        this.render();\n    },\n\n    hide: function() {\n        this.options.visible = false;\n    },\n\n    show: function() {\n        this.options.visible = true;\n    },\n\n    render: function() {\n        var this$1 = this;\n\n        var options = this.options;\n\n        if (options.visible) {\n            var label = options.label;\n            var icon = options.icon;\n            var box = new Box();\n            var childAlias = function () { return this$1; };\n            var size = icon.size;\n            var text = this.fields.text;\n            var width, height;\n\n            if (defined(label) && label.visible) {\n                var noteTemplate = getTemplate(label);\n                if (noteTemplate) {\n                    text = noteTemplate(this.fields);\n                } else if (label.format) {\n                    text = this.chartService.format.auto(label.format, text);\n                }\n\n                if (!label.color) {\n                    label.color = label.position === INSIDE ? DEFAULT_LABEL_COLOR : icon.background;\n                }\n\n                this.label = new TextBox(text, deepExtend({}, label));\n                this.label.aliasFor = childAlias;\n\n                if (label.position === INSIDE && !defined(size)) {\n                    if (icon.type === CIRCLE) {\n                        size = Math.max(this.label.box.width(), this.label.box.height());\n                    } else {\n                        width = this.label.box.width();\n                        height = this.label.box.height();\n                    }\n                    box.wrap(this.label.box);\n                }\n            }\n\n            icon.width = width || size || DEFAULT_ICON_SIZE;\n            icon.height = height || size || DEFAULT_ICON_SIZE;\n\n            var marker = new ShapeElement(deepExtend({}, icon));\n            marker.aliasFor = childAlias;\n\n            this.marker = marker;\n            this.append(marker);\n\n            if (this.label) {\n                this.append(this.label);\n            }\n\n            marker.reflow(new Box());\n            this.wrapperBox = box.wrap(marker.box);\n        }\n    },\n\n    reflow: function(targetBox) {\n        var ref = this;\n        var options = ref.options;\n        var label = ref.label;\n        var marker = ref.marker;\n        var wrapperBox = ref.wrapperBox;\n        var center = targetBox.center();\n        var length = options.line.length;\n        var position = options.position;\n\n        // TODO: Review\n        if (options.visible) {\n            var lineStart, box, contentBox;\n\n            if (inArray(position, [ LEFT, RIGHT ])) {\n                if (position === LEFT) {\n                    contentBox = wrapperBox.alignTo(targetBox, position).translate(-length, targetBox.center().y - wrapperBox.center().y);\n\n                    if (options.line.visible) {\n                        lineStart = [ targetBox.x1, center.y ];\n                        this.linePoints = [\n                            lineStart,\n                            [ contentBox.x2, center.y ]\n                        ];\n                        box = contentBox.clone().wrapPoint(lineStart);\n                    }\n                } else {\n                    contentBox = wrapperBox.alignTo(targetBox, position).translate(length, targetBox.center().y - wrapperBox.center().y);\n\n                    if (options.line.visible) {\n                        lineStart = [ targetBox.x2, center.y ];\n                        this.linePoints = [\n                            lineStart,\n                            [ contentBox.x1, center.y ]\n                        ];\n                        box = contentBox.clone().wrapPoint(lineStart);\n                    }\n                }\n            } else {\n                if (position === BOTTOM) {\n                    contentBox = wrapperBox.alignTo(targetBox, position).translate(targetBox.center().x - wrapperBox.center().x, length);\n\n                    if (options.line.visible) {\n                        lineStart = [ center.x, targetBox.y2 ];\n                        this.linePoints = [\n                            lineStart,\n                            [ center.x, contentBox.y1 ]\n                        ];\n                        box = contentBox.clone().wrapPoint(lineStart);\n                    }\n                } else {\n                    contentBox = wrapperBox.alignTo(targetBox, position).translate(targetBox.center().x - wrapperBox.center().x, -length);\n\n                    if (options.line.visible) {\n                        lineStart = [ center.x, targetBox.y1 ];\n                        this.linePoints = [\n                            lineStart,\n                            [ center.x, contentBox.y2 ]\n                        ];\n                        box = contentBox.clone().wrapPoint(lineStart);\n                    }\n                }\n            }\n\n            if (marker) {\n                marker.reflow(contentBox);\n            }\n\n            if (label) {\n                label.reflow(contentBox);\n                if (marker) {\n                    if (options.label.position === OUTSIDE) {\n                        label.box.alignTo(marker.box, position);\n                    }\n                    label.reflow(label.box);\n                }\n            }\n\n            this.contentBox = contentBox;\n            this.targetBox = targetBox;\n            this.box = box || contentBox;\n        }\n    },\n\n    createVisual: function() {\n        BoxElement.fn.createVisual.call(this);\n        this.visual.options.noclip = this.options.noclip;\n\n        if (this.options.visible) {\n            this.createLine();\n        }\n    },\n\n    renderVisual: function() {\n        var this$1 = this;\n\n        var options = this.options;\n        var customVisual = options.visual;\n        if (options.visible && customVisual) {\n            this.visual = customVisual($.extend(this.fields, {\n                sender: this.getSender(),\n                rect: this.targetBox.toRect(),\n                options: {\n                    background: options.background,\n                    border: options.background,\n                    icon: options.icon,\n                    label: options.label,\n                    line: options.line,\n                    position: options.position,\n                    visible: options.visible\n                },\n                createVisual: function () {\n                    this$1.createVisual();\n                    this$1.renderChildren();\n                    var defaultVisual = this$1.visual;\n                    delete this$1.visual;\n                    return defaultVisual;\n                }\n            }));\n            this.addVisual();\n        } else {\n            BoxElement.fn.renderVisual.call(this);\n        }\n    },\n\n    createLine: function() {\n        var options = this.options.line;\n\n        if (this.linePoints) {\n            var path = Path.fromPoints(this.linePoints, {\n                stroke: {\n                    color: options.color,\n                    width: options.width,\n                    dashType: options.dashType\n                }\n            });\n\n            alignPathToPixel(path);\n            this.visual.append(path);\n        }\n    },\n\n    click: function(widget, e) {\n        var args = this.eventArgs(e);\n\n        if (!widget.trigger(NOTE_CLICK, args)) {\n            e.preventDefault();\n        }\n    },\n\n    over: function(widget, e) {\n        var args = this.eventArgs(e);\n\n        if (!widget.trigger(NOTE_HOVER, args)) {\n            e.preventDefault();\n        }\n    },\n\n    out: function(widget, e) {\n        var args = this.eventArgs(e);\n\n        widget.trigger(NOTE_LEAVE, args);\n    },\n\n    eventArgs: function(e) {\n        var options = this.options;\n\n        return $.extend(this.fields, {\n            element: eventElement(e),\n            text: defined(options.label) ? options.label.text : \"\",\n            visual: this.visual\n        });\n    }\n});\n\nsetDefaultOptions(Note, {\n    icon: {\n        visible: true,\n        type: CIRCLE\n    },\n    label: {\n        position: INSIDE,\n        visible: true,\n        align: CENTER,\n        vAlign: CENTER\n    },\n    line: {\n        visible: true\n    },\n    visible: true,\n    position: TOP,\n    zIndex: 2\n});\n\nvar defaultImplementation = {\n    format: function (format, value) { return value; },\n\n    toString: function (value) { return value; },\n\n    parseDate: function (value) { return new Date(value); },\n\n    firstDay: function () { return 0; }\n};\n\nvar current$1 = defaultImplementation;\n\nvar IntlService = Class.extend({\n\n});\n\nIntlService.register = function(userImplementation) {\n    current$1 = userImplementation;\n};\n\nif (Object.defineProperties) {\n    Object.defineProperties(IntlService, {\n        implementation: {\n            get: function() {\n                return current$1;\n            }\n        }\n    });\n}\n\nvar FORMAT_REPLACE_REGEX = /\\{(\\d+)(:[^\\}]+)?\\}/g;\n\nvar FormatService = Class.extend({\n    init: function(intlService) {\n        this._intlService = intlService;\n    },\n\n    auto: function(formatString) {\n        var values = [], len = arguments.length - 1;\n        while ( len-- > 0 ) values[ len ] = arguments[ len + 1 ];\n\n        var intl = this.intl;\n\n        if (isString(formatString) && formatString.match(FORMAT_REGEX)) {\n            return intl.format.apply(intl, [ formatString ].concat( values ));\n        }\n\n        return intl.toString(values[0], formatString);\n    },\n\n    localeAuto: function(formatString, values, locale) {\n        var intl = this.intl;\n        var result;\n\n        if (isString(formatString) && formatString.match(FORMAT_REGEX)) {\n            result = formatString.replace(FORMAT_REPLACE_REGEX, function(match, index, placeholderFormat) {\n                var value = values[parseInt(index, 10)];\n\n                return intl.toString(value, placeholderFormat ? placeholderFormat.substring(1) : \"\", locale);\n            });\n        } else {\n            result = intl.toString(values[0], formatString, locale);\n        }\n\n        return result;\n    }\n});\n\nif (Object.defineProperties) {\n    Object.defineProperties(FormatService.fn, {\n        intl: {\n            get: function() {\n                return this._intlService || IntlService.implementation;\n            },\n            set: function(value) {\n                this._intlService = value;\n            }\n        }\n    });\n}\n\nvar ChartService = Class.extend({\n    init: function(chart, context) {\n        if (context === void 0) { context = {}; }\n\n        this._intlService = context.intlService;\n        this.sender = context.sender || chart;\n        this.format = new FormatService(context.intlService);\n        this.chart = chart;\n        this.rtl = Boolean(context.rtl);\n    },\n\n    notify: function(name, args) {\n        if (this.chart) {\n            this.chart.trigger(name, args);\n        }\n    },\n\n    isPannable: function(axis) {\n        var pannable = ((this.chart || {}).options || {}).pannable;\n        return pannable && pannable.lock !== axis;\n    }\n});\n\nif (Object.defineProperties) {\n    Object.defineProperties(ChartService.fn, {\n        intl: {\n            get: function() {\n                return this._intlService || IntlService.implementation;\n            },\n            set: function(value) {\n                this._intlService = value;\n                this.format.intl = value;\n            }\n        }\n    });\n}\n\nvar current$2;\n\nvar DomEventsBuilder = Class.extend({\n\n});\n\nDomEventsBuilder.register = function(userImplementation) {\n    current$2 = userImplementation;\n};\n\nDomEventsBuilder.create = function(element, events) {\n    if (current$2) {\n        return current$2.create(element, events);\n    }\n};\n\nvar services = {\n\tChartService: ChartService,\n\tDomEventsBuilder: DomEventsBuilder,\n\tFormatService: FormatService,\n\tIntlService: IntlService,\n\tTemplateService: TemplateService\n};\n\nfunction createAxisTick(options, tickOptions) {\n    var tickX = options.tickX;\n    var tickY = options.tickY;\n    var position = options.position;\n\n    var tick = new Path({\n        stroke: {\n            width: tickOptions.width,\n            color: tickOptions.color\n        }\n    });\n\n    if (options.vertical) {\n        tick.moveTo(tickX, position)\n            .lineTo(tickX + tickOptions.size, position);\n    } else {\n        tick.moveTo(position, tickY)\n            .lineTo(position, tickY + tickOptions.size);\n    }\n\n    alignPathToPixel(tick);\n\n    return tick;\n}\n\nfunction createAxisGridLine(options, gridLine) {\n    var lineStart = options.lineStart;\n    var lineEnd = options.lineEnd;\n    var position = options.position;\n\n    var line = new Path({\n        stroke: {\n            width: gridLine.width,\n            color: gridLine.color,\n            dashType: gridLine.dashType\n        }\n    });\n\n    if (options.vertical) {\n        line.moveTo(lineStart, position)\n            .lineTo(lineEnd, position);\n    } else {\n        line.moveTo(position, lineStart)\n            .lineTo(position, lineEnd);\n    }\n\n    alignPathToPixel(line);\n\n    return line;\n}\n\nvar Axis = ChartElement.extend({\n    init: function(options, chartService) {\n        if (chartService === void 0) { chartService = new ChartService(); }\n\n        ChartElement.fn.init.call(this, options);\n\n        this.chartService = chartService;\n\n        if (!this.options.visible) {\n            this.options = deepExtend({}, this.options, {\n                labels: {\n                    visible: false\n                },\n                line: {\n                    visible: false\n                },\n                margin: 0,\n                majorTickSize: 0,\n                minorTickSize: 0\n            });\n        }\n\n        this.options.minorTicks = deepExtend({}, {\n            color: this.options.line.color,\n            width: this.options.line.width,\n            visible: this.options.minorTickType !== NONE\n        }, this.options.minorTicks, {\n            size: this.options.minorTickSize,\n            align: this.options.minorTickType\n        });\n\n        this.options.majorTicks = deepExtend({}, {\n            color: this.options.line.color,\n            width: this.options.line.width,\n            visible: this.options.majorTickType !== NONE\n        }, this.options.majorTicks, {\n            size: this.options.majorTickSize,\n            align: this.options.majorTickType\n        });\n\n        this.initFields();\n\n        if (!this.options._deferLabels) {\n            this.createLabels();\n        }\n\n        this.createTitle();\n        this.createNotes();\n    },\n\n    initFields: function() {\n    },\n\n    labelsRange: function() {\n        return {\n            min: this.options.labels.skip,\n            max: this.labelsCount()\n        };\n    },\n\n    normalizeLabelRotation: function(labelOptions) {\n        var rotation = labelOptions.rotation;\n\n        if (isObject(rotation)) {\n            labelOptions.alignRotation = rotation.align;\n            labelOptions.rotation = rotation.angle;\n        }\n    },\n\n    createLabels: function() {\n        var this$1 = this;\n\n        var options = this.options;\n        var align = options.vertical ? RIGHT : CENTER;\n        var labelOptions = deepExtend({ }, options.labels, {\n            align: align,\n            zIndex: options.zIndex\n        });\n        var step = Math.max(1, labelOptions.step);\n\n        this.clearLabels();\n\n        if (labelOptions.visible) {\n            this.normalizeLabelRotation(labelOptions);\n            if (labelOptions.rotation === \"auto\") {\n                labelOptions.rotation = 0;\n                options.autoRotateLabels = true;\n            }\n\n            var range = this.labelsRange();\n            for (var idx = range.min; idx < range.max; idx += step) {\n                var labelContext = { index: idx, count: range.max };\n                var label = this$1.createAxisLabel(idx, labelOptions, labelContext);\n                if (label) {\n                    this$1.append(label);\n                    this$1.labels.push(label);\n                }\n            }\n        }\n    },\n\n    clearLabels: function() {\n        this.children = grep(this.children, function (child) { return !(child instanceof AxisLabel); });\n        this.labels = [];\n    },\n\n    clearTitle: function() {\n        var this$1 = this;\n\n        if (this.title) {\n            this.children = grep(this.children, function (child) { return child !== this$1.title; });\n            this.title = undefined;\n        }\n    },\n\n    clear: function() {\n        this.clearLabels();\n        this.clearTitle();\n    },\n\n    lineBox: function() {\n        var ref = this;\n        var options = ref.options;\n        var box = ref.box;\n        var vertical = options.vertical;\n        var mirror = options.labels.mirror;\n        var axisX = mirror ? box.x1 : box.x2;\n        var axisY = mirror ? box.y2 : box.y1;\n        var lineWidth = options.line.width || 0;\n\n        return vertical ?\n            new Box(axisX, box.y1, axisX, box.y2 - lineWidth) :\n            new Box(box.x1, axisY, box.x2 - lineWidth, axisY);\n    },\n\n    createTitle: function() {\n        var options = this.options;\n        var titleOptions = deepExtend({\n            rotation: options.vertical ? -90 : 0,\n            text: \"\",\n            zIndex: 1,\n            visualSize: true\n        }, options.title);\n\n        if (titleOptions.visible && titleOptions.text) {\n            var title = new TextBox(titleOptions.text, titleOptions);\n            this.append(title);\n            this.title = title;\n        }\n    },\n\n    createNotes: function() {\n        var this$1 = this;\n\n        var options = this.options;\n        var notes = options.notes;\n        var items = notes.data || [];\n\n        this.notes = [];\n\n        for (var i = 0; i < items.length; i++) {\n            var item = deepExtend({}, notes, items[i]);\n            item.value = this$1.parseNoteValue(item.value);\n\n            var note = new Note({\n                value: item.value,\n                text: item.label.text,\n                dataItem: item\n            }, item, this$1.chartService);\n\n            if (note.options.visible) {\n                if (defined(note.options.position)) {\n                    if (options.vertical && !inArray(note.options.position, [ LEFT, RIGHT ])) {\n                        note.options.position = options.reverse ? LEFT : RIGHT;\n                    } else if (!options.vertical && !inArray(note.options.position, [ TOP, BOTTOM ])) {\n                        note.options.position = options.reverse ? BOTTOM : TOP;\n                    }\n                } else {\n                    if (options.vertical) {\n                        note.options.position = options.reverse ? LEFT : RIGHT;\n                    } else {\n                        note.options.position = options.reverse ? BOTTOM : TOP;\n                    }\n                }\n                this$1.append(note);\n                this$1.notes.push(note);\n            }\n        }\n    },\n\n    parseNoteValue: function(value) {\n        return value;\n    },\n\n    renderVisual: function() {\n        ChartElement.fn.renderVisual.call(this);\n\n        this.createPlotBands();\n    },\n\n    createVisual: function() {\n        ChartElement.fn.createVisual.call(this);\n\n        this.createBackground();\n        this.createLine();\n    },\n\n    gridLinesVisual: function() {\n        var gridLines = this._gridLines;\n        if (!gridLines) {\n            gridLines = this._gridLines = new Group({\n                zIndex: -2\n            });\n            this.appendVisual(this._gridLines);\n        }\n\n        return gridLines;\n    },\n\n    createTicks: function(lineGroup) {\n        var options = this.options;\n        var lineBox = this.lineBox();\n        var mirror = options.labels.mirror;\n        var majorUnit = options.majorTicks.visible ? options.majorUnit : 0;\n        var tickLineOptions = {\n            // TODO\n            // _alignLines: options._alignLines,\n            vertical: options.vertical\n        };\n\n        function render(tickPositions, tickOptions, skipUnit) {\n            var count = tickPositions.length;\n            var step = Math.max(1, tickOptions.step);\n\n            if (tickOptions.visible) {\n                for (var i = tickOptions.skip; i < count; i += step) {\n                    if (defined(skipUnit) && (i % skipUnit === 0)) {\n                        continue;\n                    }\n\n                    tickLineOptions.tickX = mirror ? lineBox.x2 : lineBox.x2 - tickOptions.size;\n                    tickLineOptions.tickY = mirror ? lineBox.y1 - tickOptions.size : lineBox.y1;\n                    tickLineOptions.position = tickPositions[i];\n\n                    lineGroup.append(createAxisTick(tickLineOptions, tickOptions));\n                }\n            }\n        }\n\n        render(this.getMajorTickPositions(), options.majorTicks);\n        render(this.getMinorTickPositions(), options.minorTicks, majorUnit / options.minorUnit);\n    },\n\n    createLine: function() {\n        var options = this.options;\n        var line = options.line;\n        var lineBox = this.lineBox();\n\n        if (line.width > 0 && line.visible) {\n            var path = new Path({\n                stroke: {\n                    width: line.width,\n                    color: line.color,\n                    dashType: line.dashType\n                }\n\n                /* TODO\n                zIndex: line.zIndex,\n                */\n            });\n\n            path.moveTo(lineBox.x1, lineBox.y1)\n                .lineTo(lineBox.x2, lineBox.y2);\n\n            if (options._alignLines) {\n                alignPathToPixel(path);\n            }\n\n            var group = this._lineGroup = new Group();\n            group.append(path);\n\n            this.visual.append(group);\n            this.createTicks(group);\n        }\n    },\n\n    getActualTickSize: function() {\n        var options = this.options;\n        var tickSize = 0;\n\n        if (options.majorTicks.visible && options.minorTicks.visible) {\n            tickSize = Math.max(options.majorTicks.size, options.minorTicks.size);\n        } else if (options.majorTicks.visible) {\n            tickSize = options.majorTicks.size;\n        } else if (options.minorTicks.visible) {\n            tickSize = options.minorTicks.size;\n        }\n\n        return tickSize;\n    },\n\n    createBackground: function() {\n        var ref = this;\n        var options = ref.options;\n        var box = ref.box;\n        var background = options.background;\n\n        if (background) {\n            this._backgroundPath = Path.fromRect(box.toRect(), {\n                fill: {\n                    color: background\n                },\n                stroke: null\n            });\n\n            this.visual.append(this._backgroundPath);\n        }\n    },\n\n    createPlotBands: function() {\n        var this$1 = this;\n\n        var options = this.options;\n        var plotBands = options.plotBands || [];\n        var vertical = options.vertical;\n        var plotArea = this.plotArea;\n\n        if (plotBands.length === 0) {\n            return;\n        }\n\n        var group = this._plotbandGroup = new Group({\n            zIndex: -1\n        });\n\n        var altAxis = grep(this.pane.axes, function (axis) { return axis.options.vertical !== this$1.options.vertical; })[0];\n\n        for (var idx = 0; idx < plotBands.length; idx++) {\n            var item = plotBands[idx];\n            var slotX = (void 0), slotY = (void 0);\n            var labelOptions = item.label;\n            var label = (void 0);\n\n            if (vertical) {\n                slotX = (altAxis || plotArea.axisX).lineBox();\n                slotY = this$1.getSlot(item.from, item.to, true);\n            } else {\n                slotX = this$1.getSlot(item.from, item.to, true);\n                slotY = (altAxis || plotArea.axisY).lineBox();\n            }\n\n            if (labelOptions) {\n                labelOptions.vAlign = labelOptions.position || LEFT;\n                label = this$1.createPlotBandLabel(\n                    labelOptions,\n                    item,\n                    new Box(\n                        slotX.x1,\n                        slotY.y1,\n                        slotX.x2,\n                        slotY.y2\n                    )\n\n                );\n            }\n\n            if (slotX.width() !== 0 && slotY.height() !== 0) {\n                var bandRect = new Rect(\n                    [ slotX.x1, slotY.y1 ],\n                    [ slotX.width(), slotY.height() ]\n                );\n\n                var path = Path.fromRect(bandRect, {\n                    fill: {\n                        color: item.color,\n                        opacity: item.opacity\n                    },\n                    stroke: null\n                });\n\n                group.append(path);\n                if (label) {\n                    group.append(label);\n                }\n            }\n        }\n\n        this.appendVisual(group);\n    },\n\n    createPlotBandLabel: function(label, item, box) {\n\n        if (label.visible === false) {\n            return null;\n        }\n\n        var text = label.text;\n        var textbox;\n\n        if (defined(label) && label.visible) {\n            var labelTemplate = getTemplate(label);\n            if (labelTemplate) {\n                text = labelTemplate({ text: text, item: item });\n            } else if (label.format) {\n                text = this.chartService.format.auto(label.format, text);\n            }\n\n            if (!label.color) {\n                label.color = this.options.labels.color;\n            }\n        }\n\n        textbox = new TextBox(text, label);\n        textbox.reflow(box);\n        textbox.renderVisual();\n\n        return textbox.visual;\n    },\n\n    createGridLines: function(altAxis) {\n        var options = this.options;\n        var minorGridLines = options.minorGridLines;\n        var majorGridLines = options.majorGridLines;\n        var minorUnit = options.minorUnit;\n        var vertical = options.vertical;\n        var axisLineVisible = altAxis.options.line.visible;\n        var majorUnit = majorGridLines.visible ? options.majorUnit : 0;\n        var lineBox = altAxis.lineBox();\n        var linePos = lineBox[vertical ? \"y1\" : \"x1\"];\n        var lineOptions = {\n            lineStart: lineBox[vertical ? \"x1\" : \"y1\"],\n            lineEnd: lineBox[vertical ? \"x2\" : \"y2\"],\n            vertical: vertical\n        };\n        var majorTicks = [];\n\n        var container = this.gridLinesVisual();\n\n        function render(tickPositions, gridLine, skipUnit) {\n            var count = tickPositions.length;\n            var step = Math.max(1, gridLine.step);\n\n            if (gridLine.visible) {\n                for (var i = gridLine.skip; i < count; i += step) {\n                    var pos = round(tickPositions[i]);\n                    if (!inArray(pos, majorTicks)) {\n                        if (i % skipUnit !== 0 && (!axisLineVisible || linePos !== pos)) {\n                            lineOptions.position = pos;\n                            container.append(createAxisGridLine(lineOptions, gridLine));\n\n                            majorTicks.push(pos);\n                        }\n                    }\n                }\n            }\n        }\n\n        render(this.getMajorTickPositions(), majorGridLines);\n        render(this.getMinorTickPositions(), minorGridLines, majorUnit / minorUnit);\n\n        return container.children;\n    },\n\n    reflow: function(box) {\n        var ref = this;\n        var options = ref.options;\n        var labels = ref.labels;\n        var title = ref.title;\n        var vertical = options.vertical;\n        var count = labels.length;\n        var sizeFn = vertical ? WIDTH : HEIGHT;\n        var titleSize = title ? title.box[sizeFn]() : 0;\n        var space = this.getActualTickSize() + options.margin + titleSize;\n        var rootBox = (this.getRoot() || {}).box || box;\n        var boxSize = rootBox[sizeFn]();\n        var maxLabelSize = 0;\n\n        for (var i = 0; i < count; i++) {\n            var labelSize = labels[i].box[sizeFn]();\n            if (labelSize + space <= boxSize) {\n                maxLabelSize = Math.max(maxLabelSize, labelSize);\n            }\n        }\n\n        if (vertical) {\n            this.box = new Box(\n                box.x1, box.y1,\n                box.x1 + maxLabelSize + space, box.y2\n            );\n        } else {\n            this.box = new Box(\n                box.x1, box.y1,\n                box.x2, box.y1 + maxLabelSize + space\n            );\n        }\n\n        this.arrangeTitle();\n        this.arrangeLabels();\n        this.arrangeNotes();\n    },\n\n    getLabelsTickPositions: function() {\n        return this.getMajorTickPositions();\n    },\n\n    labelTickIndex: function(label) {\n        return label.index;\n    },\n\n    arrangeLabels: function() {\n        var this$1 = this;\n\n        var ref = this;\n        var options = ref.options;\n        var labels = ref.labels;\n        var labelsBetweenTicks = this.labelsBetweenTicks();\n        var vertical = options.vertical;\n        var mirror = options.labels.mirror;\n        var tickPositions = this.getLabelsTickPositions();\n\n        for (var idx = 0; idx < labels.length; idx++) {\n            var label = labels[idx];\n            var tickIx = this$1.labelTickIndex(label);\n            var labelSize = vertical ? label.box.height() : label.box.width();\n            var firstTickPosition = tickPositions[tickIx];\n            var nextTickPosition = tickPositions[tickIx + 1];\n            var positionStart = (void 0), positionEnd = (void 0);\n\n            if (vertical) {\n                if (labelsBetweenTicks) {\n                    var middle = firstTickPosition + (nextTickPosition - firstTickPosition) / 2;\n                    positionStart = middle - (labelSize / 2);\n                } else {\n                    positionStart = firstTickPosition - (labelSize / 2);\n                }\n\n                positionEnd = positionStart;\n            } else {\n                if (labelsBetweenTicks) {\n                    positionStart = firstTickPosition;\n                    positionEnd = nextTickPosition;\n                } else {\n                    positionStart = firstTickPosition - (labelSize / 2);\n                    positionEnd = positionStart + labelSize;\n                }\n            }\n\n            this$1.positionLabel(label, mirror, positionStart, positionEnd);\n        }\n    },\n\n    positionLabel: function(label, mirror, positionStart, positionEnd) {\n        if (positionEnd === void 0) { positionEnd = positionStart; }\n\n        var options = this.options;\n        var vertical = options.vertical;\n        var lineBox = this.lineBox();\n        var labelOffset = this.getActualTickSize() + options.margin;\n        var labelBox;\n\n        if (vertical) {\n            var labelX = lineBox.x2;\n\n            if (mirror) {\n                labelX += labelOffset;\n                label.options.rotationOrigin = LEFT;\n            } else {\n                labelX -= labelOffset + label.box.width();\n                label.options.rotationOrigin = RIGHT;\n            }\n\n            labelBox = label.box.move(labelX, positionStart);\n        } else {\n            var labelY = lineBox.y1;\n\n            if (mirror) {\n                labelY -= labelOffset + label.box.height();\n                label.options.rotationOrigin = BOTTOM;\n            } else {\n                labelY += labelOffset;\n                label.options.rotationOrigin = TOP;\n            }\n\n            labelBox = new Box(\n                positionStart, labelY,\n                positionEnd, labelY + label.box.height()\n            );\n        }\n\n        label.reflow(labelBox);\n    },\n\n    autoRotateLabelAngle: function(labelBox, slotWidth) {\n        if (labelBox.width() < slotWidth) {\n            return 0;\n        }\n\n        if (labelBox.height() > slotWidth) {\n            return -90;\n        }\n\n        return -45;\n    },\n\n    autoRotateLabels: function() {\n        var this$1 = this;\n\n        if (!this.options.autoRotateLabels || this.options.vertical) {\n            return false;\n        }\n\n        var tickPositions = this.getMajorTickPositions();\n        var labels = this.labels;\n        var limit = Math.min(labels.length, tickPositions.length - 1);\n        var angle = 0;\n\n        for (var idx = 0; idx < limit; idx++) {\n            var width = Math.abs(tickPositions[idx + 1] - tickPositions[idx]);\n            var labelBox = labels[idx].box;\n            var labelAngle = this$1.autoRotateLabelAngle(labelBox, width);\n\n            if (labelAngle !== 0) {\n                angle = labelAngle;\n            }\n\n            if (angle === -90) {\n                break;\n            }\n        }\n\n        if (angle !== 0) {\n            for (var idx$1 = 0; idx$1 < labels.length; idx$1++) {\n                labels[idx$1].options.rotation = angle;\n                labels[idx$1].reflow(new Box());\n            }\n\n            return true;\n        }\n    },\n\n    arrangeTitle: function() {\n        var ref = this;\n        var options = ref.options;\n        var title = ref.title;\n        var mirror = options.labels.mirror;\n        var vertical = options.vertical;\n\n        if (title) {\n            if (vertical) {\n                title.options.align = mirror ? RIGHT : LEFT;\n                title.options.vAlign = title.options.position;\n            } else {\n                title.options.align = title.options.position;\n                title.options.vAlign = mirror ? TOP : BOTTOM;\n            }\n\n            title.reflow(this.box);\n        }\n    },\n\n    arrangeNotes: function() {\n        var this$1 = this;\n\n        for (var idx = 0; idx < this.notes.length; idx++) {\n            var item = this$1.notes[idx];\n            var value = item.options.value;\n            var slot = (void 0);\n\n            if (defined(value)) {\n                if (this$1.shouldRenderNote(value)) {\n                    item.show();\n                } else {\n                    item.hide();\n                }\n\n                slot = this$1.noteSlot(value);\n            } else {\n                item.hide();\n            }\n\n            item.reflow(slot || this$1.lineBox());\n        }\n    },\n\n    noteSlot: function(value) {\n        return this.getSlot(value);\n    },\n\n    alignTo: function(secondAxis) {\n        var lineBox = secondAxis.lineBox();\n        var vertical = this.options.vertical;\n        var pos = vertical ? Y : X;\n\n        this.box.snapTo(lineBox, pos);\n        if (vertical) {\n            this.box.shrink(0, this.lineBox().height() - lineBox.height());\n        } else {\n            this.box.shrink(this.lineBox().width() - lineBox.width(), 0);\n        }\n        this.box[pos + 1] -= this.lineBox()[pos + 1] - lineBox[pos + 1];\n        this.box[pos + 2] -= this.lineBox()[pos + 2] - lineBox[pos + 2];\n    },\n\n    axisLabelText: function(value, options, context) {\n        var this$1 = this;\n\n        var text;\n        var tmpl = getTemplate(options);\n        var defaultText = function () {\n            if (!options.format) {\n                return value;\n            }\n\n            return this$1.chartService.format.localeAuto(\n                options.format, [ value ], options.culture\n            );\n        };\n\n        if (tmpl) {\n            var templateContext = $.extend({}, context, {\n                get text() { return defaultText(); },\n                value: value,\n                format: options.format,\n                culture: options.culture\n            });\n\n            text = tmpl(templateContext);\n        } else {\n            text = defaultText();\n        }\n\n        return text;\n    },\n\n    slot: function(from , to, limit) {\n        var slot = this.getSlot(from, to, limit);\n        if (slot) {\n            return slot.toRect();\n        }\n    },\n\n    contentBox: function() {\n        var box = this.box.clone();\n        var labels = this.labels;\n        if (labels.length) {\n            var axis = this.options.vertical ? Y : X;\n            if (this.chartService.isPannable(axis)) {\n                var offset = this.maxLabelOffset();\n                box[axis + 1] -= offset.start;\n                box[axis + 2] += offset.end;\n            } else {\n                if (labels[0].options.visible) {\n                    box.wrap(labels[0].box);\n                }\n                var lastLabel = labels[labels.length - 1];\n                if (lastLabel.options.visible) {\n                    box.wrap(lastLabel.box);\n                }\n            }\n        }\n\n        return box;\n    },\n\n    maxLabelOffset: function() {\n        var this$1 = this;\n\n        var ref = this.options;\n        var vertical = ref.vertical;\n        var reverse = ref.reverse;\n        var labelsBetweenTicks = this.labelsBetweenTicks();\n        var tickPositions = this.getLabelsTickPositions();\n        var offsetField = vertical ? Y : X;\n        var labels = this.labels;\n        var startPosition = reverse ? 1 : 0;\n        var endPosition = reverse ? 0 : 1;\n        var maxStartOffset = 0;\n        var maxEndOffset = 0;\n\n        for (var idx = 0; idx < labels.length; idx++) {\n            var label = labels[idx];\n            var tickIx = this$1.labelTickIndex(label);\n            var startTick = (void 0), endTick = (void 0);\n\n            if (labelsBetweenTicks) {\n                startTick = tickPositions[tickIx + startPosition];\n                endTick = tickPositions[tickIx + endPosition];\n            } else {\n                startTick = endTick = tickPositions[tickIx];\n            }\n\n            maxStartOffset = Math.max(maxStartOffset, startTick - label.box[offsetField + 1]);\n            maxEndOffset = Math.max(maxEndOffset, label.box[offsetField + 2] - endTick);\n        }\n\n        return {\n            start: maxStartOffset,\n            end: maxEndOffset\n        };\n    },\n\n    limitRange: function(from, to, min, max, offset) {\n        var options = this.options;\n\n        if ((from < min && offset < 0 && (!defined(options.min) || options.min <= min)) || (max < to && offset > 0 && (!defined(options.max) || max <= options.max))) {\n            return null;\n        }\n\n        if ((to < min && offset > 0) || (max < from && offset < 0)) {\n            return {\n                min: from,\n                max: to\n            };\n        }\n\n        var rangeSize = to - from;\n        var minValue = from;\n        var maxValue = to;\n\n        if (from < min && offset < 0) {\n            minValue = limitValue(from, min, max);\n            maxValue = limitValue(from + rangeSize, min + rangeSize, max);\n        } else if (to > max && offset > 0) {\n            maxValue = limitValue(to, min, max);\n            minValue = limitValue(to - rangeSize, min, max - rangeSize);\n        }\n\n        return {\n            min: minValue,\n            max: maxValue\n        };\n    },\n\n    valueRange: function() {\n        return {\n            min: this.seriesMin,\n            max: this.seriesMax\n        };\n    },\n\n    lineDir: function() {\n        /*\n         * Axis line direction:\n         *   * Vertical: up.\n         *   * Horizontal: right.\n         */\n\n        var ref = this.options;\n        var vertical = ref.vertical;\n        var reverse = ref.reverse;\n        return (vertical ? -1 : 1) * (reverse ? -1 : 1);\n    },\n\n    lineInfo: function() {\n        var ref = this.options;\n        var vertical = ref.vertical;\n        var lineBox = this.lineBox();\n        var lineSize = vertical ? lineBox.height() : lineBox.width();\n        var axis = vertical ? Y : X;\n        var axisDir = this.lineDir();\n        var startEdge = axisDir === 1 ? 1 : 2;\n        var axisOrigin = axis + startEdge.toString();\n        var lineStart = lineBox[axisOrigin];\n\n        return {\n            axis: axis,\n            axisOrigin: axisOrigin,\n            axisDir: axisDir,\n            lineBox: lineBox,\n            lineSize: lineSize,\n            lineStart: lineStart\n        };\n    },\n\n    pointOffset: function(point) {\n        var ref = this.lineInfo();\n        var axis = ref.axis;\n        var axisDir = ref.axisDir;\n        var axisOrigin = ref.axisOrigin;\n        var lineBox = ref.lineBox;\n        var lineSize = ref.lineSize;\n        var relative = axisDir > 0 ? point[axis] - lineBox[axisOrigin] : lineBox[axisOrigin] - point[axis];\n        var offset = relative / lineSize;\n\n        return offset;\n    },\n\n    scaleToDelta: function(rawScale, range) {\n        // Scale >= 1 would result in axis range of 0.\n        // Scale <= -1 would reverse the scale direction.\n        var MAX_SCALE = 0.999;\n        var scale = limitValue(rawScale, -MAX_SCALE, MAX_SCALE);\n\n        var delta;\n        if (scale > 0) {\n            delta = range * Math.min(1, scale);\n        } else {\n            delta = range - (range / (1 + scale));\n        }\n\n        return delta;\n    },\n\n    labelsBetweenTicks: function() {\n        return !this.options.justified;\n    },\n\n    prepareUserOptions: function() {\n    }\n});\n\nsetDefaultOptions(Axis, {\n    labels: {\n        visible: true,\n        rotation: 0,\n        mirror: false,\n        step: 1,\n        skip: 0\n    },\n    line: {\n        width: 1,\n        color: BLACK,\n        visible: true\n    },\n    title: {\n        visible: true,\n        position: CENTER\n    },\n    majorTicks: {\n        align: OUTSIDE,\n        size: 4,\n        skip: 0,\n        step: 1\n    },\n    minorTicks: {\n        align: OUTSIDE,\n        size: 3,\n        skip: 0,\n        step: 1\n    },\n    axisCrossingValue: 0,\n    majorTickType: OUTSIDE,\n    minorTickType: NONE,\n    majorGridLines: {\n        skip: 0,\n        step: 1\n    },\n    minorGridLines: {\n        visible: false,\n        width: 1,\n        color: BLACK,\n        skip: 0,\n        step: 1\n    },\n    // TODO: Move to line or labels options\n    margin: 5,\n    visible: true,\n    reverse: false,\n    justified: true,\n    notes: {\n        label: {\n            text: \"\"\n        }\n    },\n\n    _alignLines: true,\n    _deferLabels: false\n});\n\nvar MILLISECONDS = \"milliseconds\";\nvar SECONDS = \"seconds\";\nvar MINUTES = \"minutes\";\nvar HOURS = \"hours\";\nvar DAYS = \"days\";\nvar WEEKS = \"weeks\";\nvar MONTHS = \"months\";\nvar YEARS = \"years\";\n\nvar TIME_PER_MILLISECOND = 1;\nvar TIME_PER_SECOND = 1000;\nvar TIME_PER_MINUTE = 60 * TIME_PER_SECOND;\nvar TIME_PER_HOUR = 60 * TIME_PER_MINUTE;\nvar TIME_PER_DAY = 24 * TIME_PER_HOUR;\nvar TIME_PER_WEEK = 7 * TIME_PER_DAY;\nvar TIME_PER_MONTH = 31 * TIME_PER_DAY;\nvar TIME_PER_YEAR = 365 * TIME_PER_DAY;\nvar TIME_PER_UNIT = {\n    \"years\": TIME_PER_YEAR,\n    \"months\": TIME_PER_MONTH,\n    \"weeks\": TIME_PER_WEEK,\n    \"days\": TIME_PER_DAY,\n    \"hours\": TIME_PER_HOUR,\n    \"minutes\": TIME_PER_MINUTE,\n    \"seconds\": TIME_PER_SECOND,\n    \"milliseconds\": TIME_PER_MILLISECOND\n};\n\nfunction absoluteDateDiff(a, b) {\n    var diff = a.getTime() - b;\n    var offsetDiff = a.getTimezoneOffset() - b.getTimezoneOffset();\n\n    return diff - (offsetDiff * TIME_PER_MINUTE);\n}\n\nfunction addTicks(date, ticks) {\n    return new Date(date.getTime() + ticks);\n}\n\nfunction toDate(value) {\n    var result;\n\n    if (value instanceof Date) {\n        result = value;\n    } else if (value) {\n        result = new Date(value);\n    }\n\n    return result;\n}\n\nfunction startOfWeek(date, weekStartDay) {\n    if (weekStartDay === void 0) { weekStartDay = 0; }\n\n    var daysToSubtract = 0;\n    var day = date.getDay();\n\n    if (!isNaN(day)) {\n        while (day !== weekStartDay) {\n            if (day === 0) {\n                day = 6;\n            } else {\n                day--;\n            }\n\n            daysToSubtract++;\n        }\n    }\n\n    return addTicks(date, -daysToSubtract * TIME_PER_DAY);\n}\n\nfunction adjustDST(date, hours) {\n    if (hours === 0 && date.getHours() === 23) {\n        date.setHours(date.getHours() + 2);\n        return true;\n    }\n\n    return false;\n}\n\nfunction addHours(date, hours) {\n    var roundedDate = new Date(date);\n\n    roundedDate.setMinutes(0, 0, 0);\n\n    var tzDiff = (date.getTimezoneOffset() - roundedDate.getTimezoneOffset()) * TIME_PER_MINUTE;\n\n    return addTicks(roundedDate, tzDiff + hours * TIME_PER_HOUR);\n}\n\nfunction addDuration(dateValue, value, unit, weekStartDay) {\n    var result = dateValue;\n\n    if (dateValue) {\n        var date = toDate(dateValue);\n        var hours = date.getHours();\n\n        if (unit === YEARS) {\n            result = new Date(date.getFullYear() + value, 0, 1);\n            adjustDST(result, 0);\n        } else if (unit === MONTHS) {\n            result = new Date(date.getFullYear(), date.getMonth() + value, 1);\n            adjustDST(result, hours);\n        } else if (unit === WEEKS) {\n            result = addDuration(startOfWeek(date, weekStartDay), value * 7, DAYS);\n            adjustDST(result, hours);\n        } else if (unit === DAYS) {\n            result = new Date(date.getFullYear(), date.getMonth(), date.getDate() + value);\n            adjustDST(result, hours);\n        } else if (unit === HOURS) {\n            result = addHours(date, value);\n        } else if (unit === MINUTES) {\n            result = addTicks(date, value * TIME_PER_MINUTE);\n\n            if (result.getSeconds() > 0) {\n                result.setSeconds(0);\n            }\n        } else if (unit === SECONDS) {\n            result = addTicks(date, value * TIME_PER_SECOND);\n        } else if (unit === MILLISECONDS) {\n            result = addTicks(date, value);\n        }\n\n        if (unit !== MILLISECONDS && result.getMilliseconds() > 0) {\n            result.setMilliseconds(0);\n        }\n    }\n\n    return result;\n}\n\nfunction floorDate(date, unit, weekStartDay) {\n    return addDuration(toDate(date), 0, unit, weekStartDay);\n}\n\nfunction ceilDate(dateValue, unit, weekStartDay) {\n    var date = toDate(dateValue);\n\n    if (date && floorDate(date, unit, weekStartDay).getTime() === date.getTime()) {\n        return date;\n    }\n\n    return addDuration(date, 1, unit, weekStartDay);\n}\n\nfunction dateComparer(a, b) {\n    if (a && b) {\n        return a.getTime() - b.getTime();\n    }\n\n    return -1;\n}\n\nfunction dateDiff(a, b) {\n    return a.getTime() - b;\n}\n\nfunction toTime(value) {\n    if (isArray(value)) {\n        var result = [];\n        for (var idx = 0; idx < value.length; idx++) {\n            result.push(toTime(value[idx]));\n        }\n\n        return result;\n    } else if (value) {\n        return toDate(value).getTime();\n    }\n}\n\nfunction dateEquals(a, b) {\n    if (a && b) {\n        return toTime(a) === toTime(b);\n    }\n\n    return a === b;\n}\n\nfunction timeIndex(date, start, baseUnit) {\n    return absoluteDateDiff(date, start) / TIME_PER_UNIT[baseUnit];\n}\n\nfunction dateIndex(value, start, baseUnit, baseUnitStep) {\n    var date = toDate(value);\n    var startDate = toDate(start);\n    var index;\n\n    if (baseUnit === MONTHS) {\n        index = (date.getMonth() - startDate.getMonth() + (date.getFullYear() - startDate.getFullYear()) * 12) +\n            timeIndex(date, new Date(date.getFullYear(), date.getMonth()), DAYS) / new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n    } else if (baseUnit === YEARS) {\n        index = date.getFullYear() - startDate.getFullYear() + dateIndex(date, new Date(date.getFullYear(), 0), MONTHS, 1) / 12;\n    } else if (baseUnit === DAYS || baseUnit === WEEKS) {\n        index = timeIndex(date, startDate, baseUnit);\n    } else {\n        index = dateDiff(date, start) / TIME_PER_UNIT[baseUnit];\n    }\n\n    return index / baseUnitStep;\n}\n\nfunction duration(a, b, unit) {\n    var diff;\n\n    if (unit === YEARS) {\n        diff = b.getFullYear() - a.getFullYear();\n    } else if (unit === MONTHS) {\n        diff = duration(a, b, YEARS) * 12 + b.getMonth() - a.getMonth();\n    } else if (unit === DAYS) {\n        diff = Math.floor(dateDiff(b, a) / TIME_PER_DAY);\n    } else {\n        diff = Math.floor(dateDiff(b, a) / TIME_PER_UNIT[unit]);\n    }\n\n    return diff;\n}\n\nfunction lteDateIndex(date, sortedDates) {\n    var low = 0;\n    var high = sortedDates.length - 1;\n    var index;\n\n    while (low <= high) {\n        index = Math.floor((low + high) / 2);\n        var currentDate = sortedDates[index];\n\n        if (currentDate < date) {\n            low = index + 1;\n            continue;\n        }\n\n        if (currentDate > date) {\n            high = index - 1;\n            continue;\n        }\n\n        while (dateEquals(sortedDates[index - 1], date)) {\n            index--;\n        }\n\n        return index;\n    }\n\n    if (sortedDates[index] <= date) {\n        return index;\n    }\n\n    return index - 1;\n}\n\nfunction parseDate(intlService, date) {\n    var result;\n    if (isString(date)) {\n        result = intlService.parseDate(date) || toDate(date);\n    } else {\n        result = toDate(date);\n    }\n    return result;\n}\n\nfunction parseDates(intlService, dates) {\n    if (isArray(dates)) {\n        var result = [];\n        for (var idx = 0; idx < dates.length; idx++) {\n            result.push(parseDate(intlService, dates[idx]));\n        }\n\n        return result;\n    }\n\n    return parseDate(intlService, dates);\n}\n\nfunction firstDay(options, intlService) {\n    if (isNumber(options.weekStartDay)) {\n        return options.weekStartDay;\n    }\n\n    if (intlService && intlService.firstDay) {\n        return intlService.firstDay();\n    }\n\n    return 0;\n}\n\nvar MIN_CATEGORY_POINTS_RANGE = 0.01;\nvar MIN_CATEGORY_RANGE = 0.1;\n\nfunction indexOf(value, arr) {\n    if (value instanceof Date) {\n        var length = arr.length;\n        for (var idx = 0; idx < length; idx++) {\n            if (dateEquals(arr[idx], value)) {\n                return idx;\n            }\n        }\n\n        return -1;\n    }\n\n    return arr.indexOf(value);\n}\n\nvar CategoryAxis = Axis.extend({\n    initFields: function() {\n        this._ticks = {};\n    },\n\n    categoriesHash: function() {\n        return \"\";\n    },\n\n    clone: function() {\n        var copy = new CategoryAxis($.extend({}, this.options, {\n            categories: this.options.srcCategories\n        }), this.chartService);\n        copy.createLabels();\n\n        return copy;\n    },\n\n    initUserOptions: function(options) {\n        var categories = options.categories || [];\n        var definedMin = defined(options.min);\n        var definedMax = defined(options.max);\n        options.srcCategories = options.categories = categories;\n\n        if ((definedMin || definedMax) && categories.length) {\n            var min = definedMin ? Math.floor(options.min) : 0;\n            var max;\n\n            if (definedMax) {\n                max = options.justified ? Math.floor(options.max) + 1 : Math.ceil(options.max);\n            } else {\n                max = categories.length;\n            }\n\n            options.categories = options.categories.slice(min, max);\n        }\n\n        return options;\n    },\n\n    rangeIndices: function() {\n        var options = this.options;\n        var length = options.categories.length || 1;\n        var min = isNumber(options.min) ? options.min % 1 : 0;\n        var max;\n\n        if (isNumber(options.max) && options.max % 1 !== 0 && options.max < this.totalRange().max) {\n            max = length - (1 - options.max % 1);\n        } else {\n            max = length - (options.justified ? 1 : 0);\n        }\n\n        return {\n            min: min,\n            max: max\n        };\n    },\n\n    totalRangeIndices: function(limit) {\n        var options = this.options;\n        var min = isNumber(options.min) ? options.min : 0;\n        var max;\n\n        if (isNumber(options.max)) {\n            max = options.max;\n        } else if (isNumber(options.min)) {\n            max = min + options.categories.length;\n        } else {\n            max = this.totalRange().max || 1;\n        }\n\n        if (limit) {\n            var totalRange = this.totalRange();\n            min = limitValue(min, 0, totalRange.max);\n            max = limitValue(max, 0, totalRange.max);\n        }\n\n        return {\n            min: min,\n            max: max\n        };\n    },\n\n    range: function() {\n        var options = this.options;\n        var min = isNumber(options.min) ? options.min : 0;\n        var max = isNumber(options.max) ? options.max : this.totalRange().max;\n\n        return {\n            min: min,\n            max: max\n        };\n    },\n\n    roundedRange: function() {\n        return this.range();\n    },\n\n    totalRange: function() {\n        var options = this.options;\n        return { min: 0, max: Math.max(this._seriesMax || 0, options.srcCategories.length) - (options.justified ? 1 : 0) };\n    },\n\n    scaleOptions: function() {\n        var ref = this.rangeIndices();\n        var min = ref.min;\n        var max = ref.max;\n        var lineBox = this.lineBox();\n        var size = this.options.vertical ? lineBox.height() : lineBox.width();\n        var scale = size / ((max - min) || 1);\n\n        return {\n            scale: scale * (this.options.reverse ? -1 : 1),\n            box: lineBox,\n            min: min,\n            max: max\n        };\n    },\n\n    arrangeLabels: function() {\n        Axis.fn.arrangeLabels.call(this);\n        this.hideOutOfRangeLabels();\n    },\n\n    hideOutOfRangeLabels: function() {\n        var ref = this;\n        var box = ref.box;\n        var labels = ref.labels;\n\n        if (labels.length > 0) {\n            var valueAxis = this.options.vertical ? Y : X;\n            var start = box[valueAxis + 1];\n            var end = box[valueAxis + 2];\n            var firstLabel = labels[0];\n            var lastLabel = last(labels);\n\n            if (firstLabel.box[valueAxis + 1] > end || firstLabel.box[valueAxis + 2] < start) {\n                firstLabel.options.visible = false;\n            }\n            if (lastLabel.box[valueAxis + 1] > end || lastLabel.box[valueAxis + 2] < start) {\n                lastLabel.options.visible = false;\n            }\n        }\n    },\n\n    getMajorTickPositions: function() {\n        return this.getTicks().majorTicks;\n    },\n\n    getMinorTickPositions: function() {\n        return this.getTicks().minorTicks;\n    },\n\n    getLabelsTickPositions: function() {\n        return this.getTicks().labelTicks;\n    },\n\n    tickIndices: function(stepSize) {\n        var ref = this.rangeIndices();\n        var min = ref.min;\n        var max = ref.max;\n        var limit = Math.ceil(max);\n        var current = Math.floor(min);\n        var indices = [];\n\n        while (current <= limit) {\n            indices.push(current);\n            current += stepSize;\n        }\n\n        return indices;\n    },\n\n    getTickPositions: function(stepSize) {\n        var ref = this.options;\n        var vertical = ref.vertical;\n        var reverse = ref.reverse;\n        var ref$1 = this.scaleOptions();\n        var scale = ref$1.scale;\n        var box = ref$1.box;\n        var min = ref$1.min;\n        var pos = box[(vertical ? Y : X) + (reverse ? 2 : 1)];\n        var indices = this.tickIndices(stepSize);\n        var positions = [];\n\n        for (var idx = 0; idx < indices.length; idx++) {\n            positions.push(pos + round(scale * (indices[idx] - min), COORD_PRECISION));\n        }\n\n        return positions;\n    },\n\n    getTicks: function() {\n        var options = this.options;\n        var cache = this._ticks;\n        var range = this.rangeIndices();\n        var lineBox = this.lineBox();\n        var hash = lineBox.getHash() + range.min + \",\" + range.max + options.reverse + options.justified;\n\n        if (cache._hash !== hash) {\n            var hasMinor = options.minorTicks.visible || options.minorGridLines.visible;\n            cache._hash = hash;\n            cache.labelTicks = this.getTickPositions(1);\n            cache.majorTicks = this.filterOutOfRangePositions(cache.labelTicks, lineBox);\n            cache.minorTicks = hasMinor ? this.filterOutOfRangePositions(this.getTickPositions(0.5), lineBox) : [];\n        }\n\n        return cache;\n    },\n\n    filterOutOfRangePositions: function(positions, lineBox) {\n        if (!positions.length) {\n            return positions;\n        }\n\n        var axis = this.options.vertical ? Y : X;\n        var inRange = function (position) { return lineBox[axis + 1] <= position && position <= lineBox[axis + 2]; };\n\n        var end = positions.length - 1;\n        var startIndex = 0;\n        while (!inRange(positions[startIndex]) && startIndex <= end) {\n            startIndex++;\n        }\n\n        var endIndex = end;\n\n        while (!inRange(positions[endIndex]) && endIndex >= 0) {\n            endIndex--;\n        }\n\n        return positions.slice(startIndex, endIndex + 1);\n    },\n\n    lineInfo: function() {\n        var ref = this.options;\n        var vertical = ref.vertical;\n        var reverse = ref.reverse;\n        var lineBox = this.lineBox();\n        var lineSize = vertical ? lineBox.height() : lineBox.width();\n        var axis = vertical ? Y : X;\n        var axisDir = reverse ? -1 : 1;\n        var startEdge = axisDir === 1 ? 1 : 2;\n        var axisOrigin = axis + startEdge.toString();\n        var lineStart = lineBox[axisOrigin];\n\n        return {\n            axis: axis,\n            axisOrigin: axisOrigin,\n            axisDir: axisDir,\n            lineBox: lineBox,\n            lineSize: lineSize,\n            lineStart: lineStart\n        };\n    },\n\n    lineDir: function() {\n        /*\n         *  Category axis line direction:\n         *    * Vertical: down.\n         *    * Horizontal: right.\n         */\n\n        var ref = this.options;\n        var reverse = ref.reverse;\n        return reverse ? -1 : 1;\n    },\n\n    getSlot: function(from, to, limit) {\n        var options = this.options;\n        var reverse = options.reverse;\n        var justified = options.justified;\n        var ref = this.scaleOptions();\n        var scale = ref.scale;\n        var box = ref.box;\n        var min = ref.min;\n        var ref$1 = this.lineInfo();\n        var valueAxis = ref$1.axis;\n        var lineStart = ref$1.lineStart;\n\n        var slotBox = box.clone();\n        var singleSlot = !defined(to);\n\n        var start = valueOrDefault(from, 0);\n        var end = valueOrDefault(to, start);\n        end = Math.max(end - 1, start);\n\n        // Fixes transient bug caused by iOS 6.0 JIT\n        // (one can never be too sure)\n        end = Math.max(start, end);\n\n        var p1 = lineStart + (start - min) * scale;\n        var p2 = lineStart + (end + 1 - min) * scale;\n\n        if (singleSlot && justified) {\n            p2 = p1;\n        }\n\n        if (limit) {\n            p1 = limitValue(p1, box[valueAxis + 1], box[valueAxis + 2]);\n            p2 = limitValue(p2, box[valueAxis + 1], box[valueAxis + 2]);\n        }\n\n        slotBox[valueAxis + 1] = reverse ? p2 : p1;\n        slotBox[valueAxis + 2] = reverse ? p1 : p2;\n\n        return slotBox;\n    },\n\n    limitSlot: function(slot) {\n        var vertical = this.options.vertical;\n        var valueAxis = vertical ? Y : X;\n        var lineBox = this.lineBox();\n        var limittedSlot = slot.clone();\n\n        limittedSlot[valueAxis + 1] = limitValue(slot[valueAxis + 1], lineBox[valueAxis + 1], lineBox[valueAxis + 2]);\n        limittedSlot[valueAxis + 2] = limitValue(slot[valueAxis + 2], lineBox[valueAxis + 1], lineBox[valueAxis + 2]);\n\n        return limittedSlot;\n    },\n\n    slot: function(from, to, limit) {\n        var min = Math.floor(this.options.min || 0);\n        var start = from;\n        var end = to;\n\n        if (typeof start === \"string\") {\n            start = this.categoryIndex(start);\n        } else if (isNumber(start)) {\n            start -= min;\n        }\n\n        if (typeof end === \"string\") {\n            end = this.categoryIndex(end);\n        } else if (isNumber(end)) {\n            end -= min;\n        }\n\n        return Axis.fn.slot.call(this, start, end, limit);\n    },\n\n    pointCategoryIndex: function(point) {\n        var ref = this.options;\n        var reverse = ref.reverse;\n        var justified = ref.justified;\n        var vertical = ref.vertical;\n        var valueAxis = vertical ? Y : X;\n        var ref$1 = this.scaleOptions();\n        var scale = ref$1.scale;\n        var box = ref$1.box;\n        var min = ref$1.min;\n        var max = ref$1.max;\n        var startValue = reverse ? max : min;\n        var lineStart = box[valueAxis + 1];\n        var lineEnd = box[valueAxis + 2];\n        var pos = point[valueAxis];\n\n        if (pos < lineStart || pos > lineEnd) {\n            return null;\n        }\n\n        var value = startValue + (pos - lineStart) / scale;\n        var diff = value % 1;\n\n        if (justified) {\n            value = Math.round(value);\n        } else if (diff === 0 && value > 0) {\n            value--;\n        }\n\n        return Math.floor(value);\n    },\n\n    getCategory: function(point) {\n        var index = this.pointCategoryIndex(point);\n\n        if (index === null) {\n            return null;\n        }\n\n        return this.options.categories[index];\n    },\n\n    categoryIndex: function(value) {\n        return this.totalIndex(value) - Math.floor(this.options.min || 0);\n    },\n\n    categoryAt: function(index, total) {\n        var options = this.options;\n\n        return (total ? options.srcCategories : options.categories)[index];\n    },\n\n    categoriesCount: function() {\n        return (this.options.categories || []).length;\n    },\n\n    translateRange: function(delta) {\n        var options = this.options;\n        var lineBox = this.lineBox();\n        var size = options.vertical ? lineBox.height() : lineBox.width();\n        var range = options.categories.length;\n        var scale = size / range;\n        var offset = round(delta / scale, DEFAULT_PRECISION);\n\n        return {\n            min: offset,\n            max: range + offset\n        };\n    },\n\n    scaleRange: function(scale, cursor) {\n        var position = Math.abs(this.pointOffset(cursor));\n        var rangeIndices = this.totalRangeIndices();\n        var range = rangeIndices.max - rangeIndices.min;\n        var delta = this.scaleToDelta(scale, range);\n        var minDelta = position * delta;\n        var maxDelta = (1 - position) * delta;\n        var min = rangeIndices.min + minDelta;\n        var max = rangeIndices.max - maxDelta;\n\n        if (max - min < MIN_CATEGORY_RANGE) {\n            max = min + MIN_CATEGORY_RANGE;\n        }\n\n        return {\n            min: min,\n            max: max\n        };\n    },\n\n    zoomRange: function(scale, cursor) {\n        var ref = this.totalRange();\n        var totalMin = ref.min;\n        var totalMax = ref.max;\n        var range = this.scaleRange(scale, cursor);\n\n        return {\n            min: limitValue(range.min, totalMin, totalMax),\n            max: limitValue(range.max, totalMin, totalMax)\n        };\n    },\n\n    labelsCount: function() {\n        var labelsRange = this.labelsRange();\n\n        return labelsRange.max - labelsRange.min;\n    },\n\n    labelsRange: function() {\n        var options = this.options;\n        var justified = options.justified;\n        var labelOptions = options.labels;\n        var ref = this.totalRangeIndices(true);\n        var min = ref.min;\n        var max = ref.max;\n        var start = Math.floor(min);\n\n        if (!justified) {\n            min = Math.floor(min);\n            max = Math.ceil(max);\n        } else {\n            min = Math.ceil(min);\n            max = Math.floor(max);\n        }\n\n        var skip;\n\n        if (min > labelOptions.skip) {\n            skip = labelOptions.skip + labelOptions.step * Math.ceil((min - labelOptions.skip) / labelOptions.step);\n        } else {\n            skip = labelOptions.skip;\n        }\n\n        return {\n            min: skip - start,\n            max: (options.categories.length ? max + (justified ? 1 : 0) : 0) - start\n        };\n    },\n\n    createAxisLabel: function(index, labelOptions, labelContext) {\n        var options = this.options;\n        var dataItem = options.dataItems ? options.dataItems[index] : null;\n        var category = valueOrDefault(options.categories[index], \"\");\n\n        labelContext.dataItem = dataItem;\n        var text = this.axisLabelText(category, labelOptions, labelContext);\n\n        return new AxisLabel(category, text, index, dataItem, labelOptions);\n    },\n\n    shouldRenderNote: function(value) {\n        var range = this.totalRangeIndices();\n\n        return Math.floor(range.min) <= value && value <= Math.ceil(range.max);\n    },\n\n    noteSlot: function(value) {\n        var options = this.options;\n        var index = value - Math.floor(options.min || 0);\n        return this.getSlot(index);\n    },\n\n    arrangeNotes: function() {\n        Axis.fn.arrangeNotes.call(this);\n        this.hideOutOfRangeNotes();\n    },\n\n    hideOutOfRangeNotes: function() {\n        var ref = this;\n        var notes = ref.notes;\n        var box = ref.box;\n        if (notes && notes.length) {\n            var valueAxis = this.options.vertical ? Y : X;\n            var start = box[valueAxis + 1];\n            var end = box[valueAxis + 2];\n\n            for (var idx = 0; idx < notes.length; idx++) {\n                var note = notes[idx];\n                if (note.box && (end < note.box[valueAxis + 1] || note.box[valueAxis + 2] < start)) {\n                    note.hide();\n                }\n            }\n        }\n    },\n\n    pan: function(delta) {\n        var range = this.totalRangeIndices(true);\n        var ref = this.scaleOptions();\n        var scale = ref.scale;\n        var offset = round(delta / scale, DEFAULT_PRECISION);\n        var totalRange = this.totalRange();\n        var min = range.min + offset;\n        var max = range.max + offset;\n\n        return this.limitRange(min, max, 0, totalRange.max, offset);\n    },\n\n    pointsRange: function(start, end) {\n        var ref = this.options;\n        var reverse = ref.reverse;\n        var vertical = ref.vertical;\n        var valueAxis = vertical ? Y : X;\n        var range = this.totalRangeIndices(true);\n        var ref$1 = this.scaleOptions();\n        var scale = ref$1.scale;\n        var box = ref$1.box;\n        var lineStart = box[valueAxis + (reverse ? 2 : 1)];\n\n        var diffStart = start[valueAxis] - lineStart;\n        var diffEnd = end[valueAxis] - lineStart;\n\n        var min = range.min + diffStart / scale;\n        var max = range.min + diffEnd / scale;\n        var rangeMin = Math.min(min, max);\n        var rangeMax = Math.max(min, max);\n\n        if (rangeMax - rangeMin >= MIN_CATEGORY_POINTS_RANGE) {\n            return {\n                min: rangeMin,\n                max: rangeMax\n            };\n        }\n    },\n\n    valueRange: function() {\n        return this.range();\n    },\n\n    totalIndex: function(value) {\n        var options = this.options;\n        var index = this._categoriesMap ?\n            this._categoriesMap.get(value) : indexOf(value, options.srcCategories);\n\n        return index;\n    },\n\n    currentRangeIndices: function() {\n        var options = this.options;\n        var min = 0;\n\n        if (isNumber(options.min)) {\n            min = Math.floor(options.min);\n        }\n\n        var max;\n        if (isNumber(options.max)) {\n            max = options.justified ? Math.floor(options.max) : Math.ceil(options.max) - 1;\n        } else {\n            max = this.totalCount() - 1;\n        }\n\n        return {\n            min: min,\n            max: max\n        };\n    },\n\n    mapCategories: function() {\n        if (!this._categoriesMap) {\n            var map$$1 = this._categoriesMap = new HashMap();\n            var srcCategories = this.options.srcCategories;\n            for (var idx = 0; idx < srcCategories.length; idx++) {\n                map$$1.set(srcCategories[idx], idx);\n            }\n        }\n    },\n\n    totalCount: function() {\n        return Math.max(this.options.srcCategories.length, this._seriesMax || 0);\n    }\n});\n\nsetDefaultOptions(CategoryAxis, {\n    type: \"category\",\n    vertical: false,\n    majorGridLines: {\n        visible: false,\n        width: 1,\n        color: BLACK\n    },\n    labels: {\n        zIndex: 1\n    },\n    justified: false,\n    _deferLabels: true\n});\n\nvar COORDINATE_LIMIT = 300000;\n\nvar DateLabelFormats = {\n    milliseconds: \"HH:mm:ss.fff\",\n    seconds: \"HH:mm:ss\",\n    minutes: \"HH:mm\",\n    hours: \"HH:mm\",\n    days: \"M/d\",\n    weeks: \"M/d\",\n    months: \"MMM 'yy\",\n    years: \"yyyy\"\n};\n\nvar ZERO_THRESHOLD = 0.2;\n\nvar AUTO = \"auto\";\nvar BASE_UNITS = [\n    MILLISECONDS, SECONDS, MINUTES, HOURS, DAYS, WEEKS, MONTHS, YEARS\n];\nvar FIT = \"fit\";\n\nfunction categoryRange(categories) {\n    var range = categories._range;\n    if (!range) {\n        range = categories._range = sparseArrayLimits(categories);\n        range.min = toDate(range.min);\n        range.max = toDate(range.max);\n    }\n\n    return range;\n}\n\nvar EmptyDateRange = Class.extend({\n    init: function(options) {\n        this.options = options;\n    },\n\n    displayIndices: function() {\n        return {\n            min: 0,\n            max: 1\n        };\n    },\n\n    displayRange: function() {\n        return {};\n    },\n\n    total: function() {\n        return {};\n    },\n\n    valueRange: function() {\n        return {};\n    },\n\n    valueIndex: function() {\n        return -1;\n    },\n\n    values: function() {\n        return [];\n    },\n\n    totalIndex: function() {\n        return -1;\n    },\n\n    valuesCount: function() {\n        return 0;\n    },\n\n    totalCount: function() {\n        return 0;\n    },\n\n    dateAt: function() {\n        return null;\n    }\n});\n\nvar DateRange = Class.extend({\n    init: function(start, end, options) {\n        this.options = options;\n        options.baseUnitStep = options.baseUnitStep || 1;\n\n        var roundToBaseUnit = options.roundToBaseUnit;\n        var justified = options.justified;\n\n        this.start = addDuration(start, 0, options.baseUnit, options.weekStartDay);\n        var lowerEnd = this.roundToTotalStep(end);\n        var expandEnd = !justified && dateEquals(end, lowerEnd) && !options.justifyEnd;\n\n        this.end = this.roundToTotalStep(end, !justified, expandEnd ? 1 : 0);\n\n        var min = options.min || start;\n        this.valueStart = this.roundToTotalStep(min);\n        this.displayStart = roundToBaseUnit ? this.valueStart : min;\n\n        var max = options.max;\n        if (!max) {\n            this.valueEnd = lowerEnd;\n            this.displayEnd = roundToBaseUnit || expandEnd ? this.end : end;\n        } else {\n            var next = !justified && dateEquals(max, this.roundToTotalStep(max)) ? -1 : 0;\n            this.valueEnd = this.roundToTotalStep(max, false, next);\n            this.displayEnd = roundToBaseUnit ? this.roundToTotalStep(max, !justified) : options.max;\n        }\n\n        if (this.valueEnd < this.valueStart) {\n            this.valueEnd = this.valueStart;\n        }\n        if (this.displayEnd <= this.displayStart) {\n            this.displayEnd = this.roundToTotalStep(this.displayStart, false, 1);\n        }\n    },\n\n    displayRange: function() {\n        return {\n            min: this.displayStart,\n            max: this.displayEnd\n        };\n    },\n\n    displayIndices: function() {\n        if (!this._indices) {\n            var options = this.options;\n\n            var baseUnit = options.baseUnit;\n            var baseUnitStep = options.baseUnitStep;\n\n            var minIdx = dateIndex(this.displayStart, this.valueStart, baseUnit, baseUnitStep);\n            var maxIdx = dateIndex(this.displayEnd, this.valueStart, baseUnit, baseUnitStep);\n\n            this._indices = { min: minIdx, max: maxIdx };\n        }\n\n        return this._indices;\n    },\n\n    total: function() {\n        return {\n            min: this.start,\n            max: this.end\n        };\n    },\n\n    totalCount: function() {\n        var last$$1 = this.totalIndex(this.end);\n\n        return last$$1 + (this.options.justified ? 1 : 0);\n    },\n\n    valueRange: function() {\n        return {\n            min: this.valueStart,\n            max: this.valueEnd\n        };\n    },\n\n    valueIndex: function(value) {\n        var options = this.options;\n        return Math.floor(dateIndex(value, this.valueStart, options.baseUnit, options.baseUnitStep));\n    },\n\n    totalIndex: function(value) {\n        var options = this.options;\n        return Math.floor(dateIndex(value, this.start, options.baseUnit, options.baseUnitStep));\n    },\n\n    dateIndex: function(value) {\n        var options = this.options;\n        return dateIndex(value, this.valueStart, options.baseUnit, options.baseUnitStep);\n    },\n\n    valuesCount: function() {\n        var maxIdx = this.valueIndex(this.valueEnd);\n\n        return maxIdx + 1;\n    },\n\n    values: function() {\n        var values = this._values;\n        if (!values) {\n            var options = this.options;\n            var range = this.valueRange();\n            this._values = values = [];\n\n            for (var date = range.min; date <= range.max;) {\n                values.push(date);\n                date = addDuration(date, options.baseUnitStep, options.baseUnit, options.weekStartDay);\n            }\n        }\n\n        return values;\n    },\n\n    dateAt: function(index, total) {\n        var options = this.options;\n\n        return addDuration(total ? this.start : this.valueStart, options.baseUnitStep * index, options.baseUnit, options.weekStartDay);\n    },\n\n    roundToTotalStep: function(value, upper, next) {\n        var ref = this.options;\n        var baseUnit = ref.baseUnit;\n        var baseUnitStep = ref.baseUnitStep;\n        var weekStartDay = ref.weekStartDay;\n        var start = this.start;\n\n        var step = dateIndex(value, start, baseUnit, baseUnitStep);\n        var roundedStep = upper ? Math.ceil(step) : Math.floor(step);\n\n        if (next) {\n            roundedStep += next;\n        }\n\n        return addDuration(start, roundedStep * baseUnitStep, baseUnit, weekStartDay);\n    }\n});\n\nfunction autoBaseUnit(options, startUnit, startStep) {\n    var categoryLimits = categoryRange(options.categories);\n    var span = (options.max || categoryLimits.max) - (options.min || categoryLimits.min);\n    var autoBaseUnitSteps = options.autoBaseUnitSteps;\n    var maxDateGroups = options.maxDateGroups;\n    var autoUnit = options.baseUnit === FIT;\n    var autoUnitIx = startUnit ? BASE_UNITS.indexOf(startUnit) : 0;\n    var baseUnit = autoUnit ? BASE_UNITS[autoUnitIx++] : options.baseUnit;\n    var units = span / TIME_PER_UNIT[baseUnit];\n    var totalUnits = units;\n    var unitSteps, step, nextStep;\n\n    while (!step || units >= maxDateGroups) {\n        unitSteps = unitSteps || autoBaseUnitSteps[baseUnit].slice(0);\n\n        do {\n            nextStep = unitSteps.shift();\n        } while (nextStep && startUnit === baseUnit && nextStep < startStep);\n\n        if (nextStep) {\n            step = nextStep;\n            units = totalUnits / step;\n        } else if (baseUnit === last(BASE_UNITS)) {\n            step = Math.ceil(totalUnits / maxDateGroups);\n            break;\n        } else if (autoUnit) {\n            baseUnit = BASE_UNITS[autoUnitIx++] || last(BASE_UNITS);\n            totalUnits = span / TIME_PER_UNIT[baseUnit];\n            unitSteps = null;\n        } else {\n            if (units > maxDateGroups) {\n                step = Math.ceil(totalUnits / maxDateGroups);\n            }\n            break;\n        }\n    }\n\n    options.baseUnitStep = step;\n    options.baseUnit = baseUnit;\n}\n\nfunction defaultBaseUnit(options) {\n    var categories = options.categories;\n    var count = defined(categories) ? categories.length : 0;\n    var minDiff = MAX_VALUE;\n    var lastCategory, unit;\n\n    for (var categoryIx = 0; categoryIx < count; categoryIx++) {\n        var category = categories[categoryIx];\n\n        if (category && lastCategory) {\n            var diff = absoluteDateDiff(category, lastCategory);\n            if (diff > 0) {\n                minDiff = Math.min(minDiff, diff);\n\n                if (minDiff >= TIME_PER_YEAR) {\n                    unit = YEARS;\n                } else if (minDiff >= TIME_PER_MONTH - TIME_PER_DAY * 3) {\n                    unit = MONTHS;\n                } else if (minDiff >= TIME_PER_WEEK) {\n                    unit = WEEKS;\n                } else if (minDiff >= TIME_PER_DAY) {\n                    unit = DAYS;\n                } else if (minDiff >= TIME_PER_HOUR) {\n                    unit = HOURS;\n                } else if (minDiff >= TIME_PER_MINUTE) {\n                    unit = MINUTES;\n                } else {\n                    unit = SECONDS;\n                }\n            }\n        }\n\n        lastCategory = category;\n    }\n\n    options.baseUnit = unit || DAYS;\n}\n\nfunction initUnit(options) {\n    var baseUnit = (options.baseUnit || \"\").toLowerCase();\n    var useDefault = baseUnit !== FIT && !inArray(baseUnit, BASE_UNITS);\n\n    if (useDefault) {\n        defaultBaseUnit(options);\n    }\n\n    if (baseUnit === FIT || options.baseUnitStep === AUTO) {\n        autoBaseUnit(options);\n    }\n\n    return options;\n}\n\nvar DateCategoryAxis = CategoryAxis.extend({\n    clone: function() {\n        var copy = new DateCategoryAxis($.extend({}, this.options), this.chartService);\n        copy.createLabels();\n\n        return copy;\n    },\n\n    categoriesHash: function() {\n        var start = this.dataRange.total().min;\n        return this.options.baseUnit + this.options.baseUnitStep + start;\n    },\n\n    initUserOptions: function(options) {\n        return options;\n    },\n\n    initFields: function() {\n        CategoryAxis.fn.initFields.call(this);\n\n        var chartService = this.chartService;\n        var intlService = chartService.intl;\n        var options = this.options;\n\n        var categories = options.categories || [];\n        if (!categories._parsed) {\n            categories = parseDates(intlService, categories);\n            categories._parsed = true;\n        }\n\n        options = deepExtend({\n            roundToBaseUnit: true\n        }, options, {\n            categories: categories,\n            min: parseDate(intlService, options.min),\n            max: parseDate(intlService, options.max),\n            weekStartDay: firstDay(options, intlService)\n        });\n\n        if (chartService.panning && chartService.isPannable(options.vertical ? Y : X)) {\n            options.roundToBaseUnit = false;\n        }\n\n        options.userSetBaseUnit = options.userSetBaseUnit || options.baseUnit;\n        options.userSetBaseUnitStep = options.userSetBaseUnitStep || options.baseUnitStep;\n\n        this.options = options;\n        options.srcCategories = categories;\n\n        if (categories.length > 0) {\n            var range = categoryRange(categories);\n            var maxDivisions = options.maxDivisions;\n\n            this.dataRange = new DateRange(range.min, range.max, initUnit(options));\n\n            if (maxDivisions) {\n                var dataRange = this.dataRange.displayRange();\n\n                var divisionOptions = $.extend({}, options, {\n                    justified: true,\n                    roundToBaseUnit: false,\n                    baseUnit: 'fit',\n                    min: dataRange.min,\n                    max: dataRange.max,\n                    maxDateGroups: maxDivisions\n                });\n\n                var dataRangeOptions = this.dataRange.options;\n\n                autoBaseUnit(divisionOptions, dataRangeOptions.baseUnit, dataRangeOptions.baseUnitStep);\n\n                this.divisionRange = new DateRange(range.min, range.max, divisionOptions);\n            } else {\n                this.divisionRange = this.dataRange;\n            }\n\n        } else {\n            options.baseUnit = options.baseUnit || DAYS;\n            this.dataRange = this.divisionRange = new EmptyDateRange(options);\n        }\n\n        this.rangeLabels = [];\n    },\n\n    tickIndices: function(stepSize) {\n        var ref = this;\n        var dataRange = ref.dataRange;\n        var divisionRange = ref.divisionRange;\n        var valuesCount = divisionRange.valuesCount();\n\n        if (!this.options.maxDivisions || !valuesCount) {\n            return CategoryAxis.fn.tickIndices.call(this, stepSize);\n        }\n\n        var indices = [];\n        var values = divisionRange.values();\n        var offset = 0;\n\n        if (!this.options.justified) {\n            values = values.concat(divisionRange.dateAt(valuesCount));\n            offset = 0.5;//align ticks to the center of not justified categories\n        }\n\n        for (var idx = 0; idx < values.length; idx++) {\n            indices.push(dataRange.dateIndex(values[idx]) + offset);\n            if (stepSize !== 1 && idx >= 1) {\n                var last$$1 = indices.length - 1;\n                indices.splice(idx, 0, indices[last$$1 - 1] + (indices[last$$1] - indices[last$$1 - 1]) * stepSize);\n            }\n        }\n\n        return indices;\n    },\n\n    shouldRenderNote: function(value) {\n        var range = this.range();\n        var categories = this.options.categories || [];\n\n        return dateComparer(value, range.min) >= 0 && dateComparer(value, range.max) <= 0 && categories.length;\n    },\n\n    parseNoteValue: function(value) {\n        return parseDate(this.chartService.intl, value);\n    },\n\n    noteSlot: function(value) {\n        return this.getSlot(value);\n    },\n\n    translateRange: function(delta) {\n        var options = this.options;\n        var baseUnit = options.baseUnit;\n        var weekStartDay = options.weekStartDay;\n        var vertical = options.vertical;\n        var lineBox = this.lineBox();\n        var size = vertical ? lineBox.height() : lineBox.width();\n        var range = this.range();\n        var scale = size / (range.max - range.min);\n        var offset = round(delta / scale, DEFAULT_PRECISION);\n\n        if (range.min && range.max) {\n            var from = addTicks(options.min || range.min, offset);\n            var to = addTicks(options.max || range.max, offset);\n\n            range = {\n                min: addDuration(from, 0, baseUnit, weekStartDay),\n                max: addDuration(to, 0, baseUnit, weekStartDay)\n            };\n        }\n\n        return range;\n    },\n\n    labelsRange: function() {\n        return {\n            min: this.options.labels.skip,\n            max: this.divisionRange.valuesCount()\n        };\n    },\n\n    pan: function(delta) {\n        if (this.isEmpty()) {\n            return null;\n        }\n\n        var options = this.options;\n        var lineBox = this.lineBox();\n        var size = options.vertical ? lineBox.height() : lineBox.width();\n        var ref = this.dataRange.displayRange();\n        var min = ref.min;\n        var max = ref.max;\n        var totalLimits = this.dataRange.total();\n        var scale = size / (max - min);\n        var offset = round(delta / scale, DEFAULT_PRECISION) * (options.reverse ? -1 : 1);\n        var from = addTicks(min, offset);\n        var to = addTicks(max, offset);\n\n        var panRange = this.limitRange(toTime(from), toTime(to), toTime(totalLimits.min), toTime(totalLimits.max), offset);\n\n        if (panRange) {\n            panRange.min = toDate(panRange.min);\n            panRange.max = toDate(panRange.max);\n            panRange.baseUnit = options.baseUnit;\n            panRange.baseUnitStep = options.baseUnitStep || 1;\n            panRange.userSetBaseUnit = options.userSetBaseUnit;\n            panRange.userSetBaseUnitStep = options.userSetBaseUnitStep;\n\n            return panRange;\n        }\n    },\n\n    pointsRange: function(start, end) {\n        if (this.isEmpty()) {\n            return null;\n        }\n\n        var pointsRange = CategoryAxis.fn.pointsRange.call(this, start, end);\n        var datesRange = this.dataRange.displayRange();\n        var indicesRange = this.dataRange.displayIndices();\n        var scale = dateDiff(datesRange.max, datesRange.min) / (indicesRange.max - indicesRange.min);\n        var options = this.options;\n\n        var min = addTicks(datesRange.min, pointsRange.min * scale);\n        var max = addTicks(datesRange.min, pointsRange.max * scale);\n\n        return {\n            min: min,\n            max: max,\n            baseUnit: options.userSetBaseUnit || options.baseUnit,\n            baseUnitStep: options.userSetBaseUnitStep || options.baseUnitStep\n        };\n    },\n\n    scaleRange: function(scale, cursor) {\n        if (this.isEmpty()) {\n            return {};\n        }\n\n        var options = this.options;\n        var fit = options.userSetBaseUnit === FIT;\n        var totalLimits = this.dataRange.total();\n        var ref = this.dataRange.displayRange();\n        var rangeMin = ref.min;\n        var rangeMax = ref.max;\n\n        var position = Math.abs(this.pointOffset(cursor));\n        var range = rangeMax - rangeMin;\n        var delta = this.scaleToDelta(scale, range);\n        var minDelta = Math.round(position * delta);\n        var maxDelta = Math.round((1 - position) * delta);\n\n        var ref$1 = this.dataRange.options;\n        var baseUnit = ref$1.baseUnit;\n        var min = new Date(rangeMin.getTime() + minDelta);\n        var max = new Date(rangeMax.getTime() - maxDelta);\n\n        if (fit) {\n            var autoBaseUnitSteps = options.autoBaseUnitSteps;\n            var maxDateGroups = options.maxDateGroups;\n\n            var maxDiff = last(autoBaseUnitSteps[baseUnit]) * maxDateGroups * TIME_PER_UNIT[baseUnit];\n            var rangeDiff = dateDiff(rangeMax, rangeMin);\n            var diff = dateDiff(max, min);\n            var baseUnitIndex = BASE_UNITS.indexOf(baseUnit);\n            var autoBaseUnitStep, ticks;\n\n            if (diff < TIME_PER_UNIT[baseUnit] && baseUnit !== MILLISECONDS) {\n                baseUnit = BASE_UNITS[baseUnitIndex - 1];\n                autoBaseUnitStep = last(autoBaseUnitSteps[baseUnit]);\n                ticks = (rangeDiff - (maxDateGroups - 1) * autoBaseUnitStep * TIME_PER_UNIT[baseUnit]) / 2;\n                min = addTicks(rangeMin, ticks);\n                max = addTicks(rangeMax, -ticks);\n\n            } else if (diff > maxDiff && baseUnit !== YEARS) {\n                var stepIndex = 0;\n\n                do {\n                    baseUnitIndex++;\n                    baseUnit = BASE_UNITS[baseUnitIndex];\n                    stepIndex = 0;\n                    ticks = 2 * TIME_PER_UNIT[baseUnit];\n                    do {\n                        autoBaseUnitStep = autoBaseUnitSteps[baseUnit][stepIndex];\n                        stepIndex++;\n                    } while (stepIndex < autoBaseUnitSteps[baseUnit].length && ticks * autoBaseUnitStep < rangeDiff);\n                } while (baseUnit !== YEARS && ticks * autoBaseUnitStep < rangeDiff);\n\n                ticks = (ticks * autoBaseUnitStep - rangeDiff) / 2;\n                if (ticks > 0) {\n                    min = addTicks(rangeMin, -ticks);\n                    max = addTicks(rangeMax, ticks);\n                    min = addTicks(min, limitValue(max, totalLimits.min, totalLimits.max) - max);\n                    max = addTicks(max, limitValue(min, totalLimits.min, totalLimits.max) - min);\n                }\n            }\n        }\n\n        if (min && max && dateDiff(max, min) > 0) {\n            return {\n                min: min,\n                max: max,\n                baseUnit: options.userSetBaseUnit || options.baseUnit,\n                baseUnitStep: options.userSetBaseUnitStep || options.baseUnitStep\n            };\n        }\n    },\n\n    zoomRange: function(scale, cursor) {\n        var totalLimits = this.dataRange.total();\n        var range = this.scaleRange(scale, cursor);\n\n        if (range) {\n            if (range.min < totalLimits.min) {\n                range.min = totalLimits.min;\n            }\n            if (range.max > totalLimits.max) {\n                range.max = totalLimits.max;\n            }\n        }\n\n        return range;\n    },\n\n    range: function() {\n        return this.dataRange.displayRange();\n    },\n\n    createLabels: function() {\n        CategoryAxis.fn.createLabels.call(this);\n        this.createRangeLabels();\n    },\n\n    clearLabels: function() {\n        CategoryAxis.fn.clearLabels.call(this);\n        this.rangeLabels = [];\n    },\n\n    arrangeLabels: function() {\n        this.arrangeRangeLabels();\n        CategoryAxis.fn.arrangeLabels.call(this);\n    },\n\n    arrangeRangeLabels: function() {\n        var ref = this;\n        var options = ref.options;\n        var rangeLabels = ref.rangeLabels;\n        if (rangeLabels.length === 0) {\n            return;\n        }\n\n        var lineBox = this.lineBox();\n        var vertical = options.vertical;\n        var mirror = options.rangeLabels.mirror || options.labels.mirror;\n\n        var firstLabel = rangeLabels[0];\n        if (firstLabel) {\n            var position = vertical ? lineBox.y1 - (firstLabel.box.height() / 2) : lineBox.x1;\n            this.positionLabel(firstLabel, mirror, position);\n        }\n\n        var lastLabel = rangeLabels[1];\n        if (lastLabel) {\n            var position$1 = vertical ? lineBox.y2 - (lastLabel.box.height() / 2) : lineBox.x2;\n            this.positionLabel(lastLabel, mirror, position$1);\n        }\n    },\n\n    autoRotateLabels: function() {\n        CategoryAxis.fn.autoRotateLabels.call(this);\n        this.autoRotateRangeLabels();\n    },\n\n    hideOutOfRangeLabels: function() {\n        CategoryAxis.fn.hideOutOfRangeLabels.call(this);\n        this.hideOverlappingLabels();\n    },\n\n    hideOverlappingLabels: function() {\n        var ref = this;\n        var rangeLabels = ref.rangeLabels;\n        var labels = ref.labels;\n        if (rangeLabels.length === 0) {\n            return;\n        }\n\n        function clip(rangeLabel, label) {\n            if (!label.options.visible || label.box.overlaps(rangeLabel.box)) {\n                label.options.visible = false;\n                return true;\n            }\n\n            return false;\n        }\n\n        var firstRangeLabel = rangeLabels[0];\n        if (firstRangeLabel && firstRangeLabel.options.visible) {\n            for (var i = 0; i < labels.length; i++) {\n                var overlaps = clip(firstRangeLabel, labels[i]);\n                if (!overlaps) {\n                    break;\n                }\n            }\n        }\n\n        var lastRangeLabel = rangeLabels[1];\n        if (lastRangeLabel && lastRangeLabel.options.visible) {\n            for (var i$1 = labels.length - 1; i$1 > 0; --i$1) {\n                var overlaps$1 = clip(lastRangeLabel, labels[i$1]);\n                if (!overlaps$1) {\n                    break;\n                }\n            }\n        }\n    },\n\n    contentBox: function() {\n        var box = CategoryAxis.fn.contentBox.call(this);\n        var rangeLabels = this.rangeLabels;\n\n        for (var i = 0; i < rangeLabels.length; i++) {\n            var label = rangeLabels[i];\n            if (label.options.visible) {\n                box.wrap(label.box);\n            }\n        }\n\n        return box;\n    },\n\n    createAxisLabel: function(index, labelOptions, labelContext) {\n        if (labelContext === void 0) { labelContext = {}; }\n\n        var options = this.options;\n        var dataItem = options.dataItems && !options.maxDivisions ? options.dataItems[index] : null;\n        var date = this.divisionRange.dateAt(index);\n        var unitFormat = labelOptions.dateFormats[this.divisionRange.options.baseUnit];\n\n        labelOptions.format = labelOptions.format || unitFormat;\n        labelContext.dataItem = dataItem;\n\n        var text = this.axisLabelText(date, labelOptions, labelContext);\n        if (text) {\n            return new AxisLabel(date, text, index, dataItem, labelOptions);\n        }\n    },\n\n    createRangeLabels: function() {\n        var this$1 = this;\n\n        var ref = this.divisionRange;\n        var displayStart = ref.displayStart;\n        var displayEnd = ref.displayEnd;\n        var options = this.options;\n        var labelOptions = $.extend({}, options.labels, options.rangeLabels, {\n            align: CENTER,\n            zIndex: options.zIndex\n        });\n\n        if (labelOptions.visible !== true) {\n            return;\n        }\n\n        this.normalizeLabelRotation(labelOptions);\n        labelOptions.alignRotation = CENTER;\n\n        if (labelOptions.rotation === \"auto\") {\n            labelOptions.rotation = 0;\n            options.autoRotateRangeLabels = true;\n        }\n\n        var unitFormat = labelOptions.dateFormats[this.divisionRange.options.baseUnit];\n        labelOptions.format = labelOptions.format || unitFormat;\n\n        var createLabel = function (index, date, text) {\n            if (text) {\n                var label = new AxisLabel(date, text, index, null, labelOptions);\n                this$1.append(label);\n                this$1.rangeLabels.push(label);\n            }\n        };\n\n        var startText = this.axisLabelText(displayStart, labelOptions, { index: 0, count: 2 });\n        createLabel(0, displayStart, startText);\n\n        var endText = this.axisLabelText(displayEnd, labelOptions, { index: 1, count: 2 });\n        createLabel(1, displayEnd, endText);\n    },\n\n    autoRotateRangeLabels: function() {\n        var this$1 = this;\n\n        var labels = this.rangeLabels;\n        if (!this.options.autoRotateRangeLabels || this.options.vertical || labels.length !== 2) {\n            return;\n        }\n\n        var rotateLabel = function (label, tickPositions, index) {\n            var width = Math.abs(tickPositions[index + 1] - tickPositions[index]) * 2;\n            var angle = this$1.autoRotateLabelAngle(label.box, width);\n            if (angle !== 0) {\n                label.options.rotation = angle;\n                label.reflow(new Box());\n            }\n        };\n\n        var tickPositions = this.getMajorTickPositions();\n        rotateLabel(labels[0], tickPositions, 0);\n        rotateLabel(labels[1], tickPositions, tickPositions.length - 2);\n    },\n\n    categoryIndex: function(value) {\n        return this.dataRange.valueIndex(value);\n    },\n\n    slot: function(from, to, limit) {\n        var dateRange = this.dataRange;\n        var start = from;\n        var end = to;\n\n        if (start instanceof Date) {\n            start = dateRange.dateIndex(start);\n        }\n\n        if (end instanceof Date) {\n            end = dateRange.dateIndex(end);\n        }\n\n        var slot = this.getSlot(start, end, limit);\n        if (slot) {\n            return slot.toRect();\n        }\n    },\n\n    getSlot: function(a, b, limit) {\n        var start = a;\n        var end = b;\n\n        if (typeof start === OBJECT) {\n            start = this.categoryIndex(start);\n        }\n\n        if (typeof end === OBJECT) {\n            end = this.categoryIndex(end);\n        }\n\n        return CategoryAxis.fn.getSlot.call(this, start, end, limit);\n    },\n\n    valueRange: function() {\n        var options = this.options;\n        var range = categoryRange(options.srcCategories);\n\n        return {\n            min: toDate(range.min),\n            max: toDate(range.max)\n        };\n    },\n\n    categoryAt: function(index, total) {\n        return this.dataRange.dateAt(index, total);\n    },\n\n    categoriesCount: function() {\n        return this.dataRange.valuesCount();\n    },\n\n    rangeIndices: function() {\n        return this.dataRange.displayIndices();\n    },\n\n    labelsBetweenTicks: function() {\n        return !this.divisionRange.options.justified;\n    },\n\n    prepareUserOptions: function() {\n        if (this.isEmpty()) {\n            return;\n        }\n\n        this.options.categories = this.dataRange.values();\n    },\n\n    getCategory: function(point) {\n        var index = this.pointCategoryIndex(point);\n\n        if (index === null) {\n            return null;\n        }\n\n        return this.dataRange.dateAt(index);\n    },\n\n    totalIndex: function(value) {\n        return this.dataRange.totalIndex(value);\n    },\n\n    currentRangeIndices: function() {\n        var range = this.dataRange.valueRange();\n        return {\n            min: this.dataRange.totalIndex(range.min),\n            max: this.dataRange.totalIndex(range.max)\n        };\n    },\n\n    totalRange: function() {\n        return this.dataRange.total();\n    },\n\n    totalCount: function() {\n        return this.dataRange.totalCount();\n    },\n\n    isEmpty: function() {\n        return !this.options.srcCategories.length;\n    },\n\n    roundedRange: function() {\n        if (this.options.roundToBaseUnit !== false || this.isEmpty()) {\n            return this.range();\n        }\n\n        var options = this.options;\n        var datesRange = categoryRange(options.srcCategories);\n\n        var dateRange = new DateRange(datesRange.min, datesRange.max, $.extend({}, options, {\n            justified: false,\n            roundToBaseUnit: true,\n            justifyEnd: options.justified\n        }));\n\n        return dateRange.displayRange();\n    }\n});\n\nsetDefaultOptions(DateCategoryAxis, {\n    type: DATE,\n    labels: {\n        dateFormats: DateLabelFormats\n    },\n    rangeLabels: {\n        visible: false\n    },\n    autoBaseUnitSteps: {\n        milliseconds: [ 1, 10, 100 ],\n        seconds: [ 1, 2, 5, 15, 30 ],\n        minutes: [ 1, 2, 5, 15, 30 ],\n        hours: [ 1, 2, 3 ],\n        days: [ 1, 2, 3 ],\n        weeks: [ 1, 2 ],\n        months: [ 1, 2, 3, 6 ],\n        years: [ 1, 2, 3, 5, 10, 25, 50 ]\n    },\n    maxDateGroups: 10\n});\n\nfunction autoAxisMin(min, max, narrow) {\n    if (!min && !max) {\n        return 0;\n    }\n\n    var axisMin;\n\n    if (min >= 0 && max >= 0) {\n        var minValue = min === max ? 0 : min;\n\n        var diff = (max - minValue) / max;\n        if (narrow === false || (!narrow && diff > ZERO_THRESHOLD)) {\n            return 0;\n        }\n\n        axisMin = Math.max(0, minValue - ((max - minValue) / 2));\n    } else {\n        axisMin = min;\n    }\n\n    return axisMin;\n}\n\nfunction autoAxisMax(min, max, narrow) {\n    if (!min && !max) {\n        return 1;\n    }\n\n    var axisMax;\n\n    if (min <= 0 && max <= 0) {\n        var maxValue = min === max ? 0 : max;\n\n        var diff = Math.abs((maxValue - min) / maxValue);\n        if (narrow === false || (!narrow && diff > ZERO_THRESHOLD)) {\n            return 0;\n        }\n\n        axisMax = Math.min(0, maxValue - ((min - maxValue) / 2));\n    } else {\n        axisMax = max;\n    }\n\n    return axisMax;\n}\n\nfunction floor(value, step) {\n    return round(Math.floor(value / step) * step, DEFAULT_PRECISION);\n}\n\nfunction ceil(value, step) {\n    return round(Math.ceil(value / step) * step, DEFAULT_PRECISION);\n}\n\nfunction limitCoordinate(value) {\n    return Math.max(Math.min(value, COORDINATE_LIMIT), -COORDINATE_LIMIT);\n}\n\nvar MIN_VALUE_RANGE$1 = Math.pow(10, -DEFAULT_PRECISION + 1);\n\nvar NumericAxis = Axis.extend({\n    init: function(seriesMin, seriesMax, options, chartService) {\n        Axis.fn.init.call(this, $.extend({}, options, {\n            seriesMin: seriesMin,\n            seriesMax: seriesMax\n        }), chartService);\n    },\n\n    initUserOptions: function(options) {\n        var autoOptions = autoAxisOptions(options.seriesMin, options.seriesMax, options);\n        this.totalOptions = totalAxisOptions(autoOptions, options);\n\n        return axisOptions(autoOptions, options);\n    },\n\n    initFields: function() {\n        this.totalMin = this.totalOptions.min;\n        this.totalMax = this.totalOptions.max;\n        this.totalMajorUnit = this.totalOptions.majorUnit;\n        this.seriesMin = this.options.seriesMin;\n        this.seriesMax = this.options.seriesMax;\n    },\n\n    clone: function() {\n        return new NumericAxis(\n            this.seriesMin,\n            this.seriesMax,\n            $.extend({}, this.options),\n            this.chartService\n        );\n    },\n\n    startValue: function() {\n        return 0;\n    },\n\n    range: function() {\n        var options = this.options;\n        return { min: options.min, max: options.max };\n    },\n\n    getDivisions: function(stepValue) {\n        if (stepValue === 0) {\n            return 1;\n        }\n\n        var options = this.options;\n        var range = options.max - options.min;\n\n        return Math.floor(round(range / stepValue, COORD_PRECISION)) + 1;\n    },\n\n    getTickPositions: function(unit, skipUnit) {\n        var options = this.options;\n        var ref = this.lineInfo();\n        var axisDir = ref.axisDir;\n        var axisOrigin = ref.axisOrigin;\n        var lineBox = ref.lineBox;\n        var lineSize = ref.lineSize;\n        var range = options.max - options.min;\n        var scale = lineSize / range;\n        var step = unit * scale;\n        var divisions = this.getDivisions(unit);\n        var positions = [];\n        var pos = lineBox[axisOrigin];\n        var skipStep = 0;\n\n        if (skipUnit) {\n            skipStep = skipUnit / unit;\n        }\n\n        for (var idx = 0; idx < divisions; idx++) {\n            if (idx % skipStep !== 0) {\n                positions.push(round(pos, COORD_PRECISION));\n            }\n\n            pos = pos + step * axisDir;\n        }\n\n        return positions;\n    },\n\n    getMajorTickPositions: function() {\n        return this.getTickPositions(this.options.majorUnit);\n    },\n\n    getMinorTickPositions: function() {\n        return this.getTickPositions(this.options.minorUnit);\n    },\n\n    getSlot: function(a, b, limit) {\n        if (limit === void 0) { limit = false; }\n\n        var options = this.options;\n        var ref = this.lineInfo();\n        var axis = ref.axis;\n        var axisDir = ref.axisDir;\n        var lineBox = ref.lineBox;\n        var lineSize = ref.lineSize;\n        var lineStart = ref.lineStart;\n        var step = axisDir * (lineSize / (options.max - options.min));\n\n        var start = valueOrDefault(a, b || 0);\n        var end = valueOrDefault(b, a || 0);\n\n        if (limit) {\n            start = limitValue(start, options.min, options.max);\n            end = limitValue(end, options.min, options.max);\n        }\n\n        var p1 = Math.min(start, end) - options.min;\n        var p2 = Math.max(start, end) - options.min;\n\n        var slotBox = new Box(lineBox.x1, lineBox.y1, lineBox.x1, lineBox.y1);\n        slotBox[axis + 1] = limitCoordinate(lineStart + step * (axisDir > 0 ? p1 : p2));\n        slotBox[axis + 2] = limitCoordinate(lineStart + step * (axisDir > 0 ? p2 : p1));\n\n        return slotBox;\n    },\n\n    getValue: function(point) {\n        var options = this.options;\n        var max = Number(options.max);\n        var min = Number(options.min);\n        var offset = this.pointOffset(point);\n        var valueOffset = offset * (max - min);\n\n        if (offset < 0 || offset > 1) {\n            return null;\n        }\n\n        var value = min + valueOffset;\n        return round(value, DEFAULT_PRECISION);\n    },\n\n    translateRange: function(delta) {\n        var options = this.options;\n        var vertical = options.vertical;\n        var reverse = options.reverse;\n        var max = options.max;\n        var min = options.min;\n        var ref = this.lineInfo();\n        var lineSize = ref.lineSize;\n        var range = max - min;\n        var scale = lineSize / range;\n        var offset = round(delta / scale, DEFAULT_PRECISION);\n\n        if ((vertical || reverse) && !(vertical && reverse )) {\n            offset = -offset;\n        }\n\n        return {\n            min: min + offset,\n            max: max + offset,\n            offset: offset\n        };\n    },\n\n    labelsCount: function() {\n        return this.getDivisions(this.options.majorUnit);\n    },\n\n    createAxisLabel: function(index, labelOptions, labelContext) {\n        var options = this.options;\n        var value = round(options.min + (index * options.majorUnit), DEFAULT_PRECISION);\n        var text = this.axisLabelText(value, labelOptions, labelContext);\n\n        return new AxisLabel(value, text, index, null, labelOptions);\n    },\n\n    shouldRenderNote: function(value) {\n        var range = this.range();\n        return range.min <= value && value <= range.max;\n    },\n\n    pan: function(delta) {\n        var range = this.translateRange(delta);\n        return this.limitRange(range.min, range.max, this.totalMin, this.totalMax, range.offset);\n    },\n\n    pointsRange: function(start, end) {\n        var startValue = this.getValue(start);\n        var endValue = this.getValue(end);\n        var min = Math.min(startValue, endValue);\n        var max = Math.max(startValue, endValue);\n\n        if (this.isValidRange(min, max)) {\n            return {\n                min: min,\n                max: max\n            };\n        }\n    },\n\n    scaleRange: function(scale, cursor) {\n        var position = Math.abs(this.pointOffset(cursor));\n        var range = this.options.max - this.options.min;\n        var delta = this.scaleToDelta(scale, range);\n        var minDelta = position * delta;\n        var maxDelta = (1 - position) * delta;\n        var min = round(this.options.min + minDelta, DEFAULT_PRECISION);\n        var max = round(this.options.max - maxDelta, DEFAULT_PRECISION);\n\n        if (max - min < MIN_VALUE_RANGE$1) {\n            max = min + MIN_VALUE_RANGE$1;\n        }\n\n        return {\n            min: min,\n            max: max\n        };\n    },\n\n    zoomRange: function(scale, cursor) {\n        var ref = this;\n        var totalMin = ref.totalMin;\n        var totalMax = ref.totalMax;\n        var range = this.scaleRange(scale, cursor);\n\n        return {\n            min: limitValue(range.min, totalMin, totalMax),\n            max: limitValue(range.max, totalMin, totalMax),\n            narrowRange: false\n        };\n    },\n\n    isValidRange: function(min, max) {\n        return max - min > MIN_VALUE_RANGE$1;\n    }\n});\n\nfunction autoAxisOptions(seriesMin, seriesMax, options) {\n    var narrowRange = options.narrowRange;\n\n    var autoMin = autoAxisMin(seriesMin, seriesMax, narrowRange);\n    var autoMax = autoAxisMax(seriesMin, seriesMax, narrowRange);\n\n    var majorUnit = autoMajorUnit(autoMin, autoMax);\n    var autoOptions = {\n        majorUnit: majorUnit\n    };\n\n    if (options.roundToMajorUnit !== false) {\n        if (autoMin < 0 && remainderClose(autoMin, majorUnit, 1 / 3)) {\n            autoMin -= majorUnit;\n        }\n\n        if (autoMax > 0 && remainderClose(autoMax, majorUnit, 1 / 3)) {\n            autoMax += majorUnit;\n        }\n    }\n\n    autoOptions.min = floor(autoMin, majorUnit);\n    autoOptions.max = ceil(autoMax, majorUnit);\n\n    return autoOptions;\n}\n\nfunction totalAxisOptions(autoOptions, options) {\n    return {\n        min: defined(options.min) ? Math.min(autoOptions.min, options.min) : autoOptions.min,\n        max: defined(options.max) ? Math.max(autoOptions.max, options.max) : autoOptions.max,\n        majorUnit: autoOptions.majorUnit\n    };\n}\n\nfunction clearNullValues(options, fields) {\n    for (var idx = 0; idx < fields.length; idx++) {\n        var field = fields[idx];\n        if (options[field] === null) {\n            options[field] = undefined;\n        }\n    }\n}\n\nfunction axisOptions(autoOptions, userOptions) {\n    var options = userOptions;\n    var userSetMin, userSetMax;\n\n    if (userOptions) {\n        clearNullValues(userOptions, [ 'min', 'max' ]);\n\n        userSetMin = defined(userOptions.min);\n        userSetMax = defined(userOptions.max);\n\n        var userSetLimits = userSetMin || userSetMax;\n\n        if (userSetLimits) {\n            if (userOptions.min === userOptions.max) {\n                if (userOptions.min > 0) {\n                    userOptions.min = 0;\n                } else {\n                    userOptions.max = 1;\n                }\n            }\n        }\n\n        if (userOptions.majorUnit) {\n            autoOptions.min = floor(autoOptions.min, userOptions.majorUnit);\n            autoOptions.max = ceil(autoOptions.max, userOptions.majorUnit);\n        } else if (userSetLimits) {\n            options = deepExtend(autoOptions, userOptions);\n\n            // Determine an auto major unit after min/max have been set\n            autoOptions.majorUnit = autoMajorUnit(options.min, options.max);\n        }\n    }\n\n    autoOptions.minorUnit = (options.majorUnit || autoOptions.majorUnit) / 5;\n\n    var result = deepExtend(autoOptions, options);\n    if (result.min >= result.max) {\n        if (userSetMin && !userSetMax) {\n            result.max = result.min + result.majorUnit;\n        } else if (!userSetMin && userSetMax) {\n            result.min = result.max - result.majorUnit;\n        }\n    }\n\n    return result;\n}\n\nfunction remainderClose(value, divisor, ratio) {\n    var remainder = round(Math.abs(value % divisor), DEFAULT_PRECISION);\n    var threshold = divisor * (1 - ratio);\n\n    return remainder === 0 || remainder > threshold;\n}\n\nsetDefaultOptions(NumericAxis, {\n    type: \"numeric\",\n    min: 0,\n    max: 1,\n    vertical: true,\n    majorGridLines: {\n        visible: true,\n        width: 1,\n        color: BLACK\n    },\n    labels: {\n        format: \"#.####################\"\n    },\n    zIndex: 1\n});\n\nvar MIN_VALUE_RANGE = 1000;\n\nvar DateValueAxis = Axis.extend({\n    init: function(seriesMin, seriesMax, axisOptions, chartService) {\n        var min = toDate(seriesMin);\n        var max = toDate(seriesMax);\n\n        var intlService = chartService.intl;\n        var options = axisOptions || {};\n        options = deepExtend(options || {}, {\n            min: parseDate(intlService, options.min),\n            max: parseDate(intlService, options.max),\n            axisCrossingValue: parseDates(intlService, options.axisCrossingValues || options.axisCrossingValue),\n            weekStartDay: firstDay(options, intlService)\n        });\n        options = applyDefaults(min, max, options);\n\n        Axis.fn.init.call(this, options, chartService);\n\n        this.intlService = intlService;\n        this.seriesMin = min;\n        this.seriesMax = max;\n\n        var weekStartDay = options.weekStartDay || 0;\n        this.totalMin = toTime(floorDate(toTime(min) - 1, options.baseUnit, weekStartDay));\n        this.totalMax = toTime(ceilDate(toTime(max) + 1, options.baseUnit, weekStartDay));\n    },\n\n    clone: function() {\n        return new DateValueAxis(this.seriesMin, this.seriesMax, $.extend({}, this.options), this.chartService);\n    },\n\n    range: function() {\n        var options = this.options;\n        return { min: options.min, max: options.max };\n    },\n\n    getDivisions: function(stepValue) {\n        var options = this.options;\n\n        return Math.floor(\n            duration(options.min, options.max, options.baseUnit) / stepValue + 1\n        );\n    },\n\n    getTickPositions: function(step) {\n        var options = this.options;\n        var ref = this.lineInfo();\n        var dir = ref.axisDir;\n        var lineSize = ref.lineSize;\n        var start = ref.lineStart;\n        var divisions = this.getDivisions(step);\n        var timeRange = dateDiff(options.max, options.min);\n        var scale = lineSize / timeRange;\n        var weekStartDay = options.weekStartDay || 0;\n\n        var positions = [ start ];\n        for (var i = 1; i < divisions; i++) {\n            var date = addDuration(options.min, i * step, options.baseUnit, weekStartDay);\n            var pos = start + dateDiff(date, options.min) * scale * dir;\n\n            positions.push(round(pos, COORD_PRECISION));\n        }\n\n        return positions;\n    },\n\n    getMajorTickPositions: function() {\n        return this.getTickPositions(this.options.majorUnit);\n    },\n\n    getMinorTickPositions: function() {\n        return this.getTickPositions(this.options.minorUnit);\n    },\n\n    getSlot: function(a, b, limit) {\n        return NumericAxis.prototype.getSlot.call(\n            this, parseDate(this.intlService, a), parseDate(this.intlService, b), limit\n        );\n    },\n\n    getValue: function(point) {\n        var value = NumericAxis.prototype.getValue.call(this, point);\n\n        return value !== null ? toDate(value) : null;\n    },\n\n    labelsCount: function() {\n        return this.getDivisions(this.options.majorUnit);\n    },\n\n    createAxisLabel: function(index, labelOptions, labelContext) {\n        var options = this.options;\n        var offset = index * options.majorUnit;\n        var weekStartDay = options.weekStartDay || 0;\n        var date = options.min;\n\n        if (offset > 0) {\n            date = addDuration(date, offset, options.baseUnit, weekStartDay);\n        }\n\n        var unitFormat = labelOptions.dateFormats[options.baseUnit];\n        labelOptions.format = labelOptions.format || unitFormat;\n\n        var text = this.axisLabelText(date, labelOptions, labelContext);\n        return new AxisLabel(date, text, index, null, labelOptions);\n    },\n\n    translateRange: function(delta) {\n        var options = this.options;\n        var lineBox = this.lineBox();\n        var vertical = options.vertical;\n        var reverse = options.reverse;\n        var size = vertical ? lineBox.height() : lineBox.width();\n        var range = this.range();\n        var scale = size / dateDiff(range.max, range.min);\n\n        var offset = round(delta / scale, DEFAULT_PRECISION);\n        if ((vertical || reverse) && !(vertical && reverse )) {\n            offset = -offset;\n        }\n\n        var from = addTicks(options.min, offset);\n        var to = addTicks(options.max, offset);\n\n        return {\n            min: from,\n            max: to,\n            offset: offset\n        };\n    },\n\n    shouldRenderNote: function(value) {\n        var range = this.range();\n\n        return dateComparer(value, range.min) >= 0 && dateComparer(value, range.max) <= 0;\n    },\n\n    pan: function(delta) {\n        var range = this.translateRange(delta, true);\n        var limittedRange = this.limitRange(toTime(range.min), toTime(range.max), this.totalMin, this.totalMax, range.offset);\n\n        if (limittedRange) {\n            return {\n                min: toDate(limittedRange.min),\n                max: toDate(limittedRange.max)\n            };\n        }\n    },\n\n    pointsRange: function(start, end) {\n        var startValue = this.getValue(start);\n        var endValue = this.getValue(end);\n        var min = Math.min(startValue, endValue);\n        var max = Math.max(startValue, endValue);\n\n        return {\n            min: toDate(min),\n            max: toDate(max)\n        };\n    },\n\n    scaleRange: function(scale, cursor) {\n        var position = Math.abs(this.pointOffset(cursor));\n        var range = this.options.max - this.options.min;\n        var delta = this.scaleToDelta(scale, range);\n        var minDelta = position * delta;\n        var maxDelta = (1 - position) * delta;\n        var min = toDate(toTime(this.options.min) + minDelta);\n        var max = toDate(toTime(this.options.max) - maxDelta);\n\n        if (max - min < MIN_VALUE_RANGE) {\n            max = toDate(toTime(min) + MIN_VALUE_RANGE);\n        }\n\n        return {\n            min: min,\n            max: max\n        };\n    },\n\n    zoomRange: function(scale, cursor) {\n        var range = this.scaleRange(scale, cursor);\n        var min = toDate(limitValue(toTime(range.min), this.totalMin, this.totalMax));\n        var max = toDate(limitValue(toTime(range.max), this.totalMin, this.totalMax));\n\n        return {\n            min: min,\n            max: max\n        };\n    }\n});\n\nfunction timeUnits(delta) {\n    var unit = HOURS;\n\n    if (delta >= TIME_PER_YEAR) {\n        unit = YEARS;\n    } else if (delta >= TIME_PER_MONTH) {\n        unit = MONTHS;\n    } else if (delta >= TIME_PER_WEEK) {\n        unit = WEEKS;\n    } else if (delta >= TIME_PER_DAY) {\n        unit = DAYS;\n    }\n\n    return unit;\n}\n\nfunction applyDefaults(seriesMin, seriesMax, options) {\n    var min = options.min || seriesMin;\n    var max = options.max || seriesMax;\n    var baseUnit = options.baseUnit || (max && min ? timeUnits(absoluteDateDiff(max, min)) : HOURS);\n    var baseUnitTime = TIME_PER_UNIT[baseUnit];\n    var weekStartDay = options.weekStartDay || 0;\n    var autoMin = floorDate(toTime(min) - 1, baseUnit, weekStartDay) || toDate(max);\n    var autoMax = ceilDate(toTime(max) + 1, baseUnit, weekStartDay);\n    var userMajorUnit = options.majorUnit ? options.majorUnit : undefined;\n    var majorUnit = userMajorUnit || ceil(\n                        autoMajorUnit(autoMin.getTime(), autoMax.getTime()),\n                        baseUnitTime\n                    ) / baseUnitTime;\n    var actualUnits = duration(autoMin, autoMax, baseUnit);\n    var totalUnits = ceil(actualUnits, majorUnit);\n    var unitsToAdd = totalUnits - actualUnits;\n    var head = Math.floor(unitsToAdd / 2);\n    var tail = unitsToAdd - head;\n\n    if (!options.baseUnit) {\n        delete options.baseUnit;\n    }\n\n    options.baseUnit = options.baseUnit || baseUnit;\n    options.min = options.min || addDuration(autoMin, -head, baseUnit, weekStartDay);\n    options.max = options.max || addDuration(autoMax, tail, baseUnit, weekStartDay);\n    options.minorUnit = options.minorUnit || majorUnit / 5;\n    options.majorUnit = majorUnit;\n\n    return options;\n}\n\nsetDefaultOptions(DateValueAxis, {\n    type: DATE,\n    majorGridLines: {\n        visible: true,\n        width: 1,\n        color: BLACK\n    },\n    labels: {\n        dateFormats: DateLabelFormats\n    }\n});\n\nvar DEFAULT_MAJOR_UNIT = 10;\nvar MIN_VALUE_RANGE$2 = 1e-6;\n\nvar LogarithmicAxis = Axis.extend({\n    init: function(seriesMin, seriesMax, options, chartService) {\n\n        var axisOptions = deepExtend({ majorUnit: DEFAULT_MAJOR_UNIT, min: seriesMin, max: seriesMax }, options);\n        var base = axisOptions.majorUnit;\n        var autoMax = autoAxisMax$1(seriesMax, base);\n        var autoMin = autoAxisMin$1(seriesMin, seriesMax, axisOptions);\n        var range = initRange(autoMin, autoMax, axisOptions, options);\n\n        axisOptions.max = range.max;\n        axisOptions.min = range.min;\n        axisOptions.minorUnit = options.minorUnit || round(base - 1, DEFAULT_PRECISION);\n\n        Axis.fn.init.call(this, axisOptions, chartService);\n\n        this.totalMin = defined(options.min) ? Math.min(autoMin, options.min) : autoMin;\n        this.totalMax = defined(options.max) ? Math.max(autoMax, options.max) : autoMax;\n        this.logMin = round(log(range.min, base), DEFAULT_PRECISION);\n        this.logMax = round(log(range.max, base), DEFAULT_PRECISION);\n        this.seriesMin = seriesMin;\n        this.seriesMax = seriesMax;\n\n        this.createLabels();\n    },\n\n    clone: function() {\n        return new LogarithmicAxis(\n            this.seriesMin,\n            this.seriesMax,\n            $.extend({}, this.options),\n            this.chartService\n        );\n    },\n\n    startValue: function() {\n        return this.options.min;\n    },\n\n    getSlot: function(a, b, limit) {\n        var ref = this;\n        var options = ref.options;\n        var logMin = ref.logMin;\n        var logMax = ref.logMax;\n        var base = options.majorUnit;\n        var min = options.min;\n        var max = options.max;\n        var ref$1 = this.lineInfo();\n        var axis = ref$1.axis;\n        var axisDir = ref$1.axisDir;\n        var lineBox = ref$1.lineBox;\n        var lineSize = ref$1.lineSize;\n        var lineStart = ref$1.lineStart;\n        var step = axisDir * (lineSize / (logMax - logMin));\n        var start = valueOrDefault(a, b || 1);\n        var end = valueOrDefault(b, a || 1);\n\n        if (start <= 0 || end <= 0) {\n            return null;\n        }\n\n        if (limit) {\n            start = limitValue(start, min, max);\n            end = limitValue(end, min, max);\n        }\n\n        start = log(start, base);\n        end = log(end, base);\n\n        var p1 = Math.min(start, end) - logMin;\n        var p2 = Math.max(start, end) - logMin;\n\n        var slotBox = new Box(lineBox.x1, lineBox.y1, lineBox.x1, lineBox.y1);\n        slotBox[axis + 1] = limitCoordinate(lineStart + step * (axisDir > 0 ? p1 : p2));\n        slotBox[axis + 2] = limitCoordinate(lineStart + step * (axisDir > 0 ? p2 : p1));\n\n        return slotBox;\n    },\n\n    getValue: function(point) {\n        var ref = this;\n        var options = ref.options;\n        var logMin = ref.logMin;\n        var logMax = ref.logMax;\n        var base = options.majorUnit;\n        var ref$1 = this.lineInfo();\n        var axis = ref$1.axis;\n        var axisDir = ref$1.axisDir;\n        var lineStart = ref$1.lineStart;\n        var lineSize = ref$1.lineSize;\n        var step = ((logMax - logMin) / lineSize);\n        var offset = axisDir * (point[axis] - lineStart);\n        var valueOffset = offset * step;\n\n        if (offset < 0 || offset > lineSize) {\n            return null;\n        }\n\n        var value = logMin + valueOffset;\n\n        return round(Math.pow(base, value), DEFAULT_PRECISION);\n    },\n\n    range: function() {\n        var options = this.options;\n        return { min: options.min, max: options.max };\n    },\n\n    translateRange: function(delta) {\n        var ref = this;\n        var options = ref.options;\n        var logMin = ref.logMin;\n        var logMax = ref.logMax;\n        var reverse = options.reverse;\n        var vertical = options.vertical;\n        var base = options.majorUnit;\n        var lineBox = this.lineBox();\n        var size = vertical ? lineBox.height() : lineBox.width();\n        var scale = size / (logMax - logMin);\n        var offset = round(delta / scale, DEFAULT_PRECISION);\n\n        if ((vertical || reverse) && !(vertical && reverse )) {\n            offset = -offset;\n        }\n\n        return {\n            min: Math.pow(base, logMin + offset),\n            max: Math.pow(base, logMax + offset),\n            offset: offset\n        };\n    },\n\n    labelsCount: function() {\n        var floorMax = Math.floor(this.logMax);\n        var count = Math.floor(floorMax - this.logMin) + 1;\n\n        return count;\n    },\n\n    getMajorTickPositions: function() {\n        var ticks = [];\n\n        this.traverseMajorTicksPositions(function (position) {\n            ticks.push(position);\n        }, { step: 1, skip: 0 });\n\n        return ticks;\n    },\n\n    createTicks: function(lineGroup) {\n        var options = this.options;\n        var majorTicks = options.majorTicks;\n        var minorTicks = options.minorTicks;\n        var vertical = options.vertical;\n        var mirror = options.labels.mirror;\n        var lineBox = this.lineBox();\n        var ticks = [];\n        var tickLineOptions = {\n            // TODO\n            // _alignLines: options._alignLines,\n            vertical: vertical\n        };\n\n        function render(tickPosition, tickOptions) {\n            tickLineOptions.tickX = mirror ? lineBox.x2 : lineBox.x2 - tickOptions.size;\n            tickLineOptions.tickY = mirror ? lineBox.y1 - tickOptions.size : lineBox.y1;\n            tickLineOptions.position = tickPosition;\n\n            lineGroup.append(createAxisTick(tickLineOptions, tickOptions));\n        }\n\n        if (majorTicks.visible) {\n            this.traverseMajorTicksPositions(render, majorTicks);\n        }\n\n        if (minorTicks.visible) {\n            this.traverseMinorTicksPositions(render, minorTicks);\n        }\n\n        return ticks;\n    },\n\n    createGridLines: function(altAxis) {\n        var options = this.options;\n        var minorGridLines = options.minorGridLines;\n        var majorGridLines = options.majorGridLines;\n        var vertical = options.vertical;\n        var lineBox = altAxis.lineBox();\n        var lineOptions = {\n            lineStart: lineBox[vertical ? \"x1\" : \"y1\"],\n            lineEnd: lineBox[vertical ? \"x2\" : \"y2\"],\n            vertical: vertical\n        };\n        var majorTicks = [];\n\n        var container = this.gridLinesVisual();\n        function render(tickPosition, gridLine) {\n            if (!inArray(tickPosition, majorTicks)) {\n                lineOptions.position = tickPosition;\n                container.append(createAxisGridLine(lineOptions, gridLine));\n\n                majorTicks.push(tickPosition);\n            }\n        }\n\n        if (majorGridLines.visible) {\n            this.traverseMajorTicksPositions(render, majorGridLines);\n        }\n\n        if (minorGridLines.visible) {\n            this.traverseMinorTicksPositions(render, minorGridLines);\n        }\n\n        return container.children;\n    },\n\n    traverseMajorTicksPositions: function(callback, tickOptions) {\n        var ref = this.lineInfo();\n        var lineStart = ref.lineStart;\n        var step = ref.step;\n        var ref$1 = this;\n        var logMin = ref$1.logMin;\n        var logMax = ref$1.logMax;\n\n        for (var power = Math.ceil(logMin) + tickOptions.skip; power <= logMax; power += tickOptions.step) {\n            var position = round(lineStart + step * (power - logMin), DEFAULT_PRECISION);\n            callback(position, tickOptions);\n        }\n    },\n\n    traverseMinorTicksPositions: function(callback, tickOptions) {\n        var this$1 = this;\n\n        var ref = this.options;\n        var min = ref.min;\n        var max = ref.max;\n        var minorUnit = ref.minorUnit;\n        var base = ref.majorUnit;\n        var ref$1 = this.lineInfo();\n        var lineStart = ref$1.lineStart;\n        var step = ref$1.step;\n        var ref$2 = this;\n        var logMin = ref$2.logMin;\n        var logMax = ref$2.logMax;\n        var start = Math.floor(logMin);\n\n        for (var power = start; power < logMax; power++) {\n            var minorOptions = this$1._minorIntervalOptions(power);\n            for (var idx = tickOptions.skip; idx < minorUnit; idx += tickOptions.step) {\n                var value = minorOptions.value + idx * minorOptions.minorStep;\n                if (value > max) {\n                    break;\n                }\n                if (value >= min) {\n                    var position = round(lineStart + step * (log(value, base) - logMin), DEFAULT_PRECISION);\n                    callback(position, tickOptions);\n                }\n            }\n        }\n    },\n\n    createAxisLabel: function(index, labelOptions, labelContext) {\n        var power = Math.ceil(this.logMin + index);\n        var value = Math.pow(this.options.majorUnit, power);\n        var text = this.axisLabelText(value, labelOptions, labelContext);\n\n        return new AxisLabel(value, text, index, null, labelOptions);\n    },\n\n    shouldRenderNote: function(value) {\n        var range = this.range();\n        return range.min <= value && value <= range.max;\n    },\n\n    pan: function(delta) {\n        var range = this.translateRange(delta);\n        return this.limitRange(range.min, range.max, this.totalMin, this.totalMax, range.offset);\n    },\n\n    pointsRange: function(start, end) {\n        var startValue = this.getValue(start);\n        var endValue = this.getValue(end);\n        var min = Math.min(startValue, endValue);\n        var max = Math.max(startValue, endValue);\n\n        return {\n            min: min,\n            max: max\n        };\n    },\n\n    scaleRange: function(scale, cursor) {\n        var ref = this.options;\n        var base = ref.majorUnit;\n        var logMin = log(this.options.min, base);\n        var logMax = log(this.options.max, base);\n        var position = Math.abs(this.pointOffset(cursor));\n        var range = logMax - logMin;\n        var delta = this.scaleToDelta(scale, range);\n        var min = Math.pow(base, logMin + position * delta);\n        var max = Math.pow(base, logMax - (1 - position) * delta);\n\n        if (max - min < MIN_VALUE_RANGE$2) {\n            max = min + MIN_VALUE_RANGE$2;\n        }\n\n        return {\n            min: min,\n            max: max\n        };\n    },\n\n    zoomRange: function(scale, cursor) {\n        var range = this.scaleRange(scale, cursor);\n        var ref = this;\n        var totalMin = ref.totalMin;\n        var totalMax = ref.totalMax;\n\n        return {\n            min: limitValue(range.min, totalMin, totalMax),\n            max: limitValue(range.max, totalMin, totalMax)\n        };\n    },\n\n    _minorIntervalOptions: function(power) {\n        var ref = this.options;\n        var minorUnit = ref.minorUnit;\n        var base = ref.majorUnit;\n        var value = Math.pow(base, power);\n        var nextValue = Math.pow(base, power + 1);\n        var difference = nextValue - value;\n        var minorStep = difference / minorUnit;\n\n        return {\n            value: value,\n            minorStep: minorStep\n        };\n    },\n\n    lineInfo: function() {\n        var info = Axis.fn.lineInfo.call(this);\n        info.step = info.axisDir * (info.lineSize / (this.logMax - this.logMin));\n\n        return info;\n    }\n});\n\nfunction initRange(autoMin, autoMax, axisOptions, options) {\n    var min = axisOptions.min;\n    var max = axisOptions.max;\n\n    if (defined(axisOptions.axisCrossingValue) && axisOptions.axisCrossingValue <= 0) {\n        throwNegativeValuesError();\n    }\n\n    if (!defined(options.max)) {\n        max = autoMax;\n    } else if (options.max <= 0) {\n        throwNegativeValuesError();\n    }\n\n    if (!defined(options.min)) {\n        min = autoMin;\n    } else if (options.min <= 0) {\n        throwNegativeValuesError();\n    }\n\n    return {\n        min: min,\n        max: max\n    };\n}\n\nfunction autoAxisMin$1(min, max, options) {\n    var base = options.majorUnit;\n    var autoMin = min;\n    if (min <= 0) {\n        autoMin = max <= 1 ? Math.pow(base, -2) : 1;\n    } else if (!options.narrowRange) {\n        autoMin = Math.pow(base, Math.floor(log(min, base)));\n    }\n    return autoMin;\n}\n\nfunction autoAxisMax$1(max, base) {\n    var logMaxRemainder = round(log(max, base), DEFAULT_PRECISION) % 1;\n    var autoMax;\n    if (max <= 0) {\n        autoMax = base;\n    } else if (logMaxRemainder !== 0 && (logMaxRemainder < 0.3 || logMaxRemainder > 0.9)) {\n        autoMax = Math.pow(base, log(max, base) + 0.2);\n    } else {\n        autoMax = Math.pow(base, Math.ceil(log(max, base)));\n    }\n\n    return autoMax;\n}\n\nfunction throwNegativeValuesError() {\n    throw new Error(\"Non positive values cannot be used for a logarithmic axis\");\n}\n\nfunction log(x, base) {\n    return Math.log(x) / Math.log(base);\n}\n\nsetDefaultOptions(LogarithmicAxis, {\n    type: \"log\",\n    majorUnit: DEFAULT_MAJOR_UNIT,\n    minorUnit: 1,\n    axisCrossingValue: 1,\n    vertical: true,\n    majorGridLines: {\n        visible: true,\n        width: 1,\n        color: BLACK\n    },\n    zIndex: 1,\n    _deferLabels: true\n});\n\nvar GridLinesMixin = {\n    createGridLines: function(altAxis) {\n        var options = this.options;\n        var radius = Math.abs(this.box.center().y - altAxis.lineBox().y1);\n        var gridLines = [];\n        var skipMajor = false;\n        var majorAngles, minorAngles;\n\n        if (options.majorGridLines.visible) {\n            majorAngles = this.majorGridLineAngles(altAxis);\n            skipMajor = true;\n\n            gridLines = this.renderMajorGridLines(\n                majorAngles, radius, options.majorGridLines\n            );\n        }\n\n        if (options.minorGridLines.visible) {\n            minorAngles = this.minorGridLineAngles(altAxis, skipMajor);\n\n            append(gridLines, this.renderMinorGridLines(\n                minorAngles, radius, options.minorGridLines, altAxis, skipMajor\n            ));\n        }\n\n        return gridLines;\n    },\n\n    renderMajorGridLines: function(angles, radius, options) {\n        return this.renderGridLines(angles, radius, options);\n    },\n\n    renderMinorGridLines: function(angles, radius, options, altAxis, skipMajor) {\n        var radiusCallback = this.radiusCallback && this.radiusCallback(radius, altAxis, skipMajor);\n        return this.renderGridLines(angles, radius, options, radiusCallback);\n    },\n\n    renderGridLines: function(angles, radius, options, radiusCallback) {\n        var style = {\n            stroke: {\n                width: options.width,\n                color: options.color,\n                dashType: options.dashType\n            }\n        };\n\n        var center = this.box.center();\n        var circle = new Circle([ center.x, center.y ], radius);\n        var container = this.gridLinesVisual();\n\n        for (var i = 0; i < angles.length; i++) {\n            var line = new Path(style);\n            if (radiusCallback) {\n                circle.radius = radiusCallback(angles[i]);\n            }\n\n            line.moveTo(circle.center)\n                .lineTo(circle.pointAt(angles[i] + 180));\n\n            container.append(line);\n        }\n\n        return container.children;\n    },\n\n    gridLineAngles: function(altAxis, size, skip, step, skipAngles) {\n        var this$1 = this;\n\n        var divs = this.intervals(size, skip, step, skipAngles);\n        var options = altAxis.options;\n        var altAxisVisible = options.visible && (options.line || {}).visible !== false;\n\n        return map(divs, function (d) {\n            var alpha = this$1.intervalAngle(d);\n\n            if (!altAxisVisible || alpha !== 90) {\n                return alpha;\n            }\n        });\n    }\n};\n\nvar RadarCategoryAxis = CategoryAxis.extend({\n    range: function() {\n        return { min: 0, max: this.options.categories.length };\n    },\n\n    reflow: function(box) {\n        this.box = box;\n        this.reflowLabels();\n    },\n\n    lineBox: function() {\n        return this.box;\n    },\n\n    reflowLabels: function() {\n        var this$1 = this;\n\n        var ref = this;\n        var labels = ref.labels;\n        var labelOptions = ref.options.labels;\n        var skip = labelOptions.skip || 0;\n        var step = labelOptions.step || 1;\n        var measureBox = new Box();\n\n        for (var i = 0; i < labels.length; i++) {\n            labels[i].reflow(measureBox);\n            var labelBox = labels[i].box;\n\n            labels[i].reflow(this$1.getSlot(skip + i * step).adjacentBox(\n                0, labelBox.width(), labelBox.height()\n            ));\n        }\n    },\n\n    intervals: function(size, skipOption, stepOption, skipAngles) {\n        if (skipAngles === void 0) { skipAngles = false; }\n\n        var options = this.options;\n        var categories = options.categories.length;\n        var divCount = categories / size || 1;\n        var divAngle = 360 / divCount;\n        var skip = skipOption || 0;\n        var step = stepOption || 1;\n        var divs = [];\n        var angle = 0;\n\n        for (var i = skip; i < divCount; i += step) {\n            if (options.reverse) {\n                angle = 360 - i * divAngle;\n            } else {\n                angle = i * divAngle;\n            }\n\n            angle = round(angle, COORD_PRECISION) % 360;\n\n            if (!(skipAngles && inArray(angle, skipAngles))) {\n                divs.push(angle);\n            }\n        }\n\n        return divs;\n    },\n\n    majorIntervals: function() {\n        return this.intervals(1);\n    },\n\n    minorIntervals: function() {\n        return this.intervals(0.5);\n    },\n\n    intervalAngle: function(interval) {\n        return (360 + interval + this.options.startAngle) % 360;\n    },\n\n    majorAngles: function() {\n        var this$1 = this;\n\n        return map(this.majorIntervals(), function (interval) { return this$1.intervalAngle(interval); });\n    },\n\n    createLine: function() {\n        return [];\n    },\n\n    majorGridLineAngles: function(altAxis) {\n        var majorGridLines = this.options.majorGridLines;\n        return this.gridLineAngles(altAxis, 1, majorGridLines.skip, majorGridLines.step);\n    },\n\n    minorGridLineAngles: function(altAxis, skipMajor) {\n        var ref = this.options;\n        var minorGridLines = ref.minorGridLines;\n        var majorGridLines = ref.majorGridLines;\n        var majorGridLineAngles = skipMajor ? this.intervals(1, majorGridLines.skip, majorGridLines.step) : null;\n\n        return this.gridLineAngles(altAxis, 0.5, minorGridLines.skip, minorGridLines.step, majorGridLineAngles);\n    },\n\n    radiusCallback: function(radius, altAxis, skipMajor) {\n        if (altAxis.options.type !== ARC) {\n            var minorAngle = rad(360 / (this.options.categories.length * 2));\n            var minorRadius = Math.cos(minorAngle) * radius;\n            var majorAngles = this.majorAngles();\n\n            var radiusCallback = function(angle) {\n                if (!skipMajor && inArray(angle, majorAngles)) {\n                    return radius;\n                }\n\n                return minorRadius;\n            };\n            return radiusCallback;\n        }\n    },\n\n    createPlotBands: function() {\n        var this$1 = this;\n\n        var plotBands = this.options.plotBands || [];\n\n        var group = this._plotbandGroup = new Group({\n            zIndex: -1\n        });\n\n        for (var i = 0; i < plotBands.length; i++) {\n            var band = plotBands[i];\n            var slot = this$1.plotBandSlot(band);\n            var singleSlot = this$1.getSlot(band.from);\n\n            var head = band.from - Math.floor(band.from);\n            slot.startAngle += head * singleSlot.angle;\n\n            var tail = Math.ceil(band.to) - band.to;\n            slot.angle -= (tail + head) * singleSlot.angle;\n\n            var ring = ShapeBuilder.current.createRing(slot, {\n                fill: {\n                    color: band.color,\n                    opacity: band.opacity\n                },\n                stroke: {\n                    opacity: band.opacity\n                }\n            });\n            group.append(ring);\n        }\n\n        this.appendVisual(group);\n    },\n\n    plotBandSlot: function(band) {\n        return this.getSlot(band.from, band.to - 1);\n    },\n\n    getSlot: function(from, to) {\n        var options = this.options;\n        var justified = options.justified;\n        var box = this.box;\n        var divs = this.majorAngles();\n        var totalDivs = divs.length;\n        var slotAngle = 360 / totalDivs;\n        var fromValue = from;\n\n        if (options.reverse && !justified) {\n            fromValue = (fromValue + 1) % totalDivs;\n        }\n\n        fromValue = limitValue(Math.floor(fromValue), 0, totalDivs - 1);\n        var slotStart = divs[fromValue];\n\n        if (justified) {\n            slotStart = slotStart - slotAngle / 2;\n\n            if (slotStart < 0) {\n                slotStart += 360;\n            }\n        }\n\n        var toValue = limitValue(Math.ceil(to || fromValue), fromValue, totalDivs - 1);\n        var slots = toValue - fromValue + 1;\n        var angle = slotAngle * slots;\n\n        return new Ring(box.center(), 0, box.height() / 2, slotStart, angle);\n    },\n\n    slot: function(from, to) {\n        var slot = this.getSlot(from, to);\n        var startAngle = slot.startAngle + 180;\n        var endAngle = startAngle + slot.angle;\n\n        return new geometry.Arc([ slot.center.x, slot.center.y ], {\n            startAngle: startAngle,\n            endAngle: endAngle,\n            radiusX: slot.radius,\n            radiusY: slot.radius\n        });\n    },\n\n    pointCategoryIndex: function(point) {\n        var this$1 = this;\n\n        var length = this.options.categories.length;\n        var index = null;\n\n        for (var i = 0; i < length; i++) {\n            var slot = this$1.getSlot(i);\n            if (slot.containsPoint(point)) {\n                index = i;\n                break;\n            }\n        }\n\n        return index;\n    }\n});\n\nsetDefaultOptions(RadarCategoryAxis, {\n    startAngle: 90,\n    labels: {\n        margin: getSpacing(10)\n    },\n    majorGridLines: {\n        visible: true\n    },\n    justified: true\n});\ndeepExtend(RadarCategoryAxis.prototype, GridLinesMixin);\n\nvar PolarAxis = Axis.extend({\n    init: function(options, chartService) {\n        Axis.fn.init.call(this, options, chartService);\n\n        var instanceOptions = this.options;\n\n        instanceOptions.minorUnit = instanceOptions.minorUnit || instanceOptions.majorUnit / 2;\n    },\n\n    getDivisions: function(stepValue) {\n        return NumericAxis.prototype.getDivisions.call(this, stepValue) - 1;\n    },\n\n    reflow: function(box) {\n        this.box = box;\n        this.reflowLabels();\n    },\n\n    reflowLabels: function() {\n        var this$1 = this;\n\n        var ref = this;\n        var options = ref.options;\n        var labels = ref.labels;\n        var labelOptions = ref.options.labels;\n        var skip = labelOptions.skip || 0;\n        var step = labelOptions.step || 1;\n\n        var measureBox = new Box();\n        var divs = this.intervals(options.majorUnit, skip, step);\n\n        for (var i = 0; i < labels.length; i++) {\n            labels[i].reflow(measureBox);\n            var labelBox = labels[i].box;\n\n            labels[i].reflow(this$1.getSlot(divs[i]).adjacentBox(0, labelBox.width(), labelBox.height()));\n        }\n    },\n\n    lineBox: function() {\n        return this.box;\n    },\n\n    intervals: function(size, skipOption, stepOption, skipAngles) {\n        if (skipAngles === void 0) { skipAngles = false; }\n\n        var min = this.options.min;\n        var divisions = this.getDivisions(size);\n        var divs = [];\n        var skip = skipOption || 0;\n        var step = stepOption || 1;\n\n        for (var i = skip; i < divisions; i += step) {\n            var current = (360 + min + i * size) % 360;\n            if (!(skipAngles && inArray(current, skipAngles))) {\n                divs.push(current);\n            }\n        }\n\n        return divs;\n    },\n\n    majorIntervals: function() {\n        return this.intervals(this.options.majorUnit);\n    },\n\n    minorIntervals: function() {\n        return this.intervals(this.options.minorUnit);\n    },\n\n    intervalAngle: function(i) {\n        return (540 - i - this.options.startAngle) % 360;\n    },\n\n    createLine: function() {\n        return [];\n    },\n\n    majorGridLineAngles: function(altAxis) {\n        var majorGridLines = this.options.majorGridLines;\n        return this.gridLineAngles(altAxis, this.options.majorUnit, majorGridLines.skip, majorGridLines.step);\n    },\n\n    minorGridLineAngles: function(altAxis, skipMajor) {\n        var options = this.options;\n        var minorGridLines = options.minorGridLines;\n        var majorGridLines = options.majorGridLines;\n        var majorGridLineAngles = skipMajor ? this.intervals(options.majorUnit, majorGridLines.skip, majorGridLines.step) : null;\n\n        return this.gridLineAngles(altAxis, options.minorUnit, minorGridLines.skip, minorGridLines.step, majorGridLineAngles);\n    },\n\n    plotBandSlot: function(band) {\n        return this.getSlot(band.from, band.to);\n    },\n\n    getSlot: function(a, b) {\n        var ref = this;\n        var options = ref.options;\n        var box = ref.box;\n        var startAngle = options.startAngle;\n        var start = limitValue(a, options.min, options.max);\n        var end = limitValue(b || start, start, options.max);\n\n        if (options.reverse) {\n            start *= -1;\n            end *= -1;\n        }\n\n        start = (540 - start - startAngle) % 360;\n        end = (540 - end - startAngle) % 360;\n\n        if (end < start) {\n            var tmp = start;\n            start = end;\n            end = tmp;\n        }\n\n        return new Ring(box.center(), 0, box.height() / 2, start, end - start);\n    },\n\n    slot: function(from, to) {\n        if (to === void 0) { to = from; }\n\n        var options = this.options;\n        var start = 360 - options.startAngle;\n        var slot = this.getSlot(from, to);\n        var min = Math.min(from, to);\n        var max = Math.max(from, to);\n        var startAngle, endAngle;\n\n        if (options.reverse) {\n            startAngle = min;\n            endAngle = max;\n        } else {\n            startAngle = 360 - max;\n            endAngle = 360 - min;\n        }\n\n        startAngle = (startAngle + start) % 360;\n        endAngle = (endAngle + start) % 360;\n\n        return new geometry.Arc([ slot.center.x, slot.center.y ], {\n            startAngle: startAngle,\n            endAngle: endAngle,\n            radiusX: slot.radius,\n            radiusY: slot.radius\n        });\n    },\n\n    getValue: function(point) {\n        var options = this.options;\n        var center = this.box.center();\n        var dx = point.x - center.x;\n        var dy = point.y - center.y;\n        var theta = Math.round(deg(Math.atan2(dy, dx)));\n        var start = options.startAngle;\n\n        if (!options.reverse) {\n            theta *= -1;\n            start *= -1;\n        }\n\n        return (theta + start + 360) % 360;\n    },\n\n    valueRange: function() {\n        return {\n            min: 0,\n            max: Math.PI * 2\n        };\n    }\n});\n\nsetDefaultOptions(PolarAxis, {\n    type: \"polar\",\n    startAngle: 0,\n    reverse: false,\n    majorUnit: 60,\n    min: 0,\n    max: 360,\n    labels: {\n        margin: getSpacing(10)\n    },\n    majorGridLines: {\n        color: BLACK,\n        visible: true,\n        width: 1\n    },\n    minorGridLines: {\n        color: \"#aaa\"\n    }\n});\n\ndeepExtend(PolarAxis.prototype, GridLinesMixin, {\n    createPlotBands: RadarCategoryAxis.prototype.createPlotBands,\n    majorAngles: RadarCategoryAxis.prototype.majorAngles,\n    range: NumericAxis.prototype.range,\n    labelsCount: NumericAxis.prototype.labelsCount,\n    createAxisLabel: NumericAxis.prototype.createAxisLabel\n});\n\nvar RadarNumericAxisMixin = {\n    options: {\n        majorGridLines: {\n            visible: true\n        }\n    },\n\n    createPlotBands: function() {\n        var this$1 = this;\n\n        var ref = this.options;\n        var type = ref.majorGridLines.type;\n        var plotBands = ref.plotBands; if (plotBands === void 0) { plotBands = []; }\n        var altAxis = this.plotArea.polarAxis;\n        var majorAngles = altAxis.majorAngles();\n        var center = altAxis.box.center();\n        var group = this._plotbandGroup = new Group({\n            zIndex: -1\n        });\n\n        for (var i = 0; i < plotBands.length; i++) {\n            var band = plotBands[i];\n            var bandStyle = {\n                fill: {\n                    color: band.color,\n                    opacity: band.opacity\n                },\n                stroke: {\n                    opacity: band.opacity\n                }\n            };\n\n            var slot = this$1.getSlot(band.from, band.to, true);\n            var ring = new Ring(center, center.y - slot.y2, center.y - slot.y1, 0, 360);\n\n            var shape = (void 0);\n            if (type === ARC) {\n                shape = ShapeBuilder.current.createRing(ring, bandStyle);\n            } else {\n                shape = Path.fromPoints(this$1.plotBandPoints(ring, majorAngles), bandStyle).close();\n            }\n\n            group.append(shape);\n        }\n\n        this.appendVisual(group);\n    },\n\n    plotBandPoints: function(ring, angles) {\n        var innerPoints = [];\n        var outerPoints = [];\n        var center = [ ring.center.x, ring.center.y ];\n        var innerCircle = new Circle(center, ring.innerRadius);\n        var outerCircle = new Circle(center, ring.radius);\n\n        for (var i = 0; i < angles.length; i++) {\n            innerPoints.push(innerCircle.pointAt(angles[i] + 180));\n            outerPoints.push(outerCircle.pointAt(angles[i] + 180));\n        }\n\n        innerPoints.reverse();\n        innerPoints.push(innerPoints[0]);\n        outerPoints.push(outerPoints[0]);\n\n        return outerPoints.concat(innerPoints);\n    },\n\n    createGridLines: function(altAxis) {\n        var options = this.options;\n        var majorTicks = this.radarMajorGridLinePositions();\n        var majorAngles = altAxis.majorAngles();\n        var center = altAxis.box.center();\n        var gridLines = [];\n\n        if (options.majorGridLines.visible) {\n            gridLines = this.renderGridLines(\n                center, majorTicks, majorAngles, options.majorGridLines\n            );\n        }\n\n        if (options.minorGridLines.visible) {\n            var minorTicks = this.radarMinorGridLinePositions();\n            append(gridLines, this.renderGridLines(\n                center, minorTicks, majorAngles, options.minorGridLines\n            ));\n        }\n\n        return gridLines;\n    },\n\n    renderGridLines: function(center, ticks, angles, options) {\n        var style = {\n            stroke: {\n                width: options.width,\n                color: options.color,\n                dashType: options.dashType\n            }\n        };\n        var skip = options.skip; if (skip === void 0) { skip = 0; }\n        var step = options.step; if (step === void 0) { step = 0; }\n        var container = this.gridLinesVisual();\n\n        for (var tickIx = skip; tickIx < ticks.length; tickIx += step) {\n            var tickRadius = center.y - ticks[tickIx];\n            if (tickRadius > 0) {\n                var circle = new Circle([ center.x, center.y ], tickRadius);\n                if (options.type === ARC) {\n                    container.append(new drawing.Circle(circle, style));\n                } else {\n                    var line = new Path(style);\n                    for (var angleIx = 0; angleIx < angles.length; angleIx++) {\n                        line.lineTo(circle.pointAt(angles[angleIx] + 180));\n                    }\n\n                    line.close();\n                    container.append(line);\n                }\n            }\n        }\n\n        return container.children;\n    },\n\n    getValue: function(point) {\n        var lineBox = this.lineBox();\n        var altAxis = this.plotArea.polarAxis;\n        var majorAngles = altAxis.majorAngles();\n        var center = altAxis.box.center();\n        var radius = point.distanceTo(center);\n        var distance = radius;\n\n        if (this.options.majorGridLines.type !== ARC && majorAngles.length > 1) {\n            var dx = point.x - center.x;\n            var dy = point.y - center.y;\n            var theta = (deg(Math.atan2(dy, dx)) + 540) % 360;\n\n            majorAngles.sort(function(a, b) {\n                return angularDistance(a, theta) - angularDistance(b, theta);\n            });\n\n            // Solve triangle (center, point, axis X) using one side (radius) and two angles.\n            // Angles are derived from triangle (center, point, gridline X)\n            var midAngle = angularDistance(majorAngles[0], majorAngles[1]) / 2;\n            var alpha = angularDistance(theta, majorAngles[0]);\n            var gamma = 90 - midAngle;\n            var beta = 180 - alpha - gamma;\n\n            distance = radius * (Math.sin(rad(beta)) / Math.sin(rad(gamma)));\n        }\n\n        return this.axisType().prototype.getValue.call(\n            this, new Point(lineBox.x1, lineBox.y2 - distance)\n        );\n    }\n};\n\nfunction angularDistance(a, b) {\n    return 180 - Math.abs(Math.abs(a - b) - 180);\n}\n\nvar RadarNumericAxis = NumericAxis.extend({\n    radarMajorGridLinePositions: function() {\n        return this.getTickPositions(this.options.majorUnit);\n    },\n\n    radarMinorGridLinePositions: function() {\n        var options = this.options;\n        var minorSkipStep = 0;\n\n        if (options.majorGridLines.visible) {\n            minorSkipStep = options.majorUnit;\n        }\n        return this.getTickPositions(options.minorUnit, minorSkipStep);\n    },\n\n    axisType: function() {\n        return NumericAxis;\n    }\n});\n\ndeepExtend(RadarNumericAxis.prototype, RadarNumericAxisMixin);\n\nvar RadarLogarithmicAxis = LogarithmicAxis.extend({\n    radarMajorGridLinePositions: function() {\n        var positions = [];\n\n        this.traverseMajorTicksPositions(function(position) {\n            positions.push(position);\n        }, this.options.majorGridLines);\n\n        return positions;\n    },\n\n    radarMinorGridLinePositions: function() {\n        var positions = [];\n\n        this.traverseMinorTicksPositions(function(position) {\n            positions.push(position);\n        }, this.options.minorGridLines);\n\n        return positions;\n    },\n\n    axisType: function() {\n        return LogarithmicAxis;\n    }\n});\n\ndeepExtend(RadarLogarithmicAxis.prototype, RadarNumericAxisMixin);\n\nvar WEIGHT = 0.333;\nvar EXTREMUM_ALLOWED_DEVIATION = 0.01;\n\nvar CurveProcessor = Class.extend({\n    init: function(closed) {\n\n        this.closed = closed;\n    },\n\n    process: function(dataPoints) {\n        var this$1 = this;\n\n        var points = dataPoints.slice(0);\n        var segments = [];\n        var closed = this.closed;\n        var length = points.length;\n\n        if (length > 2) {\n            this.removeDuplicates(0, points);\n            length = points.length;\n        }\n\n        if (length < 2 || (length === 2 && points[0].equals(points[1]))) {\n            return segments;\n        }\n\n        var p0 = points[0];\n        var p1 = points[1];\n        var p2 = points[2];\n\n        segments.push(new Segment(p0));\n\n        while (p0.equals(points[length - 1])) {\n            closed = true;\n            points.pop();\n            length--;\n        }\n\n        if (length === 2) {\n            var tangent = this.tangent(p0,p1, X, Y);\n\n            last(segments).controlOut(\n                this.firstControlPoint(tangent, p0, p1, X, Y)\n            );\n\n            segments.push(new Segment(\n                p1,\n                this.secondControlPoint(tangent, p0, p1, X, Y)\n            ));\n\n            return segments;\n        }\n\n        var initialControlPoint, lastControlPoint;\n\n        if (closed) {\n            p0 = points[length - 1]; p1 = points[0]; p2 = points[1];\n            var controlPoints = this.controlPoints(p0, p1, p2);\n            initialControlPoint = controlPoints[1];\n            lastControlPoint = controlPoints[0];\n        } else {\n            var tangent$1 = this.tangent(p0, p1, X,Y);\n            initialControlPoint = this.firstControlPoint(tangent$1, p0, p1, X, Y);\n        }\n\n        var cp0 = initialControlPoint;\n        for (var idx = 0; idx <= length - 3; idx++) {\n            this$1.removeDuplicates(idx, points);\n            length = points.length;\n            if (idx + 3 <= length) {\n                p0 = points[idx]; p1 = points[idx + 1]; p2 = points[idx + 2];\n                var controlPoints$1 = this$1.controlPoints(p0,p1,p2);\n\n                last(segments).controlOut(cp0);\n                cp0 = controlPoints$1[1];\n\n                var cp1 = controlPoints$1[0];\n                segments.push(new Segment(p1, cp1));\n            }\n        }\n\n        if (closed) {\n            p0 = points[length - 2]; p1 = points[length - 1]; p2 = points[0];\n            var controlPoints$2 = this.controlPoints(p0, p1, p2);\n\n            last(segments).controlOut(cp0);\n            segments.push(new Segment(\n                p1,\n                controlPoints$2[0]\n            ));\n\n            last(segments).controlOut(controlPoints$2[1]);\n            segments.push(new Segment(\n                p2,\n                lastControlPoint\n            ));\n        } else {\n            var tangent$2 = this.tangent(p1, p2, X, Y);\n\n            last(segments).controlOut(cp0);\n            segments.push(new Segment(\n                p2,\n                this.secondControlPoint(tangent$2, p1, p2, X, Y)\n            ));\n        }\n\n        return segments;\n    },\n\n    removeDuplicates: function(idx, points) {\n        while (points[idx + 1] && (points[idx].equals(points[idx + 1]) || points[idx + 1].equals(points[idx + 2]))) {\n            points.splice(idx + 1, 1);\n        }\n    },\n\n    invertAxis: function(p0, p1, p2) {\n        var invertAxis = false;\n\n        if (p0.x === p1.x) {\n            invertAxis = true;\n        } else if (p1.x === p2.x) {\n            if ((p1.y < p2.y && p0.y <= p1.y) || (p2.y < p1.y && p1.y <= p0.y)) {\n                invertAxis = true;\n            }\n        } else {\n            var fn = this.lineFunction(p0,p1);\n            var y2 = this.calculateFunction(fn, p2.x);\n            if (!(p0.y <= p1.y && p2.y <= y2) &&\n                !(p1.y <= p0.y && p2.y >= y2)) {\n                invertAxis = true;\n            }\n        }\n\n        return invertAxis;\n    },\n\n    isLine: function(p0, p1, p2) {\n        var fn = this.lineFunction(p0, p1);\n        var y2 = this.calculateFunction(fn, p2.x);\n\n        return (p0.x === p1.x && p1.x === p2.x) || round(y2, 1) === round(p2.y, 1);\n    },\n\n    lineFunction: function(p1, p2) {\n        var a = (p2.y - p1.y) / (p2.x - p1.x);\n        var b = p1.y - a * p1.x;\n\n        return [ b, a ];\n    },\n\n    controlPoints: function(p0, p1, p2) {\n        var xField = X;\n        var yField = Y;\n        var restrict = false;\n        var switchOrientation = false;\n        var tangent;\n\n        if (this.isLine(p0, p1, p2)) {\n            tangent = this.tangent(p0, p1, X, Y);\n        } else {\n            var monotonic = {\n                x: this.isMonotonicByField(p0, p1, p2, X),\n                y: this.isMonotonicByField(p0, p1, p2, Y)\n            };\n\n            if (monotonic.x && monotonic.y) {\n                tangent = this.tangent(p0, p2, X, Y);\n                restrict = true;\n            } else {\n                if (this.invertAxis(p0, p1, p2)) {\n                    xField = Y;\n                    yField = X;\n                }\n\n                if (monotonic[xField]) {\n                    tangent = 0;\n                } else {\n                    var sign;\n                    if ((p2[yField] < p0[yField] && p0[yField] <= p1[yField]) ||\n                        (p0[yField] < p2[yField] && p1[yField] <= p0[yField])) {\n                        sign = numberSign((p2[yField] - p0[yField]) * (p1[xField] - p0[xField]));\n                    } else {\n                        sign = -numberSign((p2[xField] - p0[xField]) * (p1[yField] - p0[yField]));\n                    }\n\n                    tangent = EXTREMUM_ALLOWED_DEVIATION * sign;\n                    switchOrientation = true;\n                }\n            }\n        }\n\n        var secondControlPoint = this.secondControlPoint(tangent, p0, p1, xField, yField);\n\n        if (switchOrientation) {\n            var oldXField = xField;\n            xField = yField;\n            yField = oldXField;\n        }\n\n        var firstControlPoint = this.firstControlPoint(tangent, p1, p2, xField, yField);\n\n        if (restrict) {\n            this.restrictControlPoint(p0, p1, secondControlPoint, tangent);\n            this.restrictControlPoint(p1, p2, firstControlPoint, tangent);\n        }\n\n        return [ secondControlPoint, firstControlPoint ];\n    },\n\n    restrictControlPoint: function(p1, p2, cp, tangent) {\n        if (p1.y < p2.y) {\n            if (p2.y < cp.y) {\n                cp.x = p1.x + (p2.y - p1.y) / tangent;\n                cp.y = p2.y;\n            } else if (cp.y < p1.y) {\n                cp.x = p2.x - (p2.y - p1.y) / tangent;\n                cp.y = p1.y;\n            }\n        } else {\n            if (cp.y < p2.y) {\n                cp.x = p1.x - (p1.y - p2.y) / tangent;\n                cp.y = p2.y;\n            } else if (p1.y < cp.y) {\n                cp.x = p2.x + (p1.y - p2.y) / tangent;\n                cp.y = p1.y;\n            }\n        }\n    },\n\n    tangent: function(p0, p1, xField, yField) {\n        var x = p1[xField] - p0[xField];\n        var y = p1[yField] - p0[yField];\n        var tangent;\n\n        if (x === 0) {\n            tangent = 0;\n        } else {\n            tangent = y / x;\n        }\n\n        return tangent;\n    },\n\n    isMonotonicByField: function(p0, p1, p2, field) {\n        return (p2[field] > p1[field] && p1[field] > p0[field]) ||\n                    (p2[field] < p1[field] && p1[field] < p0[field]);\n    },\n\n    firstControlPoint: function(tangent, p0, p3, xField, yField) {\n        var t1 = p0[xField];\n        var t2 = p3[xField];\n        var distance = (t2 - t1) * WEIGHT;\n\n        return this.point(t1 + distance, p0[yField] + distance * tangent, xField, yField);\n    },\n\n    secondControlPoint: function(tangent, p0, p3, xField, yField) {\n        var t1 = p0[xField];\n        var t2 = p3[xField];\n        var distance = (t2 - t1) * WEIGHT;\n\n        return this.point(t2 - distance, p3[yField] - distance * tangent, xField, yField);\n    },\n\n    point: function(xValue, yValue, xField, yField) {\n        var controlPoint = new geometry.Point();\n        controlPoint[xField] = xValue;\n        controlPoint[yField] = yValue;\n\n        return controlPoint;\n    },\n\n    calculateFunction: function(fn, x) {\n        var length = fn.length;\n        var result = 0;\n\n        for (var i = 0; i < length; i++) {\n            result += Math.pow(x,i) * fn[i];\n        }\n        return result;\n    }\n});\n\nfunction numberSign(value) {\n    return value <= 0 ? -1 : 1;\n}\n\ndataviz.Gradients = GRADIENTS;\n\nkendo.deepExtend(kendo.dataviz, {\n    constants: constants,\n    services: services,\n    autoMajorUnit: autoMajorUnit,\n    Point: Point,\n    Box: Box,\n    Ring: Ring,\n    Sector: Sector,\n    ShapeBuilder: ShapeBuilder,\n    ShapeElement: ShapeElement,\n    ChartElement: ChartElement,\n    BoxElement: BoxElement,\n    RootElement: RootElement,\n    FloatElement: FloatElement,\n    Text: Text,\n    TextBox: TextBox,\n    Title: Title,\n    AxisLabel: AxisLabel,\n    Axis: Axis,\n    Note: Note,\n    CategoryAxis: CategoryAxis,\n    DateCategoryAxis: DateCategoryAxis,\n    DateValueAxis: DateValueAxis,\n    NumericAxis: NumericAxis,\n    LogarithmicAxis: LogarithmicAxis,\n    PolarAxis: PolarAxis,\n    RadarCategoryAxis: RadarCategoryAxis,\n    RadarNumericAxis: RadarNumericAxis,\n    RadarLogarithmicAxis: RadarLogarithmicAxis,\n    CurveProcessor: CurveProcessor,\n    rectToBox: rectToBox,\n    addClass: addClass,\n    removeClass: removeClass,\n    alignPathToPixel: alignPathToPixel,\n    clockwise: clockwise,\n    convertableToNumber: convertableToNumber,\n    deepExtend: deepExtend,\n    elementStyles: elementStyles,\n    getSpacing: getSpacing,\n    getTemplate: getTemplate,\n    getter: __common_getter_js,\n    grep: grep,\n    hasClasses: hasClasses,\n    HashMap: HashMap,\n    inArray: inArray,\n    interpolateValue: interpolateValue,\n    InstanceObserver: InstanceObserver,\n    isArray: isArray,\n    isFunction: isFunction,\n    isNumber: isNumber,\n    isObject: isObject,\n    isString: isString,\n    map: map,\n    mousewheelDelta: mousewheelDelta,\n    FontLoader: FontLoader,\n    setDefaultOptions: setDefaultOptions,\n    sparseArrayLimits: sparseArrayLimits,\n    styleValue: styleValue,\n    find: find,\n    elementScale: elementScale,\n    autoTextColor: autoTextColor,\n    createHashSet: createHashSet,\n    defaultErrorHandler: defaultErrorHandler,\n    keys: keys,\n    append: append,\n    bindEvents: bindEvents,\n    Class: Class,\n    defined: defined,\n    deg: deg,\n    elementOffset: elementOffset,\n    elementSize: elementSize,\n    eventCoordinates: eventCoordinates,\n    eventElement: eventElement,\n    hashKey: hashKey,\n    last: last,\n    limitValue: limitValue,\n    logToConsole: kendo.logToConsole,\n    objectKey: objectKey,\n    rad: rad,\n    round: round,\n    unbindEvents: unbindEvents,\n    valueOrDefault: valueOrDefault,\n    absoluteDateDiff: absoluteDateDiff,\n    addDuration: addDuration,\n    addTicks: addTicks,\n    ceilDate: ceilDate,\n    dateComparer: dateComparer,\n    dateDiff: dateDiff,\n    dateEquals: dateEquals,\n    dateIndex: dateIndex,\n    duration: duration,\n    floorDate: floorDate,\n    lteDateIndex: lteDateIndex,\n    startOfWeek: startOfWeek,\n    toDate: toDate,\n    parseDate: parseDate,\n    parseDates: parseDates,\n    toTime: toTime,\n    firstDay: firstDay\n});\n\n})(window.kendo.jQuery);\n\n}, __webpack_require__.amdD);\n\n/***/ }),\n\n/***/ 33877:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"../../kendo.core\");\n\n/***/ }),\n\n/***/ 79174:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"../../kendo.drawing\");\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/amd define */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.amdD = function () {\n/******/ \t\t\tthrow new Error('define cannot be used indirect');\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module used 'module' so it can't be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__(54453);\n/******/ \tmodule.exports = __webpack_exports__;\n/******/ \t\n/******/ })()\n;"],"mappings":"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"},"metadata":{},"sourceType":"script"}