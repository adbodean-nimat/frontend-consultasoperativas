{"ast":null,"code":"require(\"core-js/modules/es.error.cause.js\");\n\n/******/\n(function () {\n  // webpackBootstrap\n\n  /******/\n  var __webpack_modules__ = {\n    /***/\n    39268:\n    /***/\n    function (module, exports, __webpack_require__) {\n      var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n      (function (f, define) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(54752), __webpack_require__(70867), __webpack_require__(16784), __webpack_require__(67539)], __WEBPACK_AMD_DEFINE_FACTORY__ = f, __WEBPACK_AMD_DEFINE_RESULT__ = typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n      })(function () {\n        (function (kendo) {\n          var $ = kendo.jQuery;\n          var CellRef = kendo.spreadsheet.CellRef;\n          var DOT = \".\";\n          var RESIZE_HANDLE_WIDTH = 7;\n          var EDIT_BUTTON_WIDTH = 20;\n          var ERROR = \"Error\";\n          var viewClassNames = {\n            view: \"k-spreadsheet-view\",\n            fixedContainer: \"k-spreadsheet-fixed-container\",\n            editContainer: \"k-spreadsheet-edit-container\",\n            scroller: \"k-spreadsheet-scroller\",\n            viewSize: \"k-spreadsheet-view-size\",\n            clipboard: \"k-spreadsheet-clipboard\",\n            cellEditor: \"k-spreadsheet-cell-editor\",\n            barEditor: \"k-spreadsheet-editor\",\n            topCorner: \"k-spreadsheet-top-corner\",\n            filterHeadersWrapper: \"k-filter-wrapper\",\n            filterRange: \"k-filter-range\",\n            filterButton: \"k-spreadsheet-filter\",\n            filterButtonSelected: \"k-selected\",\n            horizontalResize: \"k-horizontal-resize\",\n            verticalResize: \"k-vertical-resize\",\n            icon: \"k-icon\",\n            iconFilterDefault: \"k-i-arrow-60-down\",\n            sheetsBar: \"k-spreadsheet-sheets-bar\",\n            sheetsBarActive: \"k-spreadsheet-sheets-bar-active\",\n            sheetsBarInactive: \"k-spreadsheet-sheets-bar-inactive\",\n            cellContextMenu: \"k-spreadsheet-cell-context-menu\",\n            rowHeaderContextMenu: \"k-spreadsheet-row-header-context-menu\",\n            colHeaderContextMenu: \"k-spreadsheet-col-header-context-menu\",\n            drawingContextMenu: \"k-spreadsheet-drawing-context-menu\"\n          };\n          kendo.spreadsheet.messages.view = {\n            nameBox: \"Name Box\",\n            errors: {\n              openUnsupported: \"Unsupported format. Please select an .xlsx file.\",\n              shiftingNonblankCells: \"Cannot insert cells due to data loss possibility. Select another insert location or delete the data from the end of your worksheet.\",\n              insertColumnWhenRowIsSelected: \"Cannot insert column when all columns are selected.\",\n              insertRowWhenColumnIsSelected: \"Cannot insert row when all rows are selected.\",\n              filterRangeContainingMerges: \"Cannot create a filter within a range containing merges\",\n              sortRangeContainingMerges: \"Cannot sort a range containing merges\",\n              cantSortMultipleSelection: \"Cannot sort multiple selection\",\n              cantSortNullRef: \"Cannot sort empty selection\",\n              cantSortMixedCells: \"Cannot sort range containing cells of mixed shapes\",\n              validationError: \"The value that you entered violates the validation rules set on the cell.\",\n              cannotModifyDisabled: \"Cannot modify disabled cells.\",\n              insertRowBelowLastRow: \"Cannot insert row below the last row.\",\n              insertColAfterLastCol: \"Cannot insert column to the right of the last column.\"\n            },\n            tabs: {\n              home: \"Home\",\n              insert: \"Insert\",\n              data: \"Data\"\n            }\n          };\n          kendo.spreadsheet.messages.menus = {\n            \"cut\": \"Cut\",\n            \"copy\": \"Copy\",\n            \"paste\": \"Paste\",\n            \"merge\": \"Merge\",\n            \"unmerge\": \"Unmerge\",\n            \"delete\": \"Delete\",\n            \"hide\": \"Hide\",\n            \"unhide\": \"Unhide\",\n            \"bringToFront\": \"Bring to front\",\n            \"sendToBack\": \"Send to back\"\n          };\n\n          function selectElementContents(el) {\n            var sel = window.getSelection();\n            sel.removeAllRanges();\n            var range = document.createRange();\n            range.selectNodeContents(el);\n            sel.addRange(range);\n          }\n\n          function cellBefore(table, row) {\n            var cells = table.trs[row].children;\n            return cells[cells.length - 2];\n          }\n\n          function cellAbove(table, row) {\n            var prevRow = table.trs[row - 1];\n            var index = table.trs[row].children.length - 1;\n\n            if (prevRow && index >= 0) {\n              return prevRow.children[index];\n            }\n          }\n\n          function cellBorder(value) {\n            return (value.size || 1) + \"px solid \" + (value.color || \"#000\");\n          }\n\n          function asURL(link) {\n            if (!/:\\/\\//.test(link)) {\n              link = \"http://\" + link;\n            }\n\n            return link;\n          }\n\n          function drawCell(collection, cell, cls, showGrid) {\n            function maybeLink(el) {\n              var link = cell.link;\n\n              if (!link) {\n                if (typeof cell.value == \"object\") {\n                  link = cell.value.link;\n                }\n              }\n\n              if (link) {\n                var style = {\n                  textDecoration: \"none\"\n                };\n\n                if (cell.color) {\n                  style.color = cell.color;\n                }\n\n                if (cell.underline) {\n                  style.textDecoration = \"underline\";\n                }\n\n                return kendo.dom.element(\"a\", {\n                  href: asURL(link),\n                  style: style,\n                  target: \"_blank\" // XXX: customizable?\n\n                }, el ? [el] : []);\n              }\n\n              return el;\n            }\n\n            var shouldDraw = cell.value != null || cell.validation != null && !cell.validation.value || cell.background || cell.merged || cell.comment;\n\n            if (!cls && !shouldDraw) {\n              return;\n            }\n\n            var style = {};\n            var background = cell.background;\n\n            if (background) {\n              var defaultBorder = background;\n\n              if (showGrid) {\n                // darken\n                defaultBorder = kendo.parseColor(defaultBorder).toHSV();\n                defaultBorder.v *= 0.9;\n                defaultBorder = defaultBorder.toCssRgba();\n              }\n\n              defaultBorder = cellBorder({\n                color: defaultBorder\n              });\n              style.outline = defaultBorder;\n            }\n\n            if (background) {\n              style.backgroundColor = background;\n            }\n\n            if (cell.color) {\n              style.color = cell.color;\n            }\n\n            if (cell.fontFamily) {\n              style.fontFamily = cell.fontFamily;\n            }\n\n            if (cell.underline) {\n              style.textDecoration = \"underline\";\n            }\n\n            if (cell.italic) {\n              style.fontStyle = \"italic\";\n            }\n\n            if (cell.textAlign) {\n              style.textAlign = cell.textAlign;\n            }\n\n            if (cell.bold) {\n              style.fontWeight = \"bold\";\n            }\n\n            if (cell.fontSize) {\n              style.fontSize = cell.fontSize + \"px\";\n            }\n\n            if (cell.wrap === true) {\n              style.whiteSpace = \"pre-wrap\";\n              style.overflowWrap = \"break-word\";\n              style.wordWrap = \"break-word\";\n            } else {\n              style.whiteSpace = \"pre\";\n              style.overflowWrap = \"normal\";\n              style.wordWrap = \"normal\";\n            }\n\n            style.left = cell.left + 1 + \"px\";\n            style.top = cell.top + 1 + \"px\";\n            style.width = cell.width - 1 + \"px\";\n            style.height = cell.height - 1 + \"px\";\n            var data = cell.value,\n                type = typeof data,\n                format = cell.format;\n\n            if (!format && type == \"number\" && data != Math.floor(data)) {\n              format = \"0.##############\";\n            }\n\n            if (format && data != null) {\n              data = kendo.spreadsheet.formatting.format(data, format);\n\n              if (data.__dataType) {\n                type = data.__dataType;\n              }\n            } else if (data !== null && data !== undefined) {\n              if (cell.html) {\n                data = kendo.dom.html(data);\n              } else {\n                data = kendo.dom.text(data);\n              }\n            }\n\n            if (!style.textAlign) {\n              switch (type) {\n                case \"number\":\n                case \"date\":\n                case \"percent\":\n                case \"currency\":\n                  style.textAlign = \"right\";\n                  break;\n\n                case \"boolean\":\n                  style.textAlign = \"center\";\n                  break;\n              }\n            } // defined in print.js\n\n\n            kendo.spreadsheet.draw.applyIndent(cell, style);\n            var classNames = [paneClassNames.cell];\n\n            if (cls) {\n              classNames.push(cls);\n            }\n\n            if (cell.enable === false) {\n              classNames.push(\"k-disabled\");\n            }\n\n            if (cell.merged) {\n              classNames.push(\"k-spreadsheet-merged-cell\");\n            }\n\n            if (cell.comment) {\n              classNames.push(\"k-spreadsheet-has-comment\");\n            }\n\n            var verticalAlign = cell.verticalAlign || \"bottom\";\n\n            if (verticalAlign && data) {\n              data = kendo.dom.element(\"div\", {\n                className: \"k-vertical-align-\" + verticalAlign\n              }, [maybeLink(data)]);\n            } else {\n              data = maybeLink(data);\n            }\n\n            var children = data ? [data] : [];\n            var properties = {\n              style: style\n            };\n            var validation = cell.validation;\n\n            if (validation && !validation.value) {\n              children.push(kendo.dom.element(\"span\", {\n                className: \"k-dirty\"\n              }));\n              classNames.push(\"k-dirty-cell\");\n              properties.title = validation.message;\n            }\n\n            properties.className = classNames.join(\" \");\n            var div = kendo.dom.element(\"div\", properties, children);\n            collection.push(div);\n            return div;\n          }\n\n          function addCell(table, row, cell) {\n            var style = {};\n\n            if (cell.background) {\n              style.backgroundColor = cell.background;\n            }\n\n            if (cell.color) {\n              style.color = cell.color;\n            }\n\n            if (cell.fontFamily) {\n              style.fontFamily = cell.fontFamily;\n            }\n\n            if (cell.underline) {\n              style.textDecoration = \"underline\";\n            }\n\n            if (cell.italic) {\n              style.fontStyle = \"italic\";\n            }\n\n            if (cell.textAlign) {\n              style.textAlign = cell.textAlign;\n            }\n\n            if (cell.verticalAlign) {\n              style.verticalAlign = cell.verticalAlign === \"center\" ? \"middle\" : cell.verticalAlign;\n            }\n\n            if (cell.bold) {\n              style.fontWeight = \"bold\";\n            }\n\n            if (cell.fontSize) {\n              style.fontSize = cell.fontSize + \"px\";\n            }\n\n            if (cell.wrap === true) {\n              style.whiteSpace = \"pre-wrap\";\n            }\n\n            if (cell.borderRight) {\n              style.borderRight = cellBorder(cell.borderRight);\n            } else if (cell.background) {\n              style.borderRightColor = cell.background;\n            }\n\n            if (cell.borderBottom) {\n              style.borderBottom = cellBorder(cell.borderBottom);\n            } else if (cell.background) {\n              style.borderBottomColor = cell.background;\n            }\n\n            var data = cell.value,\n                type = typeof data,\n                format = cell.format;\n\n            if (!format && type == \"number\" && data != Math.floor(data)) {\n              format = \"0.##############\";\n            }\n\n            if (format && data != null) {\n              data = kendo.spreadsheet.formatting.format(data, format);\n\n              if (data.__dataType) {\n                type = data.__dataType;\n              }\n            }\n\n            if (!style.textAlign) {\n              switch (type) {\n                case \"number\":\n                case \"date\":\n                case \"percent\":\n                case \"currency\":\n                  style.textAlign = \"right\";\n                  break;\n\n                case \"boolean\":\n                  style.textAlign = \"center\";\n                  break;\n              }\n            }\n\n            var className = null;\n\n            if (cell.enable === false) {\n              className = \"k-disabled\";\n            }\n\n            var td = table.addCell(row, data, style, className, cell.validation);\n            var border, sibling;\n\n            if (cell.borderLeft) {\n              sibling = cellBefore(table, row);\n              border = cellBorder(cell.borderLeft);\n\n              if (sibling && border) {\n                sibling.attr.style.borderRight = border;\n              }\n            } else if (cell.background) {\n              style.borderLeftColor = cell.background;\n            }\n\n            if (cell.borderTop) {\n              sibling = cellAbove(table, row);\n              border = cellBorder(cell.borderTop);\n\n              if (sibling && border) {\n                sibling.attr.style.borderBottom = border;\n              }\n            } else if (cell.background) {\n              style.borderTopColor = cell.background;\n            }\n\n            return td;\n          }\n\n          var HtmlTable = kendo.Class.extend({\n            init: function () {\n              this.cols = [];\n              this.trs = [];\n              this._height = 0;\n              this._width = 0;\n            },\n            addColumn: function (width) {\n              this._width += width;\n              var col = kendo.dom.element(\"col\", {\n                style: {\n                  width: width + \"px\"\n                }\n              });\n              col.visible = width > 0;\n              this.cols.push(col);\n            },\n            addRow: function (height) {\n              var attr = null;\n              attr = {\n                style: {\n                  height: height + \"px\"\n                }\n              };\n              this._height += height;\n              var tr = kendo.dom.element(\"tr\", attr);\n              tr.visible = height > 0;\n              this.trs.push(tr);\n            },\n            addCell: function (rowIndex, text, style, className, validation) {\n              if (text === null || text === undefined) {\n                text = \"\";\n              }\n\n              if (!(text instanceof kendo.dom.Node)) {\n                text = kendo.dom.text(text);\n              }\n\n              var children = [text];\n              var properties = {\n                style: style\n              };\n\n              if (validation && !validation.value) {\n                children.push(kendo.dom.element(\"span\", {\n                  className: \"k-dirty\"\n                }));\n                className = (className || \"\") + (className ? \" \" : \"\") + \"k-dirty-cell\";\n                properties.title = validation.message;\n              }\n\n              if (className) {\n                properties.className = className;\n              }\n\n              var td = kendo.dom.element(\"td\", properties, children);\n              this.trs[rowIndex].children.push(td);\n              return td;\n            },\n            toDomTree: function (x, y, className) {\n              this.trs = this.trs.filter(function (tr) {\n                return tr.visible;\n              });\n              var offset = 0;\n              this.cols = this.cols.filter(function (col, ci) {\n                if (!col.visible) {\n                  this.trs.forEach(function (tr) {\n                    tr.children.splice(ci - offset, 1);\n                  });\n                  offset++;\n                }\n\n                return col.visible;\n              }, this);\n              return kendo.dom.element(\"table\", {\n                style: {\n                  left: x + \"px\",\n                  top: y + \"px\",\n                  height: this._height + \"px\",\n                  width: this._width + \"px\"\n                },\n                className: className,\n                role: \"presentation\"\n              }, [kendo.dom.element(\"colgroup\", null, this.cols), kendo.dom.element(\"tbody\", null, this.trs)]);\n            }\n          });\n          var CELL_CONTEXT_MENU = '<ul class=\"#=classNames.cellContextMenu#\">' + '<li data-action=cut>#: messages.cut #</li>' + '<li data-action=copy>#: messages.copy #</li>' + '<li data-action=paste>#: messages.paste #</li>' + '<li class=\"k-separator\"></li>' + '<li data-action=merge>#: messages.merge #</li>' + '<li data-action=unmerge>#: messages.unmerge #</li>' + '</ul>';\n          var ROW_HEADER_CONTEXT_MENU = '<ul class=\"#=classNames.rowHeaderContextMenu#\">' + '<li data-action=cut>#: messages.cut #</li>' + '<li data-action=copy>#: messages.copy #</li>' + '<li data-action=paste>#: messages.paste #</li>' + '<li class=\"k-separator\"></li>' + '<li data-action=\"delete-row\">#: messages.delete #</li>' + '<li data-action=\"hide-row\">#: messages.hide #</li>' + '<li data-action=\"unhide-row\">#: messages.unhide #</li>' + '</ul>';\n          var COL_HEADER_CONTEXT_MENU = '<ul class=\"#=classNames.colHeaderContextMenu#\">' + '<li data-action=cut>#: messages.cut #</li>' + '<li data-action=copy>#: messages.copy #</li>' + '<li data-action=paste>#: messages.paste #</li>' + '<li class=\"k-separator\"></li>' + '<li data-action=\"delete-column\">#: messages.delete #</li>' + '<li data-action=\"hide-column\">#: messages.hide #</li>' + '<li data-action=\"unhide-column\">#: messages.unhide #</li>' + '</ul>';\n          var DRAWING_CONTEXT_MENU = '<ul class=\"#=classNames.drawingContextMenu#\">' + // '<li data-action=cut>#: messages.cut #</li>' +\n          // '<li data-action=copy>#: messages.copy #</li>' +\n          // '<li data-action=paste>#: messages.paste #</li>' +\n          // '<li class=\"k-separator\"></li>' +\n          '<li data-action=\"bring-to-front\">#: messages.bringToFront #</li>' + '<li data-action=\"send-to-back\">#: messages.sendToBack #</li>' + '<li class=\"k-separator\"></li>' + '<li data-action=\"delete-drawing\">#: messages.delete #</li>' + '</ul>';\n          kendo.spreadsheet.ContextMenu = kendo.ui.ContextMenu;\n          var VIEW_CONTENTS = kendo.template('<div class=\"#=classNames.view#\"><div class=\"#=classNames.fixedContainer#\"></div><div class=\"#=classNames.scroller#\"><div class=\"#=classNames.viewSize#\"></div></div>' + '<div tabindex=\"0\" class=\"#=classNames.clipboard#\" contenteditable=true></div><div class=\"#=classNames.cellEditor#\"></div></div><div class=\"#=classNames.sheetsBar#\"></div>' + CELL_CONTEXT_MENU + ROW_HEADER_CONTEXT_MENU + COL_HEADER_CONTEXT_MENU + DRAWING_CONTEXT_MENU);\n\n          function within(value, min, max) {\n            return value >= min && value <= max;\n          }\n\n          var View = kendo.Class.extend({\n            init: function (element, options) {\n              var classNames = View.classNames;\n              this.element = element;\n              this.options = $.extend(true, {\n                messages: kendo.spreadsheet.messages.view\n              }, this.options, options);\n\n              this._chrome();\n\n              this._dialogs = [];\n              element.append(VIEW_CONTENTS({\n                classNames: classNames,\n                messages: kendo.spreadsheet.messages.menus\n              }));\n\n              this._formulaInput();\n\n              this.wrapper = element.find(DOT + classNames.view);\n              this.container = element.find(DOT + classNames.fixedContainer)[0];\n              this.scroller = element.find(DOT + classNames.scroller)[0];\n              this.clipboard = element.find(DOT + classNames.clipboard);\n              this.viewSize = $(this.scroller.firstChild);\n              this.tree = new kendo.dom.Tree(this.container);\n              this.clipboardContents = new kendo.dom.Tree(this.clipboard[0]);\n              this.editor = new kendo.spreadsheet.SheetEditor(this);\n\n              this._sheetsbar();\n\n              var contextMenuConfig = {\n                target: element,\n                animation: false,\n                showOn: \"never\" // this is just an invalid event name to prevent the show\n\n              };\n              this.cellContextMenu = new kendo.spreadsheet.ContextMenu(element.find(DOT + classNames.cellContextMenu), contextMenuConfig);\n              this.colHeaderContextMenu = new kendo.spreadsheet.ContextMenu(element.find(DOT + classNames.colHeaderContextMenu), contextMenuConfig);\n              this.rowHeaderContextMenu = new kendo.spreadsheet.ContextMenu(element.find(DOT + classNames.rowHeaderContextMenu), contextMenuConfig);\n              this.drawingContextMenu = new kendo.spreadsheet.ContextMenu(element.find(DOT + classNames.drawingContextMenu), contextMenuConfig);\n            },\n            enableClipboard: function (enable) {\n              this.isClipboardDeactivated = !enable;\n\n              if (enable) {\n                this.clipboard.attr(\"contenteditable\", enable);\n              } else {\n                this.clipboard.removeAttr(\"contenteditable\");\n              }\n            },\n            _resize: function () {\n              var actionBar = $(this.formulaBar.element).parents(\".k-spreadsheet-action-bar\");\n              var outerHeight = kendo._outerHeight;\n              var tabstripHeight = this.tabstrip ? outerHeight(this.tabstrip.element) : 0;\n              var formulaBarHeight = actionBar ? outerHeight(actionBar) : 0;\n              var sheetsBarHeight = this.sheetsbar ? outerHeight(this.sheetsbar.element) : 0;\n              this.wrapper.height(this.element.height() - (tabstripHeight + formulaBarHeight + sheetsBarHeight));\n\n              if (this.tabstrip) {\n                this.tabstrip.quickAccessAdjust();\n              }\n            },\n            _chrome: function () {\n              var wrapper = $(\"<div class='k-spreadsheet-action-bar' />\").prependTo(this.element);\n              var nameEditor = $(\"<div class='k-spreadsheet-name-editor' />\").appendTo(wrapper);\n              this.nameEditor = new kendo.spreadsheet.NameEditor(nameEditor, this.options);\n              var formulaBar = $(\"<div />\").appendTo(wrapper);\n              this.formulaBar = new kendo.spreadsheet.FormulaBar(formulaBar);\n\n              if (this.options.toolbar) {\n                this._tabstrip();\n              }\n            },\n            _formulaInput: function () {\n              var editor = this.element.find(DOT + View.classNames.cellEditor);\n              this.formulaInput = new kendo.spreadsheet.FormulaInput(editor, {\n                autoScale: true\n              });\n            },\n            _sheetsbar: function () {\n              if (this.options.sheetsbar) {\n                var options = $.extend(true, {\n                  openDialog: this.openDialog.bind(this)\n                }, this.options.sheetsbar);\n                this.sheetsbar = new kendo.spreadsheet.SheetsBar(this.element.find(DOT + View.classNames.sheetsBar), options);\n              }\n            },\n            _tabstrip: function () {\n              var messages = this.options.messages.tabs;\n              var options = $.extend(true, {\n                home: true,\n                insert: true,\n                data: true\n              }, this.options.toolbar);\n              var tabs = [];\n\n              if (this.tabstrip) {\n                this.tabstrip.destroy();\n                this.element.children(\".k-tabstrip\").remove();\n              }\n\n              for (var name in options) {\n                if (options[name] === true || options[name] instanceof Array) {\n                  tabs.push({\n                    id: name,\n                    text: messages[name],\n                    content: \"\"\n                  });\n                }\n              }\n\n              this.tabstrip = new kendo.spreadsheet.TabStrip($(\"<div />\").prependTo(this.element), {\n                animation: false,\n                dataTextField: \"text\",\n                dataContentField: \"content\",\n                dataSource: tabs,\n                toolbarOptions: options,\n                view: this\n              });\n              this.tabstrip.select(0);\n            },\n            _executeCommand: function (e) {\n              this._sheet.trigger(\"commandRequest\", e);\n            },\n            workbook: function (workbook) {\n              this._workbook = workbook;\n              workbook._view = this;\n              this.nameEditor._workbook = workbook;\n            },\n            sheet: function (sheet) {\n              this._sheet = sheet;\n            },\n            activeCellRectangle: function () {\n              return this.cellRectangle(this._sheet._viewActiveCell());\n            },\n            _rectangle: function (pane, ref) {\n              return pane._grid.boundingRectangle(ref.toRangeRef());\n            },\n            isColumnResizer: function (x, pane, col) {\n              // relative to content\n              x -= this._sheet._grid._headerWidth; // add scroll if pane is not frozen\n\n              if (!pane._grid.columns.frozen) {\n                x += this.scroller.scrollLeft;\n              }\n\n              col = this._sheet._grid._columns.locate(0, col, function (w) {\n                return Math.abs(x - w) <= RESIZE_HANDLE_WIDTH / 2;\n              });\n              return col !== null && !this._sheet.isHiddenColumn(col) ? col : null;\n            },\n            isRowResizer: function (y, pane, row) {\n              // relative to content\n              y -= this._sheet._grid._headerHeight; // add scroll if pane is not frozen\n\n              if (!pane._grid.rows.frozen) {\n                y += this.scroller.scrollTop;\n              }\n\n              row = this._sheet._grid._rows.locate(0, row, function (h) {\n                return Math.abs(y - h) <= RESIZE_HANDLE_WIDTH / 2;\n              });\n              return row !== null && !this._sheet.isHiddenRow(row) ? row : null;\n            },\n            isFilterIcon: function (x, y, pane, ref) {\n              var self = this;\n              var theGrid = pane._grid;\n              var scrollTop = theGrid.rows.frozen ? 0 : self.scroller.scrollTop;\n              var scrollLeft = theGrid.columns.frozen ? 0 : self.scroller.scrollLeft;\n              x -= self._sheet._grid._headerWidth - scrollLeft;\n              y -= self._sheet._grid._headerHeight - scrollTop;\n              return kendo.util.withExit(function (exit) {\n                self._sheet.forEachFilterHeader(ref, function (ref) {\n                  var rect = self._rectangle(pane, ref);\n\n                  if (pane.filterIconRect(rect).intersects(x, y)) {\n                    exit(true);\n                  }\n                });\n              });\n            },\n            isAutoFill: function (x, y, pane) {\n              var selection = this._sheet.select();\n\n              if (selection.size > 1) {\n                return false;\n              }\n\n              x -= this._sheet._grid._headerWidth;\n              y -= this._sheet._grid._headerHeight;\n\n              if (!pane._grid.columns.frozen) {\n                x += this.scroller.scrollLeft;\n              }\n\n              if (!pane._grid.rows.frozen) {\n                y += this.scroller.scrollTop;\n              }\n\n              var rectangle = this._rectangle(pane, selection);\n\n              return Math.abs(rectangle.right - x) < 8 && Math.abs(rectangle.bottom - y) < 8;\n            },\n            isEditButton: function (x, y, pane) {\n              var ed = this._sheet.activeCellCustomEditor();\n\n              if (ed) {\n                var r = this.activeCellRectangle(); // XXX: hard-coded button width (20)\n\n                if (y >= r.top && y <= r.bottom) {\n                  return pane._editorInLastColumn ? x < r.left && x >= r.left - EDIT_BUTTON_WIDTH : x > r.right && x <= r.right + EDIT_BUTTON_WIDTH;\n                }\n              }\n            },\n            drawingAt: function (x, y, pane) {\n              x -= this._sheet._grid._headerWidth;\n              y -= this._sheet._grid._headerHeight;\n\n              if (!pane._grid.columns.frozen) {\n                x += this.scroller.scrollLeft;\n              }\n\n              if (!pane._grid.rows.frozen) {\n                y += this.scroller.scrollTop;\n              }\n\n              var sheet = this._sheet;\n              var drawings = this._sheet._drawings;\n\n              for (var i = drawings.length; --i >= 0;) {\n                var d = drawings[i];\n                var box = sheet.drawingBoundingBox(d);\n\n                if (box.intersects(x, y)) {\n                  return {\n                    drawing: d,\n                    // also include how far is the drawing's\n                    // top-left from the mouse position, as it's\n                    // not easy to compute some place else.\n                    drx: box.left - x,\n                    dry: box.top - y\n                  };\n                }\n              }\n            },\n            objectAt: function (x, y, noDrawing) {\n              var grid = this._sheet._grid;\n              var object, pane;\n\n              if (x < 0 || y < 0 || x > this.scroller.clientWidth || y > this.scroller.clientHeight) {\n                object = {\n                  type: \"outside\"\n                };\n              } else if (x < grid._headerWidth && y < grid._headerHeight) {\n                object = {\n                  type: \"topcorner\"\n                };\n              } else {\n                pane = this.paneAt(x, y);\n\n                if (!pane) {\n                  object = {\n                    type: \"outside\"\n                  };\n                } else {\n                  if (!noDrawing) {\n                    var drawing = this.drawingAt(x, y, pane);\n\n                    if (drawing) {\n                      return {\n                        type: \"drawing\",\n                        drawing: drawing.drawing,\n                        drx: drawing.drx,\n                        dry: drawing.dry,\n                        pane: pane,\n                        startX: x,\n                        startY: y\n                      };\n                    }\n                  }\n\n                  var row = pane._grid.rows.indexVisible(y, this.scroller.scrollTop);\n\n                  var column = pane._grid.columns.indexVisible(x, this.scroller.scrollLeft);\n\n                  var type = \"cell\";\n                  var ref = new CellRef(row, column);\n\n                  var selecting = this._sheet.selectionInProgress();\n\n                  if (this.isAutoFill(x, y, pane)) {\n                    type = \"autofill\";\n                  } else if (this.isFilterIcon(x, y, pane, ref)) {\n                    type = \"filtericon\";\n                  } else if (!selecting && x < grid._headerWidth) {\n                    type = \"rowheader\";\n\n                    if ((row = this.isRowResizer(y, pane, row)) !== null) {\n                      ref = new CellRef(row, -Infinity);\n                      type = \"rowresizehandle\";\n                    }\n                  } else if (!selecting && y < grid._headerHeight) {\n                    type = \"columnheader\";\n\n                    if ((column = this.isColumnResizer(x, pane, column)) !== null) {\n                      ref = new CellRef(-Infinity, column);\n                      type = \"columnresizehandle\";\n                    }\n                  } else if (this.isEditButton(x, y, pane)) {\n                    type = \"editor\";\n                  }\n\n                  object = {\n                    type: type,\n                    ref: ref\n                  };\n                }\n              }\n\n              object.pane = pane;\n              object.x = x;\n              object.y = y;\n              return object;\n            },\n            paneAt: function (x, y) {\n              return this.panes.filter(function paneLocationWithin(pane) {\n                var grid = pane._grid;\n                return within(y, grid.top, grid.bottom) && within(x, grid.left, grid.right);\n              })[0];\n            },\n            containingPane: function (cell) {\n              return this.panes.filter(function (pane) {\n                if (pane._grid.contains(cell)) {\n                  return true;\n                }\n\n                return false;\n              })[0];\n            },\n            cellRectangle: function (cell) {\n              var theGrid = this.containingPane(cell)._grid;\n\n              var rectangle = this._sheet._grid.rectangle(cell);\n\n              return rectangle.offset(theGrid.headerWidth - (theGrid.columns.frozen ? 0 : this.scroller.scrollLeft), theGrid.headerHeight - (theGrid.rows.frozen ? 0 : this.scroller.scrollTop));\n            },\n            refresh: function (reason) {\n              var sheet = this._sheet;\n\n              if (this.tabstrip) {\n                this.tabstrip.refreshTools(sheet.range(sheet.activeCell()));\n              }\n\n              if (reason.sheetSelection && this.sheetsbar) {\n                this.sheetsbar.renderSheets(this._workbook.sheets(), this._workbook.sheetIndex(this._sheet));\n              }\n\n              this._resize(); //TODO: refresh sheets list on sheetSelection\n\n\n              this.viewSize[0].style.height = sheet._grid.totalHeight() + \"px\";\n              this.viewSize[0].style.width = sheet._grid.totalWidth() + \"px\";\n\n              if (reason.layout) {\n                var frozenColumns = sheet.frozenColumns();\n                var frozenRows = sheet.frozenRows(); // main or bottom or right pane\n\n                this.panes = [this._pane(frozenRows, frozenColumns)]; // left pane\n\n                if (frozenColumns > 0) {\n                  this.panes.push(this._pane(frozenRows, 0, null, frozenColumns));\n                } // top pane\n\n\n                if (frozenRows > 0) {\n                  this.panes.push(this._pane(0, frozenColumns, frozenRows, null));\n                } // left-top \"fixed\" pane\n\n\n                if (frozenRows > 0 && frozenColumns > 0) {\n                  this.panes.push(this._pane(0, 0, frozenRows, frozenColumns));\n                }\n              }\n\n              if (reason.filter) {\n                this._destroyFilterMenu();\n              }\n\n              if (reason.activeCell) {\n                this._focus = sheet.activeCell().toRangeRef();\n              }\n            },\n            createFilterMenu: function (column) {\n              this._destroyFilterMenu();\n\n              var sheet = this._sheet;\n              var ref = sheet.filter().ref;\n              var range = new kendo.spreadsheet.Range(ref, sheet);\n              var element = $(\"<div />\").appendTo(this.element);\n              var options = {\n                column: column,\n                range: range\n              };\n              var filterMenu = new kendo.spreadsheet.FilterMenu(element, options);\n              this._filterMenu = filterMenu;\n              return filterMenu;\n            },\n            selectClipboardContents: function () {\n              if (!this.isClipboardDeactivated) {\n                this.clipboard.focus();\n                selectElementContents(this.clipboard[0]);\n              }\n            },\n            scrollIntoView: function (cell) {\n              var willScroll = false;\n\n              var theGrid = this.containingPane(cell)._grid;\n\n              var boundaries = theGrid.scrollBoundaries(cell);\n              var scroller = this.scroller;\n              var scrollTop = theGrid.rows.frozen ? 0 : scroller.scrollTop;\n              var scrollLeft = theGrid.columns.frozen ? 0 : scroller.scrollLeft;\n\n              if (boundaries.top < scrollTop) {\n                willScroll = true;\n                scroller.scrollTop = boundaries.scrollTop;\n              }\n\n              if (boundaries.bottom > scrollTop) {\n                willScroll = true;\n                scroller.scrollTop = boundaries.scrollBottom;\n              }\n\n              if (boundaries.left < scrollLeft) {\n                willScroll = true;\n                scroller.scrollLeft = boundaries.scrollLeft;\n              }\n\n              if (boundaries.right > scrollLeft) {\n                willScroll = true;\n                scroller.scrollLeft = boundaries.scrollRight;\n              }\n\n              return willScroll;\n            },\n            _destroyDialog: function () {\n              this._dialogs.pop();\n            },\n            openCustomEditor: function () {\n              var self = this;\n\n              var cell = self._sheet.activeCell().first();\n\n              var editor = self._sheet.activeCellCustomEditor();\n\n              var range = self._sheet.range(cell);\n\n              editor.edit({\n                range: range,\n                rect: self.activeCellRectangle(),\n                view: this,\n                validation: this._sheet.validation(cell),\n                callback: function (value, parse) {\n                  self._executeCommand({\n                    command: \"EditCommand\",\n                    options: {\n                      operatingRange: range,\n                      editRange: range,\n                      property: parse ? \"input\" : \"value\",\n                      value: value\n                    }\n                  });\n                }\n              });\n            },\n            openDialog: function (name, options) {\n              var sheet = this._sheet;\n              return sheet.withCultureDecimals(function () {\n                var dialog = kendo.spreadsheet.dialogs.create(name, options);\n\n                if (dialog) {\n                  dialog.bind(\"action\", this._executeCommand.bind(this));\n                  dialog.bind(\"deactivate\", this._destroyDialog.bind(this));\n\n                  this._dialogs.push(dialog);\n\n                  var ref = sheet.activeCell();\n                  var range = new kendo.spreadsheet.Range(ref, sheet);\n                  dialog.open(range);\n                  return dialog;\n                }\n              }.bind(this));\n            },\n            showError: function (options, reopenEditor) {\n              var currentDialogs = this._dialogs;\n              var errorMessages = this.options.messages.errors;\n              var hasOpenedError = false;\n\n              if (currentDialogs.length > 0) {\n                currentDialogs.forEach(function (dialog) {\n                  if (dialog.options && dialog.options.title === ERROR) {\n                    hasOpenedError = true;\n                  }\n                });\n              }\n\n              if (hasOpenedError) {\n                return;\n              }\n\n              var focusButton = function (e) {\n                var cont = e.sender.dialog().element;\n                cont.find(\".k-button\").first().trigger(\"focus\");\n                cont.find(\".k-button, input\").on(\"keydown\", function (ev) {\n                  if (ev.keyCode == kendo.keys.ESC) {\n                    e.sender.close();\n                  }\n                });\n              };\n\n              var onClose = function (e) {\n                var dlg = e.sender;\n                this.selectClipboardContents();\n\n                if (dlg._retry && reopenEditor) {\n                  reopenEditor();\n                }\n              }.bind(this);\n\n              if (kendo.spreadsheet.dialogs.registered(options.type)) {\n                var dialogOptions = {\n                  close: onClose\n                };\n\n                if (options.type === \"validationError\") {\n                  dialogOptions = $.extend(dialogOptions, {\n                    title: options.title || \"Error\",\n                    text: options.body ? options.body : errorMessages[options.type],\n                    activate: focusButton\n                  });\n                }\n\n                this.openDialog(options.type, dialogOptions);\n              } else {\n                this.openDialog(\"message\", {\n                  title: options.title || \"Error\",\n                  text: options.body ? options.body : errorMessages[options.type],\n                  activate: focusButton,\n                  close: onClose\n                });\n              }\n            },\n            destroy: function () {\n              this._dialogs.forEach(function (dialog) {\n                dialog.destroy();\n              });\n\n              if (this.cellContextMenu) {\n                this.cellContextMenu.destroy();\n              }\n\n              this.rowHeaderContextMenu.destroy();\n              this.colHeaderContextMenu.destroy();\n              this.drawingContextMenu.destroy();\n              this.cellContextMenu = this.rowHeaderContextMenu = this.colHeaderContextMenu = this.drawingContextMenu = null;\n\n              if (this.tabstrip) {\n                this.tabstrip.destroy();\n                this.tabstrip = null;\n              }\n\n              this._destroyFilterMenu();\n            },\n            _destroyFilterMenu: function () {\n              if (this._filterMenu) {\n                this._filterMenu.destroy();\n\n                this._filterMenu = undefined;\n                this._filterMenuColumn = undefined;\n              }\n            },\n            render: function (reason) {\n              if (!this.element.is(\":visible\")) {\n                return;\n              }\n\n              var sheet = this._sheet;\n              var focus = sheet.focus();\n              var scrollbarSize = kendo.support.scrollbar();\n              var contentWidth = this.wrapper[0].clientWidth - scrollbarSize;\n              var contentHeight = this.wrapper[0].clientHeight - scrollbarSize;\n\n              if (focus && this.scrollIntoView(focus)) {\n                return;\n              }\n\n              var resizeDirection = !sheet.resizingInProgress() ? \"none\" : sheet.resizeHandlePosition().col === -Infinity ? \"column\" : \"row\";\n              this.wrapper.toggleClass(viewClassNames.editContainer, this.editor.isActive()).toggleClass(viewClassNames.horizontalResize, resizeDirection == \"row\").toggleClass(viewClassNames.verticalResize, resizeDirection == \"column\");\n              var grid = sheet._grid;\n              var content = [];\n              var args = {\n                scroller: this.scroller,\n                toplevelElements: content,\n                contentWidth: contentWidth,\n                contentHeight: contentHeight\n              };\n              this.panes.forEach(function (pane) {\n                content.push(pane.render(args));\n              });\n              var topCorner = kendo.dom.element(\"div\", {\n                style: {\n                  width: grid._headerWidth + \"px\",\n                  height: grid._headerHeight + \"px\"\n                },\n                className: View.classNames.topCorner\n              });\n              content.push(topCorner);\n\n              if (sheet.resizeHandlePosition() && sheet.resizeHintPosition()) {\n                content.push(this.renderResizeHint());\n              }\n\n              this.tree.render(content);\n              $(this.container).css({\n                width: contentWidth,\n                height: contentHeight\n              });\n\n              if (this.editor.isActive()) {\n                this.editor.toggleTooltip(this.activeCellRectangle());\n              } else if (!(reason.resize || reason.comment || sheet.selectionInProgress() || sheet.resizingInProgress() || sheet.draggingInProgress() || sheet.isInEditMode())) {\n                this.renderClipboardContents();\n              }\n            },\n            // this renders the big blue line during resizing\n            renderResizeHint: function () {\n              var sheet = this._sheet;\n              var ref = sheet.resizeHandlePosition();\n              var horizontal = ref.col !== -Infinity;\n              var style;\n\n              if (horizontal) {\n                style = {\n                  height: this.scroller.clientHeight + \"px\",\n                  width: RESIZE_HANDLE_WIDTH + \"px\",\n                  left: sheet.resizeHintPosition().x + \"px\",\n                  top: \"0px\"\n                };\n              } else {\n                style = {\n                  height: RESIZE_HANDLE_WIDTH + \"px\",\n                  width: this.scroller.clientWidth + \"px\",\n                  top: sheet.resizeHintPosition().y + \"px\",\n                  left: \"0px\"\n                };\n              }\n\n              var classNames = Pane.classNames;\n              return kendo.dom.element(\"div\", {\n                className: classNames.resizeHint + (!horizontal ? \" \" + classNames.resizeHintVertical : \"\"),\n                style: style\n              }, [kendo.dom.element(\"div\", {\n                className: classNames.resizeHintHandle\n              }), kendo.dom.element(\"div\", {\n                className: classNames.resizeHintMarker\n              })]);\n            },\n            renderClipboardContents: function () {\n              var sheet = this._sheet;\n              var grid = sheet._grid; // if (sheet._activeDrawing && sheet._activeDrawing.image) {\n              //     var url = this._workbook.imageUrl(sheet._activeDrawing.image);\n              //     var img = kendo.dom.element(\"img\", {\n              //         src: url,\n              //         style: {\n              //             width: sheet._activeDrawing.width + \"px\",\n              //             height: sheet._activeDrawing.height + \"px\"\n              //         }\n              //     });\n              //     this.clipboardContents.render([ img ]);\n              //     this.selectClipboardContents();\n              //     return;\n              // }\n\n              var selection = grid.normalize(sheet.select().toRangeRef());\n\n              var status = this._workbook.clipboard().canCopy();\n\n              if (status.canCopy === false && status.multiSelection) {\n                this.clipboardContents.render([]);\n                this.selectClipboardContents();\n                return;\n              }\n\n              selection = sheet.trim(selection);\n              var table = new HtmlTable();\n              var selectionView = grid.rangeDimensions(selection);\n              selectionView.rows.forEach(function (height) {\n                table.addRow(height);\n              });\n              selectionView.columns.forEach(function (width) {\n                table.addColumn(width);\n              });\n\n              var tmp = sheet._getMergedCells(selection);\n\n              var primaryMergedCells = tmp.primary;\n              var secondaryMergedCells = tmp.secondary;\n              sheet.forEach(selection, function (row, col, cell) {\n                var location = new CellRef(row, col).print();\n\n                if (!secondaryMergedCells[location]) {\n                  var td = addCell(table, row - selection.topLeft.row, cell);\n                  var mergedCell = primaryMergedCells[location];\n\n                  if (mergedCell) {\n                    td.attr.colspan = mergedCell.width();\n                    td.attr.rowspan = mergedCell.height();\n                  }\n                }\n              });\n\n              if (kendo.support.browser.msie) {\n                this.clipboard.empty();\n              }\n\n              this.clipboardContents.render([table.toDomTree(0, 0, \"kendo-clipboard-\" + this._workbook.clipboard()._uid)]);\n              this.selectClipboardContents();\n            },\n            _pane: function (row, column, rowCount, columnCount) {\n              var pane = new Pane(this._sheet, this._sheet._grid.pane({\n                row: row,\n                column: column,\n                rowCount: rowCount,\n                columnCount: columnCount\n              }));\n              pane.refresh(this.scroller.clientWidth, this.scroller.clientHeight);\n              return pane;\n            }\n          });\n          var paneClassNames = {\n            cell: \"k-spreadsheet-cell\",\n            vaxis: \"k-spreadsheet-vaxis\",\n            haxis: \"k-spreadsheet-haxis\",\n            vborder: \"k-spreadsheet-vborder\",\n            hborder: \"k-spreadsheet-hborder\",\n            rowHeader: \"k-spreadsheet-row-header\",\n            columnHeader: \"k-spreadsheet-column-header\",\n            pane: \"k-spreadsheet-pane\",\n            data: \"k-spreadsheet-data\",\n            mergedCell: \"k-spreadsheet-merged-cell\",\n            mergedCellsWrapper: \"k-merged-cells-wrapper\",\n            activeCell: \"k-spreadsheet-active-cell\",\n            selection: \"k-spreadsheet-selection\",\n            selectionWrapper: \"k-selection-wrapper\",\n            autoFillWrapper: \"k-auto-fill-wrapper\",\n            single: \"k-single\",\n            top: \"k-top\",\n            right: \"k-right\",\n            bottom: \"k-bottom\",\n            left: \"k-left\",\n            resizeHandle: \"k-resize-handle\",\n            columnResizeHandle: \"k-column-resize-handle\",\n            rowResizeHandle: \"k-row-resize-handle\",\n            resizeHint: \"k-resize-hint\",\n            resizeHintHandle: \"k-resize-hint-handle\",\n            resizeHintMarker: \"k-resize-hint-marker\",\n            resizeHintVertical: \"k-resize-hint-vertical\",\n            selectionHighlight: \"k-spreadsheet-selection-highlight\",\n            series: [\"k-series-a\", \"k-series-b\", \"k-series-c\", \"k-series-d\", \"k-series-e\", \"k-series-f\"]\n          };\n          var Pane = kendo.Class.extend({\n            init: function (sheet, grid) {\n              this._sheet = sheet;\n              this._grid = grid;\n            },\n            refresh: function (width, height) {\n              this._grid.refresh(width, height);\n            },\n            isVisible: function (scrollLeft, scrollTop, ref) {\n              return this._grid.view(scrollLeft, scrollTop).ref.intersects(ref);\n            },\n            render: function (args) {\n              var scroller = args.scroller;\n              var scrollLeft = scroller.scrollLeft;\n              var scrollTop = scroller.scrollTop;\n\n              if (scrollTop < 0) {\n                scrollTop = 0;\n              }\n\n              if (scrollLeft < 0) {\n                scrollLeft = 0;\n              }\n\n              var classNames = Pane.classNames;\n              var sheet = this._sheet;\n              var grid = this._grid;\n              var view = grid.view(scrollLeft, scrollTop);\n              this._currentView = view;\n              this._currentRect = this._rectangle(view.ref);\n              this._selectedHeaders = sheet.selectedHeaders();\n              var children = [];\n              children.push(this.renderData(args));\n\n              if (!sheet._activeDrawing) {\n                children.push(this.renderSelection(scroller));\n              }\n\n              children.push(this.renderAutoFill());\n              children.push(this.renderEditorSelection());\n              children.push(this.renderFilterHeaders());\n\n              if (grid.hasRowHeader) {\n                var rowHeader = kendo.dom.element(\"div\", {\n                  className: classNames.rowHeader,\n                  style: {\n                    width: grid.headerWidth + \"px\",\n                    top: view.rowOffset + \"px\"\n                  }\n                });\n                children.push(rowHeader);\n                sheet.forEach(view.ref.leftColumn(), function (row) {\n                  if (!sheet.isHiddenRow(row)) {\n                    var text = row + 1,\n                        height = sheet.rowHeight(row);\n                    rowHeader.children.push(kendo.dom.element(\"div\", {\n                      className: this.headerClassName(row, \"row\"),\n                      style: {\n                        width: grid.headerWidth + \"px\",\n                        height: height + \"px\"\n                      }\n                    }, [kendo.dom.element(\"div\", {\n                      className: \"k-vertical-align-center\"\n                    }, [kendo.dom.text(text + \"\")])]));\n                  }\n                }.bind(this));\n              }\n\n              if (grid.hasColumnHeader) {\n                var columnHeader = kendo.dom.element(\"div\", {\n                  className: classNames.columnHeader,\n                  style: {\n                    top: \"0px\",\n                    left: view.columnOffset + \"px\",\n                    width: this._currentRect.width + \"px\",\n                    height: grid.headerHeight + \"px\"\n                  }\n                });\n                children.push(columnHeader);\n                var left = 0;\n                sheet.forEach(view.ref.topRow(), function (row, col) {\n                  if (!sheet.isHiddenColumn(col)) {\n                    var text = kendo.spreadsheet.Ref.display(null, Infinity, col),\n                        width = sheet.columnWidth(col);\n                    columnHeader.children.push(kendo.dom.element(\"div\", {\n                      className: this.headerClassName(col, \"col\"),\n                      style: {\n                        position: \"absolute\",\n                        left: left + \"px\",\n                        width: width + \"px\",\n                        height: grid.headerHeight + \"px\"\n                      }\n                    }, [kendo.dom.element(\"div\", {\n                      className: \"k-vertical-align-center\"\n                    }, [kendo.dom.text(text + \"\")])]));\n                    left += width;\n                  }\n                }.bind(this));\n              }\n\n              if (sheet.resizeHandlePosition() && (grid.hasColumnHeader || grid.hasRowHeader)) {\n                if (!sheet.resizeHintPosition()) {\n                  this.renderResizeHandle(children);\n                }\n              }\n\n              var paneClasses = [classNames.pane];\n\n              if (grid.hasColumnHeader) {\n                paneClasses.push(classNames.top);\n              }\n\n              if (grid.hasRowHeader) {\n                paneClasses.push(classNames.left);\n              }\n\n              return kendo.dom.element(\"div\", {\n                style: grid.style,\n                className: paneClasses.join(\" \")\n              }, children);\n            },\n            headerClassName: function (index, type) {\n              var selectedHeaders = this._selectedHeaders;\n              var itemSelection;\n              var allHeaders;\n\n              if (type === \"row\") {\n                itemSelection = selectedHeaders.rows[index];\n                allHeaders = selectedHeaders.allRows;\n              } else {\n                itemSelection = selectedHeaders.cols[index];\n                allHeaders = selectedHeaders.allCols;\n              }\n\n              var className = itemSelection || (selectedHeaders.all ? \"full\" : allHeaders ? \"partial\" : \"none\");\n\n              if (className) {\n                className = \"k-selection-\" + className;\n              }\n\n              return className;\n            },\n            renderData: function (args) {\n              var sheet = this._sheet;\n              var view = this._currentView;\n              var cont = kendo.dom.element(\"div\", {\n                className: Pane.classNames.data,\n                style: {\n                  position: \"relative\",\n                  left: view.columnOffset + \"px\",\n                  top: view.rowOffset + \"px\"\n                }\n              });\n              var rect = this._currentRect;\n              var layout = kendo.spreadsheet.draw.doLayout(sheet, view.ref, {\n                forScreen: true\n              }),\n                  prev;\n              var grid = this._grid;\n              var showGridLines = sheet._showGridLines;\n\n              if (showGridLines) {\n                // draw axis first\n                prev = null;\n                layout.xCoords.forEach(function (x) {\n                  if (x !== prev) {\n                    prev = x;\n                    cont.children.push(kendo.dom.element(\"div\", {\n                      className: paneClassNames.vaxis,\n                      style: {\n                        left: x + \"px\",\n                        height: rect.height + \"px\",\n                        borderColor: sheet.gridLinesColor()\n                      }\n                    }));\n                  }\n                });\n                prev = null;\n                layout.yCoords.forEach(function (y) {\n                  if (y !== prev) {\n                    prev = y;\n                    cont.children.push(kendo.dom.element(\"div\", {\n                      className: paneClassNames.haxis,\n                      style: {\n                        top: y + \"px\",\n                        width: rect.width + \"px\",\n                        borderColor: sheet.gridLinesColor()\n                      }\n                    }));\n                  }\n                });\n              }\n\n              var borders = kendo.spreadsheet.draw.Borders();\n              var activeCellRange = sheet.activeCell().toRangeRef();\n              var activeCell = activeCellRange.topLeft;\n              layout.cells.forEach(function (cell) {\n                var cls = null;\n                var absRow = cell.row + view.ref.topLeft.row;\n                var absCol = cell.col + view.ref.topLeft.col;\n\n                if (sheet._activeDrawing) {\n                  var ref = sheet._activeDrawing.topLeftCell;\n\n                  if (ref && ref.row == absRow && ref.col == absCol) {\n                    cls = \"k-spreadsheet-drawing-anchor-cell\";\n                  }\n                } else if (absRow == activeCell.row && absCol == activeCell.col) {\n                  // active cell.  normally we enter here only once.\n                  cls = [Pane.classNames.activeCell].concat(this._activeFormulaColor(), this._directionClasses(activeCellRange));\n\n                  if (sheet.singleCellSelection()) {\n                    cls.push(Pane.classNames.single);\n                  }\n\n                  cls = cls.join(\" \");\n                }\n\n                borders.add(cell);\n                drawCell(cont.children, cell, cls, showGridLines);\n\n                if (cell.comment && sheet._commentRef && absRow == sheet._commentRef.row && absCol == sheet._commentRef.col) {\n                  var ttOffset = 4;\n                  var left = cell.right + grid.left + view.columnOffset + ttOffset;\n                  var style = {\n                    top: cell.top + grid.top + view.rowOffset + \"px\"\n                  };\n\n                  if (left + 200 > args.contentWidth) {\n                    style.right = args.contentWidth - grid.left - cell.left - view.columnOffset + ttOffset + \"px\";\n                  } else {\n                    style.left = left + \"px\";\n                  }\n\n                  var div = kendo.dom.element(\"div\", {\n                    className: \"k-tooltip k-spreadsheet-cell-comment\",\n                    style: style\n                  }, [kendo.dom.text(cell.comment)]);\n                  args.toplevelElements.push(div);\n                }\n              }, this);\n              borders.vert.forEach(function (a) {\n                a.forEach(function (b) {\n                  if (!b.rendered) {\n                    b.rendered = true;\n                    var style = {\n                      left: b.x + \"px\",\n                      top: b.top + \"px\",\n                      height: b.bottom - b.top + 1 + \"px\",\n                      borderWidth: b.size + \"px\",\n                      borderColor: b.color\n                    };\n\n                    if (b.size != 1) {\n                      style.transform = \"translateX(-\" + (b.size - 1) / 2 + \"px)\";\n                    }\n\n                    cont.children.push(kendo.dom.element(\"div\", {\n                      className: paneClassNames.vborder,\n                      style: style\n                    }));\n                  }\n                });\n              });\n              borders.horiz.forEach(function (a) {\n                a.forEach(function (b) {\n                  if (!b.rendered) {\n                    b.rendered = true;\n                    var style = {\n                      top: b.y + \"px\",\n                      left: b.left + \"px\",\n                      width: b.right - b.left + \"px\",\n                      borderWidth: b.size + \"px\",\n                      borderColor: b.color\n                    };\n\n                    if (b.size != 1) {\n                      style.transform = \"translateY(-\" + (b.size - 1) / 2 + \"px)\";\n                    }\n\n                    cont.children.push(kendo.dom.element(\"div\", {\n                      className: paneClassNames.hborder,\n                      style: style\n                    }));\n                  }\n                });\n              });\n              this.renderDrawings(layout, cont.children);\n              return cont;\n            },\n            renderDrawings: function (layout, container) {\n              var sheet = this._sheet;\n              var workbook = sheet._workbook;\n              layout.drawings.forEach(function (d) {\n                var drawing = d.drawing;\n                var box = d.box;\n                var div = box.toDiv(\"k-spreadsheet-drawing\");\n\n                if (drawing.image) {\n                  div.children.push(kendo.dom.element(\"div\", {\n                    className: \"k-spreadsheet-drawing-image\",\n                    style: {\n                      backgroundImage: \"url('\" + workbook.imageUrl(drawing.image) + \"')\",\n                      opacity: drawing.opacity\n                    }\n                  }));\n                }\n\n                if (drawing === sheet._activeDrawing) {\n                  div.attr.className += \" k-spreadsheet-active-drawing\";\n                  drawingResizeHandles(div.children);\n                }\n\n                container.push(div);\n              });\n            },\n            renderResizeHandle: function (container) {\n              var sheet = this._sheet;\n              var ref = sheet.resizeHandlePosition();\n\n              var rectangle = this._rectangle(ref);\n\n              var classNames = [Pane.classNames.resizeHandle];\n              var style;\n\n              if (ref.col !== -Infinity) {\n                if (this._grid.rows._start > 0) {\n                  return;\n                }\n\n                style = {\n                  height: this._grid.headerHeight + \"px\",\n                  width: RESIZE_HANDLE_WIDTH + \"px\",\n                  left: rectangle.right - RESIZE_HANDLE_WIDTH / 2 + \"px\",\n                  top: \"0px\"\n                };\n                classNames.push(viewClassNames.horizontalResize);\n              } else {\n                if (this._grid.columns._start > 0) {\n                  return;\n                }\n\n                style = {\n                  height: RESIZE_HANDLE_WIDTH + \"px\",\n                  width: this._grid.headerWidth + \"px\",\n                  top: rectangle.bottom - RESIZE_HANDLE_WIDTH / 2 + \"px\",\n                  left: \"0px\"\n                };\n                classNames.push(viewClassNames.verticalResize);\n              }\n\n              container.push(kendo.dom.element(\"div\", {\n                className: classNames.join(\" \"),\n                style: style\n              }));\n            },\n            filterIconRect: function (rect) {\n              var BUTTON_SIZE = 16;\n              var BUTTON_OFFSET = 3;\n              return new kendo.spreadsheet.Rectangle(rect.right - BUTTON_SIZE - BUTTON_OFFSET, rect.top + BUTTON_OFFSET, BUTTON_SIZE, BUTTON_SIZE);\n            },\n            renderFilterHeaders: function () {\n              var sheet = this._sheet;\n              var children = [];\n              var classNames = View.classNames;\n              var filter = sheet.filter();\n\n              function icon(className) {\n                return kendo.dom.element(\"span\", {\n                  className: classNames.icon + \" \" + className\n                });\n              }\n\n              function filterButton(classNames, position, index) {\n                var style = {\n                  left: position.left + \"px\",\n                  top: position.top + \"px\"\n                };\n                var filtered = filter && filter.columns.some(function (c) {\n                  return c.index === index;\n                });\n                var classes = classNames.filterButton;\n\n                if (filtered) {\n                  classes += \" \" + classNames.filterButtonSelected;\n                }\n\n                var button = kendo.dom.element(\"span\", {\n                  className: classes,\n                  style: style\n                }, [icon(classNames.iconFilterDefault)]);\n                return button;\n              }\n\n              if (filter) {\n                this._addDiv(children, filter.ref, classNames.filterRange);\n              }\n\n              sheet.forEachFilterHeader(this._currentView.ref, function (ref) {\n                var rect = this._rectangle(ref);\n\n                var position = this.filterIconRect(rect);\n\n                var column = this._sheet.filterColumn(ref);\n\n                var button = filterButton(classNames, position, column);\n                children.push(button);\n              }.bind(this));\n              return kendo.dom.element(\"div\", {\n                className: classNames.filterHeadersWrapper\n              }, children);\n            },\n            renderEditorSelection: function () {\n              var classNames = Pane.classNames;\n              var sheet = this._sheet;\n              var selections = [];\n\n              sheet._formulaSelections.forEach(function (range) {\n                var ref = range.ref;\n\n                if (ref === kendo.spreadsheet.NULLREF) {\n                  return;\n                }\n\n                this._addDiv(selections, ref, classNames.selectionHighlight + \" \" + range.colorClass);\n              }.bind(this));\n\n              return kendo.dom.element(\"div\", {\n                className: classNames.selectionWrapper\n              }, selections);\n            },\n            renderSelection: function (scroller) {\n              var classNames = Pane.classNames;\n              var selections = [];\n              var selectionClasses = [classNames.selection];\n              var sheet = this._sheet;\n              var activeCell = sheet.activeCell().toRangeRef();\n              var selection = sheet.select();\n              selectionClasses = selectionClasses.concat(this._activeFormulaColor());\n\n              if (selection.size() === 1) {\n                selectionClasses.push(\"k-single-selection\");\n              }\n\n              if (this._sheet.autoFillPunch()) {\n                selectionClasses.push(\"k-dim-auto-fill-handle\");\n              }\n\n              selection.forEach(function (ref) {\n                if (ref !== kendo.spreadsheet.NULLREF) {\n                  this._addDiv(selections, ref, selectionClasses.join(\" \"));\n                }\n              }.bind(this));\n\n              this._renderCustomEditorButton(selections, activeCell, scroller);\n\n              return kendo.dom.element(\"div\", {\n                className: classNames.selectionWrapper\n              }, selections);\n            },\n            renderAutoFill: function () {\n              var autoFillRectangle = [];\n\n              if (this._sheet.autoFillInProgress()) {\n                var autoFillRef = this._sheet.autoFillRef();\n\n                var punch = this._sheet.autoFillPunch();\n\n                var direction = this._sheet._autoFillDirection;\n\n                this._addDiv(autoFillRectangle, autoFillRef, \"k-auto-fill\");\n\n                if (punch) {\n                  // collapsing, add overlay\n                  this._addDiv(autoFillRectangle, punch, \"k-auto-fill-punch\");\n                } else if (direction !== undefined) {\n                  // expanding - add hint\n                  var ref, cssClass;\n\n                  switch (direction) {\n                    case 0:\n                      ref = autoFillRef.bottomRight;\n                      cssClass = \"k-auto-fill-br-hint\";\n                      break;\n\n                    case 1:\n                      ref = autoFillRef.bottomRight;\n                      cssClass = \"k-auto-fill-br-hint\";\n                      break;\n\n                    case 2:\n                      ref = new CellRef(autoFillRef.topLeft.row, autoFillRef.bottomRight.col);\n                      cssClass = \"k-auto-fill-tr-hint\";\n                      break;\n\n                    case 3:\n                      ref = new CellRef(autoFillRef.bottomRight.row, autoFillRef.topLeft.col);\n                      cssClass = \"k-auto-fill-bl-hint\";\n                      break;\n                  }\n\n                  var rectangle = this._addDiv(autoFillRectangle, ref, cssClass);\n\n                  if (rectangle) {\n                    var hint = kendo.dom.element(\"span\", {\n                      className: \"k-tooltip\"\n                    }, [kendo.dom.text(this._sheet._autoFillHint)]);\n                    rectangle.children.push(hint);\n                  }\n                }\n              }\n\n              return kendo.dom.element(\"div\", {\n                className: Pane.classNames.autoFillWrapper\n              }, autoFillRectangle);\n            },\n            _addDiv: function (collection, ref, className) {\n              var view = this._currentView,\n                  div;\n\n              if (view.ref.intersects(ref)) {\n                div = this._rectangle(ref).resize(1, 1).toDiv(className);\n                collection.push(div);\n              }\n\n              return div;\n            },\n            _renderCustomEditorButton: function (collection, ref, scroller) {\n              var self = this;\n              var sheet = self._sheet;\n              var view = self._currentView;\n              var columnCount = self._grid.columns._axis._count;\n              var ed = sheet.activeCellCustomEditor();\n\n              if (ed && view.ref.intersects(ref)) {\n                var rectangle = self._rectangle(ref);\n\n                sheet.forEach(ref.collapse(), function (row, col, cell) {\n                  cell.left = rectangle.left;\n                  cell.top = rectangle.top;\n                  cell.width = rectangle.width;\n                  cell.height = rectangle.height;\n                  var btnClass = \"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-spreadsheet-editor-button\";\n\n                  var isLastColumn = col == columnCount - 1 || self._buttonOutOfVisiblePane(row, col, scroller);\n\n                  if (isLastColumn) {\n                    btnClass += \" k-spreadsheet-last-column\";\n                  }\n\n                  self._editorInLastColumn = isLastColumn;\n                  var btn = kendo.dom.element(\"div\", {\n                    className: btnClass,\n                    style: {\n                      left: cell.left + (isLastColumn ? 0 : cell.width) + \"px\",\n                      top: cell.top + \"px\",\n                      height: cell.height + \"px\"\n                    }\n                  });\n\n                  if (ed.icon) {\n                    btn.children.push(kendo.dom.element(\"span\", {\n                      className: \"k-icon \" + ed.icon\n                    }));\n                  }\n\n                  collection.push(btn);\n                });\n              }\n            },\n            _activeFormulaColor: function () {\n              var activeFormulaSelection;\n              var colorClasses = [];\n\n              if (this._sheet.isInEditMode()) {\n                activeFormulaSelection = this._sheet._formulaSelections.filter(function (sel) {\n                  return sel.active && sel.type == \"ref\";\n                })[0];\n\n                if (activeFormulaSelection) {\n                  colorClasses.push(activeFormulaSelection.colorClass);\n                }\n              }\n\n              return colorClasses;\n            },\n            _directionClasses: function (cell) {\n              var cellClasses = [];\n              var classNames = Pane.classNames;\n              var view = this._currentView.ref;\n\n              if (!cell.move(0, -1).intersects(view)) {\n                cellClasses.push(classNames.left);\n              }\n\n              if (!cell.move(-1, 0).intersects(view)) {\n                cellClasses.push(classNames.top);\n              }\n\n              if (!cell.move(0, 1).intersects(view)) {\n                cellClasses.push(classNames.right);\n              }\n\n              if (!cell.move(1, 0).intersects(view)) {\n                cellClasses.push(classNames.bottom);\n              }\n\n              return cellClasses;\n            },\n            _rectangle: function (ref) {\n              return this._grid.boundingRectangle(ref.toRangeRef()).offset(-this._currentView.mergedCellLeft, -this._currentView.mergedCellTop);\n            },\n            _buttonOutOfVisiblePane: function (row, col, scroller) {\n              var self = this;\n              var theGrid = self._grid;\n              var sheet = self._sheet;\n\n              var ref = sheet.range(row, col)._ref;\n\n              var boundaries = theGrid.scrollBoundaries(ref);\n              var scrollLeft = theGrid.columns.frozen ? 0 : scroller.scrollLeft;\n\n              if (boundaries.right + EDIT_BUTTON_WIDTH > scrollLeft || col + 1 === sheet.frozenColumns()) {\n                return true;\n              }\n            }\n          });\n\n          function drawingResizeHandles(container) {\n            [\"N\", \"NE\", \"E\", \"SE\", \"S\", \"SW\", \"W\", \"NW\"].forEach(function (direction) {\n              container.push(kendo.dom.element(\"div\", {\n                \"className\": \"k-spreadsheet-drawing-handle \" + direction,\n                \"data-direction\": direction\n              }));\n            });\n          }\n\n          kendo.spreadsheet.View = View;\n          kendo.spreadsheet.Pane = Pane;\n          kendo.spreadsheet.drawCell = drawCell;\n          $.extend(true, View, {\n            classNames: viewClassNames\n          });\n          $.extend(true, Pane, {\n            classNames: paneClassNames\n          });\n        })(window.kendo);\n      }, __webpack_require__.amdD);\n      /***/\n\n    },\n\n    /***/\n    54752:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"../kendo.core\");\n      /***/\n    },\n\n    /***/\n    70867:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"../kendo.menu\");\n      /***/\n    },\n\n    /***/\n    67539:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"../util/main\");\n      /***/\n    },\n\n    /***/\n    16784:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./sheetsbar\");\n      /***/\n    }\n    /******/\n\n  };\n  /************************************************************************/\n\n  /******/\n  // The module cache\n\n  /******/\n\n  var __webpack_module_cache__ = {};\n  /******/\n\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n    // Check if module is in cache\n\n    /******/\n    var cachedModule = __webpack_module_cache__[moduleId];\n    /******/\n\n    if (cachedModule !== undefined) {\n      /******/\n      return cachedModule.exports;\n      /******/\n    }\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n\n    var module = __webpack_module_cache__[moduleId] = {\n      /******/\n      // no module.id needed\n\n      /******/\n      // no module.loaded needed\n\n      /******/\n      exports: {}\n      /******/\n\n    };\n    /******/\n\n    /******/\n    // Execute the module function\n\n    /******/\n\n    __webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n    /******/\n\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n\n    return module.exports;\n    /******/\n  }\n  /******/\n\n  /************************************************************************/\n\n  /******/\n\n  /* webpack/runtime/amd define */\n\n  /******/\n\n\n  !function () {\n    /******/\n    __webpack_require__.amdD = function () {\n      /******/\n      throw new Error('define cannot be used indirect');\n      /******/\n    };\n    /******/\n\n  }();\n  /******/\n\n  /************************************************************************/\n\n  /******/\n\n  /******/\n  // startup\n\n  /******/\n  // Load entry module and return exports\n\n  /******/\n  // This entry module used 'module' so it can't be inlined\n\n  /******/\n\n  var __webpack_exports__ = __webpack_require__(39268);\n  /******/\n\n\n  module.exports = __webpack_exports__;\n  /******/\n\n  /******/\n})();","map":{"version":3,"names":["__webpack_modules__","module","exports","__webpack_require__","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","f","define","apply","undefined","kendo","$","jQuery","CellRef","spreadsheet","DOT","RESIZE_HANDLE_WIDTH","EDIT_BUTTON_WIDTH","ERROR","viewClassNames","view","fixedContainer","editContainer","scroller","viewSize","clipboard","cellEditor","barEditor","topCorner","filterHeadersWrapper","filterRange","filterButton","filterButtonSelected","horizontalResize","verticalResize","icon","iconFilterDefault","sheetsBar","sheetsBarActive","sheetsBarInactive","cellContextMenu","rowHeaderContextMenu","colHeaderContextMenu","drawingContextMenu","messages","nameBox","errors","openUnsupported","shiftingNonblankCells","insertColumnWhenRowIsSelected","insertRowWhenColumnIsSelected","filterRangeContainingMerges","sortRangeContainingMerges","cantSortMultipleSelection","cantSortNullRef","cantSortMixedCells","validationError","cannotModifyDisabled","insertRowBelowLastRow","insertColAfterLastCol","tabs","home","insert","data","menus","selectElementContents","el","sel","window","getSelection","removeAllRanges","range","document","createRange","selectNodeContents","addRange","cellBefore","table","row","cells","trs","children","length","cellAbove","prevRow","index","cellBorder","value","size","color","asURL","link","test","drawCell","collection","cell","cls","showGrid","maybeLink","style","textDecoration","underline","dom","element","href","target","shouldDraw","validation","background","merged","comment","defaultBorder","parseColor","toHSV","v","toCssRgba","outline","backgroundColor","fontFamily","italic","fontStyle","textAlign","bold","fontWeight","fontSize","wrap","whiteSpace","overflowWrap","wordWrap","left","top","width","height","type","format","Math","floor","formatting","__dataType","html","text","draw","applyIndent","classNames","paneClassNames","push","enable","verticalAlign","className","properties","title","message","join","div","addCell","borderRight","borderRightColor","borderBottom","borderBottomColor","td","border","sibling","borderLeft","attr","borderLeftColor","borderTop","borderTopColor","HtmlTable","Class","extend","init","cols","_height","_width","addColumn","col","visible","addRow","tr","rowIndex","Node","toDomTree","x","y","filter","offset","ci","forEach","splice","role","CELL_CONTEXT_MENU","ROW_HEADER_CONTEXT_MENU","COL_HEADER_CONTEXT_MENU","DRAWING_CONTEXT_MENU","ContextMenu","ui","VIEW_CONTENTS","template","within","min","max","View","options","_chrome","_dialogs","append","_formulaInput","wrapper","find","container","firstChild","tree","Tree","clipboardContents","editor","SheetEditor","_sheetsbar","contextMenuConfig","animation","showOn","enableClipboard","isClipboardDeactivated","removeAttr","_resize","actionBar","formulaBar","parents","outerHeight","_outerHeight","tabstripHeight","tabstrip","formulaBarHeight","sheetsBarHeight","sheetsbar","quickAccessAdjust","prependTo","nameEditor","appendTo","NameEditor","FormulaBar","toolbar","_tabstrip","formulaInput","FormulaInput","autoScale","openDialog","bind","SheetsBar","destroy","remove","name","Array","id","content","TabStrip","dataTextField","dataContentField","dataSource","toolbarOptions","select","_executeCommand","e","_sheet","trigger","workbook","_workbook","_view","sheet","activeCellRectangle","cellRectangle","_viewActiveCell","_rectangle","pane","ref","_grid","boundingRectangle","toRangeRef","isColumnResizer","_headerWidth","columns","frozen","scrollLeft","_columns","locate","w","abs","isHiddenColumn","isRowResizer","_headerHeight","rows","scrollTop","_rows","h","isHiddenRow","isFilterIcon","self","theGrid","util","withExit","exit","forEachFilterHeader","rect","filterIconRect","intersects","isAutoFill","selection","rectangle","right","bottom","isEditButton","ed","activeCellCustomEditor","r","_editorInLastColumn","drawingAt","drawings","_drawings","i","d","box","drawingBoundingBox","drawing","drx","dry","objectAt","noDrawing","grid","object","clientWidth","clientHeight","paneAt","startX","startY","indexVisible","column","selecting","selectionInProgress","Infinity","panes","paneLocationWithin","containingPane","contains","headerWidth","headerHeight","refresh","reason","refreshTools","activeCell","sheetSelection","renderSheets","sheets","sheetIndex","totalHeight","totalWidth","layout","frozenColumns","frozenRows","_pane","_destroyFilterMenu","_focus","createFilterMenu","Range","filterMenu","FilterMenu","_filterMenu","selectClipboardContents","focus","scrollIntoView","willScroll","boundaries","scrollBoundaries","scrollBottom","scrollRight","_destroyDialog","pop","openCustomEditor","first","edit","callback","parse","command","operatingRange","editRange","property","withCultureDecimals","dialog","dialogs","create","open","showError","reopenEditor","currentDialogs","errorMessages","hasOpenedError","focusButton","cont","sender","on","ev","keyCode","keys","ESC","close","onClose","dlg","_retry","registered","dialogOptions","body","activate","_filterMenuColumn","render","is","scrollbarSize","support","scrollbar","contentWidth","contentHeight","resizeDirection","resizingInProgress","resizeHandlePosition","toggleClass","isActive","args","toplevelElements","resizeHintPosition","renderResizeHint","css","toggleTooltip","resize","draggingInProgress","isInEditMode","renderClipboardContents","horizontal","Pane","resizeHint","resizeHintVertical","resizeHintHandle","resizeHintMarker","normalize","status","canCopy","multiSelection","trim","selectionView","rangeDimensions","tmp","_getMergedCells","primaryMergedCells","primary","secondaryMergedCells","secondary","location","print","topLeft","mergedCell","colspan","rowspan","browser","msie","empty","_uid","rowCount","columnCount","vaxis","haxis","vborder","hborder","rowHeader","columnHeader","mergedCellsWrapper","selectionWrapper","autoFillWrapper","single","resizeHandle","columnResizeHandle","rowResizeHandle","selectionHighlight","series","isVisible","_currentView","_currentRect","_selectedHeaders","selectedHeaders","renderData","_activeDrawing","renderSelection","renderAutoFill","renderEditorSelection","renderFilterHeaders","hasRowHeader","rowOffset","leftColumn","rowHeight","headerClassName","hasColumnHeader","columnOffset","topRow","Ref","display","columnWidth","position","renderResizeHandle","paneClasses","itemSelection","allHeaders","allRows","allCols","all","doLayout","forScreen","prev","showGridLines","_showGridLines","xCoords","borderColor","gridLinesColor","yCoords","borders","Borders","activeCellRange","absRow","absCol","topLeftCell","concat","_activeFormulaColor","_directionClasses","singleCellSelection","add","_commentRef","ttOffset","vert","a","b","rendered","borderWidth","transform","horiz","renderDrawings","toDiv","image","backgroundImage","imageUrl","opacity","drawingResizeHandles","_start","BUTTON_SIZE","BUTTON_OFFSET","Rectangle","filtered","some","c","classes","button","_addDiv","filterColumn","selections","_formulaSelections","NULLREF","colorClass","selectionClasses","autoFillPunch","_renderCustomEditorButton","autoFillRectangle","autoFillInProgress","autoFillRef","punch","direction","_autoFillDirection","cssClass","bottomRight","hint","_autoFillHint","_axis","_count","collapse","btnClass","isLastColumn","_buttonOutOfVisiblePane","btn","activeFormulaSelection","colorClasses","active","cellClasses","move","mergedCellLeft","mergedCellTop","_ref","amdD","require","__webpack_module_cache__","moduleId","cachedModule","Error","__webpack_exports__"],"sources":["C:/Users/abodean/restapi-nodejs/client/app-router/node_modules/@progress/kendo-ui/js/spreadsheet/view.js"],"sourcesContent":["/******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 39268:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(f, define){\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(54752), __webpack_require__(70867), __webpack_require__(16784), __webpack_require__(67539) ], __WEBPACK_AMD_DEFINE_FACTORY__ = (f),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n})(function(){\n\n(function(kendo) {\n\n    var $ = kendo.jQuery;\n    var CellRef = kendo.spreadsheet.CellRef;\n    var DOT = \".\";\n    var RESIZE_HANDLE_WIDTH = 7;\n    var EDIT_BUTTON_WIDTH = 20;\n    var ERROR = \"Error\";\n    var viewClassNames = {\n        view: \"k-spreadsheet-view\",\n        fixedContainer: \"k-spreadsheet-fixed-container\",\n        editContainer: \"k-spreadsheet-edit-container\",\n        scroller: \"k-spreadsheet-scroller\",\n        viewSize: \"k-spreadsheet-view-size\",\n        clipboard: \"k-spreadsheet-clipboard\",\n        cellEditor: \"k-spreadsheet-cell-editor\",\n        barEditor: \"k-spreadsheet-editor\",\n        topCorner: \"k-spreadsheet-top-corner\",\n        filterHeadersWrapper: \"k-filter-wrapper\",\n        filterRange: \"k-filter-range\",\n        filterButton: \"k-spreadsheet-filter\",\n        filterButtonSelected: \"k-selected\",\n        horizontalResize: \"k-horizontal-resize\",\n        verticalResize: \"k-vertical-resize\",\n        icon: \"k-icon\",\n        iconFilterDefault: \"k-i-arrow-60-down\",\n        sheetsBar: \"k-spreadsheet-sheets-bar\",\n        sheetsBarActive: \"k-spreadsheet-sheets-bar-active\",\n        sheetsBarInactive: \"k-spreadsheet-sheets-bar-inactive\",\n        cellContextMenu: \"k-spreadsheet-cell-context-menu\",\n        rowHeaderContextMenu: \"k-spreadsheet-row-header-context-menu\",\n        colHeaderContextMenu: \"k-spreadsheet-col-header-context-menu\",\n        drawingContextMenu: \"k-spreadsheet-drawing-context-menu\"\n    };\n\n    kendo.spreadsheet.messages.view = {\n        nameBox: \"Name Box\",\n        errors: {\n            openUnsupported: \"Unsupported format. Please select an .xlsx file.\",\n            shiftingNonblankCells: \"Cannot insert cells due to data loss possibility. Select another insert location or delete the data from the end of your worksheet.\",\n            insertColumnWhenRowIsSelected: \"Cannot insert column when all columns are selected.\",\n            insertRowWhenColumnIsSelected: \"Cannot insert row when all rows are selected.\",\n            filterRangeContainingMerges: \"Cannot create a filter within a range containing merges\",\n            sortRangeContainingMerges: \"Cannot sort a range containing merges\",\n            cantSortMultipleSelection: \"Cannot sort multiple selection\",\n            cantSortNullRef: \"Cannot sort empty selection\",\n            cantSortMixedCells: \"Cannot sort range containing cells of mixed shapes\",\n            validationError: \"The value that you entered violates the validation rules set on the cell.\",\n            cannotModifyDisabled: \"Cannot modify disabled cells.\",\n            insertRowBelowLastRow: \"Cannot insert row below the last row.\",\n            insertColAfterLastCol: \"Cannot insert column to the right of the last column.\"\n        },\n        tabs: {\n            home: \"Home\",\n            insert: \"Insert\",\n            data: \"Data\"\n        }\n    };\n\n    kendo.spreadsheet.messages.menus = {\n        \"cut\"          : \"Cut\",\n        \"copy\"         : \"Copy\",\n        \"paste\"        : \"Paste\",\n        \"merge\"        : \"Merge\",\n        \"unmerge\"      : \"Unmerge\",\n        \"delete\"       : \"Delete\",\n        \"hide\"         : \"Hide\",\n        \"unhide\"       : \"Unhide\",\n        \"bringToFront\" : \"Bring to front\",\n        \"sendToBack\"   : \"Send to back\"\n    };\n\n    function selectElementContents(el) {\n        var sel = window.getSelection();\n        sel.removeAllRanges();\n\n        var range = document.createRange();\n        range.selectNodeContents(el);\n\n        sel.addRange(range);\n    }\n\n    function cellBefore(table, row) {\n        var cells = table.trs[row].children;\n        return cells[cells.length - 2];\n    }\n\n    function cellAbove(table, row) {\n        var prevRow = table.trs[row-1];\n        var index = table.trs[row].children.length-1;\n\n        if (prevRow && index >= 0) {\n            return prevRow.children[index];\n        }\n    }\n\n    function cellBorder(value) {\n        return (value.size || 1) + \"px solid \" + (value.color || \"#000\");\n    }\n\n    function asURL(link) {\n        if (!/:\\/\\//.test(link)) {\n            link = \"http://\" + link;\n        }\n        return link;\n    }\n\n    function drawCell(collection, cell, cls, showGrid) {\n        function maybeLink(el) {\n            var link = cell.link;\n            if (!link) {\n                if (typeof cell.value == \"object\") {\n                    link = cell.value.link;\n                }\n            }\n            if (link) {\n                var style = {\n                    textDecoration: \"none\"\n                };\n                if (cell.color) {\n                    style.color = cell.color;\n                }\n                if (cell.underline) {\n                    style.textDecoration = \"underline\";\n                }\n                return kendo.dom.element(\"a\", {\n                    href   : asURL(link),\n                    style  : style,\n                    target : \"_blank\" // XXX: customizable?\n                }, el ? [ el ] : []);\n            }\n            return el;\n        }\n\n        var shouldDraw = (cell.value != null || (cell.validation != null && !cell.validation.value) || \n                          cell.background || cell.merged || cell.comment);\n        if (!cls && !shouldDraw) {\n            return;\n        }\n\n        var style = {};\n        var background = cell.background;\n        if (background) {\n            var defaultBorder = background;\n            if (showGrid) {\n                // darken\n                defaultBorder = kendo.parseColor(defaultBorder).toHSV();\n                defaultBorder.v *= 0.9;\n                defaultBorder = defaultBorder.toCssRgba();\n            }\n            defaultBorder = cellBorder({ color: defaultBorder });\n            style.outline = defaultBorder;\n        }\n\n        if (background) {\n            style.backgroundColor = background;\n        }\n\n        if (cell.color) {\n            style.color = cell.color;\n        }\n\n        if (cell.fontFamily) {\n            style.fontFamily = cell.fontFamily;\n        }\n\n        if (cell.underline) {\n            style.textDecoration = \"underline\";\n        }\n\n        if (cell.italic) {\n            style.fontStyle = \"italic\";\n        }\n\n        if (cell.textAlign) {\n            style.textAlign = cell.textAlign;\n        }\n\n        if (cell.bold) {\n            style.fontWeight = \"bold\";\n        }\n\n        if (cell.fontSize) {\n            style.fontSize = cell.fontSize + \"px\";\n        }\n\n        if (cell.wrap === true) {\n            style.whiteSpace = \"pre-wrap\";\n            style.overflowWrap = \"break-word\";\n            style.wordWrap = \"break-word\";\n        } else {\n            style.whiteSpace = \"pre\";\n            style.overflowWrap = \"normal\";\n            style.wordWrap = \"normal\";\n        }\n\n        style.left = (cell.left + 1) + \"px\";\n        style.top = (cell.top + 1) + \"px\";\n        style.width = (cell.width - 1) + \"px\";\n        style.height = (cell.height - 1) + \"px\";\n\n        var data = cell.value, type = typeof data, format = cell.format;\n        if (!format && type == \"number\" && data != Math.floor(data)) {\n            format = \"0.##############\";\n        }\n        if (format && data != null) { \n            data = kendo.spreadsheet.formatting.format(data, format);\n            if (data.__dataType) {\n                type = data.__dataType;\n            }\n        } else if (data !== null && data !== undefined) {\n            if(cell.html){\n                data = kendo.dom.html(data);\n            } else {\n                data = kendo.dom.text(data);\n            }\n        }\n\n        if (!style.textAlign) {\n            switch (type) {\n              case \"number\":\n              case \"date\":\n              case \"percent\":\n              case \"currency\":\n                style.textAlign = \"right\";\n                break;\n              case \"boolean\":\n                style.textAlign = \"center\";\n                break;\n            }\n        }\n\n        // defined in print.js\n        kendo.spreadsheet.draw.applyIndent(cell, style);\n\n        var classNames = [ paneClassNames.cell ];\n\n        if (cls) {\n            classNames.push(cls);\n        }\n        if (cell.enable === false) {\n            classNames.push(\"k-disabled\");\n        }\n        if (cell.merged) {\n            classNames.push(\"k-spreadsheet-merged-cell\");\n        }\n        if (cell.comment) {\n            classNames.push(\"k-spreadsheet-has-comment\");\n        }\n\n        var verticalAlign = cell.verticalAlign || \"bottom\";\n\n        if (verticalAlign && data) {\n            data = kendo.dom.element(\"div\", { className: \"k-vertical-align-\" + verticalAlign }, [ maybeLink(data) ]);\n        } else {\n            data = maybeLink(data);\n        }\n\n        var children = data ? [ data ] : [];\n        var properties = {\n            style: style\n        };\n        var validation = cell.validation;\n        if (validation && !validation.value) {\n            children.push(kendo.dom.element(\"span\", { className: \"k-dirty\" }));\n            classNames.push(\"k-dirty-cell\");\n\n            properties.title = validation.message;\n        }\n        properties.className = classNames.join(\" \");\n\n        var div = kendo.dom.element(\"div\", properties, children);\n        collection.push(div);\n        return div;\n    }\n\n    function addCell(table, row, cell) {\n        var style = {};\n\n        if (cell.background) {\n            style.backgroundColor = cell.background;\n        }\n\n        if (cell.color) {\n            style.color = cell.color;\n        }\n\n        if (cell.fontFamily) {\n            style.fontFamily = cell.fontFamily;\n        }\n\n        if (cell.underline) {\n            style.textDecoration = \"underline\";\n        }\n\n        if (cell.italic) {\n            style.fontStyle = \"italic\";\n        }\n\n        if (cell.textAlign) {\n            style.textAlign = cell.textAlign;\n        }\n\n        if (cell.verticalAlign) {\n            style.verticalAlign = (cell.verticalAlign === \"center\") ? \"middle\" : cell.verticalAlign;\n        }\n\n        if (cell.bold) {\n            style.fontWeight = \"bold\";\n        }\n\n        if (cell.fontSize) {\n            style.fontSize = cell.fontSize + \"px\";\n        }\n\n        if (cell.wrap === true) {\n            style.whiteSpace = \"pre-wrap\";\n        }\n\n        if (cell.borderRight) {\n            style.borderRight = cellBorder(cell.borderRight);\n        } else if (cell.background) {\n            style.borderRightColor = cell.background;\n        }\n\n        if (cell.borderBottom) {\n            style.borderBottom = cellBorder(cell.borderBottom);\n        } else if (cell.background) {\n            style.borderBottomColor = cell.background;\n        }\n\n        var data = cell.value, type = typeof data, format = cell.format;\n        if (!format && type == \"number\" && data != Math.floor(data)) {\n            format = \"0.##############\";\n        }\n        if (format && data != null) { \n            data = kendo.spreadsheet.formatting.format(data, format);\n            if (data.__dataType) {\n                type = data.__dataType;\n            }\n        }\n\n        if (!style.textAlign) {\n            switch (type) {\n              case \"number\":\n              case \"date\":\n              case \"percent\":\n              case \"currency\":\n                style.textAlign = \"right\";\n                break;\n              case \"boolean\":\n                style.textAlign = \"center\";\n                break;\n            }\n        }\n\n        var className = null;\n\n        if (cell.enable === false) {\n            className = \"k-disabled\";\n        }\n\n        var td = table.addCell(row, data, style, className, cell.validation);\n\n        var border, sibling;\n\n        if (cell.borderLeft) {\n            sibling = cellBefore(table, row);\n            border = cellBorder(cell.borderLeft);\n            if (sibling && border) {\n                sibling.attr.style.borderRight = border;\n            }\n        } else if (cell.background) {\n            style.borderLeftColor = cell.background;\n        }\n\n        if (cell.borderTop) {\n            sibling = cellAbove(table, row);\n            border = cellBorder(cell.borderTop);\n            if (sibling && border) {\n                sibling.attr.style.borderBottom = border;\n            }\n        } else if (cell.background) {\n            style.borderTopColor = cell.background;\n        }\n\n        return td;\n    }\n\n    var HtmlTable = kendo.Class.extend({\n        init: function() {\n            this.cols = [];\n            this.trs = [];\n            this._height = 0;\n            this._width = 0;\n        },\n\n        addColumn: function(width) {\n            this._width += width;\n\n            var col = kendo.dom.element(\"col\", { style: { width: width + \"px\" } });\n\n            col.visible = width > 0;\n\n            this.cols.push(col);\n        },\n\n        addRow: function(height) {\n            var attr = null;\n\n            attr = { style: { height: height + \"px\" } };\n\n            this._height += height;\n\n            var tr = kendo.dom.element(\"tr\", attr);\n\n            tr.visible = height > 0;\n\n            this.trs.push(tr);\n        },\n\n        addCell: function(rowIndex, text, style, className, validation) {\n            if (text === null || text === undefined) {\n                text = \"\";\n            }\n            if (!(text instanceof kendo.dom.Node)) {\n                text = kendo.dom.text(text);\n            }\n\n            var children = [ text ];\n            var properties = { style: style };\n\n            if (validation && !validation.value) {\n                children.push(kendo.dom.element(\"span\", { className: \"k-dirty\" }));\n\n                className = (className || \"\") + (className ? \" \" : \"\") + \"k-dirty-cell\";\n                properties.title = validation.message;\n            }\n\n            if (className) {\n                properties.className = className;\n            }\n            var td = kendo.dom.element(\"td\", properties, children);\n\n            this.trs[rowIndex].children.push(td);\n            return td;\n        },\n\n        toDomTree: function(x, y, className) {\n            this.trs = this.trs.filter(function(tr) {\n                return tr.visible;\n            });\n\n            var offset = 0;\n            this.cols = this.cols.filter(function(col, ci) {\n                if (!col.visible) {\n                    this.trs.forEach(function(tr) {\n                        tr.children.splice(ci - offset, 1);\n                    });\n                    offset++;\n                }\n\n                return col.visible;\n            }, this);\n\n            return kendo.dom.element(\"table\", {\n                style: { left: x + \"px\", top: y + \"px\", height: this._height + \"px\", width: this._width + \"px\" },\n                className: className,\n                role: \"presentation\"\n            },[\n                kendo.dom.element(\"colgroup\", null, this.cols),\n                kendo.dom.element(\"tbody\", null, this.trs)\n            ]);\n        }\n    });\n\n    var CELL_CONTEXT_MENU = '<ul class=\"#=classNames.cellContextMenu#\">' +\n        '<li data-action=cut>#: messages.cut #</li>' +\n        '<li data-action=copy>#: messages.copy #</li>' +\n        '<li data-action=paste>#: messages.paste #</li>' +\n        '<li class=\"k-separator\"></li>' +\n        '<li data-action=merge>#: messages.merge #</li>' +\n        '<li data-action=unmerge>#: messages.unmerge #</li>' +\n    '</ul>';\n\n    var ROW_HEADER_CONTEXT_MENU = '<ul class=\"#=classNames.rowHeaderContextMenu#\">' +\n        '<li data-action=cut>#: messages.cut #</li>' +\n        '<li data-action=copy>#: messages.copy #</li>' +\n        '<li data-action=paste>#: messages.paste #</li>' +\n        '<li class=\"k-separator\"></li>' +\n        '<li data-action=\"delete-row\">#: messages.delete #</li>'+\n        '<li data-action=\"hide-row\">#: messages.hide #</li>'+\n        '<li data-action=\"unhide-row\">#: messages.unhide #</li>'+\n    '</ul>';\n\n    var COL_HEADER_CONTEXT_MENU = '<ul class=\"#=classNames.colHeaderContextMenu#\">' +\n        '<li data-action=cut>#: messages.cut #</li>' +\n        '<li data-action=copy>#: messages.copy #</li>' +\n        '<li data-action=paste>#: messages.paste #</li>' +\n        '<li class=\"k-separator\"></li>' +\n        '<li data-action=\"delete-column\">#: messages.delete #</li>'+\n        '<li data-action=\"hide-column\">#: messages.hide #</li>'+\n        '<li data-action=\"unhide-column\">#: messages.unhide #</li>'+\n    '</ul>';\n\n    var DRAWING_CONTEXT_MENU = '<ul class=\"#=classNames.drawingContextMenu#\">' +\n        // '<li data-action=cut>#: messages.cut #</li>' +\n        // '<li data-action=copy>#: messages.copy #</li>' +\n        // '<li data-action=paste>#: messages.paste #</li>' +\n        // '<li class=\"k-separator\"></li>' +\n        '<li data-action=\"bring-to-front\">#: messages.bringToFront #</li>' +\n        '<li data-action=\"send-to-back\">#: messages.sendToBack #</li>' +\n        '<li class=\"k-separator\"></li>' +\n        '<li data-action=\"delete-drawing\">#: messages.delete #</li>' +\n    '</ul>';\n\n    kendo.spreadsheet.ContextMenu = kendo.ui.ContextMenu;\n\n    var VIEW_CONTENTS = kendo.template('<div class=\"#=classNames.view#\"><div class=\"#=classNames.fixedContainer#\"></div><div class=\"#=classNames.scroller#\"><div class=\"#=classNames.viewSize#\"></div></div>' +\n        '<div tabindex=\"0\" class=\"#=classNames.clipboard#\" contenteditable=true></div><div class=\"#=classNames.cellEditor#\"></div></div><div class=\"#=classNames.sheetsBar#\"></div>' +\n        CELL_CONTEXT_MENU + ROW_HEADER_CONTEXT_MENU + COL_HEADER_CONTEXT_MENU + DRAWING_CONTEXT_MENU\n    );\n\n    function within(value, min, max) {\n        return value >= min && value <= max;\n    }\n\n    var View = kendo.Class.extend({\n        init: function(element, options) {\n            var classNames = View.classNames;\n\n            this.element = element;\n\n            this.options = $.extend(true, {\n                messages: kendo.spreadsheet.messages.view\n            }, this.options, options);\n\n            this._chrome();\n\n            this._dialogs = [];\n\n            element.append(VIEW_CONTENTS({\n                classNames: classNames,\n                messages: kendo.spreadsheet.messages.menus\n            }));\n\n            this._formulaInput();\n\n            this.wrapper =      element.find(DOT + classNames.view);\n            this.container =    element.find(DOT + classNames.fixedContainer)[0];\n            this.scroller =     element.find(DOT + classNames.scroller)[0];\n            this.clipboard =    element.find(DOT + classNames.clipboard);\n\n            this.viewSize = $(this.scroller.firstChild);\n\n            this.tree = new kendo.dom.Tree(this.container);\n            this.clipboardContents = new kendo.dom.Tree(this.clipboard[0]);\n\n            this.editor = new kendo.spreadsheet.SheetEditor(this);\n\n            this._sheetsbar();\n\n            var contextMenuConfig = {\n                target: element,\n                animation: false,\n                showOn: \"never\" // this is just an invalid event name to prevent the show\n            };\n\n            this.cellContextMenu = new kendo.spreadsheet.ContextMenu(element.find(DOT + classNames.cellContextMenu), contextMenuConfig);\n\n            this.colHeaderContextMenu = new kendo.spreadsheet.ContextMenu(element.find(DOT + classNames.colHeaderContextMenu), contextMenuConfig);\n\n            this.rowHeaderContextMenu = new kendo.spreadsheet.ContextMenu(element.find(DOT + classNames.rowHeaderContextMenu), contextMenuConfig);\n\n            this.drawingContextMenu = new kendo.spreadsheet.ContextMenu(element.find(DOT + classNames.drawingContextMenu), contextMenuConfig);\n        },\n\n        enableClipboard: function(enable) {\n            this.isClipboardDeactivated = !enable;\n\n            if (enable) {\n                this.clipboard.attr(\"contenteditable\", enable);\n            } else {\n                this.clipboard.removeAttr(\"contenteditable\");\n            }\n        },\n\n        _resize: function() {\n            var actionBar = $(this.formulaBar.element).parents(\".k-spreadsheet-action-bar\");\n            var outerHeight = kendo._outerHeight;\n            var tabstripHeight = this.tabstrip ? outerHeight(this.tabstrip.element) : 0;\n            var formulaBarHeight = actionBar ? outerHeight(actionBar) : 0;\n            var sheetsBarHeight = this.sheetsbar ? outerHeight(this.sheetsbar.element) : 0;\n\n            this.wrapper.height(\n                this.element.height() -\n                    (tabstripHeight + formulaBarHeight + sheetsBarHeight)\n            );\n\n            if (this.tabstrip) {\n                this.tabstrip.quickAccessAdjust();\n            }\n        },\n\n        _chrome: function() {\n            var wrapper = $(\"<div class='k-spreadsheet-action-bar' />\").prependTo(this.element);\n\n            var nameEditor = $(\"<div class='k-spreadsheet-name-editor' />\").appendTo(wrapper);\n            this.nameEditor = new kendo.spreadsheet.NameEditor(nameEditor, this.options);\n\n            var formulaBar = $(\"<div />\").appendTo(wrapper);\n            this.formulaBar = new kendo.spreadsheet.FormulaBar(formulaBar);\n\n            if (this.options.toolbar) {\n                this._tabstrip();\n            }\n        },\n\n        _formulaInput: function() {\n            var editor = this.element.find(DOT + View.classNames.cellEditor);\n\n            this.formulaInput = new kendo.spreadsheet.FormulaInput(editor, {\n                autoScale: true\n            });\n        },\n\n        _sheetsbar: function() {\n            if (this.options.sheetsbar) {\n                var options = $.extend(true, {\n                    openDialog: this.openDialog.bind(this)\n                }, this.options.sheetsbar);\n\n                this.sheetsbar = new kendo.spreadsheet.SheetsBar(this.element.find(DOT + View.classNames.sheetsBar), options);\n            }\n        },\n\n        _tabstrip: function() {\n            var messages = this.options.messages.tabs;\n            var options = $.extend(true, { home: true, insert: true, data: true }, this.options.toolbar);\n            var tabs = [];\n\n            if (this.tabstrip) {\n                this.tabstrip.destroy();\n                this.element.children(\".k-tabstrip\").remove();\n            }\n\n            for (var name in options) {\n                if (options[name] === true || options[name] instanceof Array) {\n                    tabs.push({ id: name, text: messages[name], content: \"\" });\n                }\n            }\n\n            this.tabstrip = new kendo.spreadsheet.TabStrip($(\"<div />\").prependTo(this.element), {\n                animation: false,\n                dataTextField: \"text\",\n                dataContentField: \"content\",\n                dataSource: tabs,\n                toolbarOptions: options,\n                view: this\n            });\n\n            this.tabstrip.select(0);\n        },\n\n        _executeCommand: function(e) {\n            this._sheet.trigger(\"commandRequest\", e);\n        },\n\n        workbook: function(workbook) {\n            this._workbook = workbook;\n            workbook._view = this;\n            this.nameEditor._workbook = workbook;\n        },\n\n        sheet: function(sheet) {\n            this._sheet = sheet;\n        },\n\n        activeCellRectangle: function() {\n            return this.cellRectangle(this._sheet._viewActiveCell());\n        },\n\n        _rectangle: function(pane, ref) {\n            return pane._grid.boundingRectangle(ref.toRangeRef());\n        },\n\n        isColumnResizer: function(x, pane, col) {\n            // relative to content\n            x -= this._sheet._grid._headerWidth;\n\n            // add scroll if pane is not frozen\n            if (!pane._grid.columns.frozen) {\n                x += this.scroller.scrollLeft;\n            }\n\n            col = this._sheet._grid._columns.locate(0, col, function(w){\n                return Math.abs(x - w) <= RESIZE_HANDLE_WIDTH/2;\n            });\n\n            return col !== null && !this._sheet.isHiddenColumn(col) ? col : null;\n        },\n\n        isRowResizer: function(y, pane, row) {\n            // relative to content\n            y -= this._sheet._grid._headerHeight;\n\n            // add scroll if pane is not frozen\n            if (!pane._grid.rows.frozen) {\n                y += this.scroller.scrollTop;\n            }\n\n            row = this._sheet._grid._rows.locate(0, row, function(h){\n                return Math.abs(y - h) <= RESIZE_HANDLE_WIDTH/2;\n            });\n\n            return row !== null && !this._sheet.isHiddenRow(row) ? row : null;\n        },\n\n        isFilterIcon: function(x, y, pane, ref) {\n            var self = this;\n            var theGrid = pane._grid;\n            var scrollTop = theGrid.rows.frozen ? 0 : self.scroller.scrollTop;\n            var scrollLeft = theGrid.columns.frozen ? 0 : self.scroller.scrollLeft;\n\n            x -= self._sheet._grid._headerWidth - scrollLeft;\n            y -= self._sheet._grid._headerHeight - scrollTop;\n\n            return kendo.util.withExit(function(exit){\n                self._sheet.forEachFilterHeader(ref, function(ref) {\n                    var rect = self._rectangle(pane, ref);\n                    if (pane.filterIconRect(rect).intersects(x, y)) {\n                        exit(true);\n                    }\n                });\n            });\n        },\n\n        isAutoFill: function(x, y, pane) {\n            var selection = this._sheet.select();\n\n            if (selection.size > 1) {\n                return false;\n            }\n\n            x -= this._sheet._grid._headerWidth;\n            y -= this._sheet._grid._headerHeight;\n\n            if (!pane._grid.columns.frozen) {\n                x += this.scroller.scrollLeft;\n            }\n\n            if (!pane._grid.rows.frozen) {\n                y += this.scroller.scrollTop;\n            }\n\n            var rectangle = this._rectangle(pane, selection);\n\n            return Math.abs(rectangle.right - x) < 8 && Math.abs(rectangle.bottom - y) < 8;\n        },\n\n        isEditButton: function(x, y, pane) {\n            var ed = this._sheet.activeCellCustomEditor();\n            if (ed) {\n                var r = this.activeCellRectangle();\n                // XXX: hard-coded button width (20)\n\n                if (y >= r.top && y <= r.bottom) {\n                    return pane._editorInLastColumn ? x < r.left && x >= r.left - EDIT_BUTTON_WIDTH\n                        : x > r.right && x <= r.right + EDIT_BUTTON_WIDTH;\n                }\n            }\n        },\n\n        drawingAt: function(x, y, pane) {\n            x -= this._sheet._grid._headerWidth;\n            y -= this._sheet._grid._headerHeight;\n\n            if (!pane._grid.columns.frozen) {\n                x += this.scroller.scrollLeft;\n            }\n\n            if (!pane._grid.rows.frozen) {\n                y += this.scroller.scrollTop;\n            }\n\n            var sheet = this._sheet;\n            var drawings = this._sheet._drawings;\n            for (var i = drawings.length; --i >= 0;) {\n                var d = drawings[i];\n                var box = sheet.drawingBoundingBox(d);\n                if (box.intersects(x, y)) {\n                    return {\n                        drawing: d,\n\n                        // also include how far is the drawing's\n                        // top-left from the mouse position, as it's\n                        // not easy to compute some place else.\n                        drx: box.left - x,\n                        dry: box.top - y\n                    };\n                }\n            }\n        },\n\n        objectAt: function(x, y, noDrawing) {\n            var grid = this._sheet._grid;\n            var object, pane;\n\n            if (x < 0 || y < 0 || x > this.scroller.clientWidth || y > this.scroller.clientHeight) {\n                object = { type: \"outside\" };\n            } else if (x < grid._headerWidth && y < grid._headerHeight) {\n                object = { type: \"topcorner\" };\n            } else {\n                pane = this.paneAt(x, y);\n\n                if (!pane) {\n                    object = { type: \"outside\" };\n                } else {\n                    if (!noDrawing) {\n                        var drawing = this.drawingAt(x, y, pane);\n                        if (drawing) {\n                            return {\n                                type: \"drawing\",\n                                drawing: drawing.drawing,\n                                drx: drawing.drx,\n                                dry: drawing.dry,\n                                pane: pane,\n                                startX: x,\n                                startY: y\n                            };\n                        }\n                    }\n\n                    var row = pane._grid.rows.indexVisible(y, this.scroller.scrollTop);\n                    var column = pane._grid.columns.indexVisible(x, this.scroller.scrollLeft);\n\n                    var type = \"cell\";\n                    var ref = new CellRef(row, column);\n                    var selecting = this._sheet.selectionInProgress();\n\n                    if (this.isAutoFill(x, y, pane)) {\n                        type = \"autofill\";\n                    } else if (this.isFilterIcon(x, y, pane, ref)) {\n                        type = \"filtericon\";\n                    } else if (!selecting && x < grid._headerWidth) {\n                        type = \"rowheader\";\n                        if ((row = this.isRowResizer(y, pane, row)) !== null) {\n                            ref = new CellRef(row, -Infinity);\n                            type = \"rowresizehandle\";\n                        }\n                    } else if (!selecting && y < grid._headerHeight) {\n                        type = \"columnheader\";\n                        if ((column = this.isColumnResizer(x, pane, column)) !== null) {\n                            ref = new CellRef(-Infinity, column);\n                            type = \"columnresizehandle\";\n                        }\n                    } else if (this.isEditButton(x, y, pane)) {\n                        type = \"editor\";\n                    }\n\n                    object = { type: type, ref: ref };\n                }\n            }\n\n            object.pane = pane;\n            object.x = x;\n            object.y = y;\n            return object;\n        },\n\n        paneAt: function(x, y) {\n            return this.panes.filter(function paneLocationWithin(pane) {\n                var grid = pane._grid;\n                return within(y, grid.top, grid.bottom) && within(x, grid.left, grid.right);\n            })[0];\n        },\n\n        containingPane: function(cell) {\n            return this.panes.filter(function(pane) {\n                if (pane._grid.contains(cell)) {\n                    return true;\n                }\n                return false;\n            })[0];\n        },\n\n        cellRectangle: function(cell) {\n            var theGrid = this.containingPane(cell)._grid;\n            var rectangle = this._sheet._grid.rectangle(cell);\n\n            return rectangle.offset(\n                theGrid.headerWidth - (theGrid.columns.frozen ? 0 : this.scroller.scrollLeft),\n                theGrid.headerHeight - (theGrid.rows.frozen ? 0 : this.scroller.scrollTop)\n            );\n        },\n\n        refresh: function(reason) {\n            var sheet = this._sheet;\n\n            if (this.tabstrip) {\n                this.tabstrip.refreshTools(sheet.range(sheet.activeCell()));\n            }\n\n            if (reason.sheetSelection && this.sheetsbar) {\n                this.sheetsbar.renderSheets(this._workbook.sheets(), this._workbook.sheetIndex(this._sheet));\n            }\n\n            this._resize();\n\n            //TODO: refresh sheets list on sheetSelection\n            this.viewSize[0].style.height = sheet._grid.totalHeight() + \"px\";\n            this.viewSize[0].style.width = sheet._grid.totalWidth() + \"px\";\n\n            if (reason.layout) {\n                var frozenColumns = sheet.frozenColumns();\n                var frozenRows = sheet.frozenRows();\n\n                // main or bottom or right pane\n                this.panes = [ this._pane(frozenRows, frozenColumns) ];\n\n                // left pane\n                if (frozenColumns > 0) {\n                    this.panes.push(this._pane(frozenRows, 0, null, frozenColumns));\n                }\n\n                // top pane\n                if (frozenRows > 0) {\n                    this.panes.push(this._pane(0, frozenColumns, frozenRows, null));\n                }\n\n                // left-top \"fixed\" pane\n                if (frozenRows > 0 && frozenColumns > 0) {\n                    this.panes.push(this._pane(0, 0, frozenRows, frozenColumns));\n                }\n            }\n\n            if (reason.filter) {\n                this._destroyFilterMenu();\n            }\n\n            if (reason.activeCell) {\n                this._focus = sheet.activeCell().toRangeRef();\n            }\n        },\n\n        createFilterMenu: function(column) {\n            this._destroyFilterMenu();\n\n            var sheet = this._sheet;\n            var ref = sheet.filter().ref;\n            var range = new kendo.spreadsheet.Range(ref, sheet);\n            var element = $(\"<div />\").appendTo(this.element);\n            var options = { column: column, range: range };\n            var filterMenu = new kendo.spreadsheet.FilterMenu(element, options);\n\n            this._filterMenu = filterMenu;\n\n            return filterMenu;\n        },\n\n        selectClipboardContents: function() {\n            if (!this.isClipboardDeactivated) {\n                this.clipboard.focus();\n                selectElementContents(this.clipboard[0]);\n            }\n        },\n\n        scrollIntoView: function(cell) {\n            var willScroll = false;\n            var theGrid = this.containingPane(cell)._grid;\n\n            var boundaries = theGrid.scrollBoundaries(cell);\n\n            var scroller = this.scroller;\n            var scrollTop = theGrid.rows.frozen ? 0 : scroller.scrollTop;\n            var scrollLeft = theGrid.columns.frozen ? 0 : scroller.scrollLeft;\n\n            if (boundaries.top < scrollTop) {\n                willScroll = true;\n                scroller.scrollTop = boundaries.scrollTop;\n            }\n\n            if (boundaries.bottom > scrollTop) {\n                willScroll = true;\n                scroller.scrollTop = boundaries.scrollBottom;\n            }\n\n            if (boundaries.left < scrollLeft) {\n                willScroll = true;\n                scroller.scrollLeft = boundaries.scrollLeft;\n            }\n\n            if (boundaries.right > scrollLeft) {\n                willScroll = true;\n                scroller.scrollLeft = boundaries.scrollRight;\n            }\n\n            return willScroll;\n        },\n\n        _destroyDialog: function() {\n            this._dialogs.pop();\n        },\n\n        openCustomEditor: function() {\n            var self = this;\n            var cell = self._sheet.activeCell().first();\n            var editor = self._sheet.activeCellCustomEditor();\n            var range = self._sheet.range(cell);\n            editor.edit({\n                range      : range,\n                rect       : self.activeCellRectangle(),\n                view       : this,\n                validation : this._sheet.validation(cell),\n                callback   : function(value, parse){\n                    self._executeCommand({\n                        command: \"EditCommand\",\n                        options: {\n                            operatingRange: range,\n                            editRange: range,\n                            property: parse ? \"input\" : \"value\",\n                            value: value\n                        }\n                    });\n                }\n            });\n        },\n\n        openDialog: function(name, options) {\n            var sheet = this._sheet;\n            return sheet.withCultureDecimals(function(){\n                var dialog = kendo.spreadsheet.dialogs.create(name, options);\n\n                if (dialog) {\n                    dialog.bind(\"action\", this._executeCommand.bind(this));\n                    dialog.bind(\"deactivate\", this._destroyDialog.bind(this));\n                    this._dialogs.push(dialog);\n\n                    var ref = sheet.activeCell();\n                    var range = new kendo.spreadsheet.Range(ref, sheet);\n\n                    dialog.open(range);\n                    return dialog;\n                }\n            }.bind(this));\n        },\n\n        showError: function(options, reopenEditor) {\n            var currentDialogs = this._dialogs;\n            var errorMessages = this.options.messages.errors;\n            var hasOpenedError = false;\n\n            if (currentDialogs.length > 0) {\n                currentDialogs.forEach(function(dialog) {\n                    if (dialog.options && dialog.options.title === ERROR) {\n                        hasOpenedError = true;\n                    }\n                });\n            }\n            if (hasOpenedError) {\n                return;\n            }\n\n            var focusButton = function(e) {\n                var cont = e.sender.dialog().element;\n                cont.find(\".k-button\").first().trigger(\"focus\");\n                cont.find(\".k-button, input\").on(\"keydown\", function(ev){\n                    if (ev.keyCode == kendo.keys.ESC) {\n                        e.sender.close();\n                    }\n                });\n            };\n\n            var onClose = function(e) {\n                var dlg = e.sender;\n                this.selectClipboardContents();\n                if (dlg._retry && reopenEditor) {\n                    reopenEditor();\n                }\n            }.bind(this);\n\n            if (kendo.spreadsheet.dialogs.registered(options.type)) {\n                var dialogOptions = {\n                    close: onClose\n                };\n\n                if (options.type === \"validationError\") {\n                    dialogOptions = $.extend(dialogOptions, {\n                        title: options.title || \"Error\",\n                        text: options.body ? options.body : errorMessages[options.type],\n                        activate: focusButton\n                    });\n                }\n\n                this.openDialog(options.type, dialogOptions);\n            } else {\n                this.openDialog(\"message\", {\n                    title : options.title || \"Error\",\n                    text  : options.body ? options.body : errorMessages[options.type],\n                    activate: focusButton,\n                    close: onClose\n                });\n            }\n        },\n\n        destroy: function() {\n            this._dialogs.forEach(function(dialog) {\n                dialog.destroy();\n            });\n\n            if (this.cellContextMenu) {\n                this.cellContextMenu.destroy();\n            }\n\n            this.rowHeaderContextMenu.destroy();\n            this.colHeaderContextMenu.destroy();\n            this.drawingContextMenu.destroy();\n\n            this.cellContextMenu = this.rowHeaderContextMenu =\n                                   this.colHeaderContextMenu =\n                                   this.drawingContextMenu = null;\n\n            if (this.tabstrip) {\n                this.tabstrip.destroy();\n                this.tabstrip = null;\n            }\n\n            this._destroyFilterMenu();\n        },\n\n        _destroyFilterMenu: function() {\n            if (this._filterMenu) {\n                this._filterMenu.destroy();\n                this._filterMenu = undefined;\n                this._filterMenuColumn = undefined;\n            }\n        },\n\n        render: function(reason) {\n            if (!this.element.is(\":visible\")) {\n                return;\n            }\n            var sheet = this._sheet;\n            var focus = sheet.focus();\n            var scrollbarSize = kendo.support.scrollbar();\n            var contentWidth = this.wrapper[0].clientWidth - scrollbarSize;\n            var contentHeight = this.wrapper[0].clientHeight - scrollbarSize;\n\n            if (focus && this.scrollIntoView(focus)) {\n                return;\n            }\n\n            var resizeDirection =\n                !sheet.resizingInProgress() ? \"none\" :\n                sheet.resizeHandlePosition().col === -Infinity ? \"column\" :\n                \"row\";\n\n            this.wrapper\n                .toggleClass(viewClassNames.editContainer, this.editor.isActive())\n                .toggleClass(viewClassNames.horizontalResize, resizeDirection == \"row\")\n                .toggleClass(viewClassNames.verticalResize, resizeDirection == \"column\");\n\n            var grid = sheet._grid;\n            var content = [];\n            var args = {\n                scroller: this.scroller,\n                toplevelElements: content,\n                contentWidth: contentWidth,\n                contentHeight: contentHeight\n            };\n            this.panes.forEach(function(pane) {\n                content.push(pane.render(args));\n            });\n\n            var topCorner = kendo.dom.element(\"div\", {\n                style: { width: grid._headerWidth + \"px\", height: grid._headerHeight + \"px\" },\n                className: View.classNames.topCorner\n            });\n\n            content.push(topCorner);\n\n            if (sheet.resizeHandlePosition() && sheet.resizeHintPosition()) {\n                content.push(this.renderResizeHint());\n            }\n\n            this.tree.render(content);\n\n            $(this.container).css({\n                width: contentWidth,\n                height: contentHeight\n            });\n\n            if (this.editor.isActive()) {\n                this.editor.toggleTooltip(this.activeCellRectangle());\n            } else if (!(reason.resize ||\n                         reason.comment ||\n                         sheet.selectionInProgress() ||\n                         sheet.resizingInProgress() ||\n                         sheet.draggingInProgress() ||\n                         sheet.isInEditMode())) {\n                this.renderClipboardContents();\n            }\n        },\n\n        // this renders the big blue line during resizing\n        renderResizeHint: function() {\n            var sheet = this._sheet;\n            var ref = sheet.resizeHandlePosition();\n\n            var horizontal = ref.col !== -Infinity;\n\n            var style;\n            if (horizontal) {\n                style = {\n                    height: this.scroller.clientHeight + \"px\",\n                    width: RESIZE_HANDLE_WIDTH + \"px\",\n                    left: sheet.resizeHintPosition().x + \"px\",\n                    top: \"0px\"\n                };\n            } else {\n                style = {\n                    height: RESIZE_HANDLE_WIDTH + \"px\",\n                    width: this.scroller.clientWidth + \"px\",\n                    top: sheet.resizeHintPosition().y + \"px\",\n                    left: \"0px\"\n                };\n            }\n\n            var classNames = Pane.classNames;\n\n            return kendo.dom.element(\"div\", {\n                className: classNames.resizeHint + (!horizontal ? \" \" + classNames.resizeHintVertical : \"\"),\n                style: style\n            },[\n                kendo.dom.element(\"div\", { className: classNames.resizeHintHandle }),\n                kendo.dom.element(\"div\", { className: classNames.resizeHintMarker })\n            ]);\n        },\n\n        renderClipboardContents: function() {\n            var sheet = this._sheet;\n            var grid = sheet._grid;\n\n            // if (sheet._activeDrawing && sheet._activeDrawing.image) {\n            //     var url = this._workbook.imageUrl(sheet._activeDrawing.image);\n            //     var img = kendo.dom.element(\"img\", {\n            //         src: url,\n            //         style: {\n            //             width: sheet._activeDrawing.width + \"px\",\n            //             height: sheet._activeDrawing.height + \"px\"\n            //         }\n            //     });\n            //     this.clipboardContents.render([ img ]);\n            //     this.selectClipboardContents();\n            //     return;\n            // }\n\n            var selection = grid.normalize(sheet.select().toRangeRef());\n            var status = this._workbook.clipboard().canCopy();\n            if (status.canCopy === false && status.multiSelection) {\n                this.clipboardContents.render([]);\n                this.selectClipboardContents();\n                return;\n            }\n\n            selection = sheet.trim(selection);\n\n            var table = new HtmlTable();\n\n            var selectionView = grid.rangeDimensions(selection);\n\n            selectionView.rows.forEach(function(height) {\n                table.addRow(height);\n            });\n\n            selectionView.columns.forEach(function(width) {\n                table.addColumn(width);\n            });\n\n            var tmp = sheet._getMergedCells(selection);\n            var primaryMergedCells = tmp.primary;\n            var secondaryMergedCells = tmp.secondary;\n\n            sheet.forEach(selection, function(row, col, cell) {\n                var location = new CellRef(row, col).print();\n\n                if (!secondaryMergedCells[location]) {\n                    var td = addCell(table, row - selection.topLeft.row, cell);\n\n                    var mergedCell = primaryMergedCells[location];\n\n                    if (mergedCell) {\n                        td.attr.colspan = mergedCell.width();\n                        td.attr.rowspan = mergedCell.height();\n                    }\n                }\n            });\n\n            if (kendo.support.browser.msie) {\n                this.clipboard.empty();\n            }\n\n            this.clipboardContents.render([ table.toDomTree(0, 0, \"kendo-clipboard-\" + this._workbook.clipboard()._uid) ]);\n\n            this.selectClipboardContents();\n        },\n\n        _pane: function(row, column, rowCount, columnCount) {\n            var pane = new Pane(this._sheet, this._sheet._grid.pane({ row: row, column: column, rowCount: rowCount, columnCount: columnCount }));\n            pane.refresh(this.scroller.clientWidth, this.scroller.clientHeight);\n            return pane;\n        }\n    });\n\n    var paneClassNames = {\n        cell: \"k-spreadsheet-cell\",\n        vaxis: \"k-spreadsheet-vaxis\",\n        haxis: \"k-spreadsheet-haxis\",\n        vborder: \"k-spreadsheet-vborder\",\n        hborder: \"k-spreadsheet-hborder\",\n        rowHeader: \"k-spreadsheet-row-header\",\n        columnHeader: \"k-spreadsheet-column-header\",\n        pane: \"k-spreadsheet-pane\",\n        data: \"k-spreadsheet-data\",\n        mergedCell: \"k-spreadsheet-merged-cell\",\n        mergedCellsWrapper: \"k-merged-cells-wrapper\",\n        activeCell: \"k-spreadsheet-active-cell\",\n        selection: \"k-spreadsheet-selection\",\n        selectionWrapper: \"k-selection-wrapper\",\n        autoFillWrapper: \"k-auto-fill-wrapper\",\n        single: \"k-single\",\n        top: \"k-top\",\n        right: \"k-right\",\n        bottom: \"k-bottom\",\n        left: \"k-left\",\n        resizeHandle: \"k-resize-handle\",\n        columnResizeHandle: \"k-column-resize-handle\",\n        rowResizeHandle: \"k-row-resize-handle\",\n        resizeHint: \"k-resize-hint\",\n        resizeHintHandle: \"k-resize-hint-handle\",\n        resizeHintMarker: \"k-resize-hint-marker\",\n        resizeHintVertical: \"k-resize-hint-vertical\",\n        selectionHighlight: \"k-spreadsheet-selection-highlight\",\n        series: [\n            \"k-series-a\",\n            \"k-series-b\",\n            \"k-series-c\",\n            \"k-series-d\",\n            \"k-series-e\",\n            \"k-series-f\"\n        ]\n    };\n\n    var Pane = kendo.Class.extend({\n        init: function(sheet, grid) {\n            this._sheet = sheet;\n            this._grid = grid;\n        },\n\n        refresh: function(width, height) {\n            this._grid.refresh(width, height);\n        },\n\n        isVisible: function(scrollLeft, scrollTop, ref) {\n            return this._grid.view(scrollLeft, scrollTop).ref.intersects(ref);\n        },\n\n        render: function(args) {\n            var scroller = args.scroller;\n            var scrollLeft = scroller.scrollLeft;\n            var scrollTop = scroller.scrollTop;\n\n            if (scrollTop < 0) {\n                scrollTop = 0;\n            }\n\n            if (scrollLeft < 0) {\n                scrollLeft = 0;\n            }\n\n            var classNames = Pane.classNames;\n            var sheet = this._sheet;\n            var grid = this._grid;\n            var view = grid.view(scrollLeft, scrollTop);\n            this._currentView = view;\n            this._currentRect = this._rectangle(view.ref);\n            this._selectedHeaders = sheet.selectedHeaders();\n\n            var children = [];\n\n            children.push(this.renderData(args));\n\n            if (!sheet._activeDrawing) {\n                children.push(this.renderSelection(scroller));\n            }\n\n            children.push(this.renderAutoFill());\n\n            children.push(this.renderEditorSelection());\n\n            children.push(this.renderFilterHeaders());\n\n            if (grid.hasRowHeader) {\n                var rowHeader = kendo.dom.element(\"div\", {\n                    className: classNames.rowHeader,\n                    style: {\n                        width: grid.headerWidth + \"px\",\n                        top: view.rowOffset + \"px\"\n                    }\n                });\n                children.push(rowHeader);\n                sheet.forEach(view.ref.leftColumn(), function(row){\n                    if (!sheet.isHiddenRow(row)) {\n                        var text = row + 1, height = sheet.rowHeight(row);\n                        rowHeader.children.push(kendo.dom.element(\"div\", {\n                            className: this.headerClassName(row, \"row\"),\n                            style: {\n                                width: grid.headerWidth + \"px\",\n                                height: height + \"px\"\n                            }\n                        }, [ kendo.dom.element(\"div\", {\n                            className: \"k-vertical-align-center\"\n                        }, [ kendo.dom.text(text+\"\") ])]));\n                    }\n                }.bind(this));\n            }\n\n            if (grid.hasColumnHeader) {\n                var columnHeader = kendo.dom.element(\"div\", {\n                    className: classNames.columnHeader,\n                    style: {\n                        top: \"0px\",\n                        left: view.columnOffset + \"px\",\n                        width: this._currentRect.width + \"px\",\n                        height: grid.headerHeight + \"px\"\n                    }\n                });\n                children.push(columnHeader);\n                var left = 0;\n                sheet.forEach(view.ref.topRow(), function(row, col){\n                    if (!sheet.isHiddenColumn(col)) {\n                        var text = kendo.spreadsheet.Ref.display(null, Infinity, col),\n                            width = sheet.columnWidth(col);\n                        columnHeader.children.push(kendo.dom.element(\"div\", {\n                            className: this.headerClassName(col, \"col\"),\n                            style: {\n                                position: \"absolute\",\n                                left: left + \"px\",\n                                width: width + \"px\",\n                                height: grid.headerHeight + \"px\"\n                            }\n                        }, [ kendo.dom.element(\"div\", {\n                            className: \"k-vertical-align-center\"\n                        }, [ kendo.dom.text(text+\"\") ])]));\n                        left += width;\n                    }\n                }.bind(this));\n            }\n\n            if (sheet.resizeHandlePosition() && (grid.hasColumnHeader || grid.hasRowHeader)) {\n                if (!sheet.resizeHintPosition()) {\n                    this.renderResizeHandle(children);\n                }\n            }\n\n            var paneClasses = [classNames.pane];\n\n            if (grid.hasColumnHeader) {\n                paneClasses.push(classNames.top);\n            }\n\n            if (grid.hasRowHeader) {\n                paneClasses.push(classNames.left);\n            }\n\n            return kendo.dom.element(\"div\", {\n                style: grid.style,\n                className: paneClasses.join(\" \")\n            }, children);\n        },\n\n        headerClassName: function(index, type) {\n            var selectedHeaders = this._selectedHeaders;\n\n            var itemSelection;\n            var allHeaders;\n\n            if (type === \"row\") {\n                itemSelection = selectedHeaders.rows[index];\n                allHeaders = selectedHeaders.allRows;\n            } else {\n                itemSelection = selectedHeaders.cols[index];\n                allHeaders = selectedHeaders.allCols;\n            }\n\n            var className = itemSelection || (selectedHeaders.all ? \"full\" : (allHeaders ? \"partial\" : \"none\"));\n\n            if (className) {\n                className = \"k-selection-\" + className;\n            }\n\n            return className;\n        },\n\n        renderData: function(args) {\n            var sheet = this._sheet;\n            var view = this._currentView;\n            var cont = kendo.dom.element(\"div\", {\n                className: Pane.classNames.data,\n                style: {\n                    position: \"relative\",\n                    left: view.columnOffset + \"px\",\n                    top: view.rowOffset + \"px\"\n                }\n            });\n            var rect = this._currentRect;\n            var layout = kendo.spreadsheet.draw.doLayout(sheet, view.ref, { forScreen: true }), prev;\n            var grid = this._grid;\n            var showGridLines = sheet._showGridLines;\n            if (showGridLines) {\n                // draw axis first\n                prev = null;\n                layout.xCoords.forEach(function(x){\n                    if (x !== prev) {\n                        prev = x;\n                        cont.children.push(kendo.dom.element(\"div\", {\n                            className: paneClassNames.vaxis,\n                            style: {\n                                left: x + \"px\",\n                                height: rect.height + \"px\",\n                                borderColor: sheet.gridLinesColor()\n                            }\n                        }));\n                    }\n                });\n                prev = null;\n                layout.yCoords.forEach(function(y){\n                    if (y !== prev) {\n                        prev = y;\n                        cont.children.push(kendo.dom.element(\"div\", {\n                            className: paneClassNames.haxis,\n                            style: {\n                                top: y + \"px\",\n                                width: rect.width + \"px\",\n                                borderColor: sheet.gridLinesColor()\n                            }\n                        }));\n                    }\n                });\n            }\n            var borders = kendo.spreadsheet.draw.Borders();\n            var activeCellRange = sheet.activeCell().toRangeRef();\n            var activeCell = activeCellRange.topLeft;\n\n            layout.cells.forEach(function(cell){\n                var cls = null;\n                var absRow = cell.row + view.ref.topLeft.row;\n                var absCol = cell.col + view.ref.topLeft.col;\n                if (sheet._activeDrawing) {\n                    var ref = sheet._activeDrawing.topLeftCell;\n                    if (ref && ref.row == absRow && ref.col == absCol) {\n                        cls = \"k-spreadsheet-drawing-anchor-cell\";\n                    }\n                } else if (absRow == activeCell.row && absCol == activeCell.col) {\n                    // active cell.  normally we enter here only once.\n                    cls = [\n                        Pane.classNames.activeCell\n                    ].concat(this._activeFormulaColor(),\n                             this._directionClasses(activeCellRange));\n                    if (sheet.singleCellSelection()) {\n                        cls.push(Pane.classNames.single);\n                    }\n                    cls = cls.join(\" \");\n                }\n                borders.add(cell);\n                drawCell(cont.children, cell, cls, showGridLines);\n                if (cell.comment && sheet._commentRef &&\n                    absRow == sheet._commentRef.row && absCol == sheet._commentRef.col) {\n                    var ttOffset = 4;\n                    var left = cell.right + grid.left + view.columnOffset + ttOffset;\n                    var style = { top: (cell.top + grid.top + view.rowOffset) + \"px\" };\n                    if (left + 200 > args.contentWidth) {\n                        style.right = (args.contentWidth - grid.left - cell.left - view.columnOffset + ttOffset) + \"px\";\n                    } else {\n                        style.left = left + \"px\";\n                    }\n                    var div = kendo.dom.element(\"div\", {\n                        className: \"k-tooltip k-spreadsheet-cell-comment\",\n                        style: style\n                    }, [ kendo.dom.text(cell.comment) ]);\n                    args.toplevelElements.push(div);\n                }\n            }, this);\n            borders.vert.forEach(function(a){\n                a.forEach(function(b){\n                    if (!b.rendered) {\n                        b.rendered = true;\n                        var style = {\n                            left        : b.x + \"px\",\n                            top         : b.top + \"px\",\n                            height      : (b.bottom - b.top + 1) + \"px\",\n                            borderWidth : b.size + \"px\",\n                            borderColor : b.color\n                        };\n                        if (b.size != 1) {\n                            style.transform = \"translateX(-\" + (b.size-1)/2 + \"px)\";\n                        }\n                        cont.children.push(kendo.dom.element(\"div\", {\n                            className: paneClassNames.vborder,\n                            style: style\n                        }));\n                    }\n                });\n            });\n            borders.horiz.forEach(function(a){\n                a.forEach(function(b){\n                    if (!b.rendered) {\n                        b.rendered = true;\n                        var style = {\n                            top         : b.y + \"px\",\n                            left        : b.left + \"px\",\n                            width       : (b.right - b.left) + \"px\",\n                            borderWidth : b.size + \"px\",\n                            borderColor : b.color\n                        };\n                        if (b.size != 1) {\n                            style.transform = \"translateY(-\" + (b.size-1)/2 + \"px)\";\n                        }\n                        cont.children.push(kendo.dom.element(\"div\", {\n                            className: paneClassNames.hborder,\n                            style: style\n                        }));\n                    }\n                });\n            });\n            this.renderDrawings(layout, cont.children);\n            return cont;\n        },\n\n        renderDrawings: function(layout, container) {\n            var sheet = this._sheet;\n            var workbook = sheet._workbook;\n            layout.drawings.forEach(function(d){\n                var drawing = d.drawing;\n                var box = d.box;\n                var div = box.toDiv(\"k-spreadsheet-drawing\");\n                if (drawing.image) {\n                    div.children.push(kendo.dom.element(\"div\", {\n                        className: \"k-spreadsheet-drawing-image\",\n                        style: {\n                            backgroundImage: \"url('\" + workbook.imageUrl(drawing.image) + \"')\",\n                            opacity: drawing.opacity\n                        }\n                    }));\n                }\n                if (drawing === sheet._activeDrawing) {\n                    div.attr.className += \" k-spreadsheet-active-drawing\";\n                    drawingResizeHandles(div.children);\n                }\n                container.push(div);\n            });\n        },\n\n        renderResizeHandle: function(container) {\n            var sheet = this._sheet;\n            var ref = sheet.resizeHandlePosition();\n            var rectangle = this._rectangle(ref);\n            var classNames = [ Pane.classNames.resizeHandle ];\n\n            var style;\n            if (ref.col !== -Infinity) {\n                if (this._grid.rows._start > 0) {\n                    return;\n                }\n                style = {\n                    height: this._grid.headerHeight + \"px\",\n                    width: RESIZE_HANDLE_WIDTH + \"px\",\n                    left: rectangle.right - RESIZE_HANDLE_WIDTH/2  + \"px\",\n                    top: \"0px\"\n                };\n                classNames.push(viewClassNames.horizontalResize);\n            } else {\n                if (this._grid.columns._start > 0) {\n                    return;\n                }\n                style = {\n                    height: RESIZE_HANDLE_WIDTH + \"px\",\n                    width:  this._grid.headerWidth + \"px\",\n                    top: rectangle.bottom - RESIZE_HANDLE_WIDTH/2  + \"px\",\n                    left: \"0px\"\n                };\n                classNames.push(viewClassNames.verticalResize);\n            }\n\n            container.push(kendo.dom.element(\"div\", {\n                className: classNames.join(\" \"),\n                style: style\n            }));\n        },\n\n        filterIconRect: function(rect) {\n            var BUTTON_SIZE = 16;\n            var BUTTON_OFFSET = 3;\n\n            return new kendo.spreadsheet.Rectangle(\n                rect.right - BUTTON_SIZE - BUTTON_OFFSET,\n                rect.top + BUTTON_OFFSET,\n                BUTTON_SIZE,\n                BUTTON_SIZE\n            );\n        },\n\n        renderFilterHeaders: function() {\n            var sheet = this._sheet;\n            var children = [];\n            var classNames = View.classNames;\n            var filter = sheet.filter();\n\n            function icon(className) {\n                return kendo.dom.element(\"span\", {\n                    className: classNames.icon + \" \" + className\n                });\n            }\n\n            function filterButton(classNames, position, index) {\n                var style = {\n                    left: position.left + \"px\",\n                    top: position.top + \"px\"\n                };\n                var filtered = filter && filter.columns.some(function(c) {\n                    return c.index === index;\n                });\n                var classes = classNames.filterButton;\n\n                if (filtered) {\n                    classes += \" \" + classNames.filterButtonSelected;\n                }\n\n                var button = kendo.dom.element(\n                    \"span\",\n                    { className: classes, style: style },\n                    [ icon(classNames.iconFilterDefault) ]\n                );\n\n                return button;\n            }\n\n            if (filter) {\n                this._addDiv(children, filter.ref, classNames.filterRange);\n            }\n\n            sheet.forEachFilterHeader(this._currentView.ref, function(ref) {\n                var rect = this._rectangle(ref);\n                var position = this.filterIconRect(rect);\n                var column = this._sheet.filterColumn(ref);\n                var button = filterButton(classNames, position, column);\n\n                children.push(button);\n            }.bind(this));\n\n            return kendo.dom.element(\"div\", {\n                className: classNames.filterHeadersWrapper\n            }, children);\n\n        },\n\n        renderEditorSelection: function() {\n            var classNames = Pane.classNames;\n            var sheet = this._sheet;\n            var selections = [];\n\n            sheet._formulaSelections.forEach(function(range) {\n                var ref = range.ref;\n\n                if (ref === kendo.spreadsheet.NULLREF) {\n                    return;\n                }\n\n                this._addDiv(selections, ref, classNames.selectionHighlight + \" \" + range.colorClass);\n            }.bind(this));\n\n            return kendo.dom.element(\"div\", { className: classNames.selectionWrapper }, selections);\n\n        },\n\n        renderSelection: function(scroller) {\n            var classNames = Pane.classNames;\n            var selections = [];\n            var selectionClasses = [classNames.selection];\n            var sheet = this._sheet;\n            var activeCell = sheet.activeCell().toRangeRef();\n            var selection = sheet.select();\n\n            selectionClasses = selectionClasses.concat(this._activeFormulaColor());\n\n            if (selection.size() === 1) {\n                selectionClasses.push(\"k-single-selection\");\n            }\n\n            if (this._sheet.autoFillPunch()) {\n                selectionClasses.push(\"k-dim-auto-fill-handle\");\n            }\n\n            selection.forEach(function(ref) {\n                if (ref !== kendo.spreadsheet.NULLREF) {\n                    this._addDiv(selections, ref, selectionClasses.join(\" \"));\n                }\n            }.bind(this));\n\n            this._renderCustomEditorButton(selections, activeCell, scroller);\n\n            return kendo.dom.element(\"div\", { className: classNames.selectionWrapper }, selections);\n        },\n\n        renderAutoFill: function() {\n            var autoFillRectangle = [];\n\n            if (this._sheet.autoFillInProgress()) {\n                var autoFillRef = this._sheet.autoFillRef();\n                var punch = this._sheet.autoFillPunch();\n                var direction = this._sheet._autoFillDirection;\n\n                this._addDiv(autoFillRectangle, autoFillRef, \"k-auto-fill\");\n\n                if (punch) { // collapsing, add overlay\n                    this._addDiv(autoFillRectangle, punch, \"k-auto-fill-punch\");\n                } else if (direction !== undefined) { // expanding - add hint\n                    var ref, cssClass;\n\n                    switch(direction) {\n                        case 0:\n                            ref = autoFillRef.bottomRight;\n                            cssClass = \"k-auto-fill-br-hint\";\n                            break;\n                        case 1:\n                            ref = autoFillRef.bottomRight;\n                            cssClass = \"k-auto-fill-br-hint\";\n                            break;\n                        case 2:\n                            ref = new CellRef(autoFillRef.topLeft.row, autoFillRef.bottomRight.col);\n                            cssClass = \"k-auto-fill-tr-hint\";\n                            break;\n                        case 3:\n                            ref = new CellRef(autoFillRef.bottomRight.row, autoFillRef.topLeft.col);\n                            cssClass = \"k-auto-fill-bl-hint\";\n                            break;\n                    }\n\n                    var rectangle = this._addDiv(autoFillRectangle, ref, cssClass);\n                    if (rectangle) {\n                        var hint = kendo.dom.element(\"span\", { className: \"k-tooltip\" }, [ kendo.dom.text(this._sheet._autoFillHint) ]);\n                        rectangle.children.push(hint);\n                    }\n                }\n            }\n\n            return kendo.dom.element(\"div\", { className: Pane.classNames.autoFillWrapper }, autoFillRectangle);\n        },\n\n        _addDiv: function(collection, ref, className) {\n            var view = this._currentView, div;\n\n            if (view.ref.intersects(ref)) {\n                div = this._rectangle(ref).resize(1, 1).toDiv(className);\n                collection.push(div);\n            }\n            return div;\n        },\n\n        _renderCustomEditorButton: function(collection, ref, scroller) {\n            var self = this;\n            var sheet = self._sheet;\n            var view = self._currentView;\n            var columnCount = self._grid.columns._axis._count;\n            var ed = sheet.activeCellCustomEditor();\n\n            if (ed && view.ref.intersects(ref)) {\n                var rectangle = self._rectangle(ref);\n                sheet.forEach(ref.collapse(), function(row, col, cell) {\n                    cell.left = rectangle.left;\n                    cell.top = rectangle.top;\n                    cell.width = rectangle.width;\n                    cell.height = rectangle.height;\n\n                    var btnClass = \"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-spreadsheet-editor-button\";\n                    var isLastColumn = col == columnCount - 1 || self._buttonOutOfVisiblePane(row, col, scroller);\n                    if (isLastColumn) {\n                        btnClass += \" k-spreadsheet-last-column\";\n                    }\n                    self._editorInLastColumn = isLastColumn;\n                    var btn = kendo.dom.element(\"div\", {\n                        className: btnClass,\n                        style: {\n                            left   : (cell.left + (isLastColumn ? 0 : cell.width)) + \"px\",\n                            top    : cell.top + \"px\",\n                            height : cell.height + \"px\"\n                        }\n                    });\n                    if (ed.icon) {\n                        btn.children.push(kendo.dom.element(\"span\", {\n                            className: \"k-icon \" + ed.icon\n                        }));\n                    }\n                    collection.push(btn);\n                });\n            }\n        },\n\n        _activeFormulaColor: function() {\n            var activeFormulaSelection;\n            var colorClasses = [];\n\n            if (this._sheet.isInEditMode()) {\n                activeFormulaSelection = this._sheet._formulaSelections.filter(function(sel) { return sel.active && sel.type == \"ref\"; })[0];\n\n                if (activeFormulaSelection) {\n                    colorClasses.push(activeFormulaSelection.colorClass);\n                }\n            }\n\n            return colorClasses;\n        },\n\n        _directionClasses: function(cell) {\n            var cellClasses = [];\n            var classNames = Pane.classNames;\n            var view = this._currentView.ref;\n\n            if (!cell.move(0, -1).intersects(view)) {\n                cellClasses.push(classNames.left);\n            }\n\n            if (!cell.move(-1, 0).intersects(view)) {\n                cellClasses.push(classNames.top);\n            }\n\n            if (!cell.move(0, 1).intersects(view)) {\n                cellClasses.push(classNames.right);\n            }\n\n            if (!cell.move(1, 0).intersects(view)) {\n                cellClasses.push(classNames.bottom);\n            }\n\n            return cellClasses;\n        },\n\n        _rectangle: function(ref) {\n            return this._grid.boundingRectangle(ref.toRangeRef()).offset(-this._currentView.mergedCellLeft, -this._currentView.mergedCellTop);\n        },\n\n        _buttonOutOfVisiblePane: function(row, col, scroller) {\n            var self = this;\n            var theGrid = self._grid;\n            var sheet = self._sheet;\n            var ref = sheet.range(row, col)._ref;\n            var boundaries = theGrid.scrollBoundaries(ref);\n            var scrollLeft = theGrid.columns.frozen ? 0 : scroller.scrollLeft;\n\n            if (boundaries.right + EDIT_BUTTON_WIDTH > scrollLeft || col + 1 === sheet.frozenColumns()) {\n                return true;\n            }\n        }\n    });\n\n    function drawingResizeHandles(container) {\n        [ \"N\", \"NE\", \"E\", \"SE\", \"S\", \"SW\", \"W\", \"NW\" ].forEach(function(direction) {\n            container.push(kendo.dom.element(\"div\", {\n                \"className\": \"k-spreadsheet-drawing-handle \" + direction,\n                \"data-direction\": direction\n            }));\n        });\n    }\n\n    kendo.spreadsheet.View = View;\n    kendo.spreadsheet.Pane = Pane;\n    kendo.spreadsheet.drawCell = drawCell;\n\n    $.extend(true, View, { classNames: viewClassNames });\n    $.extend(true, Pane, { classNames: paneClassNames });\n\n})(window.kendo);\n}, __webpack_require__.amdD);\n\n\n/***/ }),\n\n/***/ 54752:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"../kendo.core\");\n\n/***/ }),\n\n/***/ 70867:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"../kendo.menu\");\n\n/***/ }),\n\n/***/ 67539:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"../util/main\");\n\n/***/ }),\n\n/***/ 16784:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./sheetsbar\");\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/amd define */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.amdD = function () {\n/******/ \t\t\tthrow new Error('define cannot be used indirect');\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module used 'module' so it can't be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__(39268);\n/******/ \tmodule.exports = __webpack_exports__;\n/******/ \t\n/******/ })()\n;"],"mappings":";;AAAA;AAAS,CAAC,YAAW;EAAE;;EACvB;EAAU,IAAIA,mBAAmB,GAAI;IAErC;IAAM;IACN;IAAO,UAASC,MAAT,EAAiBC,OAAjB,EAA0BC,mBAA1B,EAA+C;MAEtD,IAAIC,8BAAJ,EAAoCC,4BAApC,EAAkEC,6BAAlE;;MAAgG,CAAC,UAASC,CAAT,EAAYC,MAAZ,EAAmB;QAChH,EAAEH,4BAA4B,GAAG,CAAEF,mBAAmB,CAAC,KAAD,CAArB,EAA8BA,mBAAmB,CAAC,KAAD,CAAjD,EAA0DA,mBAAmB,CAAC,KAAD,CAA7E,EAAsFA,mBAAmB,CAAC,KAAD,CAAzG,CAA/B,EAAmJC,8BAA8B,GAAIG,CAArL,EACJD,6BAA6B,GAAI,OAAOF,8BAAP,KAA0C,UAA1C,GAChCA,8BAA8B,CAACK,KAA/B,CAAqCP,OAArC,EAA8CG,4BAA9C,CADgC,GAC+CD,8BAF5E,EAGJE,6BAA6B,KAAKI,SAAlC,KAAgDT,MAAM,CAACC,OAAP,GAAiBI,6BAAjE,CAHE;MAIH,CAL+F,EAK7F,YAAU;QAEb,CAAC,UAASK,KAAT,EAAgB;UAEb,IAAIC,CAAC,GAAGD,KAAK,CAACE,MAAd;UACA,IAAIC,OAAO,GAAGH,KAAK,CAACI,WAAN,CAAkBD,OAAhC;UACA,IAAIE,GAAG,GAAG,GAAV;UACA,IAAIC,mBAAmB,GAAG,CAA1B;UACA,IAAIC,iBAAiB,GAAG,EAAxB;UACA,IAAIC,KAAK,GAAG,OAAZ;UACA,IAAIC,cAAc,GAAG;YACjBC,IAAI,EAAE,oBADW;YAEjBC,cAAc,EAAE,+BAFC;YAGjBC,aAAa,EAAE,8BAHE;YAIjBC,QAAQ,EAAE,wBAJO;YAKjBC,QAAQ,EAAE,yBALO;YAMjBC,SAAS,EAAE,yBANM;YAOjBC,UAAU,EAAE,2BAPK;YAQjBC,SAAS,EAAE,sBARM;YASjBC,SAAS,EAAE,0BATM;YAUjBC,oBAAoB,EAAE,kBAVL;YAWjBC,WAAW,EAAE,gBAXI;YAYjBC,YAAY,EAAE,sBAZG;YAajBC,oBAAoB,EAAE,YAbL;YAcjBC,gBAAgB,EAAE,qBAdD;YAejBC,cAAc,EAAE,mBAfC;YAgBjBC,IAAI,EAAE,QAhBW;YAiBjBC,iBAAiB,EAAE,mBAjBF;YAkBjBC,SAAS,EAAE,0BAlBM;YAmBjBC,eAAe,EAAE,iCAnBA;YAoBjBC,iBAAiB,EAAE,mCApBF;YAqBjBC,eAAe,EAAE,iCArBA;YAsBjBC,oBAAoB,EAAE,uCAtBL;YAuBjBC,oBAAoB,EAAE,uCAvBL;YAwBjBC,kBAAkB,EAAE;UAxBH,CAArB;UA2BAjC,KAAK,CAACI,WAAN,CAAkB8B,QAAlB,CAA2BxB,IAA3B,GAAkC;YAC9ByB,OAAO,EAAE,UADqB;YAE9BC,MAAM,EAAE;cACJC,eAAe,EAAE,kDADb;cAEJC,qBAAqB,EAAE,qIAFnB;cAGJC,6BAA6B,EAAE,qDAH3B;cAIJC,6BAA6B,EAAE,+CAJ3B;cAKJC,2BAA2B,EAAE,yDALzB;cAMJC,yBAAyB,EAAE,uCANvB;cAOJC,yBAAyB,EAAE,gCAPvB;cAQJC,eAAe,EAAE,6BARb;cASJC,kBAAkB,EAAE,oDAThB;cAUJC,eAAe,EAAE,2EAVb;cAWJC,oBAAoB,EAAE,+BAXlB;cAYJC,qBAAqB,EAAE,uCAZnB;cAaJC,qBAAqB,EAAE;YAbnB,CAFsB;YAiB9BC,IAAI,EAAE;cACFC,IAAI,EAAE,MADJ;cAEFC,MAAM,EAAE,QAFN;cAGFC,IAAI,EAAE;YAHJ;UAjBwB,CAAlC;UAwBArD,KAAK,CAACI,WAAN,CAAkB8B,QAAlB,CAA2BoB,KAA3B,GAAmC;YAC/B,OAAiB,KADc;YAE/B,QAAiB,MAFc;YAG/B,SAAiB,OAHc;YAI/B,SAAiB,OAJc;YAK/B,WAAiB,SALc;YAM/B,UAAiB,QANc;YAO/B,QAAiB,MAPc;YAQ/B,UAAiB,QARc;YAS/B,gBAAiB,gBATc;YAU/B,cAAiB;UAVc,CAAnC;;UAaA,SAASC,qBAAT,CAA+BC,EAA/B,EAAmC;YAC/B,IAAIC,GAAG,GAAGC,MAAM,CAACC,YAAP,EAAV;YACAF,GAAG,CAACG,eAAJ;YAEA,IAAIC,KAAK,GAAGC,QAAQ,CAACC,WAAT,EAAZ;YACAF,KAAK,CAACG,kBAAN,CAAyBR,EAAzB;YAEAC,GAAG,CAACQ,QAAJ,CAAaJ,KAAb;UACH;;UAED,SAASK,UAAT,CAAoBC,KAApB,EAA2BC,GAA3B,EAAgC;YAC5B,IAAIC,KAAK,GAAGF,KAAK,CAACG,GAAN,CAAUF,GAAV,EAAeG,QAA3B;YACA,OAAOF,KAAK,CAACA,KAAK,CAACG,MAAN,GAAe,CAAhB,CAAZ;UACH;;UAED,SAASC,SAAT,CAAmBN,KAAnB,EAA0BC,GAA1B,EAA+B;YAC3B,IAAIM,OAAO,GAAGP,KAAK,CAACG,GAAN,CAAUF,GAAG,GAAC,CAAd,CAAd;YACA,IAAIO,KAAK,GAAGR,KAAK,CAACG,GAAN,CAAUF,GAAV,EAAeG,QAAf,CAAwBC,MAAxB,GAA+B,CAA3C;;YAEA,IAAIE,OAAO,IAAIC,KAAK,IAAI,CAAxB,EAA2B;cACvB,OAAOD,OAAO,CAACH,QAAR,CAAiBI,KAAjB,CAAP;YACH;UACJ;;UAED,SAASC,UAAT,CAAoBC,KAApB,EAA2B;YACvB,OAAO,CAACA,KAAK,CAACC,IAAN,IAAc,CAAf,IAAoB,WAApB,IAAmCD,KAAK,CAACE,KAAN,IAAe,MAAlD,CAAP;UACH;;UAED,SAASC,KAAT,CAAeC,IAAf,EAAqB;YACjB,IAAI,CAAC,QAAQC,IAAR,CAAaD,IAAb,CAAL,EAAyB;cACrBA,IAAI,GAAG,YAAYA,IAAnB;YACH;;YACD,OAAOA,IAAP;UACH;;UAED,SAASE,QAAT,CAAkBC,UAAlB,EAA8BC,IAA9B,EAAoCC,GAApC,EAAyCC,QAAzC,EAAmD;YAC/C,SAASC,SAAT,CAAmBhC,EAAnB,EAAuB;cACnB,IAAIyB,IAAI,GAAGI,IAAI,CAACJ,IAAhB;;cACA,IAAI,CAACA,IAAL,EAAW;gBACP,IAAI,OAAOI,IAAI,CAACR,KAAZ,IAAqB,QAAzB,EAAmC;kBAC/BI,IAAI,GAAGI,IAAI,CAACR,KAAL,CAAWI,IAAlB;gBACH;cACJ;;cACD,IAAIA,IAAJ,EAAU;gBACN,IAAIQ,KAAK,GAAG;kBACRC,cAAc,EAAE;gBADR,CAAZ;;gBAGA,IAAIL,IAAI,CAACN,KAAT,EAAgB;kBACZU,KAAK,CAACV,KAAN,GAAcM,IAAI,CAACN,KAAnB;gBACH;;gBACD,IAAIM,IAAI,CAACM,SAAT,EAAoB;kBAChBF,KAAK,CAACC,cAAN,GAAuB,WAAvB;gBACH;;gBACD,OAAO1F,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,GAAlB,EAAuB;kBAC1BC,IAAI,EAAKd,KAAK,CAACC,IAAD,CADY;kBAE1BQ,KAAK,EAAIA,KAFiB;kBAG1BM,MAAM,EAAG,QAHiB,CAGR;;gBAHQ,CAAvB,EAIJvC,EAAE,GAAG,CAAEA,EAAF,CAAH,GAAY,EAJV,CAAP;cAKH;;cACD,OAAOA,EAAP;YACH;;YAED,IAAIwC,UAAU,GAAIX,IAAI,CAACR,KAAL,IAAc,IAAd,IAAuBQ,IAAI,CAACY,UAAL,IAAmB,IAAnB,IAA2B,CAACZ,IAAI,CAACY,UAAL,CAAgBpB,KAAnE,IACAQ,IAAI,CAACa,UADL,IACmBb,IAAI,CAACc,MADxB,IACkCd,IAAI,CAACe,OADzD;;YAEA,IAAI,CAACd,GAAD,IAAQ,CAACU,UAAb,EAAyB;cACrB;YACH;;YAED,IAAIP,KAAK,GAAG,EAAZ;YACA,IAAIS,UAAU,GAAGb,IAAI,CAACa,UAAtB;;YACA,IAAIA,UAAJ,EAAgB;cACZ,IAAIG,aAAa,GAAGH,UAApB;;cACA,IAAIX,QAAJ,EAAc;gBACV;gBACAc,aAAa,GAAGrG,KAAK,CAACsG,UAAN,CAAiBD,aAAjB,EAAgCE,KAAhC,EAAhB;gBACAF,aAAa,CAACG,CAAd,IAAmB,GAAnB;gBACAH,aAAa,GAAGA,aAAa,CAACI,SAAd,EAAhB;cACH;;cACDJ,aAAa,GAAGzB,UAAU,CAAC;gBAAEG,KAAK,EAAEsB;cAAT,CAAD,CAA1B;cACAZ,KAAK,CAACiB,OAAN,GAAgBL,aAAhB;YACH;;YAED,IAAIH,UAAJ,EAAgB;cACZT,KAAK,CAACkB,eAAN,GAAwBT,UAAxB;YACH;;YAED,IAAIb,IAAI,CAACN,KAAT,EAAgB;cACZU,KAAK,CAACV,KAAN,GAAcM,IAAI,CAACN,KAAnB;YACH;;YAED,IAAIM,IAAI,CAACuB,UAAT,EAAqB;cACjBnB,KAAK,CAACmB,UAAN,GAAmBvB,IAAI,CAACuB,UAAxB;YACH;;YAED,IAAIvB,IAAI,CAACM,SAAT,EAAoB;cAChBF,KAAK,CAACC,cAAN,GAAuB,WAAvB;YACH;;YAED,IAAIL,IAAI,CAACwB,MAAT,EAAiB;cACbpB,KAAK,CAACqB,SAAN,GAAkB,QAAlB;YACH;;YAED,IAAIzB,IAAI,CAAC0B,SAAT,EAAoB;cAChBtB,KAAK,CAACsB,SAAN,GAAkB1B,IAAI,CAAC0B,SAAvB;YACH;;YAED,IAAI1B,IAAI,CAAC2B,IAAT,EAAe;cACXvB,KAAK,CAACwB,UAAN,GAAmB,MAAnB;YACH;;YAED,IAAI5B,IAAI,CAAC6B,QAAT,EAAmB;cACfzB,KAAK,CAACyB,QAAN,GAAiB7B,IAAI,CAAC6B,QAAL,GAAgB,IAAjC;YACH;;YAED,IAAI7B,IAAI,CAAC8B,IAAL,KAAc,IAAlB,EAAwB;cACpB1B,KAAK,CAAC2B,UAAN,GAAmB,UAAnB;cACA3B,KAAK,CAAC4B,YAAN,GAAqB,YAArB;cACA5B,KAAK,CAAC6B,QAAN,GAAiB,YAAjB;YACH,CAJD,MAIO;cACH7B,KAAK,CAAC2B,UAAN,GAAmB,KAAnB;cACA3B,KAAK,CAAC4B,YAAN,GAAqB,QAArB;cACA5B,KAAK,CAAC6B,QAAN,GAAiB,QAAjB;YACH;;YAED7B,KAAK,CAAC8B,IAAN,GAAclC,IAAI,CAACkC,IAAL,GAAY,CAAb,GAAkB,IAA/B;YACA9B,KAAK,CAAC+B,GAAN,GAAanC,IAAI,CAACmC,GAAL,GAAW,CAAZ,GAAiB,IAA7B;YACA/B,KAAK,CAACgC,KAAN,GAAepC,IAAI,CAACoC,KAAL,GAAa,CAAd,GAAmB,IAAjC;YACAhC,KAAK,CAACiC,MAAN,GAAgBrC,IAAI,CAACqC,MAAL,GAAc,CAAf,GAAoB,IAAnC;YAEA,IAAIrE,IAAI,GAAGgC,IAAI,CAACR,KAAhB;YAAA,IAAuB8C,IAAI,GAAG,OAAOtE,IAArC;YAAA,IAA2CuE,MAAM,GAAGvC,IAAI,CAACuC,MAAzD;;YACA,IAAI,CAACA,MAAD,IAAWD,IAAI,IAAI,QAAnB,IAA+BtE,IAAI,IAAIwE,IAAI,CAACC,KAAL,CAAWzE,IAAX,CAA3C,EAA6D;cACzDuE,MAAM,GAAG,kBAAT;YACH;;YACD,IAAIA,MAAM,IAAIvE,IAAI,IAAI,IAAtB,EAA4B;cACxBA,IAAI,GAAGrD,KAAK,CAACI,WAAN,CAAkB2H,UAAlB,CAA6BH,MAA7B,CAAoCvE,IAApC,EAA0CuE,MAA1C,CAAP;;cACA,IAAIvE,IAAI,CAAC2E,UAAT,EAAqB;gBACjBL,IAAI,GAAGtE,IAAI,CAAC2E,UAAZ;cACH;YACJ,CALD,MAKO,IAAI3E,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAKtD,SAA9B,EAAyC;cAC5C,IAAGsF,IAAI,CAAC4C,IAAR,EAAa;gBACT5E,IAAI,GAAGrD,KAAK,CAAC4F,GAAN,CAAUqC,IAAV,CAAe5E,IAAf,CAAP;cACH,CAFD,MAEO;gBACHA,IAAI,GAAGrD,KAAK,CAAC4F,GAAN,CAAUsC,IAAV,CAAe7E,IAAf,CAAP;cACH;YACJ;;YAED,IAAI,CAACoC,KAAK,CAACsB,SAAX,EAAsB;cAClB,QAAQY,IAAR;gBACE,KAAK,QAAL;gBACA,KAAK,MAAL;gBACA,KAAK,SAAL;gBACA,KAAK,UAAL;kBACElC,KAAK,CAACsB,SAAN,GAAkB,OAAlB;kBACA;;gBACF,KAAK,SAAL;kBACEtB,KAAK,CAACsB,SAAN,GAAkB,QAAlB;kBACA;cATJ;YAWH,CA3H8C,CA6H/C;;;YACA/G,KAAK,CAACI,WAAN,CAAkB+H,IAAlB,CAAuBC,WAAvB,CAAmC/C,IAAnC,EAAyCI,KAAzC;YAEA,IAAI4C,UAAU,GAAG,CAAEC,cAAc,CAACjD,IAAjB,CAAjB;;YAEA,IAAIC,GAAJ,EAAS;cACL+C,UAAU,CAACE,IAAX,CAAgBjD,GAAhB;YACH;;YACD,IAAID,IAAI,CAACmD,MAAL,KAAgB,KAApB,EAA2B;cACvBH,UAAU,CAACE,IAAX,CAAgB,YAAhB;YACH;;YACD,IAAIlD,IAAI,CAACc,MAAT,EAAiB;cACbkC,UAAU,CAACE,IAAX,CAAgB,2BAAhB;YACH;;YACD,IAAIlD,IAAI,CAACe,OAAT,EAAkB;cACdiC,UAAU,CAACE,IAAX,CAAgB,2BAAhB;YACH;;YAED,IAAIE,aAAa,GAAGpD,IAAI,CAACoD,aAAL,IAAsB,QAA1C;;YAEA,IAAIA,aAAa,IAAIpF,IAArB,EAA2B;cACvBA,IAAI,GAAGrD,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;gBAAE6C,SAAS,EAAE,sBAAsBD;cAAnC,CAAzB,EAA6E,CAAEjD,SAAS,CAACnC,IAAD,CAAX,CAA7E,CAAP;YACH,CAFD,MAEO;cACHA,IAAI,GAAGmC,SAAS,CAACnC,IAAD,CAAhB;YACH;;YAED,IAAIkB,QAAQ,GAAGlB,IAAI,GAAG,CAAEA,IAAF,CAAH,GAAc,EAAjC;YACA,IAAIsF,UAAU,GAAG;cACblD,KAAK,EAAEA;YADM,CAAjB;YAGA,IAAIQ,UAAU,GAAGZ,IAAI,CAACY,UAAtB;;YACA,IAAIA,UAAU,IAAI,CAACA,UAAU,CAACpB,KAA9B,EAAqC;cACjCN,QAAQ,CAACgE,IAAT,CAAcvI,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,MAAlB,EAA0B;gBAAE6C,SAAS,EAAE;cAAb,CAA1B,CAAd;cACAL,UAAU,CAACE,IAAX,CAAgB,cAAhB;cAEAI,UAAU,CAACC,KAAX,GAAmB3C,UAAU,CAAC4C,OAA9B;YACH;;YACDF,UAAU,CAACD,SAAX,GAAuBL,UAAU,CAACS,IAAX,CAAgB,GAAhB,CAAvB;YAEA,IAAIC,GAAG,GAAG/I,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB8C,UAAzB,EAAqCpE,QAArC,CAAV;YACAa,UAAU,CAACmD,IAAX,CAAgBQ,GAAhB;YACA,OAAOA,GAAP;UACH;;UAED,SAASC,OAAT,CAAiB7E,KAAjB,EAAwBC,GAAxB,EAA6BiB,IAA7B,EAAmC;YAC/B,IAAII,KAAK,GAAG,EAAZ;;YAEA,IAAIJ,IAAI,CAACa,UAAT,EAAqB;cACjBT,KAAK,CAACkB,eAAN,GAAwBtB,IAAI,CAACa,UAA7B;YACH;;YAED,IAAIb,IAAI,CAACN,KAAT,EAAgB;cACZU,KAAK,CAACV,KAAN,GAAcM,IAAI,CAACN,KAAnB;YACH;;YAED,IAAIM,IAAI,CAACuB,UAAT,EAAqB;cACjBnB,KAAK,CAACmB,UAAN,GAAmBvB,IAAI,CAACuB,UAAxB;YACH;;YAED,IAAIvB,IAAI,CAACM,SAAT,EAAoB;cAChBF,KAAK,CAACC,cAAN,GAAuB,WAAvB;YACH;;YAED,IAAIL,IAAI,CAACwB,MAAT,EAAiB;cACbpB,KAAK,CAACqB,SAAN,GAAkB,QAAlB;YACH;;YAED,IAAIzB,IAAI,CAAC0B,SAAT,EAAoB;cAChBtB,KAAK,CAACsB,SAAN,GAAkB1B,IAAI,CAAC0B,SAAvB;YACH;;YAED,IAAI1B,IAAI,CAACoD,aAAT,EAAwB;cACpBhD,KAAK,CAACgD,aAAN,GAAuBpD,IAAI,CAACoD,aAAL,KAAuB,QAAxB,GAAoC,QAApC,GAA+CpD,IAAI,CAACoD,aAA1E;YACH;;YAED,IAAIpD,IAAI,CAAC2B,IAAT,EAAe;cACXvB,KAAK,CAACwB,UAAN,GAAmB,MAAnB;YACH;;YAED,IAAI5B,IAAI,CAAC6B,QAAT,EAAmB;cACfzB,KAAK,CAACyB,QAAN,GAAiB7B,IAAI,CAAC6B,QAAL,GAAgB,IAAjC;YACH;;YAED,IAAI7B,IAAI,CAAC8B,IAAL,KAAc,IAAlB,EAAwB;cACpB1B,KAAK,CAAC2B,UAAN,GAAmB,UAAnB;YACH;;YAED,IAAI/B,IAAI,CAAC4D,WAAT,EAAsB;cAClBxD,KAAK,CAACwD,WAAN,GAAoBrE,UAAU,CAACS,IAAI,CAAC4D,WAAN,CAA9B;YACH,CAFD,MAEO,IAAI5D,IAAI,CAACa,UAAT,EAAqB;cACxBT,KAAK,CAACyD,gBAAN,GAAyB7D,IAAI,CAACa,UAA9B;YACH;;YAED,IAAIb,IAAI,CAAC8D,YAAT,EAAuB;cACnB1D,KAAK,CAAC0D,YAAN,GAAqBvE,UAAU,CAACS,IAAI,CAAC8D,YAAN,CAA/B;YACH,CAFD,MAEO,IAAI9D,IAAI,CAACa,UAAT,EAAqB;cACxBT,KAAK,CAAC2D,iBAAN,GAA0B/D,IAAI,CAACa,UAA/B;YACH;;YAED,IAAI7C,IAAI,GAAGgC,IAAI,CAACR,KAAhB;YAAA,IAAuB8C,IAAI,GAAG,OAAOtE,IAArC;YAAA,IAA2CuE,MAAM,GAAGvC,IAAI,CAACuC,MAAzD;;YACA,IAAI,CAACA,MAAD,IAAWD,IAAI,IAAI,QAAnB,IAA+BtE,IAAI,IAAIwE,IAAI,CAACC,KAAL,CAAWzE,IAAX,CAA3C,EAA6D;cACzDuE,MAAM,GAAG,kBAAT;YACH;;YACD,IAAIA,MAAM,IAAIvE,IAAI,IAAI,IAAtB,EAA4B;cACxBA,IAAI,GAAGrD,KAAK,CAACI,WAAN,CAAkB2H,UAAlB,CAA6BH,MAA7B,CAAoCvE,IAApC,EAA0CuE,MAA1C,CAAP;;cACA,IAAIvE,IAAI,CAAC2E,UAAT,EAAqB;gBACjBL,IAAI,GAAGtE,IAAI,CAAC2E,UAAZ;cACH;YACJ;;YAED,IAAI,CAACvC,KAAK,CAACsB,SAAX,EAAsB;cAClB,QAAQY,IAAR;gBACE,KAAK,QAAL;gBACA,KAAK,MAAL;gBACA,KAAK,SAAL;gBACA,KAAK,UAAL;kBACElC,KAAK,CAACsB,SAAN,GAAkB,OAAlB;kBACA;;gBACF,KAAK,SAAL;kBACEtB,KAAK,CAACsB,SAAN,GAAkB,QAAlB;kBACA;cATJ;YAWH;;YAED,IAAI2B,SAAS,GAAG,IAAhB;;YAEA,IAAIrD,IAAI,CAACmD,MAAL,KAAgB,KAApB,EAA2B;cACvBE,SAAS,GAAG,YAAZ;YACH;;YAED,IAAIW,EAAE,GAAGlF,KAAK,CAAC6E,OAAN,CAAc5E,GAAd,EAAmBf,IAAnB,EAAyBoC,KAAzB,EAAgCiD,SAAhC,EAA2CrD,IAAI,CAACY,UAAhD,CAAT;YAEA,IAAIqD,MAAJ,EAAYC,OAAZ;;YAEA,IAAIlE,IAAI,CAACmE,UAAT,EAAqB;cACjBD,OAAO,GAAGrF,UAAU,CAACC,KAAD,EAAQC,GAAR,CAApB;cACAkF,MAAM,GAAG1E,UAAU,CAACS,IAAI,CAACmE,UAAN,CAAnB;;cACA,IAAID,OAAO,IAAID,MAAf,EAAuB;gBACnBC,OAAO,CAACE,IAAR,CAAahE,KAAb,CAAmBwD,WAAnB,GAAiCK,MAAjC;cACH;YACJ,CAND,MAMO,IAAIjE,IAAI,CAACa,UAAT,EAAqB;cACxBT,KAAK,CAACiE,eAAN,GAAwBrE,IAAI,CAACa,UAA7B;YACH;;YAED,IAAIb,IAAI,CAACsE,SAAT,EAAoB;cAChBJ,OAAO,GAAG9E,SAAS,CAACN,KAAD,EAAQC,GAAR,CAAnB;cACAkF,MAAM,GAAG1E,UAAU,CAACS,IAAI,CAACsE,SAAN,CAAnB;;cACA,IAAIJ,OAAO,IAAID,MAAf,EAAuB;gBACnBC,OAAO,CAACE,IAAR,CAAahE,KAAb,CAAmB0D,YAAnB,GAAkCG,MAAlC;cACH;YACJ,CAND,MAMO,IAAIjE,IAAI,CAACa,UAAT,EAAqB;cACxBT,KAAK,CAACmE,cAAN,GAAuBvE,IAAI,CAACa,UAA5B;YACH;;YAED,OAAOmD,EAAP;UACH;;UAED,IAAIQ,SAAS,GAAG7J,KAAK,CAAC8J,KAAN,CAAYC,MAAZ,CAAmB;YAC/BC,IAAI,EAAE,YAAW;cACb,KAAKC,IAAL,GAAY,EAAZ;cACA,KAAK3F,GAAL,GAAW,EAAX;cACA,KAAK4F,OAAL,GAAe,CAAf;cACA,KAAKC,MAAL,GAAc,CAAd;YACH,CAN8B;YAQ/BC,SAAS,EAAE,UAAS3C,KAAT,EAAgB;cACvB,KAAK0C,MAAL,IAAe1C,KAAf;cAEA,IAAI4C,GAAG,GAAGrK,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;gBAAEJ,KAAK,EAAE;kBAAEgC,KAAK,EAAEA,KAAK,GAAG;gBAAjB;cAAT,CAAzB,CAAV;cAEA4C,GAAG,CAACC,OAAJ,GAAc7C,KAAK,GAAG,CAAtB;cAEA,KAAKwC,IAAL,CAAU1B,IAAV,CAAe8B,GAAf;YACH,CAhB8B;YAkB/BE,MAAM,EAAE,UAAS7C,MAAT,EAAiB;cACrB,IAAI+B,IAAI,GAAG,IAAX;cAEAA,IAAI,GAAG;gBAAEhE,KAAK,EAAE;kBAAEiC,MAAM,EAAEA,MAAM,GAAG;gBAAnB;cAAT,CAAP;cAEA,KAAKwC,OAAL,IAAgBxC,MAAhB;cAEA,IAAI8C,EAAE,GAAGxK,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,IAAlB,EAAwB4D,IAAxB,CAAT;cAEAe,EAAE,CAACF,OAAH,GAAa5C,MAAM,GAAG,CAAtB;cAEA,KAAKpD,GAAL,CAASiE,IAAT,CAAciC,EAAd;YACH,CA9B8B;YAgC/BxB,OAAO,EAAE,UAASyB,QAAT,EAAmBvC,IAAnB,EAAyBzC,KAAzB,EAAgCiD,SAAhC,EAA2CzC,UAA3C,EAAuD;cAC5D,IAAIiC,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAKnI,SAA9B,EAAyC;gBACrCmI,IAAI,GAAG,EAAP;cACH;;cACD,IAAI,EAAEA,IAAI,YAAYlI,KAAK,CAAC4F,GAAN,CAAU8E,IAA5B,CAAJ,EAAuC;gBACnCxC,IAAI,GAAGlI,KAAK,CAAC4F,GAAN,CAAUsC,IAAV,CAAeA,IAAf,CAAP;cACH;;cAED,IAAI3D,QAAQ,GAAG,CAAE2D,IAAF,CAAf;cACA,IAAIS,UAAU,GAAG;gBAAElD,KAAK,EAAEA;cAAT,CAAjB;;cAEA,IAAIQ,UAAU,IAAI,CAACA,UAAU,CAACpB,KAA9B,EAAqC;gBACjCN,QAAQ,CAACgE,IAAT,CAAcvI,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,MAAlB,EAA0B;kBAAE6C,SAAS,EAAE;gBAAb,CAA1B,CAAd;gBAEAA,SAAS,GAAG,CAACA,SAAS,IAAI,EAAd,KAAqBA,SAAS,GAAG,GAAH,GAAS,EAAvC,IAA6C,cAAzD;gBACAC,UAAU,CAACC,KAAX,GAAmB3C,UAAU,CAAC4C,OAA9B;cACH;;cAED,IAAIH,SAAJ,EAAe;gBACXC,UAAU,CAACD,SAAX,GAAuBA,SAAvB;cACH;;cACD,IAAIW,EAAE,GAAGrJ,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,IAAlB,EAAwB8C,UAAxB,EAAoCpE,QAApC,CAAT;cAEA,KAAKD,GAAL,CAASmG,QAAT,EAAmBlG,QAAnB,CAA4BgE,IAA5B,CAAiCc,EAAjC;cACA,OAAOA,EAAP;YACH,CAzD8B;YA2D/BsB,SAAS,EAAE,UAASC,CAAT,EAAYC,CAAZ,EAAenC,SAAf,EAA0B;cACjC,KAAKpE,GAAL,GAAW,KAAKA,GAAL,CAASwG,MAAT,CAAgB,UAASN,EAAT,EAAa;gBACpC,OAAOA,EAAE,CAACF,OAAV;cACH,CAFU,CAAX;cAIA,IAAIS,MAAM,GAAG,CAAb;cACA,KAAKd,IAAL,GAAY,KAAKA,IAAL,CAAUa,MAAV,CAAiB,UAAST,GAAT,EAAcW,EAAd,EAAkB;gBAC3C,IAAI,CAACX,GAAG,CAACC,OAAT,EAAkB;kBACd,KAAKhG,GAAL,CAAS2G,OAAT,CAAiB,UAAST,EAAT,EAAa;oBAC1BA,EAAE,CAACjG,QAAH,CAAY2G,MAAZ,CAAmBF,EAAE,GAAGD,MAAxB,EAAgC,CAAhC;kBACH,CAFD;kBAGAA,MAAM;gBACT;;gBAED,OAAOV,GAAG,CAACC,OAAX;cACH,CATW,EAST,IATS,CAAZ;cAWA,OAAOtK,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,OAAlB,EAA2B;gBAC9BJ,KAAK,EAAE;kBAAE8B,IAAI,EAAEqD,CAAC,GAAG,IAAZ;kBAAkBpD,GAAG,EAAEqD,CAAC,GAAG,IAA3B;kBAAiCnD,MAAM,EAAE,KAAKwC,OAAL,GAAe,IAAxD;kBAA8DzC,KAAK,EAAE,KAAK0C,MAAL,GAAc;gBAAnF,CADuB;gBAE9BzB,SAAS,EAAEA,SAFmB;gBAG9ByC,IAAI,EAAE;cAHwB,CAA3B,EAIL,CACEnL,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,UAAlB,EAA8B,IAA9B,EAAoC,KAAKoE,IAAzC,CADF,EAEEjK,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,OAAlB,EAA2B,IAA3B,EAAiC,KAAKvB,GAAtC,CAFF,CAJK,CAAP;YAQH;UApF8B,CAAnB,CAAhB;UAuFA,IAAI8G,iBAAiB,GAAG,+CACpB,4CADoB,GAEpB,8CAFoB,GAGpB,gDAHoB,GAIpB,+BAJoB,GAKpB,gDALoB,GAMpB,oDANoB,GAOxB,OAPA;UASA,IAAIC,uBAAuB,GAAG,oDAC1B,4CAD0B,GAE1B,8CAF0B,GAG1B,gDAH0B,GAI1B,+BAJ0B,GAK1B,wDAL0B,GAM1B,oDAN0B,GAO1B,wDAP0B,GAQ9B,OARA;UAUA,IAAIC,uBAAuB,GAAG,oDAC1B,4CAD0B,GAE1B,8CAF0B,GAG1B,gDAH0B,GAI1B,+BAJ0B,GAK1B,2DAL0B,GAM1B,uDAN0B,GAO1B,2DAP0B,GAQ9B,OARA;UAUA,IAAIC,oBAAoB,GAAG,kDACvB;UACA;UACA;UACA;UACA,kEALuB,GAMvB,8DANuB,GAOvB,+BAPuB,GAQvB,4DARuB,GAS3B,OATA;UAWAvL,KAAK,CAACI,WAAN,CAAkBoL,WAAlB,GAAgCxL,KAAK,CAACyL,EAAN,CAASD,WAAzC;UAEA,IAAIE,aAAa,GAAG1L,KAAK,CAAC2L,QAAN,CAAe,yKAC/B,4KAD+B,GAE/BP,iBAF+B,GAEXC,uBAFW,GAEeC,uBAFf,GAEyCC,oBAFxD,CAApB;;UAKA,SAASK,MAAT,CAAgB/G,KAAhB,EAAuBgH,GAAvB,EAA4BC,GAA5B,EAAiC;YAC7B,OAAOjH,KAAK,IAAIgH,GAAT,IAAgBhH,KAAK,IAAIiH,GAAhC;UACH;;UAED,IAAIC,IAAI,GAAG/L,KAAK,CAAC8J,KAAN,CAAYC,MAAZ,CAAmB;YAC1BC,IAAI,EAAE,UAASnE,OAAT,EAAkBmG,OAAlB,EAA2B;cAC7B,IAAI3D,UAAU,GAAG0D,IAAI,CAAC1D,UAAtB;cAEA,KAAKxC,OAAL,GAAeA,OAAf;cAEA,KAAKmG,OAAL,GAAe/L,CAAC,CAAC8J,MAAF,CAAS,IAAT,EAAe;gBAC1B7H,QAAQ,EAAElC,KAAK,CAACI,WAAN,CAAkB8B,QAAlB,CAA2BxB;cADX,CAAf,EAEZ,KAAKsL,OAFO,EAEEA,OAFF,CAAf;;cAIA,KAAKC,OAAL;;cAEA,KAAKC,QAAL,GAAgB,EAAhB;cAEArG,OAAO,CAACsG,MAAR,CAAeT,aAAa,CAAC;gBACzBrD,UAAU,EAAEA,UADa;gBAEzBnG,QAAQ,EAAElC,KAAK,CAACI,WAAN,CAAkB8B,QAAlB,CAA2BoB;cAFZ,CAAD,CAA5B;;cAKA,KAAK8I,aAAL;;cAEA,KAAKC,OAAL,GAAoBxG,OAAO,CAACyG,IAAR,CAAajM,GAAG,GAAGgI,UAAU,CAAC3H,IAA9B,CAApB;cACA,KAAK6L,SAAL,GAAoB1G,OAAO,CAACyG,IAAR,CAAajM,GAAG,GAAGgI,UAAU,CAAC1H,cAA9B,EAA8C,CAA9C,CAApB;cACA,KAAKE,QAAL,GAAoBgF,OAAO,CAACyG,IAAR,CAAajM,GAAG,GAAGgI,UAAU,CAACxH,QAA9B,EAAwC,CAAxC,CAApB;cACA,KAAKE,SAAL,GAAoB8E,OAAO,CAACyG,IAAR,CAAajM,GAAG,GAAGgI,UAAU,CAACtH,SAA9B,CAApB;cAEA,KAAKD,QAAL,GAAgBb,CAAC,CAAC,KAAKY,QAAL,CAAc2L,UAAf,CAAjB;cAEA,KAAKC,IAAL,GAAY,IAAIzM,KAAK,CAAC4F,GAAN,CAAU8G,IAAd,CAAmB,KAAKH,SAAxB,CAAZ;cACA,KAAKI,iBAAL,GAAyB,IAAI3M,KAAK,CAAC4F,GAAN,CAAU8G,IAAd,CAAmB,KAAK3L,SAAL,CAAe,CAAf,CAAnB,CAAzB;cAEA,KAAK6L,MAAL,GAAc,IAAI5M,KAAK,CAACI,WAAN,CAAkByM,WAAtB,CAAkC,IAAlC,CAAd;;cAEA,KAAKC,UAAL;;cAEA,IAAIC,iBAAiB,GAAG;gBACpBhH,MAAM,EAAEF,OADY;gBAEpBmH,SAAS,EAAE,KAFS;gBAGpBC,MAAM,EAAE,OAHY,CAGJ;;cAHI,CAAxB;cAMA,KAAKnL,eAAL,GAAuB,IAAI9B,KAAK,CAACI,WAAN,CAAkBoL,WAAtB,CAAkC3F,OAAO,CAACyG,IAAR,CAAajM,GAAG,GAAGgI,UAAU,CAACvG,eAA9B,CAAlC,EAAkFiL,iBAAlF,CAAvB;cAEA,KAAK/K,oBAAL,GAA4B,IAAIhC,KAAK,CAACI,WAAN,CAAkBoL,WAAtB,CAAkC3F,OAAO,CAACyG,IAAR,CAAajM,GAAG,GAAGgI,UAAU,CAACrG,oBAA9B,CAAlC,EAAuF+K,iBAAvF,CAA5B;cAEA,KAAKhL,oBAAL,GAA4B,IAAI/B,KAAK,CAACI,WAAN,CAAkBoL,WAAtB,CAAkC3F,OAAO,CAACyG,IAAR,CAAajM,GAAG,GAAGgI,UAAU,CAACtG,oBAA9B,CAAlC,EAAuFgL,iBAAvF,CAA5B;cAEA,KAAK9K,kBAAL,GAA0B,IAAIjC,KAAK,CAACI,WAAN,CAAkBoL,WAAtB,CAAkC3F,OAAO,CAACyG,IAAR,CAAajM,GAAG,GAAGgI,UAAU,CAACpG,kBAA9B,CAAlC,EAAqF8K,iBAArF,CAA1B;YACH,CAhDyB;YAkD1BG,eAAe,EAAE,UAAS1E,MAAT,EAAiB;cAC9B,KAAK2E,sBAAL,GAA8B,CAAC3E,MAA/B;;cAEA,IAAIA,MAAJ,EAAY;gBACR,KAAKzH,SAAL,CAAe0I,IAAf,CAAoB,iBAApB,EAAuCjB,MAAvC;cACH,CAFD,MAEO;gBACH,KAAKzH,SAAL,CAAeqM,UAAf,CAA0B,iBAA1B;cACH;YACJ,CA1DyB;YA4D1BC,OAAO,EAAE,YAAW;cAChB,IAAIC,SAAS,GAAGrN,CAAC,CAAC,KAAKsN,UAAL,CAAgB1H,OAAjB,CAAD,CAA2B2H,OAA3B,CAAmC,2BAAnC,CAAhB;cACA,IAAIC,WAAW,GAAGzN,KAAK,CAAC0N,YAAxB;cACA,IAAIC,cAAc,GAAG,KAAKC,QAAL,GAAgBH,WAAW,CAAC,KAAKG,QAAL,CAAc/H,OAAf,CAA3B,GAAqD,CAA1E;cACA,IAAIgI,gBAAgB,GAAGP,SAAS,GAAGG,WAAW,CAACH,SAAD,CAAd,GAA4B,CAA5D;cACA,IAAIQ,eAAe,GAAG,KAAKC,SAAL,GAAiBN,WAAW,CAAC,KAAKM,SAAL,CAAelI,OAAhB,CAA5B,GAAuD,CAA7E;cAEA,KAAKwG,OAAL,CAAa3E,MAAb,CACI,KAAK7B,OAAL,CAAa6B,MAAb,MACKiG,cAAc,GAAGE,gBAAjB,GAAoCC,eADzC,CADJ;;cAKA,IAAI,KAAKF,QAAT,EAAmB;gBACf,KAAKA,QAAL,CAAcI,iBAAd;cACH;YACJ,CA3EyB;YA6E1B/B,OAAO,EAAE,YAAW;cAChB,IAAII,OAAO,GAAGpM,CAAC,CAAC,0CAAD,CAAD,CAA8CgO,SAA9C,CAAwD,KAAKpI,OAA7D,CAAd;cAEA,IAAIqI,UAAU,GAAGjO,CAAC,CAAC,2CAAD,CAAD,CAA+CkO,QAA/C,CAAwD9B,OAAxD,CAAjB;cACA,KAAK6B,UAAL,GAAkB,IAAIlO,KAAK,CAACI,WAAN,CAAkBgO,UAAtB,CAAiCF,UAAjC,EAA6C,KAAKlC,OAAlD,CAAlB;cAEA,IAAIuB,UAAU,GAAGtN,CAAC,CAAC,SAAD,CAAD,CAAakO,QAAb,CAAsB9B,OAAtB,CAAjB;cACA,KAAKkB,UAAL,GAAkB,IAAIvN,KAAK,CAACI,WAAN,CAAkBiO,UAAtB,CAAiCd,UAAjC,CAAlB;;cAEA,IAAI,KAAKvB,OAAL,CAAasC,OAAjB,EAA0B;gBACtB,KAAKC,SAAL;cACH;YACJ,CAzFyB;YA2F1BnC,aAAa,EAAE,YAAW;cACtB,IAAIQ,MAAM,GAAG,KAAK/G,OAAL,CAAayG,IAAb,CAAkBjM,GAAG,GAAG0L,IAAI,CAAC1D,UAAL,CAAgBrH,UAAxC,CAAb;cAEA,KAAKwN,YAAL,GAAoB,IAAIxO,KAAK,CAACI,WAAN,CAAkBqO,YAAtB,CAAmC7B,MAAnC,EAA2C;gBAC3D8B,SAAS,EAAE;cADgD,CAA3C,CAApB;YAGH,CAjGyB;YAmG1B5B,UAAU,EAAE,YAAW;cACnB,IAAI,KAAKd,OAAL,CAAa+B,SAAjB,EAA4B;gBACxB,IAAI/B,OAAO,GAAG/L,CAAC,CAAC8J,MAAF,CAAS,IAAT,EAAe;kBACzB4E,UAAU,EAAE,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB;gBADa,CAAf,EAEX,KAAK5C,OAAL,CAAa+B,SAFF,CAAd;gBAIA,KAAKA,SAAL,GAAiB,IAAI/N,KAAK,CAACI,WAAN,CAAkByO,SAAtB,CAAgC,KAAKhJ,OAAL,CAAayG,IAAb,CAAkBjM,GAAG,GAAG0L,IAAI,CAAC1D,UAAL,CAAgB1G,SAAxC,CAAhC,EAAoFqK,OAApF,CAAjB;cACH;YACJ,CA3GyB;YA6G1BuC,SAAS,EAAE,YAAW;cAClB,IAAIrM,QAAQ,GAAG,KAAK8J,OAAL,CAAa9J,QAAb,CAAsBgB,IAArC;cACA,IAAI8I,OAAO,GAAG/L,CAAC,CAAC8J,MAAF,CAAS,IAAT,EAAe;gBAAE5G,IAAI,EAAE,IAAR;gBAAcC,MAAM,EAAE,IAAtB;gBAA4BC,IAAI,EAAE;cAAlC,CAAf,EAAyD,KAAK2I,OAAL,CAAasC,OAAtE,CAAd;cACA,IAAIpL,IAAI,GAAG,EAAX;;cAEA,IAAI,KAAK0K,QAAT,EAAmB;gBACf,KAAKA,QAAL,CAAckB,OAAd;gBACA,KAAKjJ,OAAL,CAAatB,QAAb,CAAsB,aAAtB,EAAqCwK,MAArC;cACH;;cAED,KAAK,IAAIC,IAAT,IAAiBhD,OAAjB,EAA0B;gBACtB,IAAIA,OAAO,CAACgD,IAAD,CAAP,KAAkB,IAAlB,IAA0BhD,OAAO,CAACgD,IAAD,CAAP,YAAyBC,KAAvD,EAA8D;kBAC1D/L,IAAI,CAACqF,IAAL,CAAU;oBAAE2G,EAAE,EAAEF,IAAN;oBAAY9G,IAAI,EAAEhG,QAAQ,CAAC8M,IAAD,CAA1B;oBAAkCG,OAAO,EAAE;kBAA3C,CAAV;gBACH;cACJ;;cAED,KAAKvB,QAAL,GAAgB,IAAI5N,KAAK,CAACI,WAAN,CAAkBgP,QAAtB,CAA+BnP,CAAC,CAAC,SAAD,CAAD,CAAagO,SAAb,CAAuB,KAAKpI,OAA5B,CAA/B,EAAqE;gBACjFmH,SAAS,EAAE,KADsE;gBAEjFqC,aAAa,EAAE,MAFkE;gBAGjFC,gBAAgB,EAAE,SAH+D;gBAIjFC,UAAU,EAAErM,IAJqE;gBAKjFsM,cAAc,EAAExD,OALiE;gBAMjFtL,IAAI,EAAE;cAN2E,CAArE,CAAhB;cASA,KAAKkN,QAAL,CAAc6B,MAAd,CAAqB,CAArB;YACH,CAvIyB;YAyI1BC,eAAe,EAAE,UAASC,CAAT,EAAY;cACzB,KAAKC,MAAL,CAAYC,OAAZ,CAAoB,gBAApB,EAAsCF,CAAtC;YACH,CA3IyB;YA6I1BG,QAAQ,EAAE,UAASA,QAAT,EAAmB;cACzB,KAAKC,SAAL,GAAiBD,QAAjB;cACAA,QAAQ,CAACE,KAAT,GAAiB,IAAjB;cACA,KAAK9B,UAAL,CAAgB6B,SAAhB,GAA4BD,QAA5B;YACH,CAjJyB;YAmJ1BG,KAAK,EAAE,UAASA,KAAT,EAAgB;cACnB,KAAKL,MAAL,GAAcK,KAAd;YACH,CArJyB;YAuJ1BC,mBAAmB,EAAE,YAAW;cAC5B,OAAO,KAAKC,aAAL,CAAmB,KAAKP,MAAL,CAAYQ,eAAZ,EAAnB,CAAP;YACH,CAzJyB;YA2J1BC,UAAU,EAAE,UAASC,IAAT,EAAeC,GAAf,EAAoB;cAC5B,OAAOD,IAAI,CAACE,KAAL,CAAWC,iBAAX,CAA6BF,GAAG,CAACG,UAAJ,EAA7B,CAAP;YACH,CA7JyB;YA+J1BC,eAAe,EAAE,UAAS/F,CAAT,EAAY0F,IAAZ,EAAkBjG,GAAlB,EAAuB;cACpC;cACAO,CAAC,IAAI,KAAKgF,MAAL,CAAYY,KAAZ,CAAkBI,YAAvB,CAFoC,CAIpC;;cACA,IAAI,CAACN,IAAI,CAACE,KAAL,CAAWK,OAAX,CAAmBC,MAAxB,EAAgC;gBAC5BlG,CAAC,IAAI,KAAK/J,QAAL,CAAckQ,UAAnB;cACH;;cAED1G,GAAG,GAAG,KAAKuF,MAAL,CAAYY,KAAZ,CAAkBQ,QAAlB,CAA2BC,MAA3B,CAAkC,CAAlC,EAAqC5G,GAArC,EAA0C,UAAS6G,CAAT,EAAW;gBACvD,OAAOrJ,IAAI,CAACsJ,GAAL,CAASvG,CAAC,GAAGsG,CAAb,KAAmB5Q,mBAAmB,GAAC,CAA9C;cACH,CAFK,CAAN;cAIA,OAAO+J,GAAG,KAAK,IAAR,IAAgB,CAAC,KAAKuF,MAAL,CAAYwB,cAAZ,CAA2B/G,GAA3B,CAAjB,GAAmDA,GAAnD,GAAyD,IAAhE;YACH,CA7KyB;YA+K1BgH,YAAY,EAAE,UAASxG,CAAT,EAAYyF,IAAZ,EAAkBlM,GAAlB,EAAuB;cACjC;cACAyG,CAAC,IAAI,KAAK+E,MAAL,CAAYY,KAAZ,CAAkBc,aAAvB,CAFiC,CAIjC;;cACA,IAAI,CAAChB,IAAI,CAACE,KAAL,CAAWe,IAAX,CAAgBT,MAArB,EAA6B;gBACzBjG,CAAC,IAAI,KAAKhK,QAAL,CAAc2Q,SAAnB;cACH;;cAEDpN,GAAG,GAAG,KAAKwL,MAAL,CAAYY,KAAZ,CAAkBiB,KAAlB,CAAwBR,MAAxB,CAA+B,CAA/B,EAAkC7M,GAAlC,EAAuC,UAASsN,CAAT,EAAW;gBACpD,OAAO7J,IAAI,CAACsJ,GAAL,CAAStG,CAAC,GAAG6G,CAAb,KAAmBpR,mBAAmB,GAAC,CAA9C;cACH,CAFK,CAAN;cAIA,OAAO8D,GAAG,KAAK,IAAR,IAAgB,CAAC,KAAKwL,MAAL,CAAY+B,WAAZ,CAAwBvN,GAAxB,CAAjB,GAAgDA,GAAhD,GAAsD,IAA7D;YACH,CA7LyB;YA+L1BwN,YAAY,EAAE,UAAShH,CAAT,EAAYC,CAAZ,EAAeyF,IAAf,EAAqBC,GAArB,EAA0B;cACpC,IAAIsB,IAAI,GAAG,IAAX;cACA,IAAIC,OAAO,GAAGxB,IAAI,CAACE,KAAnB;cACA,IAAIgB,SAAS,GAAGM,OAAO,CAACP,IAAR,CAAaT,MAAb,GAAsB,CAAtB,GAA0Be,IAAI,CAAChR,QAAL,CAAc2Q,SAAxD;cACA,IAAIT,UAAU,GAAGe,OAAO,CAACjB,OAAR,CAAgBC,MAAhB,GAAyB,CAAzB,GAA6Be,IAAI,CAAChR,QAAL,CAAckQ,UAA5D;cAEAnG,CAAC,IAAIiH,IAAI,CAACjC,MAAL,CAAYY,KAAZ,CAAkBI,YAAlB,GAAiCG,UAAtC;cACAlG,CAAC,IAAIgH,IAAI,CAACjC,MAAL,CAAYY,KAAZ,CAAkBc,aAAlB,GAAkCE,SAAvC;cAEA,OAAOxR,KAAK,CAAC+R,IAAN,CAAWC,QAAX,CAAoB,UAASC,IAAT,EAAc;gBACrCJ,IAAI,CAACjC,MAAL,CAAYsC,mBAAZ,CAAgC3B,GAAhC,EAAqC,UAASA,GAAT,EAAc;kBAC/C,IAAI4B,IAAI,GAAGN,IAAI,CAACxB,UAAL,CAAgBC,IAAhB,EAAsBC,GAAtB,CAAX;;kBACA,IAAID,IAAI,CAAC8B,cAAL,CAAoBD,IAApB,EAA0BE,UAA1B,CAAqCzH,CAArC,EAAwCC,CAAxC,CAAJ,EAAgD;oBAC5CoH,IAAI,CAAC,IAAD,CAAJ;kBACH;gBACJ,CALD;cAMH,CAPM,CAAP;YAQH,CAhNyB;YAkN1BK,UAAU,EAAE,UAAS1H,CAAT,EAAYC,CAAZ,EAAeyF,IAAf,EAAqB;cAC7B,IAAIiC,SAAS,GAAG,KAAK3C,MAAL,CAAYH,MAAZ,EAAhB;;cAEA,IAAI8C,SAAS,CAACzN,IAAV,GAAiB,CAArB,EAAwB;gBACpB,OAAO,KAAP;cACH;;cAED8F,CAAC,IAAI,KAAKgF,MAAL,CAAYY,KAAZ,CAAkBI,YAAvB;cACA/F,CAAC,IAAI,KAAK+E,MAAL,CAAYY,KAAZ,CAAkBc,aAAvB;;cAEA,IAAI,CAAChB,IAAI,CAACE,KAAL,CAAWK,OAAX,CAAmBC,MAAxB,EAAgC;gBAC5BlG,CAAC,IAAI,KAAK/J,QAAL,CAAckQ,UAAnB;cACH;;cAED,IAAI,CAACT,IAAI,CAACE,KAAL,CAAWe,IAAX,CAAgBT,MAArB,EAA6B;gBACzBjG,CAAC,IAAI,KAAKhK,QAAL,CAAc2Q,SAAnB;cACH;;cAED,IAAIgB,SAAS,GAAG,KAAKnC,UAAL,CAAgBC,IAAhB,EAAsBiC,SAAtB,CAAhB;;cAEA,OAAO1K,IAAI,CAACsJ,GAAL,CAASqB,SAAS,CAACC,KAAV,GAAkB7H,CAA3B,IAAgC,CAAhC,IAAqC/C,IAAI,CAACsJ,GAAL,CAASqB,SAAS,CAACE,MAAV,GAAmB7H,CAA5B,IAAiC,CAA7E;YACH,CAvOyB;YAyO1B8H,YAAY,EAAE,UAAS/H,CAAT,EAAYC,CAAZ,EAAeyF,IAAf,EAAqB;cAC/B,IAAIsC,EAAE,GAAG,KAAKhD,MAAL,CAAYiD,sBAAZ,EAAT;;cACA,IAAID,EAAJ,EAAQ;gBACJ,IAAIE,CAAC,GAAG,KAAK5C,mBAAL,EAAR,CADI,CAEJ;;gBAEA,IAAIrF,CAAC,IAAIiI,CAAC,CAACtL,GAAP,IAAcqD,CAAC,IAAIiI,CAAC,CAACJ,MAAzB,EAAiC;kBAC7B,OAAOpC,IAAI,CAACyC,mBAAL,GAA2BnI,CAAC,GAAGkI,CAAC,CAACvL,IAAN,IAAcqD,CAAC,IAAIkI,CAAC,CAACvL,IAAF,GAAShH,iBAAvD,GACDqK,CAAC,GAAGkI,CAAC,CAACL,KAAN,IAAe7H,CAAC,IAAIkI,CAAC,CAACL,KAAF,GAAUlS,iBADpC;gBAEH;cACJ;YACJ,CApPyB;YAsP1ByS,SAAS,EAAE,UAASpI,CAAT,EAAYC,CAAZ,EAAeyF,IAAf,EAAqB;cAC5B1F,CAAC,IAAI,KAAKgF,MAAL,CAAYY,KAAZ,CAAkBI,YAAvB;cACA/F,CAAC,IAAI,KAAK+E,MAAL,CAAYY,KAAZ,CAAkBc,aAAvB;;cAEA,IAAI,CAAChB,IAAI,CAACE,KAAL,CAAWK,OAAX,CAAmBC,MAAxB,EAAgC;gBAC5BlG,CAAC,IAAI,KAAK/J,QAAL,CAAckQ,UAAnB;cACH;;cAED,IAAI,CAACT,IAAI,CAACE,KAAL,CAAWe,IAAX,CAAgBT,MAArB,EAA6B;gBACzBjG,CAAC,IAAI,KAAKhK,QAAL,CAAc2Q,SAAnB;cACH;;cAED,IAAIvB,KAAK,GAAG,KAAKL,MAAjB;cACA,IAAIqD,QAAQ,GAAG,KAAKrD,MAAL,CAAYsD,SAA3B;;cACA,KAAK,IAAIC,CAAC,GAAGF,QAAQ,CAACzO,MAAtB,EAA8B,EAAE2O,CAAF,IAAO,CAArC,GAAyC;gBACrC,IAAIC,CAAC,GAAGH,QAAQ,CAACE,CAAD,CAAhB;gBACA,IAAIE,GAAG,GAAGpD,KAAK,CAACqD,kBAAN,CAAyBF,CAAzB,CAAV;;gBACA,IAAIC,GAAG,CAAChB,UAAJ,CAAezH,CAAf,EAAkBC,CAAlB,CAAJ,EAA0B;kBACtB,OAAO;oBACH0I,OAAO,EAAEH,CADN;oBAGH;oBACA;oBACA;oBACAI,GAAG,EAAEH,GAAG,CAAC9L,IAAJ,GAAWqD,CANb;oBAOH6I,GAAG,EAAEJ,GAAG,CAAC7L,GAAJ,GAAUqD;kBAPZ,CAAP;gBASH;cACJ;YACJ,CAnRyB;YAqR1B6I,QAAQ,EAAE,UAAS9I,CAAT,EAAYC,CAAZ,EAAe8I,SAAf,EAA0B;cAChC,IAAIC,IAAI,GAAG,KAAKhE,MAAL,CAAYY,KAAvB;cACA,IAAIqD,MAAJ,EAAYvD,IAAZ;;cAEA,IAAI1F,CAAC,GAAG,CAAJ,IAASC,CAAC,GAAG,CAAb,IAAkBD,CAAC,GAAG,KAAK/J,QAAL,CAAciT,WAApC,IAAmDjJ,CAAC,GAAG,KAAKhK,QAAL,CAAckT,YAAzE,EAAuF;gBACnFF,MAAM,GAAG;kBAAElM,IAAI,EAAE;gBAAR,CAAT;cACH,CAFD,MAEO,IAAIiD,CAAC,GAAGgJ,IAAI,CAAChD,YAAT,IAAyB/F,CAAC,GAAG+I,IAAI,CAACtC,aAAtC,EAAqD;gBACxDuC,MAAM,GAAG;kBAAElM,IAAI,EAAE;gBAAR,CAAT;cACH,CAFM,MAEA;gBACH2I,IAAI,GAAG,KAAK0D,MAAL,CAAYpJ,CAAZ,EAAeC,CAAf,CAAP;;gBAEA,IAAI,CAACyF,IAAL,EAAW;kBACPuD,MAAM,GAAG;oBAAElM,IAAI,EAAE;kBAAR,CAAT;gBACH,CAFD,MAEO;kBACH,IAAI,CAACgM,SAAL,EAAgB;oBACZ,IAAIJ,OAAO,GAAG,KAAKP,SAAL,CAAepI,CAAf,EAAkBC,CAAlB,EAAqByF,IAArB,CAAd;;oBACA,IAAIiD,OAAJ,EAAa;sBACT,OAAO;wBACH5L,IAAI,EAAE,SADH;wBAEH4L,OAAO,EAAEA,OAAO,CAACA,OAFd;wBAGHC,GAAG,EAAED,OAAO,CAACC,GAHV;wBAIHC,GAAG,EAAEF,OAAO,CAACE,GAJV;wBAKHnD,IAAI,EAAEA,IALH;wBAMH2D,MAAM,EAAErJ,CANL;wBAOHsJ,MAAM,EAAErJ;sBAPL,CAAP;oBASH;kBACJ;;kBAED,IAAIzG,GAAG,GAAGkM,IAAI,CAACE,KAAL,CAAWe,IAAX,CAAgB4C,YAAhB,CAA6BtJ,CAA7B,EAAgC,KAAKhK,QAAL,CAAc2Q,SAA9C,CAAV;;kBACA,IAAI4C,MAAM,GAAG9D,IAAI,CAACE,KAAL,CAAWK,OAAX,CAAmBsD,YAAnB,CAAgCvJ,CAAhC,EAAmC,KAAK/J,QAAL,CAAckQ,UAAjD,CAAb;;kBAEA,IAAIpJ,IAAI,GAAG,MAAX;kBACA,IAAI4I,GAAG,GAAG,IAAIpQ,OAAJ,CAAYiE,GAAZ,EAAiBgQ,MAAjB,CAAV;;kBACA,IAAIC,SAAS,GAAG,KAAKzE,MAAL,CAAY0E,mBAAZ,EAAhB;;kBAEA,IAAI,KAAKhC,UAAL,CAAgB1H,CAAhB,EAAmBC,CAAnB,EAAsByF,IAAtB,CAAJ,EAAiC;oBAC7B3I,IAAI,GAAG,UAAP;kBACH,CAFD,MAEO,IAAI,KAAKiK,YAAL,CAAkBhH,CAAlB,EAAqBC,CAArB,EAAwByF,IAAxB,EAA8BC,GAA9B,CAAJ,EAAwC;oBAC3C5I,IAAI,GAAG,YAAP;kBACH,CAFM,MAEA,IAAI,CAAC0M,SAAD,IAAczJ,CAAC,GAAGgJ,IAAI,CAAChD,YAA3B,EAAyC;oBAC5CjJ,IAAI,GAAG,WAAP;;oBACA,IAAI,CAACvD,GAAG,GAAG,KAAKiN,YAAL,CAAkBxG,CAAlB,EAAqByF,IAArB,EAA2BlM,GAA3B,CAAP,MAA4C,IAAhD,EAAsD;sBAClDmM,GAAG,GAAG,IAAIpQ,OAAJ,CAAYiE,GAAZ,EAAiB,CAACmQ,QAAlB,CAAN;sBACA5M,IAAI,GAAG,iBAAP;oBACH;kBACJ,CANM,MAMA,IAAI,CAAC0M,SAAD,IAAcxJ,CAAC,GAAG+I,IAAI,CAACtC,aAA3B,EAA0C;oBAC7C3J,IAAI,GAAG,cAAP;;oBACA,IAAI,CAACyM,MAAM,GAAG,KAAKzD,eAAL,CAAqB/F,CAArB,EAAwB0F,IAAxB,EAA8B8D,MAA9B,CAAV,MAAqD,IAAzD,EAA+D;sBAC3D7D,GAAG,GAAG,IAAIpQ,OAAJ,CAAY,CAACoU,QAAb,EAAuBH,MAAvB,CAAN;sBACAzM,IAAI,GAAG,oBAAP;oBACH;kBACJ,CANM,MAMA,IAAI,KAAKgL,YAAL,CAAkB/H,CAAlB,EAAqBC,CAArB,EAAwByF,IAAxB,CAAJ,EAAmC;oBACtC3I,IAAI,GAAG,QAAP;kBACH;;kBAEDkM,MAAM,GAAG;oBAAElM,IAAI,EAAEA,IAAR;oBAAc4I,GAAG,EAAEA;kBAAnB,CAAT;gBACH;cACJ;;cAEDsD,MAAM,CAACvD,IAAP,GAAcA,IAAd;cACAuD,MAAM,CAACjJ,CAAP,GAAWA,CAAX;cACAiJ,MAAM,CAAChJ,CAAP,GAAWA,CAAX;cACA,OAAOgJ,MAAP;YACH,CArVyB;YAuV1BG,MAAM,EAAE,UAASpJ,CAAT,EAAYC,CAAZ,EAAe;cACnB,OAAO,KAAK2J,KAAL,CAAW1J,MAAX,CAAkB,SAAS2J,kBAAT,CAA4BnE,IAA5B,EAAkC;gBACvD,IAAIsD,IAAI,GAAGtD,IAAI,CAACE,KAAhB;gBACA,OAAO5E,MAAM,CAACf,CAAD,EAAI+I,IAAI,CAACpM,GAAT,EAAcoM,IAAI,CAAClB,MAAnB,CAAN,IAAoC9G,MAAM,CAAChB,CAAD,EAAIgJ,IAAI,CAACrM,IAAT,EAAeqM,IAAI,CAACnB,KAApB,CAAjD;cACH,CAHM,EAGJ,CAHI,CAAP;YAIH,CA5VyB;YA8V1BiC,cAAc,EAAE,UAASrP,IAAT,EAAe;cAC3B,OAAO,KAAKmP,KAAL,CAAW1J,MAAX,CAAkB,UAASwF,IAAT,EAAe;gBACpC,IAAIA,IAAI,CAACE,KAAL,CAAWmE,QAAX,CAAoBtP,IAApB,CAAJ,EAA+B;kBAC3B,OAAO,IAAP;gBACH;;gBACD,OAAO,KAAP;cACH,CALM,EAKJ,CALI,CAAP;YAMH,CArWyB;YAuW1B8K,aAAa,EAAE,UAAS9K,IAAT,EAAe;cAC1B,IAAIyM,OAAO,GAAG,KAAK4C,cAAL,CAAoBrP,IAApB,EAA0BmL,KAAxC;;cACA,IAAIgC,SAAS,GAAG,KAAK5C,MAAL,CAAYY,KAAZ,CAAkBgC,SAAlB,CAA4BnN,IAA5B,CAAhB;;cAEA,OAAOmN,SAAS,CAACzH,MAAV,CACH+G,OAAO,CAAC8C,WAAR,IAAuB9C,OAAO,CAACjB,OAAR,CAAgBC,MAAhB,GAAyB,CAAzB,GAA6B,KAAKjQ,QAAL,CAAckQ,UAAlE,CADG,EAEHe,OAAO,CAAC+C,YAAR,IAAwB/C,OAAO,CAACP,IAAR,CAAaT,MAAb,GAAsB,CAAtB,GAA0B,KAAKjQ,QAAL,CAAc2Q,SAAhE,CAFG,CAAP;YAIH,CA/WyB;YAiX1BsD,OAAO,EAAE,UAASC,MAAT,EAAiB;cACtB,IAAI9E,KAAK,GAAG,KAAKL,MAAjB;;cAEA,IAAI,KAAKhC,QAAT,EAAmB;gBACf,KAAKA,QAAL,CAAcoH,YAAd,CAA2B/E,KAAK,CAACpM,KAAN,CAAYoM,KAAK,CAACgF,UAAN,EAAZ,CAA3B;cACH;;cAED,IAAIF,MAAM,CAACG,cAAP,IAAyB,KAAKnH,SAAlC,EAA6C;gBACzC,KAAKA,SAAL,CAAeoH,YAAf,CAA4B,KAAKpF,SAAL,CAAeqF,MAAf,EAA5B,EAAqD,KAAKrF,SAAL,CAAesF,UAAf,CAA0B,KAAKzF,MAA/B,CAArD;cACH;;cAED,KAAKvC,OAAL,GAXsB,CAatB;;;cACA,KAAKvM,QAAL,CAAc,CAAd,EAAiB2E,KAAjB,CAAuBiC,MAAvB,GAAgCuI,KAAK,CAACO,KAAN,CAAY8E,WAAZ,KAA4B,IAA5D;cACA,KAAKxU,QAAL,CAAc,CAAd,EAAiB2E,KAAjB,CAAuBgC,KAAvB,GAA+BwI,KAAK,CAACO,KAAN,CAAY+E,UAAZ,KAA2B,IAA1D;;cAEA,IAAIR,MAAM,CAACS,MAAX,EAAmB;gBACf,IAAIC,aAAa,GAAGxF,KAAK,CAACwF,aAAN,EAApB;gBACA,IAAIC,UAAU,GAAGzF,KAAK,CAACyF,UAAN,EAAjB,CAFe,CAIf;;gBACA,KAAKlB,KAAL,GAAa,CAAE,KAAKmB,KAAL,CAAWD,UAAX,EAAuBD,aAAvB,CAAF,CAAb,CALe,CAOf;;gBACA,IAAIA,aAAa,GAAG,CAApB,EAAuB;kBACnB,KAAKjB,KAAL,CAAWjM,IAAX,CAAgB,KAAKoN,KAAL,CAAWD,UAAX,EAAuB,CAAvB,EAA0B,IAA1B,EAAgCD,aAAhC,CAAhB;gBACH,CAVc,CAYf;;;gBACA,IAAIC,UAAU,GAAG,CAAjB,EAAoB;kBAChB,KAAKlB,KAAL,CAAWjM,IAAX,CAAgB,KAAKoN,KAAL,CAAW,CAAX,EAAcF,aAAd,EAA6BC,UAA7B,EAAyC,IAAzC,CAAhB;gBACH,CAfc,CAiBf;;;gBACA,IAAIA,UAAU,GAAG,CAAb,IAAkBD,aAAa,GAAG,CAAtC,EAAyC;kBACrC,KAAKjB,KAAL,CAAWjM,IAAX,CAAgB,KAAKoN,KAAL,CAAW,CAAX,EAAc,CAAd,EAAiBD,UAAjB,EAA6BD,aAA7B,CAAhB;gBACH;cACJ;;cAED,IAAIV,MAAM,CAACjK,MAAX,EAAmB;gBACf,KAAK8K,kBAAL;cACH;;cAED,IAAIb,MAAM,CAACE,UAAX,EAAuB;gBACnB,KAAKY,MAAL,GAAc5F,KAAK,CAACgF,UAAN,GAAmBvE,UAAnB,EAAd;cACH;YACJ,CAhayB;YAka1BoF,gBAAgB,EAAE,UAAS1B,MAAT,EAAiB;cAC/B,KAAKwB,kBAAL;;cAEA,IAAI3F,KAAK,GAAG,KAAKL,MAAjB;cACA,IAAIW,GAAG,GAAGN,KAAK,CAACnF,MAAN,GAAeyF,GAAzB;cACA,IAAI1M,KAAK,GAAG,IAAI7D,KAAK,CAACI,WAAN,CAAkB2V,KAAtB,CAA4BxF,GAA5B,EAAiCN,KAAjC,CAAZ;cACA,IAAIpK,OAAO,GAAG5F,CAAC,CAAC,SAAD,CAAD,CAAakO,QAAb,CAAsB,KAAKtI,OAA3B,CAAd;cACA,IAAImG,OAAO,GAAG;gBAAEoI,MAAM,EAAEA,MAAV;gBAAkBvQ,KAAK,EAAEA;cAAzB,CAAd;cACA,IAAImS,UAAU,GAAG,IAAIhW,KAAK,CAACI,WAAN,CAAkB6V,UAAtB,CAAiCpQ,OAAjC,EAA0CmG,OAA1C,CAAjB;cAEA,KAAKkK,WAAL,GAAmBF,UAAnB;cAEA,OAAOA,UAAP;YACH,CA/ayB;YAib1BG,uBAAuB,EAAE,YAAW;cAChC,IAAI,CAAC,KAAKhJ,sBAAV,EAAkC;gBAC9B,KAAKpM,SAAL,CAAeqV,KAAf;gBACA7S,qBAAqB,CAAC,KAAKxC,SAAL,CAAe,CAAf,CAAD,CAArB;cACH;YACJ,CAtbyB;YAwb1BsV,cAAc,EAAE,UAAShR,IAAT,EAAe;cAC3B,IAAIiR,UAAU,GAAG,KAAjB;;cACA,IAAIxE,OAAO,GAAG,KAAK4C,cAAL,CAAoBrP,IAApB,EAA0BmL,KAAxC;;cAEA,IAAI+F,UAAU,GAAGzE,OAAO,CAAC0E,gBAAR,CAAyBnR,IAAzB,CAAjB;cAEA,IAAIxE,QAAQ,GAAG,KAAKA,QAApB;cACA,IAAI2Q,SAAS,GAAGM,OAAO,CAACP,IAAR,CAAaT,MAAb,GAAsB,CAAtB,GAA0BjQ,QAAQ,CAAC2Q,SAAnD;cACA,IAAIT,UAAU,GAAGe,OAAO,CAACjB,OAAR,CAAgBC,MAAhB,GAAyB,CAAzB,GAA6BjQ,QAAQ,CAACkQ,UAAvD;;cAEA,IAAIwF,UAAU,CAAC/O,GAAX,GAAiBgK,SAArB,EAAgC;gBAC5B8E,UAAU,GAAG,IAAb;gBACAzV,QAAQ,CAAC2Q,SAAT,GAAqB+E,UAAU,CAAC/E,SAAhC;cACH;;cAED,IAAI+E,UAAU,CAAC7D,MAAX,GAAoBlB,SAAxB,EAAmC;gBAC/B8E,UAAU,GAAG,IAAb;gBACAzV,QAAQ,CAAC2Q,SAAT,GAAqB+E,UAAU,CAACE,YAAhC;cACH;;cAED,IAAIF,UAAU,CAAChP,IAAX,GAAkBwJ,UAAtB,EAAkC;gBAC9BuF,UAAU,GAAG,IAAb;gBACAzV,QAAQ,CAACkQ,UAAT,GAAsBwF,UAAU,CAACxF,UAAjC;cACH;;cAED,IAAIwF,UAAU,CAAC9D,KAAX,GAAmB1B,UAAvB,EAAmC;gBAC/BuF,UAAU,GAAG,IAAb;gBACAzV,QAAQ,CAACkQ,UAAT,GAAsBwF,UAAU,CAACG,WAAjC;cACH;;cAED,OAAOJ,UAAP;YACH,CAvdyB;YAyd1BK,cAAc,EAAE,YAAW;cACvB,KAAKzK,QAAL,CAAc0K,GAAd;YACH,CA3dyB;YA6d1BC,gBAAgB,EAAE,YAAW;cACzB,IAAIhF,IAAI,GAAG,IAAX;;cACA,IAAIxM,IAAI,GAAGwM,IAAI,CAACjC,MAAL,CAAYqF,UAAZ,GAAyB6B,KAAzB,EAAX;;cACA,IAAIlK,MAAM,GAAGiF,IAAI,CAACjC,MAAL,CAAYiD,sBAAZ,EAAb;;cACA,IAAIhP,KAAK,GAAGgO,IAAI,CAACjC,MAAL,CAAY/L,KAAZ,CAAkBwB,IAAlB,CAAZ;;cACAuH,MAAM,CAACmK,IAAP,CAAY;gBACRlT,KAAK,EAAQA,KADL;gBAERsO,IAAI,EAASN,IAAI,CAAC3B,mBAAL,EAFL;gBAGRxP,IAAI,EAAS,IAHL;gBAIRuF,UAAU,EAAG,KAAK2J,MAAL,CAAY3J,UAAZ,CAAuBZ,IAAvB,CAJL;gBAKR2R,QAAQ,EAAK,UAASnS,KAAT,EAAgBoS,KAAhB,EAAsB;kBAC/BpF,IAAI,CAACnC,eAAL,CAAqB;oBACjBwH,OAAO,EAAE,aADQ;oBAEjBlL,OAAO,EAAE;sBACLmL,cAAc,EAAEtT,KADX;sBAELuT,SAAS,EAAEvT,KAFN;sBAGLwT,QAAQ,EAAEJ,KAAK,GAAG,OAAH,GAAa,OAHvB;sBAILpS,KAAK,EAAEA;oBAJF;kBAFQ,CAArB;gBASH;cAfO,CAAZ;YAiBH,CAnfyB;YAqf1B8J,UAAU,EAAE,UAASK,IAAT,EAAehD,OAAf,EAAwB;cAChC,IAAIiE,KAAK,GAAG,KAAKL,MAAjB;cACA,OAAOK,KAAK,CAACqH,mBAAN,CAA0B,YAAU;gBACvC,IAAIC,MAAM,GAAGvX,KAAK,CAACI,WAAN,CAAkBoX,OAAlB,CAA0BC,MAA1B,CAAiCzI,IAAjC,EAAuChD,OAAvC,CAAb;;gBAEA,IAAIuL,MAAJ,EAAY;kBACRA,MAAM,CAAC3I,IAAP,CAAY,QAAZ,EAAsB,KAAKc,eAAL,CAAqBd,IAArB,CAA0B,IAA1B,CAAtB;kBACA2I,MAAM,CAAC3I,IAAP,CAAY,YAAZ,EAA0B,KAAK+H,cAAL,CAAoB/H,IAApB,CAAyB,IAAzB,CAA1B;;kBACA,KAAK1C,QAAL,CAAc3D,IAAd,CAAmBgP,MAAnB;;kBAEA,IAAIhH,GAAG,GAAGN,KAAK,CAACgF,UAAN,EAAV;kBACA,IAAIpR,KAAK,GAAG,IAAI7D,KAAK,CAACI,WAAN,CAAkB2V,KAAtB,CAA4BxF,GAA5B,EAAiCN,KAAjC,CAAZ;kBAEAsH,MAAM,CAACG,IAAP,CAAY7T,KAAZ;kBACA,OAAO0T,MAAP;gBACH;cACJ,CAdgC,CAc/B3I,IAd+B,CAc1B,IAd0B,CAA1B,CAAP;YAeH,CAtgByB;YAwgB1B+I,SAAS,EAAE,UAAS3L,OAAT,EAAkB4L,YAAlB,EAAgC;cACvC,IAAIC,cAAc,GAAG,KAAK3L,QAA1B;cACA,IAAI4L,aAAa,GAAG,KAAK9L,OAAL,CAAa9J,QAAb,CAAsBE,MAA1C;cACA,IAAI2V,cAAc,GAAG,KAArB;;cAEA,IAAIF,cAAc,CAACrT,MAAf,GAAwB,CAA5B,EAA+B;gBAC3BqT,cAAc,CAAC5M,OAAf,CAAuB,UAASsM,MAAT,EAAiB;kBACpC,IAAIA,MAAM,CAACvL,OAAP,IAAkBuL,MAAM,CAACvL,OAAP,CAAepD,KAAf,KAAyBpI,KAA/C,EAAsD;oBAClDuX,cAAc,GAAG,IAAjB;kBACH;gBACJ,CAJD;cAKH;;cACD,IAAIA,cAAJ,EAAoB;gBAChB;cACH;;cAED,IAAIC,WAAW,GAAG,UAASrI,CAAT,EAAY;gBAC1B,IAAIsI,IAAI,GAAGtI,CAAC,CAACuI,MAAF,CAASX,MAAT,GAAkB1R,OAA7B;gBACAoS,IAAI,CAAC3L,IAAL,CAAU,WAAV,EAAuBwK,KAAvB,GAA+BjH,OAA/B,CAAuC,OAAvC;gBACAoI,IAAI,CAAC3L,IAAL,CAAU,kBAAV,EAA8B6L,EAA9B,CAAiC,SAAjC,EAA4C,UAASC,EAAT,EAAY;kBACpD,IAAIA,EAAE,CAACC,OAAH,IAAcrY,KAAK,CAACsY,IAAN,CAAWC,GAA7B,EAAkC;oBAC9B5I,CAAC,CAACuI,MAAF,CAASM,KAAT;kBACH;gBACJ,CAJD;cAKH,CARD;;cAUA,IAAIC,OAAO,GAAG,UAAS9I,CAAT,EAAY;gBACtB,IAAI+I,GAAG,GAAG/I,CAAC,CAACuI,MAAZ;gBACA,KAAK/B,uBAAL;;gBACA,IAAIuC,GAAG,CAACC,MAAJ,IAAcf,YAAlB,EAAgC;kBAC5BA,YAAY;gBACf;cACJ,CANa,CAMZhJ,IANY,CAMP,IANO,CAAd;;cAQA,IAAI5O,KAAK,CAACI,WAAN,CAAkBoX,OAAlB,CAA0BoB,UAA1B,CAAqC5M,OAAO,CAACrE,IAA7C,CAAJ,EAAwD;gBACpD,IAAIkR,aAAa,GAAG;kBAChBL,KAAK,EAAEC;gBADS,CAApB;;gBAIA,IAAIzM,OAAO,CAACrE,IAAR,KAAiB,iBAArB,EAAwC;kBACpCkR,aAAa,GAAG5Y,CAAC,CAAC8J,MAAF,CAAS8O,aAAT,EAAwB;oBACpCjQ,KAAK,EAAEoD,OAAO,CAACpD,KAAR,IAAiB,OADY;oBAEpCV,IAAI,EAAE8D,OAAO,CAAC8M,IAAR,GAAe9M,OAAO,CAAC8M,IAAvB,GAA8BhB,aAAa,CAAC9L,OAAO,CAACrE,IAAT,CAFb;oBAGpCoR,QAAQ,EAAEf;kBAH0B,CAAxB,CAAhB;gBAKH;;gBAED,KAAKrJ,UAAL,CAAgB3C,OAAO,CAACrE,IAAxB,EAA8BkR,aAA9B;cACH,CAdD,MAcO;gBACH,KAAKlK,UAAL,CAAgB,SAAhB,EAA2B;kBACvB/F,KAAK,EAAGoD,OAAO,CAACpD,KAAR,IAAiB,OADF;kBAEvBV,IAAI,EAAI8D,OAAO,CAAC8M,IAAR,GAAe9M,OAAO,CAAC8M,IAAvB,GAA8BhB,aAAa,CAAC9L,OAAO,CAACrE,IAAT,CAF5B;kBAGvBoR,QAAQ,EAAEf,WAHa;kBAIvBQ,KAAK,EAAEC;gBAJgB,CAA3B;cAMH;YACJ,CAhkByB;YAkkB1B3J,OAAO,EAAE,YAAW;cAChB,KAAK5C,QAAL,CAAcjB,OAAd,CAAsB,UAASsM,MAAT,EAAiB;gBACnCA,MAAM,CAACzI,OAAP;cACH,CAFD;;cAIA,IAAI,KAAKhN,eAAT,EAA0B;gBACtB,KAAKA,eAAL,CAAqBgN,OAArB;cACH;;cAED,KAAK/M,oBAAL,CAA0B+M,OAA1B;cACA,KAAK9M,oBAAL,CAA0B8M,OAA1B;cACA,KAAK7M,kBAAL,CAAwB6M,OAAxB;cAEA,KAAKhN,eAAL,GAAuB,KAAKC,oBAAL,GACA,KAAKC,oBAAL,GACA,KAAKC,kBAAL,GAA0B,IAFjD;;cAIA,IAAI,KAAK2L,QAAT,EAAmB;gBACf,KAAKA,QAAL,CAAckB,OAAd;gBACA,KAAKlB,QAAL,GAAgB,IAAhB;cACH;;cAED,KAAKgI,kBAAL;YACH,CAzlByB;YA2lB1BA,kBAAkB,EAAE,YAAW;cAC3B,IAAI,KAAKM,WAAT,EAAsB;gBAClB,KAAKA,WAAL,CAAiBpH,OAAjB;;gBACA,KAAKoH,WAAL,GAAmBnW,SAAnB;gBACA,KAAKiZ,iBAAL,GAAyBjZ,SAAzB;cACH;YACJ,CAjmByB;YAmmB1BkZ,MAAM,EAAE,UAASlE,MAAT,EAAiB;cACrB,IAAI,CAAC,KAAKlP,OAAL,CAAaqT,EAAb,CAAgB,UAAhB,CAAL,EAAkC;gBAC9B;cACH;;cACD,IAAIjJ,KAAK,GAAG,KAAKL,MAAjB;cACA,IAAIwG,KAAK,GAAGnG,KAAK,CAACmG,KAAN,EAAZ;cACA,IAAI+C,aAAa,GAAGnZ,KAAK,CAACoZ,OAAN,CAAcC,SAAd,EAApB;cACA,IAAIC,YAAY,GAAG,KAAKjN,OAAL,CAAa,CAAb,EAAgByH,WAAhB,GAA8BqF,aAAjD;cACA,IAAII,aAAa,GAAG,KAAKlN,OAAL,CAAa,CAAb,EAAgB0H,YAAhB,GAA+BoF,aAAnD;;cAEA,IAAI/C,KAAK,IAAI,KAAKC,cAAL,CAAoBD,KAApB,CAAb,EAAyC;gBACrC;cACH;;cAED,IAAIoD,eAAe,GACf,CAACvJ,KAAK,CAACwJ,kBAAN,EAAD,GAA8B,MAA9B,GACAxJ,KAAK,CAACyJ,oBAAN,GAA6BrP,GAA7B,KAAqC,CAACkK,QAAtC,GAAiD,QAAjD,GACA,KAHJ;cAKA,KAAKlI,OAAL,CACKsN,WADL,CACiBlZ,cAAc,CAACG,aADhC,EAC+C,KAAKgM,MAAL,CAAYgN,QAAZ,EAD/C,EAEKD,WAFL,CAEiBlZ,cAAc,CAACc,gBAFhC,EAEkDiY,eAAe,IAAI,KAFrE,EAGKG,WAHL,CAGiBlZ,cAAc,CAACe,cAHhC,EAGgDgY,eAAe,IAAI,QAHnE;cAKA,IAAI5F,IAAI,GAAG3D,KAAK,CAACO,KAAjB;cACA,IAAIrB,OAAO,GAAG,EAAd;cACA,IAAI0K,IAAI,GAAG;gBACPhZ,QAAQ,EAAE,KAAKA,QADR;gBAEPiZ,gBAAgB,EAAE3K,OAFX;gBAGPmK,YAAY,EAAEA,YAHP;gBAIPC,aAAa,EAAEA;cAJR,CAAX;cAMA,KAAK/E,KAAL,CAAWvJ,OAAX,CAAmB,UAASqF,IAAT,EAAe;gBAC9BnB,OAAO,CAAC5G,IAAR,CAAa+H,IAAI,CAAC2I,MAAL,CAAYY,IAAZ,CAAb;cACH,CAFD;cAIA,IAAI3Y,SAAS,GAAGlB,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;gBACrCJ,KAAK,EAAE;kBAAEgC,KAAK,EAAEmM,IAAI,CAAChD,YAAL,GAAoB,IAA7B;kBAAmClJ,MAAM,EAAEkM,IAAI,CAACtC,aAAL,GAAqB;gBAAhE,CAD8B;gBAErC5I,SAAS,EAAEqD,IAAI,CAAC1D,UAAL,CAAgBnH;cAFU,CAAzB,CAAhB;cAKAiO,OAAO,CAAC5G,IAAR,CAAarH,SAAb;;cAEA,IAAI+O,KAAK,CAACyJ,oBAAN,MAAgCzJ,KAAK,CAAC8J,kBAAN,EAApC,EAAgE;gBAC5D5K,OAAO,CAAC5G,IAAR,CAAa,KAAKyR,gBAAL,EAAb;cACH;;cAED,KAAKvN,IAAL,CAAUwM,MAAV,CAAiB9J,OAAjB;cAEAlP,CAAC,CAAC,KAAKsM,SAAN,CAAD,CAAkB0N,GAAlB,CAAsB;gBAClBxS,KAAK,EAAE6R,YADW;gBAElB5R,MAAM,EAAE6R;cAFU,CAAtB;;cAKA,IAAI,KAAK3M,MAAL,CAAYgN,QAAZ,EAAJ,EAA4B;gBACxB,KAAKhN,MAAL,CAAYsN,aAAZ,CAA0B,KAAKhK,mBAAL,EAA1B;cACH,CAFD,MAEO,IAAI,EAAE6E,MAAM,CAACoF,MAAP,IACApF,MAAM,CAAC3O,OADP,IAEA6J,KAAK,CAACqE,mBAAN,EAFA,IAGArE,KAAK,CAACwJ,kBAAN,EAHA,IAIAxJ,KAAK,CAACmK,kBAAN,EAJA,IAKAnK,KAAK,CAACoK,YAAN,EALF,CAAJ,EAK6B;gBAChC,KAAKC,uBAAL;cACH;YACJ,CAnqByB;YAqqB1B;YACAN,gBAAgB,EAAE,YAAW;cACzB,IAAI/J,KAAK,GAAG,KAAKL,MAAjB;cACA,IAAIW,GAAG,GAAGN,KAAK,CAACyJ,oBAAN,EAAV;cAEA,IAAIa,UAAU,GAAGhK,GAAG,CAAClG,GAAJ,KAAY,CAACkK,QAA9B;cAEA,IAAI9O,KAAJ;;cACA,IAAI8U,UAAJ,EAAgB;gBACZ9U,KAAK,GAAG;kBACJiC,MAAM,EAAE,KAAK7G,QAAL,CAAckT,YAAd,GAA6B,IADjC;kBAEJtM,KAAK,EAAEnH,mBAAmB,GAAG,IAFzB;kBAGJiH,IAAI,EAAE0I,KAAK,CAAC8J,kBAAN,GAA2BnP,CAA3B,GAA+B,IAHjC;kBAIJpD,GAAG,EAAE;gBAJD,CAAR;cAMH,CAPD,MAOO;gBACH/B,KAAK,GAAG;kBACJiC,MAAM,EAAEpH,mBAAmB,GAAG,IAD1B;kBAEJmH,KAAK,EAAE,KAAK5G,QAAL,CAAciT,WAAd,GAA4B,IAF/B;kBAGJtM,GAAG,EAAEyI,KAAK,CAAC8J,kBAAN,GAA2BlP,CAA3B,GAA+B,IAHhC;kBAIJtD,IAAI,EAAE;gBAJF,CAAR;cAMH;;cAED,IAAIc,UAAU,GAAGmS,IAAI,CAACnS,UAAtB;cAEA,OAAOrI,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;gBAC5B6C,SAAS,EAAEL,UAAU,CAACoS,UAAX,IAAyB,CAACF,UAAD,GAAc,MAAMlS,UAAU,CAACqS,kBAA/B,GAAoD,EAA7E,CADiB;gBAE5BjV,KAAK,EAAEA;cAFqB,CAAzB,EAGL,CACEzF,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;gBAAE6C,SAAS,EAAEL,UAAU,CAACsS;cAAxB,CAAzB,CADF,EAEE3a,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;gBAAE6C,SAAS,EAAEL,UAAU,CAACuS;cAAxB,CAAzB,CAFF,CAHK,CAAP;YAOH,CAtsByB;YAwsB1BN,uBAAuB,EAAE,YAAW;cAChC,IAAIrK,KAAK,GAAG,KAAKL,MAAjB;cACA,IAAIgE,IAAI,GAAG3D,KAAK,CAACO,KAAjB,CAFgC,CAIhC;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;;cAEA,IAAI+B,SAAS,GAAGqB,IAAI,CAACiH,SAAL,CAAe5K,KAAK,CAACR,MAAN,GAAeiB,UAAf,EAAf,CAAhB;;cACA,IAAIoK,MAAM,GAAG,KAAK/K,SAAL,CAAehP,SAAf,GAA2Bga,OAA3B,EAAb;;cACA,IAAID,MAAM,CAACC,OAAP,KAAmB,KAAnB,IAA4BD,MAAM,CAACE,cAAvC,EAAuD;gBACnD,KAAKrO,iBAAL,CAAuBsM,MAAvB,CAA8B,EAA9B;gBACA,KAAK9C,uBAAL;gBACA;cACH;;cAED5D,SAAS,GAAGtC,KAAK,CAACgL,IAAN,CAAW1I,SAAX,CAAZ;cAEA,IAAIpO,KAAK,GAAG,IAAI0F,SAAJ,EAAZ;cAEA,IAAIqR,aAAa,GAAGtH,IAAI,CAACuH,eAAL,CAAqB5I,SAArB,CAApB;cAEA2I,aAAa,CAAC3J,IAAd,CAAmBtG,OAAnB,CAA2B,UAASvD,MAAT,EAAiB;gBACxCvD,KAAK,CAACoG,MAAN,CAAa7C,MAAb;cACH,CAFD;cAIAwT,aAAa,CAACrK,OAAd,CAAsB5F,OAAtB,CAA8B,UAASxD,KAAT,EAAgB;gBAC1CtD,KAAK,CAACiG,SAAN,CAAgB3C,KAAhB;cACH,CAFD;;cAIA,IAAI2T,GAAG,GAAGnL,KAAK,CAACoL,eAAN,CAAsB9I,SAAtB,CAAV;;cACA,IAAI+I,kBAAkB,GAAGF,GAAG,CAACG,OAA7B;cACA,IAAIC,oBAAoB,GAAGJ,GAAG,CAACK,SAA/B;cAEAxL,KAAK,CAAChF,OAAN,CAAcsH,SAAd,EAAyB,UAASnO,GAAT,EAAciG,GAAd,EAAmBhF,IAAnB,EAAyB;gBAC9C,IAAIqW,QAAQ,GAAG,IAAIvb,OAAJ,CAAYiE,GAAZ,EAAiBiG,GAAjB,EAAsBsR,KAAtB,EAAf;;gBAEA,IAAI,CAACH,oBAAoB,CAACE,QAAD,CAAzB,EAAqC;kBACjC,IAAIrS,EAAE,GAAGL,OAAO,CAAC7E,KAAD,EAAQC,GAAG,GAAGmO,SAAS,CAACqJ,OAAV,CAAkBxX,GAAhC,EAAqCiB,IAArC,CAAhB;kBAEA,IAAIwW,UAAU,GAAGP,kBAAkB,CAACI,QAAD,CAAnC;;kBAEA,IAAIG,UAAJ,EAAgB;oBACZxS,EAAE,CAACI,IAAH,CAAQqS,OAAR,GAAkBD,UAAU,CAACpU,KAAX,EAAlB;oBACA4B,EAAE,CAACI,IAAH,CAAQsS,OAAR,GAAkBF,UAAU,CAACnU,MAAX,EAAlB;kBACH;gBACJ;cACJ,CAbD;;cAeA,IAAI1H,KAAK,CAACoZ,OAAN,CAAc4C,OAAd,CAAsBC,IAA1B,EAAgC;gBAC5B,KAAKlb,SAAL,CAAemb,KAAf;cACH;;cAED,KAAKvP,iBAAL,CAAuBsM,MAAvB,CAA8B,CAAE9U,KAAK,CAACwG,SAAN,CAAgB,CAAhB,EAAmB,CAAnB,EAAsB,qBAAqB,KAAKoF,SAAL,CAAehP,SAAf,GAA2Bob,IAAtE,CAAF,CAA9B;cAEA,KAAKhG,uBAAL;YACH,CA1wByB;YA4wB1BR,KAAK,EAAE,UAASvR,GAAT,EAAcgQ,MAAd,EAAsBgI,QAAtB,EAAgCC,WAAhC,EAA6C;cAChD,IAAI/L,IAAI,GAAG,IAAIkK,IAAJ,CAAS,KAAK5K,MAAd,EAAsB,KAAKA,MAAL,CAAYY,KAAZ,CAAkBF,IAAlB,CAAuB;gBAAElM,GAAG,EAAEA,GAAP;gBAAYgQ,MAAM,EAAEA,MAApB;gBAA4BgI,QAAQ,EAAEA,QAAtC;gBAAgDC,WAAW,EAAEA;cAA7D,CAAvB,CAAtB,CAAX;cACA/L,IAAI,CAACwE,OAAL,CAAa,KAAKjU,QAAL,CAAciT,WAA3B,EAAwC,KAAKjT,QAAL,CAAckT,YAAtD;cACA,OAAOzD,IAAP;YACH;UAhxByB,CAAnB,CAAX;UAmxBA,IAAIhI,cAAc,GAAG;YACjBjD,IAAI,EAAE,oBADW;YAEjBiX,KAAK,EAAE,qBAFU;YAGjBC,KAAK,EAAE,qBAHU;YAIjBC,OAAO,EAAE,uBAJQ;YAKjBC,OAAO,EAAE,uBALQ;YAMjBC,SAAS,EAAE,0BANM;YAOjBC,YAAY,EAAE,6BAPG;YAQjBrM,IAAI,EAAE,oBARW;YASjBjN,IAAI,EAAE,oBATW;YAUjBwY,UAAU,EAAE,2BAVK;YAWjBe,kBAAkB,EAAE,wBAXH;YAYjB3H,UAAU,EAAE,2BAZK;YAajB1C,SAAS,EAAE,yBAbM;YAcjBsK,gBAAgB,EAAE,qBAdD;YAejBC,eAAe,EAAE,qBAfA;YAgBjBC,MAAM,EAAE,UAhBS;YAiBjBvV,GAAG,EAAE,OAjBY;YAkBjBiL,KAAK,EAAE,SAlBU;YAmBjBC,MAAM,EAAE,UAnBS;YAoBjBnL,IAAI,EAAE,QApBW;YAqBjByV,YAAY,EAAE,iBArBG;YAsBjBC,kBAAkB,EAAE,wBAtBH;YAuBjBC,eAAe,EAAE,qBAvBA;YAwBjBzC,UAAU,EAAE,eAxBK;YAyBjBE,gBAAgB,EAAE,sBAzBD;YA0BjBC,gBAAgB,EAAE,sBA1BD;YA2BjBF,kBAAkB,EAAE,wBA3BH;YA4BjByC,kBAAkB,EAAE,mCA5BH;YA6BjBC,MAAM,EAAE,CACJ,YADI,EAEJ,YAFI,EAGJ,YAHI,EAIJ,YAJI,EAKJ,YALI,EAMJ,YANI;UA7BS,CAArB;UAuCA,IAAI5C,IAAI,GAAGxa,KAAK,CAAC8J,KAAN,CAAYC,MAAZ,CAAmB;YAC1BC,IAAI,EAAE,UAASiG,KAAT,EAAgB2D,IAAhB,EAAsB;cACxB,KAAKhE,MAAL,GAAcK,KAAd;cACA,KAAKO,KAAL,GAAaoD,IAAb;YACH,CAJyB;YAM1BkB,OAAO,EAAE,UAASrN,KAAT,EAAgBC,MAAhB,EAAwB;cAC7B,KAAK8I,KAAL,CAAWsE,OAAX,CAAmBrN,KAAnB,EAA0BC,MAA1B;YACH,CARyB;YAU1B2V,SAAS,EAAE,UAAStM,UAAT,EAAqBS,SAArB,EAAgCjB,GAAhC,EAAqC;cAC5C,OAAO,KAAKC,KAAL,CAAW9P,IAAX,CAAgBqQ,UAAhB,EAA4BS,SAA5B,EAAuCjB,GAAvC,CAA2C8B,UAA3C,CAAsD9B,GAAtD,CAAP;YACH,CAZyB;YAc1B0I,MAAM,EAAE,UAASY,IAAT,EAAe;cACnB,IAAIhZ,QAAQ,GAAGgZ,IAAI,CAAChZ,QAApB;cACA,IAAIkQ,UAAU,GAAGlQ,QAAQ,CAACkQ,UAA1B;cACA,IAAIS,SAAS,GAAG3Q,QAAQ,CAAC2Q,SAAzB;;cAEA,IAAIA,SAAS,GAAG,CAAhB,EAAmB;gBACfA,SAAS,GAAG,CAAZ;cACH;;cAED,IAAIT,UAAU,GAAG,CAAjB,EAAoB;gBAChBA,UAAU,GAAG,CAAb;cACH;;cAED,IAAI1I,UAAU,GAAGmS,IAAI,CAACnS,UAAtB;cACA,IAAI4H,KAAK,GAAG,KAAKL,MAAjB;cACA,IAAIgE,IAAI,GAAG,KAAKpD,KAAhB;cACA,IAAI9P,IAAI,GAAGkT,IAAI,CAAClT,IAAL,CAAUqQ,UAAV,EAAsBS,SAAtB,CAAX;cACA,KAAK8L,YAAL,GAAoB5c,IAApB;cACA,KAAK6c,YAAL,GAAoB,KAAKlN,UAAL,CAAgB3P,IAAI,CAAC6P,GAArB,CAApB;cACA,KAAKiN,gBAAL,GAAwBvN,KAAK,CAACwN,eAAN,EAAxB;cAEA,IAAIlZ,QAAQ,GAAG,EAAf;cAEAA,QAAQ,CAACgE,IAAT,CAAc,KAAKmV,UAAL,CAAgB7D,IAAhB,CAAd;;cAEA,IAAI,CAAC5J,KAAK,CAAC0N,cAAX,EAA2B;gBACvBpZ,QAAQ,CAACgE,IAAT,CAAc,KAAKqV,eAAL,CAAqB/c,QAArB,CAAd;cACH;;cAED0D,QAAQ,CAACgE,IAAT,CAAc,KAAKsV,cAAL,EAAd;cAEAtZ,QAAQ,CAACgE,IAAT,CAAc,KAAKuV,qBAAL,EAAd;cAEAvZ,QAAQ,CAACgE,IAAT,CAAc,KAAKwV,mBAAL,EAAd;;cAEA,IAAInK,IAAI,CAACoK,YAAT,EAAuB;gBACnB,IAAItB,SAAS,GAAG1c,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;kBACrC6C,SAAS,EAAEL,UAAU,CAACqU,SADe;kBAErCjX,KAAK,EAAE;oBACHgC,KAAK,EAAEmM,IAAI,CAACgB,WAAL,GAAmB,IADvB;oBAEHpN,GAAG,EAAE9G,IAAI,CAACud,SAAL,GAAiB;kBAFnB;gBAF8B,CAAzB,CAAhB;gBAOA1Z,QAAQ,CAACgE,IAAT,CAAcmU,SAAd;gBACAzM,KAAK,CAAChF,OAAN,CAAcvK,IAAI,CAAC6P,GAAL,CAAS2N,UAAT,EAAd,EAAqC,UAAS9Z,GAAT,EAAa;kBAC9C,IAAI,CAAC6L,KAAK,CAAC0B,WAAN,CAAkBvN,GAAlB,CAAL,EAA6B;oBACzB,IAAI8D,IAAI,GAAG9D,GAAG,GAAG,CAAjB;oBAAA,IAAoBsD,MAAM,GAAGuI,KAAK,CAACkO,SAAN,CAAgB/Z,GAAhB,CAA7B;oBACAsY,SAAS,CAACnY,QAAV,CAAmBgE,IAAnB,CAAwBvI,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;sBAC7C6C,SAAS,EAAE,KAAK0V,eAAL,CAAqBha,GAArB,EAA0B,KAA1B,CADkC;sBAE7CqB,KAAK,EAAE;wBACHgC,KAAK,EAAEmM,IAAI,CAACgB,WAAL,GAAmB,IADvB;wBAEHlN,MAAM,EAAEA,MAAM,GAAG;sBAFd;oBAFsC,CAAzB,EAMrB,CAAE1H,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;sBAC1B6C,SAAS,EAAE;oBADe,CAAzB,EAEF,CAAE1I,KAAK,CAAC4F,GAAN,CAAUsC,IAAV,CAAeA,IAAI,GAAC,EAApB,CAAF,CAFE,CAAF,CANqB,CAAxB;kBASH;gBACJ,CAboC,CAanC0G,IAbmC,CAa9B,IAb8B,CAArC;cAcH;;cAED,IAAIgF,IAAI,CAACyK,eAAT,EAA0B;gBACtB,IAAI1B,YAAY,GAAG3c,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;kBACxC6C,SAAS,EAAEL,UAAU,CAACsU,YADkB;kBAExClX,KAAK,EAAE;oBACH+B,GAAG,EAAE,KADF;oBAEHD,IAAI,EAAE7G,IAAI,CAAC4d,YAAL,GAAoB,IAFvB;oBAGH7W,KAAK,EAAE,KAAK8V,YAAL,CAAkB9V,KAAlB,GAA0B,IAH9B;oBAIHC,MAAM,EAAEkM,IAAI,CAACiB,YAAL,GAAoB;kBAJzB;gBAFiC,CAAzB,CAAnB;gBASAtQ,QAAQ,CAACgE,IAAT,CAAcoU,YAAd;gBACA,IAAIpV,IAAI,GAAG,CAAX;gBACA0I,KAAK,CAAChF,OAAN,CAAcvK,IAAI,CAAC6P,GAAL,CAASgO,MAAT,EAAd,EAAiC,UAASna,GAAT,EAAciG,GAAd,EAAkB;kBAC/C,IAAI,CAAC4F,KAAK,CAACmB,cAAN,CAAqB/G,GAArB,CAAL,EAAgC;oBAC5B,IAAInC,IAAI,GAAGlI,KAAK,CAACI,WAAN,CAAkBoe,GAAlB,CAAsBC,OAAtB,CAA8B,IAA9B,EAAoClK,QAApC,EAA8ClK,GAA9C,CAAX;oBAAA,IACI5C,KAAK,GAAGwI,KAAK,CAACyO,WAAN,CAAkBrU,GAAlB,CADZ;oBAEAsS,YAAY,CAACpY,QAAb,CAAsBgE,IAAtB,CAA2BvI,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;sBAChD6C,SAAS,EAAE,KAAK0V,eAAL,CAAqB/T,GAArB,EAA0B,KAA1B,CADqC;sBAEhD5E,KAAK,EAAE;wBACHkZ,QAAQ,EAAE,UADP;wBAEHpX,IAAI,EAAEA,IAAI,GAAG,IAFV;wBAGHE,KAAK,EAAEA,KAAK,GAAG,IAHZ;wBAIHC,MAAM,EAAEkM,IAAI,CAACiB,YAAL,GAAoB;sBAJzB;oBAFyC,CAAzB,EAQxB,CAAE7U,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;sBAC1B6C,SAAS,EAAE;oBADe,CAAzB,EAEF,CAAE1I,KAAK,CAAC4F,GAAN,CAAUsC,IAAV,CAAeA,IAAI,GAAC,EAApB,CAAF,CAFE,CAAF,CARwB,CAA3B;oBAWAX,IAAI,IAAIE,KAAR;kBACH;gBACJ,CAjBgC,CAiB/BmH,IAjB+B,CAiB1B,IAjB0B,CAAjC;cAkBH;;cAED,IAAIqB,KAAK,CAACyJ,oBAAN,OAAiC9F,IAAI,CAACyK,eAAL,IAAwBzK,IAAI,CAACoK,YAA9D,CAAJ,EAAiF;gBAC7E,IAAI,CAAC/N,KAAK,CAAC8J,kBAAN,EAAL,EAAiC;kBAC7B,KAAK6E,kBAAL,CAAwBra,QAAxB;gBACH;cACJ;;cAED,IAAIsa,WAAW,GAAG,CAACxW,UAAU,CAACiI,IAAZ,CAAlB;;cAEA,IAAIsD,IAAI,CAACyK,eAAT,EAA0B;gBACtBQ,WAAW,CAACtW,IAAZ,CAAiBF,UAAU,CAACb,GAA5B;cACH;;cAED,IAAIoM,IAAI,CAACoK,YAAT,EAAuB;gBACnBa,WAAW,CAACtW,IAAZ,CAAiBF,UAAU,CAACd,IAA5B;cACH;;cAED,OAAOvH,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;gBAC5BJ,KAAK,EAAEmO,IAAI,CAACnO,KADgB;gBAE5BiD,SAAS,EAAEmW,WAAW,CAAC/V,IAAZ,CAAiB,GAAjB;cAFiB,CAAzB,EAGJvE,QAHI,CAAP;YAIH,CA9HyB;YAgI1B6Z,eAAe,EAAE,UAASzZ,KAAT,EAAgBgD,IAAhB,EAAsB;cACnC,IAAI8V,eAAe,GAAG,KAAKD,gBAA3B;cAEA,IAAIsB,aAAJ;cACA,IAAIC,UAAJ;;cAEA,IAAIpX,IAAI,KAAK,KAAb,EAAoB;gBAChBmX,aAAa,GAAGrB,eAAe,CAAClM,IAAhB,CAAqB5M,KAArB,CAAhB;gBACAoa,UAAU,GAAGtB,eAAe,CAACuB,OAA7B;cACH,CAHD,MAGO;gBACHF,aAAa,GAAGrB,eAAe,CAACxT,IAAhB,CAAqBtF,KAArB,CAAhB;gBACAoa,UAAU,GAAGtB,eAAe,CAACwB,OAA7B;cACH;;cAED,IAAIvW,SAAS,GAAGoW,aAAa,KAAKrB,eAAe,CAACyB,GAAhB,GAAsB,MAAtB,GAAgCH,UAAU,GAAG,SAAH,GAAe,MAA9D,CAA7B;;cAEA,IAAIrW,SAAJ,EAAe;gBACXA,SAAS,GAAG,iBAAiBA,SAA7B;cACH;;cAED,OAAOA,SAAP;YACH,CArJyB;YAuJ1BgV,UAAU,EAAE,UAAS7D,IAAT,EAAe;cACvB,IAAI5J,KAAK,GAAG,KAAKL,MAAjB;cACA,IAAIlP,IAAI,GAAG,KAAK4c,YAAhB;cACA,IAAIrF,IAAI,GAAGjY,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;gBAChC6C,SAAS,EAAE8R,IAAI,CAACnS,UAAL,CAAgBhF,IADK;gBAEhCoC,KAAK,EAAE;kBACHkZ,QAAQ,EAAE,UADP;kBAEHpX,IAAI,EAAE7G,IAAI,CAAC4d,YAAL,GAAoB,IAFvB;kBAGH9W,GAAG,EAAE9G,IAAI,CAACud,SAAL,GAAiB;gBAHnB;cAFyB,CAAzB,CAAX;cAQA,IAAI9L,IAAI,GAAG,KAAKoL,YAAhB;cACA,IAAI/H,MAAM,GAAGxV,KAAK,CAACI,WAAN,CAAkB+H,IAAlB,CAAuBgX,QAAvB,CAAgClP,KAAhC,EAAuCvP,IAAI,CAAC6P,GAA5C,EAAiD;gBAAE6O,SAAS,EAAE;cAAb,CAAjD,CAAb;cAAA,IAAoFC,IAApF;cACA,IAAIzL,IAAI,GAAG,KAAKpD,KAAhB;cACA,IAAI8O,aAAa,GAAGrP,KAAK,CAACsP,cAA1B;;cACA,IAAID,aAAJ,EAAmB;gBACf;gBACAD,IAAI,GAAG,IAAP;gBACA7J,MAAM,CAACgK,OAAP,CAAevU,OAAf,CAAuB,UAASL,CAAT,EAAW;kBAC9B,IAAIA,CAAC,KAAKyU,IAAV,EAAgB;oBACZA,IAAI,GAAGzU,CAAP;oBACAqN,IAAI,CAAC1T,QAAL,CAAcgE,IAAd,CAAmBvI,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;sBACxC6C,SAAS,EAAEJ,cAAc,CAACgU,KADc;sBAExC7W,KAAK,EAAE;wBACH8B,IAAI,EAAEqD,CAAC,GAAG,IADP;wBAEHlD,MAAM,EAAEyK,IAAI,CAACzK,MAAL,GAAc,IAFnB;wBAGH+X,WAAW,EAAExP,KAAK,CAACyP,cAAN;sBAHV;oBAFiC,CAAzB,CAAnB;kBAQH;gBACJ,CAZD;gBAaAL,IAAI,GAAG,IAAP;gBACA7J,MAAM,CAACmK,OAAP,CAAe1U,OAAf,CAAuB,UAASJ,CAAT,EAAW;kBAC9B,IAAIA,CAAC,KAAKwU,IAAV,EAAgB;oBACZA,IAAI,GAAGxU,CAAP;oBACAoN,IAAI,CAAC1T,QAAL,CAAcgE,IAAd,CAAmBvI,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;sBACxC6C,SAAS,EAAEJ,cAAc,CAACiU,KADc;sBAExC9W,KAAK,EAAE;wBACH+B,GAAG,EAAEqD,CAAC,GAAG,IADN;wBAEHpD,KAAK,EAAE0K,IAAI,CAAC1K,KAAL,GAAa,IAFjB;wBAGHgY,WAAW,EAAExP,KAAK,CAACyP,cAAN;sBAHV;oBAFiC,CAAzB,CAAnB;kBAQH;gBACJ,CAZD;cAaH;;cACD,IAAIE,OAAO,GAAG5f,KAAK,CAACI,WAAN,CAAkB+H,IAAlB,CAAuB0X,OAAvB,EAAd;cACA,IAAIC,eAAe,GAAG7P,KAAK,CAACgF,UAAN,GAAmBvE,UAAnB,EAAtB;cACA,IAAIuE,UAAU,GAAG6K,eAAe,CAAClE,OAAjC;cAEApG,MAAM,CAACnR,KAAP,CAAa4G,OAAb,CAAqB,UAAS5F,IAAT,EAAc;gBAC/B,IAAIC,GAAG,GAAG,IAAV;gBACA,IAAIya,MAAM,GAAG1a,IAAI,CAACjB,GAAL,GAAW1D,IAAI,CAAC6P,GAAL,CAASqL,OAAT,CAAiBxX,GAAzC;gBACA,IAAI4b,MAAM,GAAG3a,IAAI,CAACgF,GAAL,GAAW3J,IAAI,CAAC6P,GAAL,CAASqL,OAAT,CAAiBvR,GAAzC;;gBACA,IAAI4F,KAAK,CAAC0N,cAAV,EAA0B;kBACtB,IAAIpN,GAAG,GAAGN,KAAK,CAAC0N,cAAN,CAAqBsC,WAA/B;;kBACA,IAAI1P,GAAG,IAAIA,GAAG,CAACnM,GAAJ,IAAW2b,MAAlB,IAA4BxP,GAAG,CAAClG,GAAJ,IAAW2V,MAA3C,EAAmD;oBAC/C1a,GAAG,GAAG,mCAAN;kBACH;gBACJ,CALD,MAKO,IAAIya,MAAM,IAAI9K,UAAU,CAAC7Q,GAArB,IAA4B4b,MAAM,IAAI/K,UAAU,CAAC5K,GAArD,EAA0D;kBAC7D;kBACA/E,GAAG,GAAG,CACFkV,IAAI,CAACnS,UAAL,CAAgB4M,UADd,EAEJiL,MAFI,CAEG,KAAKC,mBAAL,EAFH,EAGG,KAAKC,iBAAL,CAAuBN,eAAvB,CAHH,CAAN;;kBAIA,IAAI7P,KAAK,CAACoQ,mBAAN,EAAJ,EAAiC;oBAC7B/a,GAAG,CAACiD,IAAJ,CAASiS,IAAI,CAACnS,UAAL,CAAgB0U,MAAzB;kBACH;;kBACDzX,GAAG,GAAGA,GAAG,CAACwD,IAAJ,CAAS,GAAT,CAAN;gBACH;;gBACD8W,OAAO,CAACU,GAAR,CAAYjb,IAAZ;gBACAF,QAAQ,CAAC8S,IAAI,CAAC1T,QAAN,EAAgBc,IAAhB,EAAsBC,GAAtB,EAA2Bga,aAA3B,CAAR;;gBACA,IAAIja,IAAI,CAACe,OAAL,IAAgB6J,KAAK,CAACsQ,WAAtB,IACAR,MAAM,IAAI9P,KAAK,CAACsQ,WAAN,CAAkBnc,GAD5B,IACmC4b,MAAM,IAAI/P,KAAK,CAACsQ,WAAN,CAAkBlW,GADnE,EACwE;kBACpE,IAAImW,QAAQ,GAAG,CAAf;kBACA,IAAIjZ,IAAI,GAAGlC,IAAI,CAACoN,KAAL,GAAamB,IAAI,CAACrM,IAAlB,GAAyB7G,IAAI,CAAC4d,YAA9B,GAA6CkC,QAAxD;kBACA,IAAI/a,KAAK,GAAG;oBAAE+B,GAAG,EAAGnC,IAAI,CAACmC,GAAL,GAAWoM,IAAI,CAACpM,GAAhB,GAAsB9G,IAAI,CAACud,SAA5B,GAAyC;kBAAhD,CAAZ;;kBACA,IAAI1W,IAAI,GAAG,GAAP,GAAasS,IAAI,CAACP,YAAtB,EAAoC;oBAChC7T,KAAK,CAACgN,KAAN,GAAeoH,IAAI,CAACP,YAAL,GAAoB1F,IAAI,CAACrM,IAAzB,GAAgClC,IAAI,CAACkC,IAArC,GAA4C7G,IAAI,CAAC4d,YAAjD,GAAgEkC,QAAjE,GAA6E,IAA3F;kBACH,CAFD,MAEO;oBACH/a,KAAK,CAAC8B,IAAN,GAAaA,IAAI,GAAG,IAApB;kBACH;;kBACD,IAAIwB,GAAG,GAAG/I,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;oBAC/B6C,SAAS,EAAE,sCADoB;oBAE/BjD,KAAK,EAAEA;kBAFwB,CAAzB,EAGP,CAAEzF,KAAK,CAAC4F,GAAN,CAAUsC,IAAV,CAAe7C,IAAI,CAACe,OAApB,CAAF,CAHO,CAAV;kBAIAyT,IAAI,CAACC,gBAAL,CAAsBvR,IAAtB,CAA2BQ,GAA3B;gBACH;cACJ,CAtCD,EAsCG,IAtCH;cAuCA6W,OAAO,CAACa,IAAR,CAAaxV,OAAb,CAAqB,UAASyV,CAAT,EAAW;gBAC5BA,CAAC,CAACzV,OAAF,CAAU,UAAS0V,CAAT,EAAW;kBACjB,IAAI,CAACA,CAAC,CAACC,QAAP,EAAiB;oBACbD,CAAC,CAACC,QAAF,GAAa,IAAb;oBACA,IAAInb,KAAK,GAAG;sBACR8B,IAAI,EAAUoZ,CAAC,CAAC/V,CAAF,GAAM,IADZ;sBAERpD,GAAG,EAAWmZ,CAAC,CAACnZ,GAAF,GAAQ,IAFd;sBAGRE,MAAM,EAASiZ,CAAC,CAACjO,MAAF,GAAWiO,CAAC,CAACnZ,GAAb,GAAmB,CAApB,GAAyB,IAH/B;sBAIRqZ,WAAW,EAAGF,CAAC,CAAC7b,IAAF,GAAS,IAJf;sBAKR2a,WAAW,EAAGkB,CAAC,CAAC5b;oBALR,CAAZ;;oBAOA,IAAI4b,CAAC,CAAC7b,IAAF,IAAU,CAAd,EAAiB;sBACbW,KAAK,CAACqb,SAAN,GAAkB,iBAAiB,CAACH,CAAC,CAAC7b,IAAF,GAAO,CAAR,IAAW,CAA5B,GAAgC,KAAlD;oBACH;;oBACDmT,IAAI,CAAC1T,QAAL,CAAcgE,IAAd,CAAmBvI,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;sBACxC6C,SAAS,EAAEJ,cAAc,CAACkU,OADc;sBAExC/W,KAAK,EAAEA;oBAFiC,CAAzB,CAAnB;kBAIH;gBACJ,CAlBD;cAmBH,CApBD;cAqBAma,OAAO,CAACmB,KAAR,CAAc9V,OAAd,CAAsB,UAASyV,CAAT,EAAW;gBAC7BA,CAAC,CAACzV,OAAF,CAAU,UAAS0V,CAAT,EAAW;kBACjB,IAAI,CAACA,CAAC,CAACC,QAAP,EAAiB;oBACbD,CAAC,CAACC,QAAF,GAAa,IAAb;oBACA,IAAInb,KAAK,GAAG;sBACR+B,GAAG,EAAWmZ,CAAC,CAAC9V,CAAF,GAAM,IADZ;sBAERtD,IAAI,EAAUoZ,CAAC,CAACpZ,IAAF,GAAS,IAFf;sBAGRE,KAAK,EAAUkZ,CAAC,CAAClO,KAAF,GAAUkO,CAAC,CAACpZ,IAAb,GAAqB,IAH3B;sBAIRsZ,WAAW,EAAGF,CAAC,CAAC7b,IAAF,GAAS,IAJf;sBAKR2a,WAAW,EAAGkB,CAAC,CAAC5b;oBALR,CAAZ;;oBAOA,IAAI4b,CAAC,CAAC7b,IAAF,IAAU,CAAd,EAAiB;sBACbW,KAAK,CAACqb,SAAN,GAAkB,iBAAiB,CAACH,CAAC,CAAC7b,IAAF,GAAO,CAAR,IAAW,CAA5B,GAAgC,KAAlD;oBACH;;oBACDmT,IAAI,CAAC1T,QAAL,CAAcgE,IAAd,CAAmBvI,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;sBACxC6C,SAAS,EAAEJ,cAAc,CAACmU,OADc;sBAExChX,KAAK,EAAEA;oBAFiC,CAAzB,CAAnB;kBAIH;gBACJ,CAlBD;cAmBH,CApBD;cAqBA,KAAKub,cAAL,CAAoBxL,MAApB,EAA4ByC,IAAI,CAAC1T,QAAjC;cACA,OAAO0T,IAAP;YACH,CA5RyB;YA8R1B+I,cAAc,EAAE,UAASxL,MAAT,EAAiBjJ,SAAjB,EAA4B;cACxC,IAAI0D,KAAK,GAAG,KAAKL,MAAjB;cACA,IAAIE,QAAQ,GAAGG,KAAK,CAACF,SAArB;cACAyF,MAAM,CAACvC,QAAP,CAAgBhI,OAAhB,CAAwB,UAASmI,CAAT,EAAW;gBAC/B,IAAIG,OAAO,GAAGH,CAAC,CAACG,OAAhB;gBACA,IAAIF,GAAG,GAAGD,CAAC,CAACC,GAAZ;gBACA,IAAItK,GAAG,GAAGsK,GAAG,CAAC4N,KAAJ,CAAU,uBAAV,CAAV;;gBACA,IAAI1N,OAAO,CAAC2N,KAAZ,EAAmB;kBACfnY,GAAG,CAACxE,QAAJ,CAAagE,IAAb,CAAkBvI,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;oBACvC6C,SAAS,EAAE,6BAD4B;oBAEvCjD,KAAK,EAAE;sBACH0b,eAAe,EAAE,UAAUrR,QAAQ,CAACsR,QAAT,CAAkB7N,OAAO,CAAC2N,KAA1B,CAAV,GAA6C,IAD3D;sBAEHG,OAAO,EAAE9N,OAAO,CAAC8N;oBAFd;kBAFgC,CAAzB,CAAlB;gBAOH;;gBACD,IAAI9N,OAAO,KAAKtD,KAAK,CAAC0N,cAAtB,EAAsC;kBAClC5U,GAAG,CAACU,IAAJ,CAASf,SAAT,IAAsB,+BAAtB;kBACA4Y,oBAAoB,CAACvY,GAAG,CAACxE,QAAL,CAApB;gBACH;;gBACDgI,SAAS,CAAChE,IAAV,CAAeQ,GAAf;cACH,CAlBD;YAmBH,CApTyB;YAsT1B6V,kBAAkB,EAAE,UAASrS,SAAT,EAAoB;cACpC,IAAI0D,KAAK,GAAG,KAAKL,MAAjB;cACA,IAAIW,GAAG,GAAGN,KAAK,CAACyJ,oBAAN,EAAV;;cACA,IAAIlH,SAAS,GAAG,KAAKnC,UAAL,CAAgBE,GAAhB,CAAhB;;cACA,IAAIlI,UAAU,GAAG,CAAEmS,IAAI,CAACnS,UAAL,CAAgB2U,YAAlB,CAAjB;cAEA,IAAIvX,KAAJ;;cACA,IAAI8K,GAAG,CAAClG,GAAJ,KAAY,CAACkK,QAAjB,EAA2B;gBACvB,IAAI,KAAK/D,KAAL,CAAWe,IAAX,CAAgBgQ,MAAhB,GAAyB,CAA7B,EAAgC;kBAC5B;gBACH;;gBACD9b,KAAK,GAAG;kBACJiC,MAAM,EAAE,KAAK8I,KAAL,CAAWqE,YAAX,GAA0B,IAD9B;kBAEJpN,KAAK,EAAEnH,mBAAmB,GAAG,IAFzB;kBAGJiH,IAAI,EAAEiL,SAAS,CAACC,KAAV,GAAkBnS,mBAAmB,GAAC,CAAtC,GAA2C,IAH7C;kBAIJkH,GAAG,EAAE;gBAJD,CAAR;gBAMAa,UAAU,CAACE,IAAX,CAAgB9H,cAAc,CAACc,gBAA/B;cACH,CAXD,MAWO;gBACH,IAAI,KAAKiP,KAAL,CAAWK,OAAX,CAAmB0Q,MAAnB,GAA4B,CAAhC,EAAmC;kBAC/B;gBACH;;gBACD9b,KAAK,GAAG;kBACJiC,MAAM,EAAEpH,mBAAmB,GAAG,IAD1B;kBAEJmH,KAAK,EAAG,KAAK+I,KAAL,CAAWoE,WAAX,GAAyB,IAF7B;kBAGJpN,GAAG,EAAEgL,SAAS,CAACE,MAAV,GAAmBpS,mBAAmB,GAAC,CAAvC,GAA4C,IAH7C;kBAIJiH,IAAI,EAAE;gBAJF,CAAR;gBAMAc,UAAU,CAACE,IAAX,CAAgB9H,cAAc,CAACe,cAA/B;cACH;;cAED+K,SAAS,CAAChE,IAAV,CAAevI,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;gBACpC6C,SAAS,EAAEL,UAAU,CAACS,IAAX,CAAgB,GAAhB,CADyB;gBAEpCrD,KAAK,EAAEA;cAF6B,CAAzB,CAAf;YAIH,CAzVyB;YA2V1B2M,cAAc,EAAE,UAASD,IAAT,EAAe;cAC3B,IAAIqP,WAAW,GAAG,EAAlB;cACA,IAAIC,aAAa,GAAG,CAApB;cAEA,OAAO,IAAIzhB,KAAK,CAACI,WAAN,CAAkBshB,SAAtB,CACHvP,IAAI,CAACM,KAAL,GAAa+O,WAAb,GAA2BC,aADxB,EAEHtP,IAAI,CAAC3K,GAAL,GAAWia,aAFR,EAGHD,WAHG,EAIHA,WAJG,CAAP;YAMH,CArWyB;YAuW1BzD,mBAAmB,EAAE,YAAW;cAC5B,IAAI9N,KAAK,GAAG,KAAKL,MAAjB;cACA,IAAIrL,QAAQ,GAAG,EAAf;cACA,IAAI8D,UAAU,GAAG0D,IAAI,CAAC1D,UAAtB;cACA,IAAIyC,MAAM,GAAGmF,KAAK,CAACnF,MAAN,EAAb;;cAEA,SAASrJ,IAAT,CAAciH,SAAd,EAAyB;gBACrB,OAAO1I,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,MAAlB,EAA0B;kBAC7B6C,SAAS,EAAEL,UAAU,CAAC5G,IAAX,GAAkB,GAAlB,GAAwBiH;gBADN,CAA1B,CAAP;cAGH;;cAED,SAASrH,YAAT,CAAsBgH,UAAtB,EAAkCsW,QAAlC,EAA4Cha,KAA5C,EAAmD;gBAC/C,IAAIc,KAAK,GAAG;kBACR8B,IAAI,EAAEoX,QAAQ,CAACpX,IAAT,GAAgB,IADd;kBAERC,GAAG,EAAEmX,QAAQ,CAACnX,GAAT,GAAe;gBAFZ,CAAZ;gBAIA,IAAIma,QAAQ,GAAG7W,MAAM,IAAIA,MAAM,CAAC+F,OAAP,CAAe+Q,IAAf,CAAoB,UAASC,CAAT,EAAY;kBACrD,OAAOA,CAAC,CAACld,KAAF,KAAYA,KAAnB;gBACH,CAFwB,CAAzB;gBAGA,IAAImd,OAAO,GAAGzZ,UAAU,CAAChH,YAAzB;;gBAEA,IAAIsgB,QAAJ,EAAc;kBACVG,OAAO,IAAI,MAAMzZ,UAAU,CAAC/G,oBAA5B;gBACH;;gBAED,IAAIygB,MAAM,GAAG/hB,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CACT,MADS,EAET;kBAAE6C,SAAS,EAAEoZ,OAAb;kBAAsBrc,KAAK,EAAEA;gBAA7B,CAFS,EAGT,CAAEhE,IAAI,CAAC4G,UAAU,CAAC3G,iBAAZ,CAAN,CAHS,CAAb;gBAMA,OAAOqgB,MAAP;cACH;;cAED,IAAIjX,MAAJ,EAAY;gBACR,KAAKkX,OAAL,CAAazd,QAAb,EAAuBuG,MAAM,CAACyF,GAA9B,EAAmClI,UAAU,CAACjH,WAA9C;cACH;;cAED6O,KAAK,CAACiC,mBAAN,CAA0B,KAAKoL,YAAL,CAAkB/M,GAA5C,EAAiD,UAASA,GAAT,EAAc;gBAC3D,IAAI4B,IAAI,GAAG,KAAK9B,UAAL,CAAgBE,GAAhB,CAAX;;gBACA,IAAIoO,QAAQ,GAAG,KAAKvM,cAAL,CAAoBD,IAApB,CAAf;;gBACA,IAAIiC,MAAM,GAAG,KAAKxE,MAAL,CAAYqS,YAAZ,CAAyB1R,GAAzB,CAAb;;gBACA,IAAIwR,MAAM,GAAG1gB,YAAY,CAACgH,UAAD,EAAasW,QAAb,EAAuBvK,MAAvB,CAAzB;gBAEA7P,QAAQ,CAACgE,IAAT,CAAcwZ,MAAd;cACH,CAPgD,CAO/CnT,IAP+C,CAO1C,IAP0C,CAAjD;cASA,OAAO5O,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;gBAC5B6C,SAAS,EAAEL,UAAU,CAAClH;cADM,CAAzB,EAEJoD,QAFI,CAAP;YAIH,CA3ZyB;YA6Z1BuZ,qBAAqB,EAAE,YAAW;cAC9B,IAAIzV,UAAU,GAAGmS,IAAI,CAACnS,UAAtB;cACA,IAAI4H,KAAK,GAAG,KAAKL,MAAjB;cACA,IAAIsS,UAAU,GAAG,EAAjB;;cAEAjS,KAAK,CAACkS,kBAAN,CAAyBlX,OAAzB,CAAiC,UAASpH,KAAT,EAAgB;gBAC7C,IAAI0M,GAAG,GAAG1M,KAAK,CAAC0M,GAAhB;;gBAEA,IAAIA,GAAG,KAAKvQ,KAAK,CAACI,WAAN,CAAkBgiB,OAA9B,EAAuC;kBACnC;gBACH;;gBAED,KAAKJ,OAAL,CAAaE,UAAb,EAAyB3R,GAAzB,EAA8BlI,UAAU,CAAC8U,kBAAX,GAAgC,GAAhC,GAAsCtZ,KAAK,CAACwe,UAA1E;cACH,CARgC,CAQ/BzT,IAR+B,CAQ1B,IAR0B,CAAjC;;cAUA,OAAO5O,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;gBAAE6C,SAAS,EAAEL,UAAU,CAACwU;cAAxB,CAAzB,EAAqEqF,UAArE,CAAP;YAEH,CA9ayB;YAgb1BtE,eAAe,EAAE,UAAS/c,QAAT,EAAmB;cAChC,IAAIwH,UAAU,GAAGmS,IAAI,CAACnS,UAAtB;cACA,IAAI6Z,UAAU,GAAG,EAAjB;cACA,IAAII,gBAAgB,GAAG,CAACja,UAAU,CAACkK,SAAZ,CAAvB;cACA,IAAItC,KAAK,GAAG,KAAKL,MAAjB;cACA,IAAIqF,UAAU,GAAGhF,KAAK,CAACgF,UAAN,GAAmBvE,UAAnB,EAAjB;cACA,IAAI6B,SAAS,GAAGtC,KAAK,CAACR,MAAN,EAAhB;cAEA6S,gBAAgB,GAAGA,gBAAgB,CAACpC,MAAjB,CAAwB,KAAKC,mBAAL,EAAxB,CAAnB;;cAEA,IAAI5N,SAAS,CAACzN,IAAV,OAAqB,CAAzB,EAA4B;gBACxBwd,gBAAgB,CAAC/Z,IAAjB,CAAsB,oBAAtB;cACH;;cAED,IAAI,KAAKqH,MAAL,CAAY2S,aAAZ,EAAJ,EAAiC;gBAC7BD,gBAAgB,CAAC/Z,IAAjB,CAAsB,wBAAtB;cACH;;cAEDgK,SAAS,CAACtH,OAAV,CAAkB,UAASsF,GAAT,EAAc;gBAC5B,IAAIA,GAAG,KAAKvQ,KAAK,CAACI,WAAN,CAAkBgiB,OAA9B,EAAuC;kBACnC,KAAKJ,OAAL,CAAaE,UAAb,EAAyB3R,GAAzB,EAA8B+R,gBAAgB,CAACxZ,IAAjB,CAAsB,GAAtB,CAA9B;gBACH;cACJ,CAJiB,CAIhB8F,IAJgB,CAIX,IAJW,CAAlB;;cAMA,KAAK4T,yBAAL,CAA+BN,UAA/B,EAA2CjN,UAA3C,EAAuDpU,QAAvD;;cAEA,OAAOb,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;gBAAE6C,SAAS,EAAEL,UAAU,CAACwU;cAAxB,CAAzB,EAAqEqF,UAArE,CAAP;YACH,CA3cyB;YA6c1BrE,cAAc,EAAE,YAAW;cACvB,IAAI4E,iBAAiB,GAAG,EAAxB;;cAEA,IAAI,KAAK7S,MAAL,CAAY8S,kBAAZ,EAAJ,EAAsC;gBAClC,IAAIC,WAAW,GAAG,KAAK/S,MAAL,CAAY+S,WAAZ,EAAlB;;gBACA,IAAIC,KAAK,GAAG,KAAKhT,MAAL,CAAY2S,aAAZ,EAAZ;;gBACA,IAAIM,SAAS,GAAG,KAAKjT,MAAL,CAAYkT,kBAA5B;;gBAEA,KAAKd,OAAL,CAAaS,iBAAb,EAAgCE,WAAhC,EAA6C,aAA7C;;gBAEA,IAAIC,KAAJ,EAAW;kBAAE;kBACT,KAAKZ,OAAL,CAAaS,iBAAb,EAAgCG,KAAhC,EAAuC,mBAAvC;gBACH,CAFD,MAEO,IAAIC,SAAS,KAAK9iB,SAAlB,EAA6B;kBAAE;kBAClC,IAAIwQ,GAAJ,EAASwS,QAAT;;kBAEA,QAAOF,SAAP;oBACI,KAAK,CAAL;sBACItS,GAAG,GAAGoS,WAAW,CAACK,WAAlB;sBACAD,QAAQ,GAAG,qBAAX;sBACA;;oBACJ,KAAK,CAAL;sBACIxS,GAAG,GAAGoS,WAAW,CAACK,WAAlB;sBACAD,QAAQ,GAAG,qBAAX;sBACA;;oBACJ,KAAK,CAAL;sBACIxS,GAAG,GAAG,IAAIpQ,OAAJ,CAAYwiB,WAAW,CAAC/G,OAAZ,CAAoBxX,GAAhC,EAAqCue,WAAW,CAACK,WAAZ,CAAwB3Y,GAA7D,CAAN;sBACA0Y,QAAQ,GAAG,qBAAX;sBACA;;oBACJ,KAAK,CAAL;sBACIxS,GAAG,GAAG,IAAIpQ,OAAJ,CAAYwiB,WAAW,CAACK,WAAZ,CAAwB5e,GAApC,EAAyCue,WAAW,CAAC/G,OAAZ,CAAoBvR,GAA7D,CAAN;sBACA0Y,QAAQ,GAAG,qBAAX;sBACA;kBAhBR;;kBAmBA,IAAIvQ,SAAS,GAAG,KAAKwP,OAAL,CAAaS,iBAAb,EAAgClS,GAAhC,EAAqCwS,QAArC,CAAhB;;kBACA,IAAIvQ,SAAJ,EAAe;oBACX,IAAIyQ,IAAI,GAAGjjB,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,MAAlB,EAA0B;sBAAE6C,SAAS,EAAE;oBAAb,CAA1B,EAAsD,CAAE1I,KAAK,CAAC4F,GAAN,CAAUsC,IAAV,CAAe,KAAK0H,MAAL,CAAYsT,aAA3B,CAAF,CAAtD,CAAX;oBACA1Q,SAAS,CAACjO,QAAV,CAAmBgE,IAAnB,CAAwB0a,IAAxB;kBACH;gBACJ;cACJ;;cAED,OAAOjjB,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;gBAAE6C,SAAS,EAAE8R,IAAI,CAACnS,UAAL,CAAgByU;cAA7B,CAAzB,EAAyE2F,iBAAzE,CAAP;YACH,CAxfyB;YA0f1BT,OAAO,EAAE,UAAS5c,UAAT,EAAqBmL,GAArB,EAA0B7H,SAA1B,EAAqC;cAC1C,IAAIhI,IAAI,GAAG,KAAK4c,YAAhB;cAAA,IAA8BvU,GAA9B;;cAEA,IAAIrI,IAAI,CAAC6P,GAAL,CAAS8B,UAAT,CAAoB9B,GAApB,CAAJ,EAA8B;gBAC1BxH,GAAG,GAAG,KAAKsH,UAAL,CAAgBE,GAAhB,EAAqB4J,MAArB,CAA4B,CAA5B,EAA+B,CAA/B,EAAkC8G,KAAlC,CAAwCvY,SAAxC,CAAN;gBACAtD,UAAU,CAACmD,IAAX,CAAgBQ,GAAhB;cACH;;cACD,OAAOA,GAAP;YACH,CAlgByB;YAogB1ByZ,yBAAyB,EAAE,UAASpd,UAAT,EAAqBmL,GAArB,EAA0B1P,QAA1B,EAAoC;cAC3D,IAAIgR,IAAI,GAAG,IAAX;cACA,IAAI5B,KAAK,GAAG4B,IAAI,CAACjC,MAAjB;cACA,IAAIlP,IAAI,GAAGmR,IAAI,CAACyL,YAAhB;cACA,IAAIjB,WAAW,GAAGxK,IAAI,CAACrB,KAAL,CAAWK,OAAX,CAAmBsS,KAAnB,CAAyBC,MAA3C;cACA,IAAIxQ,EAAE,GAAG3C,KAAK,CAAC4C,sBAAN,EAAT;;cAEA,IAAID,EAAE,IAAIlS,IAAI,CAAC6P,GAAL,CAAS8B,UAAT,CAAoB9B,GAApB,CAAV,EAAoC;gBAChC,IAAIiC,SAAS,GAAGX,IAAI,CAACxB,UAAL,CAAgBE,GAAhB,CAAhB;;gBACAN,KAAK,CAAChF,OAAN,CAAcsF,GAAG,CAAC8S,QAAJ,EAAd,EAA8B,UAASjf,GAAT,EAAciG,GAAd,EAAmBhF,IAAnB,EAAyB;kBACnDA,IAAI,CAACkC,IAAL,GAAYiL,SAAS,CAACjL,IAAtB;kBACAlC,IAAI,CAACmC,GAAL,GAAWgL,SAAS,CAAChL,GAArB;kBACAnC,IAAI,CAACoC,KAAL,GAAa+K,SAAS,CAAC/K,KAAvB;kBACApC,IAAI,CAACqC,MAAL,GAAc8K,SAAS,CAAC9K,MAAxB;kBAEA,IAAI4b,QAAQ,GAAG,kGAAf;;kBACA,IAAIC,YAAY,GAAGlZ,GAAG,IAAIgS,WAAW,GAAG,CAArB,IAA0BxK,IAAI,CAAC2R,uBAAL,CAA6Bpf,GAA7B,EAAkCiG,GAAlC,EAAuCxJ,QAAvC,CAA7C;;kBACA,IAAI0iB,YAAJ,EAAkB;oBACdD,QAAQ,IAAI,4BAAZ;kBACH;;kBACDzR,IAAI,CAACkB,mBAAL,GAA2BwQ,YAA3B;kBACA,IAAIE,GAAG,GAAGzjB,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;oBAC/B6C,SAAS,EAAE4a,QADoB;oBAE/B7d,KAAK,EAAE;sBACH8B,IAAI,EAAMlC,IAAI,CAACkC,IAAL,IAAagc,YAAY,GAAG,CAAH,GAAOle,IAAI,CAACoC,KAArC,CAAD,GAAgD,IADtD;sBAEHD,GAAG,EAAMnC,IAAI,CAACmC,GAAL,GAAW,IAFjB;sBAGHE,MAAM,EAAGrC,IAAI,CAACqC,MAAL,GAAc;oBAHpB;kBAFwB,CAAzB,CAAV;;kBAQA,IAAIkL,EAAE,CAACnR,IAAP,EAAa;oBACTgiB,GAAG,CAAClf,QAAJ,CAAagE,IAAb,CAAkBvI,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,MAAlB,EAA0B;sBACxC6C,SAAS,EAAE,YAAYkK,EAAE,CAACnR;oBADc,CAA1B,CAAlB;kBAGH;;kBACD2D,UAAU,CAACmD,IAAX,CAAgBkb,GAAhB;gBACH,CA1BD;cA2BH;YACJ,CAziByB;YA2iB1BtD,mBAAmB,EAAE,YAAW;cAC5B,IAAIuD,sBAAJ;cACA,IAAIC,YAAY,GAAG,EAAnB;;cAEA,IAAI,KAAK/T,MAAL,CAAYyK,YAAZ,EAAJ,EAAgC;gBAC5BqJ,sBAAsB,GAAG,KAAK9T,MAAL,CAAYuS,kBAAZ,CAA+BrX,MAA/B,CAAsC,UAASrH,GAAT,EAAc;kBAAE,OAAOA,GAAG,CAACmgB,MAAJ,IAAcngB,GAAG,CAACkE,IAAJ,IAAY,KAAjC;gBAAyC,CAA/F,EAAiG,CAAjG,CAAzB;;gBAEA,IAAI+b,sBAAJ,EAA4B;kBACxBC,YAAY,CAACpb,IAAb,CAAkBmb,sBAAsB,CAACrB,UAAzC;gBACH;cACJ;;cAED,OAAOsB,YAAP;YACH,CAxjByB;YA0jB1BvD,iBAAiB,EAAE,UAAS/a,IAAT,EAAe;cAC9B,IAAIwe,WAAW,GAAG,EAAlB;cACA,IAAIxb,UAAU,GAAGmS,IAAI,CAACnS,UAAtB;cACA,IAAI3H,IAAI,GAAG,KAAK4c,YAAL,CAAkB/M,GAA7B;;cAEA,IAAI,CAAClL,IAAI,CAACye,IAAL,CAAU,CAAV,EAAa,CAAC,CAAd,EAAiBzR,UAAjB,CAA4B3R,IAA5B,CAAL,EAAwC;gBACpCmjB,WAAW,CAACtb,IAAZ,CAAiBF,UAAU,CAACd,IAA5B;cACH;;cAED,IAAI,CAAClC,IAAI,CAACye,IAAL,CAAU,CAAC,CAAX,EAAc,CAAd,EAAiBzR,UAAjB,CAA4B3R,IAA5B,CAAL,EAAwC;gBACpCmjB,WAAW,CAACtb,IAAZ,CAAiBF,UAAU,CAACb,GAA5B;cACH;;cAED,IAAI,CAACnC,IAAI,CAACye,IAAL,CAAU,CAAV,EAAa,CAAb,EAAgBzR,UAAhB,CAA2B3R,IAA3B,CAAL,EAAuC;gBACnCmjB,WAAW,CAACtb,IAAZ,CAAiBF,UAAU,CAACoK,KAA5B;cACH;;cAED,IAAI,CAACpN,IAAI,CAACye,IAAL,CAAU,CAAV,EAAa,CAAb,EAAgBzR,UAAhB,CAA2B3R,IAA3B,CAAL,EAAuC;gBACnCmjB,WAAW,CAACtb,IAAZ,CAAiBF,UAAU,CAACqK,MAA5B;cACH;;cAED,OAAOmR,WAAP;YACH,CAhlByB;YAklB1BxT,UAAU,EAAE,UAASE,GAAT,EAAc;cACtB,OAAO,KAAKC,KAAL,CAAWC,iBAAX,CAA6BF,GAAG,CAACG,UAAJ,EAA7B,EAA+C3F,MAA/C,CAAsD,CAAC,KAAKuS,YAAL,CAAkByG,cAAzE,EAAyF,CAAC,KAAKzG,YAAL,CAAkB0G,aAA5G,CAAP;YACH,CAplByB;YAslB1BR,uBAAuB,EAAE,UAASpf,GAAT,EAAciG,GAAd,EAAmBxJ,QAAnB,EAA6B;cAClD,IAAIgR,IAAI,GAAG,IAAX;cACA,IAAIC,OAAO,GAAGD,IAAI,CAACrB,KAAnB;cACA,IAAIP,KAAK,GAAG4B,IAAI,CAACjC,MAAjB;;cACA,IAAIW,GAAG,GAAGN,KAAK,CAACpM,KAAN,CAAYO,GAAZ,EAAiBiG,GAAjB,EAAsB4Z,IAAhC;;cACA,IAAI1N,UAAU,GAAGzE,OAAO,CAAC0E,gBAAR,CAAyBjG,GAAzB,CAAjB;cACA,IAAIQ,UAAU,GAAGe,OAAO,CAACjB,OAAR,CAAgBC,MAAhB,GAAyB,CAAzB,GAA6BjQ,QAAQ,CAACkQ,UAAvD;;cAEA,IAAIwF,UAAU,CAAC9D,KAAX,GAAmBlS,iBAAnB,GAAuCwQ,UAAvC,IAAqD1G,GAAG,GAAG,CAAN,KAAY4F,KAAK,CAACwF,aAAN,EAArE,EAA4F;gBACxF,OAAO,IAAP;cACH;YACJ;UAjmByB,CAAnB,CAAX;;UAomBA,SAAS6L,oBAAT,CAA8B/U,SAA9B,EAAyC;YACrC,CAAE,GAAF,EAAO,IAAP,EAAa,GAAb,EAAkB,IAAlB,EAAwB,GAAxB,EAA6B,IAA7B,EAAmC,GAAnC,EAAwC,IAAxC,EAA+CtB,OAA/C,CAAuD,UAAS4X,SAAT,EAAoB;cACvEtW,SAAS,CAAChE,IAAV,CAAevI,KAAK,CAAC4F,GAAN,CAAUC,OAAV,CAAkB,KAAlB,EAAyB;gBACpC,aAAa,kCAAkCgd,SADX;gBAEpC,kBAAkBA;cAFkB,CAAzB,CAAf;YAIH,CALD;UAMH;;UAED7iB,KAAK,CAACI,WAAN,CAAkB2L,IAAlB,GAAyBA,IAAzB;UACA/L,KAAK,CAACI,WAAN,CAAkBoa,IAAlB,GAAyBA,IAAzB;UACAxa,KAAK,CAACI,WAAN,CAAkB+E,QAAlB,GAA6BA,QAA7B;UAEAlF,CAAC,CAAC8J,MAAF,CAAS,IAAT,EAAegC,IAAf,EAAqB;YAAE1D,UAAU,EAAE5H;UAAd,CAArB;UACAR,CAAC,CAAC8J,MAAF,CAAS,IAAT,EAAeyQ,IAAf,EAAqB;YAAEnS,UAAU,EAAEC;UAAd,CAArB;QAEH,CA77DD,EA67DG5E,MAAM,CAAC1D,KA77DV;MA87DC,CAr8D+F,EAq8D7FR,mBAAmB,CAAC0kB,IAr8DyE;MAw8DhG;;IAAO,CA78D8B;;IA+8DrC;IAAM;IACN;IAAO,UAAS5kB,MAAT,EAAiB;MAExB;;MACAA,MAAM,CAACC,OAAP,GAAiB4kB,OAAO,CAAC,eAAD,CAAxB;MAEA;IAAO,CAr9D8B;;IAu9DrC;IAAM;IACN;IAAO,UAAS7kB,MAAT,EAAiB;MAExB;;MACAA,MAAM,CAACC,OAAP,GAAiB4kB,OAAO,CAAC,eAAD,CAAxB;MAEA;IAAO,CA79D8B;;IA+9DrC;IAAM;IACN;IAAO,UAAS7kB,MAAT,EAAiB;MAExB;;MACAA,MAAM,CAACC,OAAP,GAAiB4kB,OAAO,CAAC,cAAD,CAAxB;MAEA;IAAO,CAr+D8B;;IAu+DrC;IAAM;IACN;IAAO,UAAS7kB,MAAT,EAAiB;MAExB;;MACAA,MAAM,CAACC,OAAP,GAAiB4kB,OAAO,CAAC,aAAD,CAAxB;MAEA;IAAO;IAEP;;EA/+DqC,CAA3B;EAg/DV;;EACA;EAAU;;EACV;;EAAU,IAAIC,wBAAwB,GAAG,EAA/B;EACV;;EACA;EAAU;;EACV;;EAAU,SAAS5kB,mBAAT,CAA6B6kB,QAA7B,EAAuC;IACjD;IAAW;;IACX;IAAW,IAAIC,YAAY,GAAGF,wBAAwB,CAACC,QAAD,CAA3C;IACX;;IAAW,IAAIC,YAAY,KAAKvkB,SAArB,EAAgC;MAC3C;MAAY,OAAOukB,YAAY,CAAC/kB,OAApB;MACZ;IAAY;IACZ;IAAW;;IACX;;;IAAW,IAAID,MAAM,GAAG8kB,wBAAwB,CAACC,QAAD,CAAxB,GAAqC;MAC7D;MAAY;;MACZ;MAAY;;MACZ;MAAY9kB,OAAO,EAAE;MACrB;;IAJ6D,CAAlD;IAKX;;IACA;IAAW;;IACX;;IAAWF,mBAAmB,CAACglB,QAAD,CAAnB,CAA8B/kB,MAA9B,EAAsCA,MAAM,CAACC,OAA7C,EAAsDC,mBAAtD;IACX;;IACA;IAAW;;IACX;;;IAAW,OAAOF,MAAM,CAACC,OAAd;IACX;EAAW;EACX;;EACA;;EACA;;EAAU;;EACV;;;EAAU,CAAC,YAAW;IACtB;IAAWC,mBAAmB,CAAC0kB,IAApB,GAA2B,YAAY;MAClD;MAAY,MAAM,IAAIK,KAAJ,CAAU,gCAAV,CAAN;MACZ;IAAY,CAFD;IAGX;;EAAW,CAJA,EAAD;EAKV;;EACA;;EACA;;EACA;EAAU;;EACV;EAAU;;EACV;EAAU;;EACV;;EAAU,IAAIC,mBAAmB,GAAGhlB,mBAAmB,CAAC,KAAD,CAA7C;EACV;;;EAAUF,MAAM,CAACC,OAAP,GAAiBilB,mBAAjB;EACV;;EACA;AAAU,CA1hED"},"metadata":{},"sourceType":"script"}