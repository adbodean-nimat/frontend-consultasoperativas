{"ast":null,"code":"require(\"core-js/modules/es.array.at.js\");\n\nrequire(\"core-js/modules/es.string.at-alternative.js\");\n\nrequire(\"core-js/modules/es.error.cause.js\");\n\n/******/\n(function () {\n  // webpackBootstrap\n\n  /******/\n  var __webpack_modules__ = {\n    /***/\n    22200:\n    /***/\n    function (module, exports, __webpack_require__) {\n      var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n      (function (f, define) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(57949)], __WEBPACK_AMD_DEFINE_FACTORY__ = f, __WEBPACK_AMD_DEFINE_RESULT__ = typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n      })(function () {\n        var __meta__ = {\n          id: \"scheduler.view\",\n          name: \"Scheduler View\",\n          category: \"web\",\n          description: \"The Scheduler Common View\",\n          depends: [\"core\"],\n          hidden: true\n        };\n        kendo.ui.scheduler = {};\n\n        (function ($) {\n          var kendo = window.kendo,\n              ui = kendo.ui,\n              getDate = kendo.date.getDate,\n              Widget = ui.Widget,\n              outerHeight = kendo._outerHeight,\n              keys = kendo.keys,\n              NS = \".kendoSchedulerView\",\n              INVERSE_COLOR_CLASS = \"k-event-inverse\",\n              MIN_HORIZONTAL_SCROLL_SIZE = 1024,\n              math = Math,\n              SPACE = \" \";\n\n          function levels(values, key) {\n            var result = [];\n\n            function collect(depth, values) {\n              values = values[key];\n\n              if (values) {\n                var level = result[depth] = result[depth] || [];\n\n                for (var idx = 0; idx < values.length; idx++) {\n                  level.push(values[idx]);\n                  collect(depth + 1, values[idx]);\n                }\n              }\n            }\n\n            collect(0, values);\n            return result;\n          }\n\n          function table(tableRows, className) {\n            if (!tableRows.length) {\n              return \"\";\n            }\n\n            return '<table role=\"presentation\" class=\"' + kendo.trim('k-scheduler-table ' + (className || \"\")) + '\">' + '<tr>' + tableRows.join(\"</tr><tr>\") + '</tr>' + '</table>';\n          }\n\n          function allDayTable(tableRows, className) {\n            if (!tableRows.length) {\n              return \"\";\n            }\n\n            return \"<div style='position:relative'>\" + table(tableRows, className) + \"</div>\";\n          }\n\n          function timesHeader(columnLevelCount, allDaySlot, rowCount) {\n            var tableRows = [];\n\n            if (rowCount > 0) {\n              for (var idx = 0; idx < columnLevelCount; idx++) {\n                tableRows.push(\"<th>&#8203;</th>\");\n              }\n            }\n\n            if (allDaySlot) {\n              tableRows.push('<th class=\"k-scheduler-times-all-day\">' + allDaySlot.text + '</th>');\n            }\n\n            if (rowCount < 1) {\n              return $();\n            }\n\n            return $('<div class=\"k-scheduler-times\">' + table(tableRows) + '</div>');\n          }\n\n          function content() {\n            return $('<div class=\"k-scheduler-content\">' + '<table role=\"presentation\" class=\"k-scheduler-table\"></table>' + '</div>');\n          }\n\n          var HINT = '<div class=\"k-marquee k-scheduler-marquee\">' + '<div class=\"k-marquee-color\"></div>' + '<div class=\"k-marquee-text\">' + '<div class=\"k-label-top\"></div>' + '<div class=\"k-label-bottom\"></div>' + '</div>' + '</div>';\n          var ResourceView = kendo.Class.extend({\n            init: function (index, isRtl, enforceAllDaySlot) {\n              this._index = index;\n              this._timeSlotCollections = [];\n              this._daySlotCollections = [];\n              this._isRtl = isRtl;\n              this._enforceAllDaySlot = enforceAllDaySlot;\n            },\n            addTimeSlotCollection: function (startDate, endDate) {\n              return this._addCollection(startDate, endDate, this._timeSlotCollections);\n            },\n            addDaySlotCollection: function (startDate, endDate) {\n              return this._addCollection(startDate, endDate, this._daySlotCollections);\n            },\n            _addCollection: function (startDate, endDate, collections) {\n              var collection = new SlotCollection(startDate, endDate, this._index, collections.length);\n              collections.push(collection);\n              return collection;\n            },\n            timeSlotCollectionCount: function () {\n              return this._timeSlotCollections.length;\n            },\n            daySlotCollectionCount: function () {\n              return this._daySlotCollections.length;\n            },\n            daySlotByPosition: function (x, y, byDate) {\n              return this._slotByPosition(x, y, this._daySlotCollections, byDate);\n            },\n            timeSlotByPosition: function (x, y, byDate) {\n              return this._slotByPosition(x, y, this._timeSlotCollections, byDate);\n            },\n            _slotByPosition: function (x, y, collections, byDate) {\n              for (var collectionIndex = 0; collectionIndex < collections.length; collectionIndex++) {\n                var collection = collections[collectionIndex];\n\n                for (var slotIndex = 0; slotIndex < collection.count(); slotIndex++) {\n                  var slot = collection.at(slotIndex);\n                  var width = slot.offsetWidth;\n                  var height = slot.offsetHeight;\n                  var nextSlot;\n                  var horizontalEnd = slot.offsetLeft + width;\n                  var verticalEnd = slot.offsetTop + height;\n\n                  if (!byDate) {\n                    nextSlot = collection.at(slotIndex + 1);\n                  }\n\n                  if (nextSlot) {\n                    if (nextSlot.offsetLeft != slot.offsetLeft) {\n                      if (this._isRtl) {\n                        horizontalEnd = slot.offsetLeft + (slot.offsetLeft - nextSlot.offsetLeft);\n                      } else {\n                        horizontalEnd = nextSlot.offsetLeft;\n                      }\n                    } else {\n                      verticalEnd = nextSlot.offsetTop;\n                    }\n                  }\n\n                  if (x >= slot.offsetLeft && x < horizontalEnd && y >= slot.offsetTop && y < verticalEnd) {\n                    return slot;\n                  }\n                }\n              }\n            },\n            refresh: function () {\n              var collectionIndex;\n\n              for (collectionIndex = 0; collectionIndex < this._daySlotCollections.length; collectionIndex++) {\n                this._daySlotCollections[collectionIndex].refresh();\n              }\n\n              for (collectionIndex = 0; collectionIndex < this._timeSlotCollections.length; collectionIndex++) {\n                this._timeSlotCollections[collectionIndex].refresh();\n              }\n            },\n            timeSlotRanges: function (startTime, endTime) {\n              var collections = this._timeSlotCollections;\n\n              var start = this._startSlot(startTime, collections);\n\n              var firstIndex, lastIndex;\n\n              if (!start.inRange && startTime >= start.slot.end) {\n                firstIndex = start.slot.collectionIndex + 1;\n                start = null;\n              }\n\n              var end = start;\n\n              if (startTime < endTime) {\n                end = this._endSlot(endTime, collections);\n              }\n\n              if (end && !end.inRange && endTime <= end.slot.start) {\n                lastIndex = end.slot.collectionIndex;\n\n                if (endTime === end.slot.start && (start && lastIndex > start.slot.collectionIndex || lastIndex > firstIndex)) {\n                  lastIndex -= 1;\n                }\n\n                end = null;\n              }\n\n              if (start === null && end === null) {\n                if (endTime - startTime < kendo.date.MS_PER_DAY) {\n                  return [];\n                } else {\n                  start = {\n                    inRange: true,\n                    slot: collections[firstIndex].first()\n                  };\n                  end = {\n                    inRange: true,\n                    slot: collections[lastIndex].last()\n                  };\n                }\n              }\n\n              if (start === null) {\n                if (end.slot.end <= startTime) {\n                  return [];\n                }\n\n                start = {\n                  inRange: true,\n                  slot: (collections[firstIndex] || collections[end.slot.collectionIndex]).first()\n                };\n              }\n\n              if (end === null) {\n                if (start.slot.start >= endTime) {\n                  return [];\n                }\n\n                end = {\n                  inRange: true,\n                  slot: (collections[lastIndex] || collections[start.slot.collectionIndex]).last()\n                };\n              }\n\n              return this._continuousRange(TimeSlotRange, collections, start, end);\n            },\n            daySlotRanges: function (startTime, endTime, isAllDay) {\n              var collections = this._daySlotCollections;\n\n              var start = this._startSlot(startTime, collections, isAllDay);\n\n              if (!start.inRange && startTime >= start.slot.end) {\n                start = null;\n              }\n\n              var end = start;\n\n              if (startTime < endTime) {\n                end = this._endSlot(endTime, collections, isAllDay);\n              }\n\n              if (end && !end.inRange && endTime <= end.slot.start) {\n                end = null;\n              }\n\n              if (start === null && end === null) {\n                return [];\n              }\n\n              if (start === null) {\n                if (end.slot.end <= startTime) {\n                  return [];\n                }\n\n                do {\n                  startTime += kendo.date.MS_PER_DAY;\n                  start = this._startSlot(startTime, collections, isAllDay);\n                } while (!start.inRange && startTime >= start.slot.end);\n              }\n\n              if (end === null) {\n                if (start.slot.start >= endTime) {\n                  return [];\n                }\n\n                do {\n                  endTime -= kendo.date.MS_PER_DAY;\n                  end = this._endSlot(endTime, collections, isAllDay);\n                } while (!end.inRange && endTime <= end.slot.start);\n              }\n\n              return this._continuousRange(DaySlotRange, collections, start, end);\n            },\n            _continuousRange: function (range, collections, start, end) {\n              var startSlot = start.slot;\n              var endSlot = end.slot;\n              var startIndex = startSlot.collectionIndex;\n              var endIndex = endSlot.collectionIndex;\n              var ranges = [];\n\n              for (var collectionIndex = startIndex; collectionIndex <= endIndex; collectionIndex++) {\n                var collection = collections[collectionIndex];\n                var first = collection.first();\n                var last = collection.last();\n                var head = false;\n                var tail = false;\n\n                if (collectionIndex == startIndex) {\n                  tail = !start.inRange;\n                }\n\n                if (collectionIndex == endIndex) {\n                  head = !end.inRange;\n                }\n\n                if (first.start < startSlot.start) {\n                  first = startSlot;\n                }\n\n                if (last.start > endSlot.start) {\n                  last = endSlot;\n                }\n\n                if (startIndex < endIndex) {\n                  if (collectionIndex == startIndex) {\n                    head = true;\n                  } else if (collectionIndex == endIndex) {\n                    tail = true;\n                  } else {\n                    head = tail = true;\n                  }\n                }\n\n                ranges.push(new range({\n                  start: first,\n                  end: last,\n                  collection: collection,\n                  head: head,\n                  tail: tail\n                }));\n              }\n\n              return ranges;\n            },\n            slotRanges: function (event, isDay) {\n              var startTime = event._startTime || kendo.date.toUtcTime(event.start);\n              var endTime = event._endTime || kendo.date.toUtcTime(event.end);\n\n              if (isDay === undefined) {\n                if (this._enforceAllDaySlot) {\n                  isDay = event.isMultiDay();\n                } else {\n                  isDay = event.isAllDay;\n                }\n              }\n\n              if (isDay) {\n                return this.daySlotRanges(startTime, endTime, event.isAllDay);\n              }\n\n              return this.timeSlotRanges(startTime, endTime);\n            },\n            ranges: function (startTime, endTime, isDay, isAllDay) {\n              if (typeof startTime != \"number\") {\n                startTime = kendo.date.toUtcTime(startTime);\n              }\n\n              if (typeof endTime != \"number\") {\n                endTime = kendo.date.toUtcTime(endTime);\n              }\n\n              if (isDay) {\n                return this.daySlotRanges(startTime, endTime, isAllDay);\n              }\n\n              return this.timeSlotRanges(startTime, endTime);\n            },\n            _startCollection: function (date, collections) {\n              for (var collectionIndex = 0; collectionIndex < collections.length; collectionIndex++) {\n                var collection = collections[collectionIndex];\n\n                if (collection.startInRange(date)) {\n                  return collection;\n                }\n              }\n\n              return null;\n            },\n            _endCollection: function (date, collections, isAllDay) {\n              for (var collectionIndex = 0; collectionIndex < collections.length; collectionIndex++) {\n                var collection = collections[collectionIndex];\n\n                if (collection.endInRange(date, isAllDay)) {\n                  return collection;\n                }\n              }\n\n              return null;\n            },\n            _getCollections: function (isDay) {\n              return isDay ? this._daySlotCollections : this._timeSlotCollections;\n            },\n            continuousSlot: function (slot, reverse) {\n              var pad = reverse ? -1 : 1;\n\n              var collections = this._getCollections(slot.isDaySlot);\n\n              var collection = collections[slot.collectionIndex + pad];\n              return collection ? collection[reverse ? \"last\" : \"first\"]() : undefined;\n            },\n            firstSlot: function () {\n              var collections = this._getCollections(this.daySlotCollectionCount());\n\n              return collections[0].first();\n            },\n            lastSlot: function () {\n              var collections = this._getCollections(this.daySlotCollectionCount());\n\n              return collections[collections.length - 1].last();\n            },\n            upSlot: function (slot, keepCollection, groupByDateVertically) {\n              var that = this;\n\n              var moveToDaySlot = function (isDaySlot, collectionIndex, index) {\n                var isFirstCell = index === 0;\n\n                if (!keepCollection && !isDaySlot && isFirstCell && that.daySlotCollectionCount()) {\n                  return that._daySlotCollections[0].at(collectionIndex);\n                }\n              };\n\n              if (!this.timeSlotCollectionCount()) {\n                keepCollection = true;\n              }\n\n              return this._verticalSlot(slot, -1, moveToDaySlot, groupByDateVertically);\n            },\n            downSlot: function (slot, keepCollection, groupByDateVertically) {\n              var that = this;\n\n              var moveToTimeSlot = function (isDaySlot, collectionIndex, index) {\n                if (!keepCollection && isDaySlot && that.timeSlotCollectionCount()) {\n                  return that._timeSlotCollections[index].at(0);\n                }\n              };\n\n              if (!this.timeSlotCollectionCount()) {\n                keepCollection = true;\n              }\n\n              return this._verticalSlot(slot, 1, moveToTimeSlot, groupByDateVertically);\n            },\n            leftSlot: function (slot, groupByDateVertically) {\n              return this._horizontalSlot(slot, -1, groupByDateVertically);\n            },\n            rightSlot: function (slot, groupByDateVertically) {\n              return this._horizontalSlot(slot, 1, groupByDateVertically);\n            },\n            _horizontalSlot: function (slot, step, groupByDateVertically) {\n              var index = slot.index;\n              var isDaySlot = slot.isDaySlot;\n              var collectionIndex = slot.collectionIndex;\n\n              var collections = this._getCollections(isDaySlot);\n\n              isDaySlot = groupByDateVertically ? false : isDaySlot;\n\n              if (isDaySlot) {\n                index += step;\n              } else {\n                collectionIndex += step;\n              }\n\n              var collection = collections[collectionIndex];\n              return collection ? collection.at(index) : undefined;\n            },\n            _verticalSlot: function (slot, step, swapCollection, groupByDateVertically) {\n              var index = slot.index;\n              var isDaySlot = slot.isDaySlot;\n              var collectionIndex = slot.collectionIndex;\n\n              var collections = this._getCollections(isDaySlot);\n\n              slot = swapCollection(isDaySlot, collectionIndex, index);\n\n              if (slot) {\n                return slot;\n              }\n\n              isDaySlot = groupByDateVertically ? false : isDaySlot;\n\n              if (isDaySlot) {\n                collectionIndex += step;\n              } else {\n                index += step;\n              }\n\n              var collection = collections[collectionIndex];\n              return collection ? collection.at(index) : undefined;\n            },\n            _collection: function (index, multiday) {\n              var collections = multiday ? this._daySlotCollections : this._timeSlotCollections;\n              return collections[index];\n            },\n            _startSlot: function (time, collections, isAllDay) {\n              var collection = this._startCollection(time, collections);\n\n              var inRange = true;\n              var index = 0;\n\n              if (!collection) {\n                collection = collections[index];\n\n                while (index < collections.length - 1 && collection._start < time) {\n                  index++;\n                  collection = collections[index];\n                }\n\n                inRange = false;\n              }\n\n              var slot = collection.slotByStartDate(time, isAllDay);\n\n              if (!slot) {\n                slot = collection.first();\n                inRange = false;\n              }\n\n              return {\n                slot: slot,\n                inRange: inRange\n              };\n            },\n            _endSlot: function (time, collections, isAllDay) {\n              var collection = this._endCollection(time, collections, isAllDay);\n\n              var inRange = true;\n              var index = collections.length - 1;\n\n              if (!collection) {\n                collection = collections[index];\n\n                while (index > 0 && collection._start > time) {\n                  index--;\n                  collection = collections[index];\n                }\n\n                inRange = false;\n              }\n\n              var slot = collection.slotByEndDate(time, isAllDay);\n\n              if (!slot) {\n                if (time <= collection.first().start) {\n                  slot = collection.first();\n                } else {\n                  slot = collection.last();\n                }\n\n                inRange = false;\n              }\n\n              return {\n                slot: slot,\n                inRange: inRange\n              };\n            },\n            getSlotCollection: function (index, isDay) {\n              return this[isDay ? \"getDaySlotCollection\" : \"getTimeSlotCollection\"](index);\n            },\n            getTimeSlotCollection: function (index) {\n              return this._timeSlotCollections[index];\n            },\n            getDaySlotCollection: function (index) {\n              return this._daySlotCollections[index];\n            }\n          });\n          var SlotRange = kendo.Class.extend({\n            init: function (options) {\n              $.extend(this, options);\n            },\n            innerHeight: function () {\n              var collection = this.collection;\n              var startIndex = this.start.index;\n              var endIndex = this.end.index;\n              var result = 0;\n\n              for (var slotIndex = startIndex; slotIndex <= endIndex; slotIndex++) {\n                result += collection.at(slotIndex).offsetHeight;\n              }\n\n              return result;\n            },\n            events: function () {\n              return this.collection.events();\n            },\n            addEvent: function (event) {\n              this.events().push(event);\n            },\n            startSlot: function () {\n              if (this.start.offsetLeft > this.end.offsetLeft) {\n                return this.end;\n              }\n\n              return this.start;\n            },\n            endSlot: function () {\n              if (this.start.offsetLeft > this.end.offsetLeft) {\n                return this.start;\n              }\n\n              return this.end;\n            }\n          });\n          var TimeSlotRange = SlotRange.extend({\n            innerHeight: function () {\n              var collection = this.collection;\n              var startIndex = this.start.index;\n              var endIndex = this.end.index;\n              var result = 0;\n\n              for (var slotIndex = startIndex; slotIndex <= endIndex; slotIndex++) {\n                result += collection.at(slotIndex).offsetHeight;\n              }\n\n              return result;\n            },\n            outerRect: function (start, end, snap) {\n              return this._rect(\"offset\", start, end, snap);\n            },\n            _rect: function (property, start, end, snap) {\n              var top;\n              var bottom;\n              var left;\n              var right;\n              var startSlot = this.start;\n              var endSlot = this.end;\n              var isRtl = kendo.support.isRtl(startSlot.element);\n\n              if (typeof start != \"number\") {\n                start = kendo.date.toUtcTime(start);\n              }\n\n              if (typeof end != \"number\") {\n                end = kendo.date.toUtcTime(end);\n              }\n\n              if (snap) {\n                top = startSlot.offsetTop;\n                bottom = endSlot.offsetTop + endSlot[property + \"Height\"];\n\n                if (isRtl) {\n                  left = endSlot.offsetLeft;\n                  right = startSlot.offsetLeft + startSlot[property + \"Width\"];\n                } else {\n                  left = startSlot.offsetLeft;\n                  right = endSlot.offsetLeft + endSlot[property + \"Width\"];\n                }\n              } else {\n                var startOffset = start - startSlot.start;\n\n                if (startOffset < 0) {\n                  startOffset = 0;\n                }\n\n                var startSlotDuration = startSlot.end - startSlot.start;\n                top = startSlot.offsetTop + startSlot[property + \"Height\"] * startOffset / startSlotDuration;\n                var endOffset = endSlot.end - end;\n\n                if (endOffset < 0) {\n                  endOffset = 0;\n                }\n\n                var endSlotDuration = endSlot.end - endSlot.start;\n                bottom = endSlot.offsetTop + endSlot[property + \"Height\"] - endSlot[property + \"Height\"] * endOffset / endSlotDuration;\n\n                if (isRtl) {\n                  left = Math.round(endSlot.offsetLeft + endSlot[property + \"Width\"] * endOffset / endSlotDuration);\n                  right = Math.round(startSlot.offsetLeft + startSlot[property + \"Width\"] - startSlot[property + \"Width\"] * startOffset / startSlotDuration);\n                } else {\n                  left = Math.round(startSlot.offsetLeft + startSlot[property + \"Width\"] * startOffset / startSlotDuration);\n                  right = Math.round(endSlot.offsetLeft + endSlot[property + \"Width\"] - endSlot[property + \"Width\"] * endOffset / endSlotDuration);\n                }\n              }\n\n              return {\n                top: top,\n                bottom: bottom,\n                //first column has no left border\n                left: left === 0 ? left : left + 1,\n                right: right\n              };\n            },\n            innerRect: function (start, end, snap) {\n              return this._rect(\"client\", start, end, snap);\n            }\n          });\n          var DaySlotRange = SlotRange.extend({\n            innerWidth: function () {\n              var collection = this.collection;\n              var startIndex = this.start.index;\n              var endIndex = this.end.index;\n              var result = 0;\n              var width = startIndex !== endIndex ? \"offsetWidth\" : \"clientWidth\";\n\n              for (var slotIndex = startIndex; slotIndex <= endIndex; slotIndex++) {\n                result += collection.at(slotIndex)[width];\n              }\n\n              return result;\n            }\n          });\n          var SlotCollection = kendo.Class.extend({\n            init: function (startDate, endDate, groupIndex, collectionIndex) {\n              this._slots = [];\n              this._events = [];\n              this._start = kendo.date.toUtcTime(startDate);\n              this._end = kendo.date.toUtcTime(endDate);\n              this._groupIndex = groupIndex;\n              this._collectionIndex = collectionIndex;\n            },\n            refresh: function () {\n              for (var slotIndex = 0; slotIndex < this._slots.length; slotIndex++) {\n                this._slots[slotIndex].refresh();\n              }\n            },\n            startInRange: function (date) {\n              return this._start <= date && date < this._end;\n            },\n            endInRange: function (date, isAllDay) {\n              var end = isAllDay ? date < this._end : date <= this._end;\n              return this._start <= date && end;\n            },\n            slotByStartDate: function (date) {\n              var time = date;\n\n              if (typeof time != \"number\") {\n                time = kendo.date.toUtcTime(date);\n              }\n\n              for (var slotIndex = 0; slotIndex < this._slots.length; slotIndex++) {\n                var slot = this._slots[slotIndex];\n\n                if (slot.startInRange(time)) {\n                  return slot;\n                }\n              }\n\n              return null;\n            },\n            slotByEndDate: function (date, allday) {\n              var time = date;\n\n              if (typeof time != \"number\") {\n                time = kendo.date.toUtcTime(date);\n              }\n\n              if (allday) {\n                return this.slotByStartDate(date, false);\n              }\n\n              for (var slotIndex = 0; slotIndex < this._slots.length; slotIndex++) {\n                var slot = this._slots[slotIndex];\n\n                if (slot.endInRange(time)) {\n                  return slot;\n                }\n              }\n\n              return null;\n            },\n            count: function () {\n              return this._slots.length;\n            },\n            events: function () {\n              return this._events;\n            },\n            addTimeSlot: function (element, start, end, isHorizontal) {\n              var slot = new TimeSlot(element, start, end, this._groupIndex, this._collectionIndex, this._slots.length, isHorizontal);\n\n              this._slots.push(slot);\n            },\n            addDaySlot: function (element, start, end, eventCount) {\n              var slot = new DaySlot(element, start, end, this._groupIndex, this._collectionIndex, this._slots.length, eventCount);\n\n              this._slots.push(slot);\n            },\n            first: function () {\n              return this._slots[0];\n            },\n            last: function () {\n              return this._slots[this._slots.length - 1];\n            },\n            at: function (index) {\n              return this._slots[index];\n            }\n          });\n          var Slot = kendo.Class.extend({\n            init: function (element, start, end, groupIndex, collectionIndex, index) {\n              this.element = element;\n              this.clientWidth = element.clientWidth;\n              this.clientHeight = element.clientHeight;\n              this.offsetWidth = element.offsetWidth;\n              this.offsetHeight = element.offsetHeight;\n              this.offsetTop = element.offsetTop;\n              this.offsetLeft = element.offsetLeft;\n              this.start = start;\n              this.end = end;\n              this.element = element;\n              this.groupIndex = groupIndex;\n              this.collectionIndex = collectionIndex;\n              this.index = index;\n              this.isDaySlot = false;\n            },\n            refresh: function () {\n              var element = this.element;\n              this.clientWidth = element.clientWidth;\n              this.clientHeight = element.clientHeight;\n              this.offsetWidth = element.offsetWidth;\n              this.offsetHeight = element.offsetHeight;\n              this.offsetTop = element.offsetTop;\n              this.offsetLeft = element.offsetLeft;\n            },\n            startDate: function () {\n              return kendo.timezone.toLocalDate(this.start);\n            },\n            endDate: function () {\n              return kendo.timezone.toLocalDate(this.end);\n            },\n            startInRange: function (date) {\n              return this.start <= date && date < this.end;\n            },\n            endInRange: function (date) {\n              return this.start < date && date <= this.end;\n            },\n            startOffset: function () {\n              return this.start;\n            },\n            endOffset: function () {\n              return this.end;\n            }\n          });\n          var TimeSlot = Slot.extend({\n            init: function (element, start, end, groupIndex, collectionIndex, index, isHorizontal) {\n              Slot.fn.init.apply(this, arguments);\n              this.isHorizontal = isHorizontal ? true : false;\n            },\n            offsetX: function (rtl, offset) {\n              if (rtl) {\n                return this.offsetLeft + offset;\n              } else {\n                return this.offsetLeft + offset;\n              }\n            },\n            startInRange: function (date) {\n              return this.start <= date && date < this.end;\n            },\n            endInRange: function (date) {\n              return this.start < date && date <= this.end;\n            },\n            startOffset: function (x, y, snap) {\n              if (snap) {\n                return this.start;\n              }\n\n              var offset = $(this.element).offset();\n              var duration = this.end - this.start;\n              var difference;\n              var time;\n\n              if (this.isHorizontal) {\n                //need update\n                var isRtl = kendo.support.isRtl(this.element);\n                difference = x - offset.left;\n                time = Math.floor(duration * (difference / this.offsetWidth));\n\n                if (isRtl) {\n                  return this.start + duration - time;\n                }\n              } else {\n                difference = y - offset.top;\n                time = Math.floor(duration * (difference / this.offsetHeight));\n              }\n\n              return this.start + time;\n            },\n            endOffset: function (x, y, snap) {\n              if (snap) {\n                return this.end;\n              }\n\n              var offset = $(this.element).offset();\n              var duration = this.end - this.start;\n              var difference;\n              var time;\n\n              if (this.isHorizontal) {\n                //need update\n                var isRtl = kendo.support.isRtl(this.element);\n                difference = x - offset.left;\n                time = Math.floor(duration * (difference / this.offsetWidth));\n\n                if (isRtl) {\n                  return this.start + duration - time;\n                }\n              } else {\n                difference = y - offset.top;\n                time = Math.floor(duration * (difference / this.offsetHeight));\n              }\n\n              return this.start + time;\n            }\n          });\n          var DaySlot = Slot.extend({\n            init: function (element, start, end, groupIndex, collectionIndex, index, eventCount) {\n              Slot.fn.init.apply(this, arguments);\n              this.eventCount = eventCount;\n              this.isDaySlot = true;\n\n              if (this.element.children.length) {\n                var firstChild = this.element.children[0];\n                this.firstChildHeight = firstChild.offsetHeight;\n                this.firstChildTop = firstChild.offsetTop;\n              } else {\n                this.firstChildHeight = 3;\n                this.firstChildTop = 0;\n              }\n            },\n            startDate: function () {\n              var date = new Date(this.start);\n              return kendo.timezone.apply(date, \"Etc/UTC\");\n            },\n            endDate: function () {\n              var date = new Date(this.end);\n              return kendo.timezone.apply(date, \"Etc/UTC\");\n            },\n            startInRange: function (date) {\n              return this.start <= date && date < this.end;\n            },\n            endInRange: function (date) {\n              return this.start < date && date <= this.end;\n            }\n          });\n          var scrollbarWidth;\n\n          function scrollbar() {\n            scrollbarWidth = scrollbarWidth ? scrollbarWidth : kendo.support.scrollbar();\n            return scrollbarWidth;\n          }\n\n          kendo.ui.SchedulerView = Widget.extend({\n            init: function (element, options) {\n              Widget.fn.init.call(this, element, $.extend({}, this.options, options));\n\n              this._normalizeOptions();\n\n              this._scrollbar = scrollbar();\n              this._isRtl = kendo.support.isRtl(element);\n              this._resizeHint = $();\n              this._moveHint = $();\n              this._cellId = kendo.guid();\n\n              this._resourcesForGroups();\n\n              this._selectedSlots = [];\n              this.element.attr(\"role\", \"application\");\n            },\n            options: {\n              messages: {\n                ariaEventLabel: {\n                  on: \"on\",\n                  at: \"at\",\n                  to: \"to\",\n                  allDay: \"(all day)\",\n                  prefix: \"\"\n                }\n              }\n            },\n            visibleEndDate: function () {\n              return this.endDate();\n            },\n            _normalizeOptions: function () {\n              var options = this.options;\n\n              if (options.startTime) {\n                options.startTime.setMilliseconds(0);\n              }\n\n              if (options.endTime) {\n                options.endTime.setMilliseconds(0);\n              }\n\n              if (options.workDayStart) {\n                options.workDayStart.setMilliseconds(0);\n              }\n\n              if (options.workDayEnd) {\n                options.workDayEnd.setMilliseconds(0);\n              }\n            },\n            _isMobile: function () {\n              var options = this.options;\n              return options.mobile === true && kendo.support.mobileOS || options.mobile === \"phone\" || options.mobile === \"tablet\";\n            },\n            _addResourceView: function () {\n              var resourceView = new ResourceView(this.groups.length, this._isRtl, this.options.enforceAllDaySlot);\n              this.groups.push(resourceView);\n              return resourceView;\n            },\n            dateForTitle: function () {\n              return kendo.format(this.options.selectedDateFormat, this.startDate(), this.endDate());\n            },\n            shortDateForTitle: function () {\n              return kendo.format(this.options.selectedShortDateFormat, this.startDate(), this.endDate());\n            },\n            mobileDateForTitle: function () {\n              return kendo.format(this.options.selectedMobileDateFormat || this.options.selectedShortDateFormat, this.startDate(), this.endDate());\n            },\n            _changeGroup: function (selection, previous) {\n              var method = previous ? \"prevGroupSlot\" : \"nextGroupSlot\";\n              var slot = this[method](selection.start, selection.groupIndex, selection.isAllDay);\n\n              if (slot) {\n                selection.groupIndex += previous ? -1 : 1;\n              }\n\n              if (this._isGroupedByDate() && !slot) {\n                selection.groupIndex = previous ? this.groups.length - 1 : 0;\n              }\n\n              return slot;\n            },\n            _changeDate: function (selection, slot, previous) {\n              var group = this.groups[selection.groupIndex];\n              var collections, index;\n\n              if (previous) {\n                collections = group._getCollections(false);\n                index = group.daySlotCollectionCount() ? slot.index - 1 : slot.collectionIndex - 1;\n\n                if (index >= 0) {\n                  return collections[index]._slots[collections[index]._slots.length - 1];\n                }\n              } else {\n                collections = group._getCollections(group.daySlotCollectionCount());\n                index = group.daySlotCollectionCount() ? 0 : slot.collectionIndex + 1;\n                var slotIndex = group.daySlotCollectionCount() ? slot.collectionIndex + 1 : 0;\n\n                if (collections[index] && collections[index]._slots[slotIndex]) {\n                  return collections[index]._slots[slotIndex];\n                }\n              }\n            },\n            _changeGroupContinuously: function () {\n              return null;\n            },\n            _changeViewPeriod: function () {\n              return false;\n            },\n            _isInRange: function (newStart, newEnd) {\n              if (!newStart || !newEnd || !this.options.min || !this.options.max) {\n                return false;\n              }\n\n              return getDate(newStart) <= getDate(this.options.min) || getDate(newEnd) >= getDate(this.options.max);\n            },\n            _horizontalSlots: function (selection, ranges, multiple, reverse) {\n              var method = reverse ? \"leftSlot\" : \"rightSlot\";\n              var horizontalRange = {\n                startSlot: ranges[0].start,\n                endSlot: ranges[ranges.length - 1].end\n              };\n              var group = this.groups[selection.groupIndex];\n\n              var isVertical = this._isVerticallyGrouped();\n\n              if (!multiple) {\n                var slot = this._normalizeHorizontalSelection(selection, ranges, reverse);\n\n                if (slot) {\n                  horizontalRange.startSlot = horizontalRange.endSlot = slot;\n                }\n              }\n\n              if (this._isGroupedByDate() && !multiple) {\n                var tempSlot = this._changeGroup(selection, reverse);\n\n                if (!tempSlot) {\n                  horizontalRange = this._getNextHorizontalRange(group, method, horizontalRange);\n                } else {\n                  horizontalRange.startSlot = horizontalRange.endSlot = tempSlot;\n                }\n              } else {\n                horizontalRange.startSlot = group[method](horizontalRange.startSlot);\n                horizontalRange.endSlot = group[method](horizontalRange.endSlot);\n\n                if (!multiple && !isVertical && (!horizontalRange.startSlot || !horizontalRange.endSlot)) {\n                  horizontalRange.startSlot = horizontalRange.endSlot = this._changeGroup(selection, reverse);\n                }\n              }\n\n              var continuousSlot;\n\n              if ((!horizontalRange.startSlot || !horizontalRange.endSlot) && !this._isGroupedByDate()) {\n                continuousSlot = this._continuousSlot(selection, ranges, reverse);\n                continuousSlot = this._changeGroupContinuously(selection, continuousSlot, multiple, reverse);\n\n                if (continuousSlot) {\n                  horizontalRange.startSlot = horizontalRange.endSlot = continuousSlot;\n                }\n              }\n\n              return horizontalRange;\n            },\n            _getNextHorizontalRange: function (group, method, horizontalRange) {\n              if (!this._isVerticallyGrouped()) {\n                horizontalRange.startSlot = group[method](horizontalRange.startSlot);\n                horizontalRange.endSlot = group[method](horizontalRange.endSlot);\n              }\n\n              return horizontalRange;\n            },\n            _verticalSlots: function (selection, ranges, multiple, reverse) {\n              var group = this.groups[selection.groupIndex];\n              var slot;\n              var verticalRange = {\n                startSlot: ranges[0].start,\n                endSlot: ranges[ranges.length - 1].end\n              };\n\n              if (!multiple) {\n                slot = this._normalizeVerticalSelection(selection, ranges, reverse);\n\n                if (slot) {\n                  verticalRange.startSlot = verticalRange.endSlot = slot;\n                }\n              }\n\n              var method = reverse ? \"upSlot\" : \"downSlot\";\n              verticalRange = this._getNextVerticalRange(group, method, verticalRange, multiple);\n\n              if (!multiple && this._isVerticallyGrouped() && (!verticalRange.startSlot || !verticalRange.endSlot)) {\n                if (this._isGroupedByDate()) {\n                  verticalRange.startSlot = verticalRange.endSlot = this._changeDate(selection, slot, reverse);\n                } else {\n                  verticalRange.startSlot = verticalRange.endSlot = this._changeGroup(selection, reverse);\n                }\n              }\n\n              return verticalRange;\n            },\n            _getNextVerticalRange: function (group, method, verticalRange, multiple) {\n              verticalRange.startSlot = group[method](verticalRange.startSlot, multiple);\n              verticalRange.endSlot = group[method](verticalRange.endSlot, multiple);\n              return verticalRange;\n            },\n            _normalizeHorizontalSelection: function () {\n              return null;\n            },\n            _normalizeVerticalSelection: function (selection, ranges, reverse) {\n              var slot;\n\n              if (reverse) {\n                slot = ranges[0].start;\n              } else {\n                slot = ranges[ranges.length - 1].end;\n              }\n\n              return slot;\n            },\n            _continuousSlot: function () {\n              return null;\n            },\n            _footer: function () {\n              var that = this;\n              var options = that.options;\n\n              if (that._isMobile()) {\n                var html = '<div class=\"k-scheduler-footer k-toolbar\">';\n                html += '<span class=\"k-scheduler-today\"><a href=\"#\" class=\"k-link\">';\n                html += options.messages.today + '</a></span>';\n                html += \"</div>\";\n                that.footer = $(html).appendTo(that.element);\n              }\n\n              if (that.footer) {\n                that.footer.on(\"click\" + NS, \".k-scheduler-today\", function (e) {\n                  e.preventDefault();\n                  var timezone = that.options.timezone;\n                  var action = \"today\";\n                  var currentDate = new Date();\n                  var date;\n\n                  if (timezone) {\n                    var timezoneOffset = kendo.timezone.offset(currentDate, timezone);\n                    date = kendo.timezone.convert(currentDate, currentDate.getTimezoneOffset(), timezoneOffset);\n                  } else {\n                    date = currentDate;\n                  }\n\n                  that.trigger(\"navigate\", {\n                    view: that.name || options.name,\n                    action: action,\n                    date: date\n                  });\n                });\n              }\n            },\n            constrainSelection: function (selection) {\n              var group = this.groups[0];\n              var slot;\n\n              if (!this.inRange(selection)) {\n                slot = group.firstSlot();\n                selection.isAllDay = slot.isDaySlot;\n                selection.start = slot.startDate();\n                selection.end = slot.endDate();\n              } else {\n                if (!group.daySlotCollectionCount()) {\n                  selection.isAllDay = false;\n                } else if (!group.timeSlotCollectionCount()) {\n                  selection.isAllDay = true;\n                }\n              }\n\n              if (!this.groups[selection.groupIndex]) {\n                selection.groupIndex = 0;\n              }\n            },\n            move: function (selection, key, shift) {\n              var handled = false;\n              var group = this.groups[selection.groupIndex];\n\n              var verticalByDate = this._isGroupedByDate() && this._isVerticallyGrouped();\n\n              if (!group.timeSlotCollectionCount()) {\n                selection.isAllDay = true;\n              }\n\n              var ranges = group.ranges(selection.start, selection.end, selection.isAllDay, false);\n              var startSlot, endSlot, reverse, slots;\n\n              if (key === keys.DOWN || key === keys.UP) {\n                handled = true;\n                reverse = key === keys.UP;\n\n                this._updateDirection(selection, ranges, shift, reverse, true);\n\n                slots = this._verticalSlots(selection, ranges, shift, reverse);\n\n                if (!slots.startSlot && !shift && this._changeViewPeriod(selection, reverse, !verticalByDate)) {\n                  return handled;\n                }\n              } else if (key === keys.LEFT || key === keys.RIGHT) {\n                handled = true;\n                reverse = key === keys.LEFT;\n\n                this._updateDirection(selection, ranges, shift, reverse, false);\n\n                slots = this._horizontalSlots(selection, ranges, shift, reverse);\n\n                if (!slots.startSlot && !shift && this._changeViewPeriod(selection, reverse, verticalByDate)) {\n                  return handled;\n                }\n              }\n\n              if (handled) {\n                startSlot = slots.startSlot;\n                endSlot = slots.endSlot;\n\n                if (shift) {\n                  var backward = selection.backward;\n\n                  if (backward && startSlot) {\n                    selection.start = startSlot.startDate();\n                  } else if (!backward && endSlot) {\n                    selection.end = endSlot.endDate();\n                  }\n                } else if (startSlot && endSlot) {\n                  selection.isAllDay = startSlot.isDaySlot;\n                  selection.start = startSlot.startDate();\n                  selection.end = endSlot.endDate();\n                }\n\n                selection.events = [];\n              }\n\n              return handled;\n            },\n            moveToEventInGroup: function (group, slot, selectedEvents, prev) {\n              var events = group._continuousEvents || [];\n              var found, event;\n              var pad = prev ? -1 : 1;\n              var length = events.length;\n              var idx = prev ? length - 1 : 0;\n              var i, lastSelected;\n\n              if (selectedEvents.length) {\n                lastSelected = selectedEvents[selectedEvents.length - 1];\n\n                if (prev) {\n                  for (i = 0; i < events.length; i++) {\n                    if (events[i].uid === lastSelected) {\n                      idx = i + pad;\n                    }\n                  }\n                } else {\n                  for (i = events.length - 1; i > -1; i--) {\n                    if (events[i].uid === lastSelected) {\n                      idx = i + pad;\n                    }\n                  }\n                }\n              }\n\n              while (idx < length && idx > -1) {\n                event = events[idx];\n\n                if (!prev && event.start.startDate() >= slot.startDate() || prev && event.start.startDate() <= slot.startDate()) {\n                  if (event && $.inArray(event.uid, selectedEvents) === -1) {\n                    found = !!event;\n                    break;\n                  }\n                }\n\n                idx += pad;\n              }\n\n              return event;\n            },\n            moveToEvent: function (selection, prev) {\n              var groupIndex = selection.groupIndex;\n              var group = this.groups[groupIndex];\n              var slot = group.ranges(selection.start, selection.end, this.name === \"month\" || selection.isAllDay, false)[0].start;\n              var length = this.groups.length;\n              var pad = prev ? -1 : 1;\n              var events = selection.events;\n              var event;\n\n              if (this._isGroupedByDate()) {\n                var allEvents = this._getAllEvents();\n\n                var uniqueAllEvents = this._getUniqueEvents(allEvents);\n\n                var sortedEvents = this._getSortedEvents(uniqueAllEvents);\n\n                if (events.length === 0) {\n                  var eventIndex = this._getNextEventIndexBySlot(slot, sortedEvents, groupIndex);\n\n                  if (prev) {\n                    eventIndex--;\n                  }\n\n                  event = sortedEvents[eventIndex];\n                } else {\n                  var idx = this._getStartIdx(events, sortedEvents);\n\n                  while (idx < sortedEvents.length && idx > -1) {\n                    if (events.length > 0) {\n                      slot = this._getSelectedSlot(slot, sortedEvents, event, idx, pad, prev);\n                    }\n\n                    if (!slot) {\n                      break;\n                    }\n\n                    if (!prev && sortedEvents[idx].start.startDate() >= slot.startDate() || prev && sortedEvents[idx].start.startDate() <= slot.startDate()) {\n                      if (events[0] != sortedEvents[idx].uid) {\n                        event = sortedEvents[idx];\n                        break;\n                      }\n                    }\n\n                    idx += pad;\n                  }\n                }\n              } else {\n                while (groupIndex < length && groupIndex > -1) {\n                  event = this.moveToEventInGroup(group, slot, events, prev);\n                  groupIndex += pad;\n                  group = this.groups[groupIndex];\n\n                  if (!group || event) {\n                    break;\n                  }\n\n                  events = [];\n\n                  if (prev) {\n                    slot = group.lastSlot();\n                  } else {\n                    slot = group.firstSlot(true);\n                  }\n                }\n              }\n\n              if (event) {\n                selection.events = [event.uid];\n                selection.start = event.start.startDate();\n                selection.end = event.end.endDate();\n                selection.isAllDay = event.start.isDaySlot;\n                selection.groupIndex = event.start.groupIndex;\n                selection.eventElement = event.element[0];\n              }\n\n              return !!event;\n            },\n            current: function (candidate) {\n              if (candidate !== undefined) {\n                this._current = candidate;\n\n                if (this.content.has(candidate)) {\n                  this._scrollTo(candidate, this.content[0]);\n                }\n              } else {\n                return this._current;\n              }\n            },\n            select: function (selection) {\n              this.clearSelection();\n\n              if (!this._selectEvents(selection)) {\n                this._selectSlots(selection);\n              }\n            },\n            _getNextEventIndexBySlot: function (slot, sortedEvents, groupIndex) {\n              var tempIndex = 0;\n              var slotStartDate = kendo.date.getDate(slot.startDate());\n\n              for (var i = 0; i < sortedEvents.length; i++) {\n                var eventStartDate = kendo.date.getDate(sortedEvents[i].start.startDate());\n\n                if (slotStartDate > eventStartDate) {\n                  tempIndex++;\n                  continue;\n                }\n\n                if (slotStartDate.getTime() === eventStartDate.getTime() && groupIndex > sortedEvents[i].start.groupIndex) {\n                  tempIndex++;\n                  continue;\n                }\n\n                if (slotStartDate.getTime() === eventStartDate.getTime() && groupIndex >= sortedEvents[i].start.groupIndex && slot.startDate() > sortedEvents[i].start.startDate()) {\n                  tempIndex++;\n                  continue;\n                }\n\n                break;\n              }\n\n              return tempIndex;\n            },\n            _getSelectedSlot: function (slot, sortedEvents, event, idx, pad, prev) {\n              if (sortedEvents[idx + pad] && sortedEvents[idx].start.groupIndex !== sortedEvents[idx + pad].start.groupIndex) {\n                var groupIndex = sortedEvents[idx + pad].start.groupIndex;\n                var group = this.groups[groupIndex];\n\n                if (!group || event) {\n                  slot = null;\n                }\n\n                if (prev) {\n                  slot = group.lastSlot();\n                } else {\n                  slot = group.firstSlot(true);\n                }\n              }\n\n              return slot;\n            },\n            _getStartIdx: function (events, sortedEvents) {\n              var selectedEventIndex = 0;\n              $.each(sortedEvents, function () {\n                if (this.uid === events[0]) {\n                  return false;\n                }\n\n                selectedEventIndex++;\n              });\n              return selectedEventIndex;\n            },\n            _getAllEvents: function () {\n              var allEvents = [];\n              var groups = this.groups;\n\n              for (var idx = 0; idx < groups.length; idx++) {\n                if (groups[idx]._continuousEvents) {\n                  allEvents = allEvents.concat(groups[idx]._continuousEvents);\n                }\n              }\n\n              return allEvents;\n            },\n            _getUniqueEvents: function (allEvents) {\n              var uniqueAllEvents = [];\n\n              for (var i = 0; i < allEvents.length; i++) {\n                var exists = false;\n\n                for (var j = 0; j < uniqueAllEvents.length; j++) {\n                  if (allEvents[i].uid === uniqueAllEvents[j].uid) {\n                    exists = true;\n                    break;\n                  }\n                }\n\n                if (!exists) {\n                  uniqueAllEvents.push(allEvents[i]);\n                }\n              }\n\n              return uniqueAllEvents;\n            },\n            _getSortedEvents: function (uniqueAllEvents) {\n              return uniqueAllEvents.sort(function (first, second) {\n                var firstStartDate = first.start.startDate();\n                var secondStartDate = second.start.startDate();\n                var result = kendo.date.getDate(firstStartDate) - kendo.date.getDate(secondStartDate);\n\n                if (result === 0) {\n                  result = first.start.groupIndex - second.start.groupIndex;\n                }\n\n                if (result === 0) {\n                  result = firstStartDate.getTime() - secondStartDate.getTime();\n                }\n\n                if (result === 0) {\n                  if (first.start.isDaySlot && !second.start.isDaySlot) {\n                    result = -1;\n                  }\n\n                  if (!first.start.isDaySlot && second.start.isDaySlot) {\n                    result = 1;\n                  }\n                }\n\n                if (result === 0) {\n                  result = $(first.element).index() - $(second.element).index();\n                }\n\n                return result;\n              });\n            },\n            _selectSlots: function (selection) {\n              var isAllDay = selection.isAllDay;\n              var group = this.groups[selection.groupIndex];\n\n              if (!group.timeSlotCollectionCount()) {\n                isAllDay = true;\n              }\n\n              this._selectedSlots = [];\n              var ranges = group.ranges(selection.start, selection.end, isAllDay, false);\n              var element;\n              var slot;\n\n              for (var rangeIndex = 0; rangeIndex < ranges.length; rangeIndex++) {\n                var range = ranges[rangeIndex];\n                var collection = range.collection;\n\n                for (var slotIndex = range.start.index; slotIndex <= range.end.index; slotIndex++) {\n                  slot = collection.at(slotIndex);\n                  element = slot.element;\n                  addSelectedState(element);\n\n                  this._selectedSlots.push({\n                    start: slot.startDate(),\n                    end: slot.endDate(),\n                    element: element\n                  });\n                }\n              }\n\n              if (selection.backward) {\n                element = ranges[0].start.element;\n              }\n\n              this.current(element);\n            },\n            _selectEvents: function (selection) {\n              var found = false;\n              var events = selection.events;\n\n              var groupEvents = this._getAllEvents();\n\n              var idx,\n                  groupEvent,\n                  length = groupEvents.length;\n\n              if (!events[0] || !groupEvents[0]) {\n                return found;\n              }\n\n              var result = $();\n              selection.events = [];\n\n              for (idx = 0; idx < length; idx++) {\n                if ($.inArray(groupEvents[idx].uid, events) > -1) {\n                  groupEvent = groupEvents[idx];\n                  result = result.add(groupEvent.element);\n\n                  if (selection.events.indexOf(groupEvent.uid) === -1) {\n                    selection.events.push(groupEvent.uid);\n                  }\n                }\n              }\n\n              if (result[0]) {\n                result.addClass(\"k-selected\");\n\n                if (selection.eventElement) {\n                  this.current(selection.eventElement);\n                } else {\n                  this.current(result.last()[0]);\n                }\n\n                this._selectedSlots = [];\n                found = true;\n              }\n\n              return found;\n            },\n            inRange: function (options) {\n              var startDate = this.startDate();\n              var endDate = kendo.date.addDays(this.endDate(), 1);\n              var start = options.start;\n              var end = options.end;\n              return startDate <= start && start < endDate && startDate < end && end <= endDate;\n            },\n            _resourceValue: function (resource, item) {\n              if (resource.valuePrimitive) {\n                item = kendo.getter(resource.dataValueField)(item);\n              }\n\n              return item;\n            },\n            _setResourceValue: function (groupLevelMember, resource, result) {\n              var value = groupLevelMember.value,\n                  setter;\n\n              if (resource.multiple) {\n                value = [value];\n              }\n\n              setter = kendo.setter(resource.field);\n              setter(result, value);\n            },\n            _resourceBySlot: function (slot) {\n              var resources = this.groupedResources;\n              var result = {};\n\n              if (resources.length) {\n                var resourceIndex = slot.groupIndex,\n                    groupOptions = this.options.group,\n                    nestedMember = groupOptions.date || groupOptions.orientation === \"horizontal\" ? \"columns\" : \"rows\",\n                    levels = nestedMember === \"rows\" ? this.rowLevels : this.columnLevels,\n                    dateGroupCompensation = groupOptions.date && groupOptions.orientation === \"horizontal\" ? 1 : 0,\n                    groupLevel = levels[resources.length - 1 + dateGroupCompensation],\n                    resource = resources[resources.length - 1],\n                    groupLevelMember = groupLevel[resourceIndex],\n                    passedChildren,\n                    numberOfChildren,\n                    j,\n                    i;\n\n                this._setResourceValue(groupLevelMember, resource, result);\n\n                for (j = resources.length - 2; j >= 0; j--) {\n                  groupLevel = levels[j + dateGroupCompensation];\n                  resource = resources[j];\n                  passedChildren = 0;\n\n                  for (i = 0; i < groupLevel.length; i++) {\n                    groupLevelMember = groupLevel[i];\n                    numberOfChildren = groupLevelMember[nestedMember].length;\n\n                    if (numberOfChildren > resourceIndex - passedChildren) {\n                      this._setResourceValue(groupLevelMember, resource, result);\n\n                      i = groupLevel.length;\n                    } else {\n                      passedChildren += numberOfChildren;\n                    }\n                  }\n                }\n              }\n\n              return result;\n            },\n            _createResizeHint: function (left, top, width, height) {\n              return $(HINT).css({\n                left: left,\n                top: top,\n                width: width,\n                height: height\n              });\n            },\n            _removeResizeHint: function () {\n              this._resizeHint.remove();\n\n              this._resizeHint = $();\n            },\n            _removeMoveHint: function (uid) {\n              if (uid) {\n                this._moveHint.filter(\"[data-uid='\" + uid + \"']\").remove();\n\n                this._moveHint = this._moveHint.filter(\"[data-uid!='\" + uid + \"']\");\n              } else {\n                this._moveHint.remove();\n\n                this._moveHint = $();\n              }\n            },\n            _scrollTo: function (element, container) {\n              var elementOffset = element.offsetTop,\n                  elementOffsetDir = element.offsetHeight,\n                  containerScroll = container.scrollTop,\n                  containerOffsetDir = container.clientHeight,\n                  bottomDistance = elementOffset + elementOffsetDir,\n                  result = 0;\n\n              if (containerScroll > elementOffset) {\n                result = elementOffset;\n              } else if (bottomDistance > containerScroll + containerOffsetDir) {\n                if (elementOffsetDir <= containerOffsetDir) {\n                  result = bottomDistance - containerOffsetDir;\n                } else {\n                  result = elementOffset;\n                }\n              } else {\n                result = containerScroll;\n              }\n\n              container.scrollTop = result;\n            },\n            _inverseEventColor: function (element) {\n              var eventColor = element.css(\"color\");\n              var eventColorIsDark = new Color(eventColor).isDark();\n              var eventBackground = element.css(\"background-color\");\n              var eventBackgroundIsDark = new Color(eventBackground).isDark();\n\n              if (eventColorIsDark == eventBackgroundIsDark) {\n                element.addClass(INVERSE_COLOR_CLASS);\n              }\n            },\n            _eventTmpl: function (template, wrapper) {\n              var options = this.options,\n                  settings = $.extend({}, kendo.Template, options.templateSettings),\n                  paramName = settings.paramName,\n                  html = \"\",\n                  type = typeof template,\n                  state = {\n                storage: {},\n                count: 0\n              };\n\n              if (type === \"function\") {\n                state.storage[\"tmpl\" + state.count] = template;\n                html += \"#=this.tmpl\" + state.count + \"(\" + paramName + \")#\";\n                state.count++;\n              } else if (type === \"string\") {\n                html += template;\n              }\n\n              var tmpl = kendo.template(kendo.format(wrapper, html), settings);\n\n              if (state.count > 0) {\n                tmpl = tmpl.bind(state.storage);\n              }\n\n              return tmpl;\n            },\n            eventResources: function (event) {\n              var resources = [],\n                  options = this.options;\n\n              if (!options.resources) {\n                return resources;\n              }\n\n              for (var idx = 0; idx < options.resources.length; idx++) {\n                var resource = options.resources[idx];\n                var field = resource.field;\n                var eventResources = kendo.getter(field)(event);\n\n                if (eventResources == null) {\n                  continue;\n                }\n\n                if (!resource.multiple) {\n                  eventResources = [eventResources];\n                }\n\n                var data = resource.dataSource.view();\n\n                for (var resourceIndex = 0; resourceIndex < eventResources.length; resourceIndex++) {\n                  var eventResource = null;\n                  var value = eventResources[resourceIndex];\n\n                  if (!resource.valuePrimitive) {\n                    value = kendo.getter(resource.dataValueField)(value);\n                  }\n\n                  for (var dataIndex = 0; dataIndex < data.length; dataIndex++) {\n                    if (data[dataIndex].get(resource.dataValueField) == value) {\n                      eventResource = data[dataIndex];\n                      break;\n                    }\n                  }\n\n                  if (eventResource !== null) {\n                    var resourceColor = kendo.getter(resource.dataColorField)(eventResource);\n                    resources.push({\n                      field: resource.field,\n                      title: resource.title,\n                      name: resource.name,\n                      text: kendo.getter(resource.dataTextField)(eventResource),\n                      value: value,\n                      color: resourceColor\n                    });\n                  }\n                }\n              }\n\n              return resources;\n            },\n            createLayout: function (layout) {\n              var allDayIndex = -1;\n\n              if (!layout.rows) {\n                layout.rows = [];\n              }\n\n              for (var idx = 0; idx < layout.rows.length; idx++) {\n                if (layout.rows[idx].allDay) {\n                  allDayIndex = idx;\n                  break;\n                }\n              }\n\n              var allDaySlot = layout.rows[allDayIndex];\n\n              if (allDayIndex >= 0) {\n                layout.rows.splice(allDayIndex, 1);\n              }\n\n              var columnLevels = this.columnLevels = levels(layout, \"columns\");\n              var rowLevels = this.rowLevels = levels(layout, \"rows\");\n\n              if (this._isVirtualized()) {\n                this._trimRowLevels(rowLevels);\n              }\n\n              this.table = $('<table role=\"presentation\" class=\"k-scheduler-layout k-scheduler-' + this.name + 'view\"><tbody></tbody></table>');\n              var rowCount = rowLevels[rowLevels.length - 1].length;\n              this.table.find(\"tbody\").first().append(this._topSection(columnLevels, allDaySlot, rowCount));\n              this.table.find(\"tbody\").first().append(this._bottomSection(columnLevels, rowLevels, rowCount));\n              this.element.append(this.table);\n\n              if (this._isVirtualized()) {\n                this._updateDomRowLevels();\n              } // Enable horizontal scrolling when mobile, grouped and less than 1024px width\n\n\n              if (this._isMobile() && columnLevels.length > 1 && this._groupOrientation() === \"horizontal\" && kendo._outerWidth($(window)) < MIN_HORIZONTAL_SCROLL_SIZE) {\n                this.table.find(\".k-scheduler-content .k-scheduler-table\").width(columnLevels[columnLevels.length - 2].length * 100 + \"%\");\n                this.table.find(\".k-scheduler-header .k-scheduler-table\").width(columnLevels[columnLevels.length - 2].length * 100 + \"%\");\n              }\n\n              this._scroller();\n            },\n            _isVirtualized: function () {\n              return this.options.virtual && this.rowLevels.length > 1 && this._isVerticallyGrouped();\n            },\n            _trimRowLevels: function (rowLevels) {\n              var lastGroup = rowLevels[rowLevels.length - 2];\n              var cachedRowLevels = this.cachedRowLevels || [];\n              var levelMarker;\n              this._hasContentToRender = true;\n\n              var stopAtLevel = function (levels, index) {\n                var hasParent = levels[index - 1].length > 0,\n                    parentLevel,\n                    parentValue;\n\n                if (hasParent) {\n                  parentLevel = levels[index - 1][0];\n                  parentValue = levels[index][0].parentValue;\n                  return parentLevel.value !== parentValue;\n                } else {\n                  return true;\n                }\n              };\n\n              for (var rowLevelIndex = rowLevels.length - 2; rowLevelIndex >= 0; rowLevelIndex--) {\n                var stop = false;\n\n                if (rowLevelIndex > 0 && stopAtLevel(rowLevels, rowLevelIndex)) {\n                  stop = true;\n                  levelMarker = rowLevelIndex;\n                }\n\n                cachedRowLevels[rowLevelIndex] = rowLevels[rowLevelIndex].splice(1);\n\n                if (rowLevelIndex < rowLevels.length - 2 && rowLevels[rowLevelIndex][0].rows.length != 1) {\n                  rowLevels[rowLevelIndex][0].rows = rowLevels[rowLevelIndex + 1];\n                }\n\n                if (stop) {\n                  break;\n                }\n              }\n\n              cachedRowLevels[rowLevels.length - 1] = rowLevels[rowLevels.length - 1].splice(lastGroup[0].rows.length);\n              this.cachedRowLevels = cachedRowLevels;\n\n              if (!cachedRowLevels[cachedRowLevels.length - 1].length) {\n                this._hasContentToRender = false;\n              }\n\n              return {\n                levelMarker: levelMarker || 0,\n                rowLevels: rowLevels\n              };\n            },\n            createNextLayout: function () {\n              var clone = [];\n              var trimmedRowLevels;\n              var rowLevels;\n              var levelMarker;\n              var rowCount;\n\n              for (var rowLevelIndex = 0; rowLevelIndex < this.cachedRowLevels.length; rowLevelIndex++) {\n                clone[rowLevelIndex] = this.cachedRowLevels[rowLevelIndex];\n              }\n\n              trimmedRowLevels = this._trimRowLevels(clone);\n              rowLevels = trimmedRowLevels.rowLevels.splice(trimmedRowLevels.levelMarker);\n              levelMarker = trimmedRowLevels.levelMarker;\n              rowCount = rowLevels[rowLevels.length - 1].length;\n              delete this._height;\n\n              for (var i = levelMarker; i < this.rowLevels.length; i++) {\n                this.rowLevels[i] = this.rowLevels[i].concat(rowLevels[i - levelMarker]);\n              }\n\n              this.table.find(\".k-scheduler-times\").last().find(\"tbody\").append(this._times(rowLevels, rowCount, this._isMobile()).find(\"tr\"));\n\n              this._updateDomRowLevels();\n\n              if (levelMarker > 0) {\n                for (i = 0; i < levelMarker; i++) {\n                  var cell = this.table.find(\"[data-row-level=\" + i + \"]\").last();\n                  var rowSpan = parseInt(cell.attr(\"rowspan\"), 10) + rowCount;\n                  cell.attr(\"rowspan\", rowSpan);\n                }\n              }\n\n              this._virtualContent(rowLevels, this.columnLevels);\n\n              this.render(this._cachedEvents);\n            },\n            _tryRenderContent: function () {\n              var that = this;\n              var bufferHeight = that.table.innerHeight();\n              var height = that.content.find(\"table\").innerHeight();\n              var scrollTop = that.content.scrollTop();\n\n              while (that._hasContentToRender && height - bufferHeight < scrollTop) {\n                that.createNextLayout();\n                height = that.content.find(\"table\").innerHeight();\n              }\n            },\n            _updateDomRowLevels: function () {\n              var that = this;\n              var groupCells = that.times.find(\".k-scheduler-group-cell:not([data-row-level])\");\n\n              if (!this._rowLevelIndices) {\n                this._rowLevelIndices = groupCells.map(function (index, item) {\n                  $(item).attr(\"data-row-level\", index);\n                  return index;\n                }).toArray().reverse();\n                return;\n              }\n\n              groupCells = groupCells.toArray().reverse();\n\n              for (var i = 0; i <= groupCells.length; i++) {\n                $(groupCells[i]).attr(\"data-row-level\", this._rowLevelIndices[i]);\n              }\n            },\n            refreshLayout: function () {\n              var that = this,\n                  toolbar = that.element.find(\"> .k-scheduler-toolbar\"),\n                  height = that.element.innerHeight(),\n                  scrollbar = this._scrollbar,\n                  headerHeight = 0,\n                  paddingDirection = this._isRtl ? \"left\" : \"right\";\n\n              for (var idx = 0; idx < toolbar.length; idx++) {\n                height -= outerHeight(toolbar.eq(idx));\n              }\n\n              if (that.datesHeader) {\n                headerHeight = outerHeight(that.datesHeader);\n              }\n\n              if (that.timesHeader && outerHeight(that.timesHeader) > headerHeight) {\n                headerHeight = outerHeight(that.timesHeader);\n              }\n\n              if (that.datesHeader && that.timesHeader) {\n                var datesHeaderRows = that.datesHeader.find(\"table\").first().find(\"tr\");\n                that.timesHeader.find(\"tr\").height(function (index) {\n                  $(this).height(datesHeaderRows.eq(index).height());\n                });\n              }\n\n              if (headerHeight) {\n                height -= headerHeight;\n              }\n\n              if (that.footer) {\n                height -= outerHeight(that.footer);\n              }\n\n              var isSchedulerHeightSet = function (el) {\n                var initialHeight, newHeight;\n\n                if (el[0].style.height) {\n                  return true;\n                } else {\n                  initialHeight = el.height();\n                }\n\n                el.height(\"auto\");\n                newHeight = el.height();\n\n                if (initialHeight != newHeight) {\n                  el.height(\"\");\n                  return true;\n                }\n\n                el.height(\"\");\n                return false;\n              };\n\n              var contentDiv = that.content[0],\n                  scrollbarWidth = !kendo.support.kineticScrollNeeded ? scrollbar : 0;\n\n              if (isSchedulerHeightSet(that.element)) {\n                // set content height only if needed\n                if (height > scrollbar * 2) {\n                  // do not set height if proper scrollbar cannot be displayed\n                  that.content.height(height);\n                } else {\n                  that.content.height(scrollbar * 2 + 1);\n                }\n\n                if (that.times) {\n                  that.times.height(contentDiv.clientHeight);\n                  var timesTable = that.times.find(\"table\");\n\n                  if (timesTable.length) {\n                    timesTable.height(that.content.find(\"table\")[0].clientHeight);\n                  }\n                }\n              }\n\n              if (that.table) {\n                if (contentDiv.offsetWidth - contentDiv.clientWidth > 0) {\n                  that.table.addClass(\"k-scrollbar-v\");\n                  that.datesHeader.css(\"padding-\" + paddingDirection, scrollbarWidth - parseInt(that.datesHeader.children().css(\"border-\" + paddingDirection + \"-width\"), 10));\n                } else {\n                  that.datesHeader.css(\"padding-\" + paddingDirection, \"0\");\n                }\n\n                if (contentDiv.offsetHeight - contentDiv.clientHeight > 0 || contentDiv.clientHeight > that.content.children(\".k-scheduler-table\").height()) {\n                  that.table.addClass(\"k-scrollbar-h\");\n                } else {\n                  that.table.removeClass(\"k-scrollbar-h\");\n                }\n              }\n            },\n            _topSection: function (columnLevels, allDaySlot, rowCount) {\n              var thElm = $(\"<tr>\");\n              this.timesHeader = timesHeader(columnLevels.length, allDaySlot, rowCount);\n              this.datesHeader = this._datesHeader(columnLevels, allDaySlot);\n              var dateGroup = this.datesHeader.find(\".k-nav-day\");\n\n              if (dateGroup.length) {\n                dateGroup.closest(\"tr\").addClass(\"k-scheduler-date-group\");\n              }\n\n              if (this._isMobile()) {\n                thElm.addClass(\"k-mobile-header\");\n                thElm.addClass(\"k-mobile-\" + this._groupOrientation() + \"-header\");\n              }\n\n              return $(thElm).append(this.timesHeader.add(this.datesHeader).wrap(\"<td>\").parent());\n            },\n            _bottomSection: function (columnLevels, rowLevels, rowCount) {\n              this.times = this._times(rowLevels, rowCount, this._isMobile());\n              this.content = content(columnLevels[columnLevels.length - 1], rowLevels[rowLevels.length - 1]);\n              return $(\"<tr>\").append(this.times.add(this.content).wrap(\"<td>\").parent());\n            },\n            _scroller: function () {\n              var that = this;\n              this.content.on(\"scroll\" + NS, function () {\n                kendo.scrollLeft(that.datesHeader.find(\">.k-scheduler-header-wrap\"), this.scrollLeft);\n                that.times.scrollTop(this.scrollTop);\n\n                if (that._isVirtualized()) {\n                  that._tryRenderContent();\n                }\n              });\n              var touchScroller = kendo.touchScroller(this.content, {\n                avoidScrolling: function (e) {\n                  return $(e.event.target).closest(\".k-event.k-event-active\").length > 0;\n                }\n              });\n\n              if (touchScroller && touchScroller.movable) {\n                this._touchScroller = touchScroller;\n                this.content = touchScroller.scrollElement;\n                touchScroller.movable.bind(\"change\", function (e) {\n                  kendo.scrollLeft(that.datesHeader.find(\">.k-scheduler-header-wrap\"), -e.sender.x);\n                  that.times.scrollTop(-e.sender.y);\n\n                  if (that._isVirtualized()) {\n                    that._tryRenderContent();\n                  }\n                });\n              }\n            },\n            _resourcesForGroups: function () {\n              var result = [];\n              var groups = this.options.group;\n              var resources = this.options.resources;\n              groups = groups && groups.resources ? groups.resources : [];\n\n              if (resources && groups.length) {\n                for (var idx = 0, length = resources.length; idx < length; idx++) {\n                  for (var groupIdx = 0, groupLength = groups.length; groupIdx < groupLength; groupIdx++) {\n                    if (resources[idx].name === groups[groupIdx]) {\n                      result.push(resources[idx]);\n                    }\n                  }\n                }\n              }\n\n              this.groupedResources = result;\n            },\n            _createDateLayout: function (dates, inner, times) {\n              return createDateLayoutConfiguration(\"rows\", dates, inner, times);\n            },\n            _createColumnsLayout: function (resources, inner, template, dates, times, parentValue) {\n              return createLayoutConfiguration(\"columns\", resources, inner, template, dates, times, parentValue);\n            },\n            _groupOrientation: function () {\n              var groups = this.options.group;\n              return groups && groups.resources ? groups.orientation : \"horizontal\";\n            },\n            _isGroupedByDate: function () {\n              return this.options.group && this.options.group.date;\n            },\n            _isVerticallyGrouped: function () {\n              return this.groupedResources.length && this._groupOrientation() === \"vertical\";\n            },\n            _createRowsLayout: function (resources, inner, template, dates) {\n              return createLayoutConfiguration(\"rows\", resources, inner, template, dates);\n            },\n            selectionByElement: function () {\n              return null;\n            },\n            clearSelection: function () {\n              this.content.find(\".k-selected\").removeAttr(\"id\").removeClass(\"k-selected\");\n            },\n            destroy: function () {\n              var that = this;\n              Widget.fn.destroy.call(this);\n\n              if (that.table) {\n                kendo.destroy(that.table);\n                that.table.remove();\n              }\n\n              if (that.footer) {\n                kendo.destroy(that.footer);\n                that.footer.remove();\n              }\n\n              that.groups = null;\n              that.table = null;\n              that.content = null;\n              that.times = null;\n              that.datesHeader = null;\n              that.timesHeader = null;\n              that.footer = null;\n              that._resizeHint = null;\n              that._moveHint = null;\n            },\n            calendarInfo: function () {\n              return kendo.getCulture().calendars.standard;\n            },\n            prevGroupSlot: function (date, groupIndex, isDay) {\n              var collection;\n              var group = this.groups[groupIndex];\n              var slot = group.ranges(date, date, isDay, false)[0].start;\n\n              if (groupIndex <= 0) {\n                return;\n              }\n\n              if (this._isGroupedByDate()) {\n                return slot;\n              }\n\n              if (this._isVerticallyGrouped()) {\n                if (!group.timeSlotCollectionCount()) {\n                  collection = group._collection(group.daySlotCollectionCount() - 1, true);\n                  return collection.at(slot.index);\n                } else {\n                  collection = group._collection(isDay ? slot.index : slot.collectionIndex, false);\n                  return collection.last();\n                }\n              } else {\n                if (!group.timeSlotCollectionCount()) {\n                  collection = group._collection(slot.collectionIndex, true);\n                  return collection.last();\n                } else {\n                  collection = group._collection(isDay ? 0 : group.timeSlotCollectionCount() - 1, isDay);\n                  return isDay ? collection.last() : collection.at(slot.index);\n                }\n              }\n            },\n            nextGroupSlot: function (date, groupIndex, isDay) {\n              var collection;\n              var group = this.groups[groupIndex];\n              var slot = group.ranges(date, date, isDay, false)[0].start;\n              var daySlotCollectionCount;\n\n              if (groupIndex >= this.groups.length - 1) {\n                return;\n              }\n\n              if (this._isGroupedByDate()) {\n                return slot;\n              }\n\n              if (this._isVerticallyGrouped()) {\n                if (!group.timeSlotCollectionCount()) {\n                  collection = group._collection(0, true);\n                  return collection.at(slot.index);\n                } else {\n                  daySlotCollectionCount = group.daySlotCollectionCount();\n                  collection = group._collection(daySlotCollectionCount ? 0 : slot.collectionIndex, daySlotCollectionCount);\n                  return isDay ? collection.first() : collection.at(slot.collectionIndex);\n                }\n              } else {\n                if (!group.timeSlotCollectionCount()) {\n                  collection = group._collection(slot.collectionIndex, true);\n                  return collection.first();\n                } else {\n                  collection = group._collection(0, isDay);\n                  return isDay ? collection.first() : collection.at(slot.index);\n                }\n              }\n            },\n            _eventOptionsForMove: function () {\n              return {};\n            },\n            _updateEventForResize: function () {\n              return;\n            },\n            _updateEventForSelection: function (event) {\n              return event;\n            },\n            _innerElements: function (element, type, inner) {\n              var count = 0,\n                  countInner = function (el) {\n                var innerSpan = el[inner],\n                    innerEls = el[type],\n                    current,\n                    innerCollection,\n                    i;\n\n                if (innerSpan) {\n                  count += innerSpan;\n                  return;\n                }\n\n                if (!innerEls || innerEls.length === 0) {\n                  count += 1;\n                  return;\n                }\n\n                for (i = 0; i < innerEls.length; i++) {\n                  current = innerEls[i];\n                  innerCollection = current[type];\n\n                  if (innerCollection && innerCollection[0]) {\n                    if (!innerCollection[0][type] || innerCollection[0][type].length === 0) {\n                      count += innerCollection.length;\n                    } else {\n                      countInner(current);\n                    }\n                  } else {\n                    count += 1;\n                  }\n                }\n              };\n\n              countInner(element);\n              return count;\n            },\n            _times: function (rowLevels, rowCount, isMobile) {\n              var that = this;\n              var rows = new Array(rowCount).join().split(\",\");\n              var rowHeaderRows = [];\n              var rowIndex;\n\n              for (var rowLevelIndex = 0; rowLevelIndex < rowLevels.length; rowLevelIndex++) {\n                var level = rowLevels[rowLevelIndex];\n                var rowsBefore = 0;\n\n                for (rowIndex = 0; rowIndex < level.length; rowIndex++) {\n                  var currentRow = level[rowIndex];\n                  var className = currentRow.className || \"\";\n                  var text = currentRow.text;\n\n                  var rowspan = that._innerElements(currentRow, \"rows\");\n\n                  rowsBefore += rowspan;\n\n                  if (currentRow.allDay) {\n                    className = \"k-scheduler-times-all-day\";\n                  }\n\n                  if (isMobile && className.indexOf(\"k-scheduler-group-cell\") !== -1) {\n                    text = '<span class=\"k-scheduler-group-text\">' + text + '</span>';\n                  }\n\n                  rows[rowsBefore - rowspan] += '<th class=\"' + className + '\" rowspan=\"' + rowspan + '\">' + text + \"</th>\";\n                }\n              }\n\n              for (rowIndex = 0; rowIndex < rowCount; rowIndex++) {\n                rowHeaderRows.push(rows[rowIndex]);\n              }\n\n              if (rowCount < 1) {\n                return $();\n              }\n\n              return $('<div class=\"k-scheduler-times\">' + table(rowHeaderRows) + '</div>');\n            },\n            _datesHeader: function (columnLevels, allDaySlot) {\n              var that = this;\n              var dateTableRows = [];\n              var columnIndex;\n\n              for (var columnLevelIndex = 0; columnLevelIndex < columnLevels.length; columnLevelIndex++) {\n                var level = columnLevels[columnLevelIndex];\n                var th = [];\n\n                for (columnIndex = 0; columnIndex < level.length; columnIndex++) {\n                  var column = level[columnIndex];\n\n                  var colspan = that._innerElements(column, \"columns\", \"colspan\");\n\n                  th.push('<th colspan=\"' + (column.colspan || colspan) + '\" class=\"' + (column.className || \"\") + '\">' + column.text + \"</th>\");\n                }\n\n                dateTableRows.push(th.join(\"\"));\n              }\n\n              var allDayTableRows = [];\n\n              if (allDaySlot) {\n                var lastLevel = columnLevels[columnLevels.length - 1];\n                var td = [];\n                var cellContent = allDaySlot.cellContent;\n\n                for (columnIndex = 0; columnIndex < lastLevel.length; columnIndex++) {\n                  td.push('<td class=\"' + (lastLevel[columnIndex].className || \"\") + '\">' + (cellContent ? cellContent(columnIndex) : '&nbsp;') + '</td>');\n                }\n\n                allDayTableRows.push(td.join(\"\"));\n              }\n\n              return $('<div class=\"k-scheduler-header\">' + '<div class=\"k-scheduler-header-wrap\">' + table(dateTableRows) + allDayTable(allDayTableRows, \"k-scheduler-header-all-day\") + '</div>' + '</div>');\n            },\n            _formatEventAriaLabel: function (title, start, end, isAllDay) {\n              var labelMessages = this.options.messages.ariaEventLabel,\n                  sameDate = kendo.date.getDate(start).getTime() === kendo.date.getDate(end).getTime(),\n                  labelText;\n\n              if (typeof labelMessages === \"string\") {\n                return kendo.format(labelMessages, title, start, start);\n              }\n\n              labelText = (labelMessages.prefix + SPACE + title + SPACE + labelMessages.on + SPACE + kendo.toString(start, \"D\")).trim();\n\n              if (isAllDay && sameDate) {\n                return labelText + SPACE + labelMessages.allDay;\n              } else if (isAllDay) {\n                return labelText + SPACE + labelMessages.to + SPACE + kendo.toString(end, \"D\") + SPACE + labelMessages.allDay;\n              } else {\n                labelText = labelText + SPACE + labelMessages.at + SPACE + kendo.toString(start, \"t\") + SPACE + labelMessages.to + SPACE;\n\n                if (sameDate) {\n                  return labelText + kendo.toString(end, \"t\");\n                } else {\n                  return labelText + kendo.toString(end, \"D\") + SPACE + labelMessages.at + SPACE + kendo.toString(end, \"t\");\n                }\n              }\n            }\n          });\n\n          function collidingEvents(elements, start, end) {\n            var idx, index, startIndex, overlaps, endIndex;\n\n            for (idx = elements.length - 1; idx >= 0; idx--) {\n              index = rangeIndex(elements[idx]);\n              startIndex = index.start;\n              endIndex = index.end;\n              overlaps = startIndex <= start && endIndex >= start;\n\n              if (overlaps || startIndex >= start && endIndex <= end || start <= startIndex && end >= startIndex) {\n                if (startIndex < start) {\n                  start = startIndex;\n                }\n\n                if (endIndex > end) {\n                  end = endIndex;\n                }\n              }\n            }\n\n            return eventsForSlot(elements, start, end);\n          }\n\n          function rangeIndex(eventElement) {\n            return {\n              start: eventElement.start,\n              end: eventElement.end\n            };\n          }\n\n          function eventsForSlot(elements, slotStart, slotEnd) {\n            var events = [];\n\n            for (var idx = 0; idx < elements.length; idx++) {\n              var event = rangeIndex(elements[idx]);\n\n              if (event.start < slotStart && event.end > slotStart || event.start >= slotStart && event.end <= slotEnd) {\n                events.push(elements[idx]);\n              }\n            }\n\n            return events;\n          }\n\n          function createColumns(eventElements) {\n            return _createColumns(eventElements);\n          }\n\n          function createRows(eventElements) {\n            return _createColumns(eventElements);\n          }\n\n          var Color = function (value) {\n            var color = this,\n                formats = Color.formats,\n                re,\n                processor,\n                parts,\n                i,\n                channels;\n\n            if (arguments.length === 1) {\n              value = color.resolveColor(value);\n\n              for (i = 0; i < formats.length; i++) {\n                re = formats[i].re;\n                processor = formats[i].process;\n                parts = re.exec(value);\n\n                if (parts) {\n                  channels = processor(parts);\n                  color.r = channels[0];\n                  color.g = channels[1];\n                  color.b = channels[2];\n                }\n              }\n            } else {\n              color.r = arguments[0];\n              color.g = arguments[1];\n              color.b = arguments[2];\n            }\n\n            color.r = color.normalizeByte(color.r);\n            color.g = color.normalizeByte(color.g);\n            color.b = color.normalizeByte(color.b);\n          };\n\n          Color.prototype = {\n            resolveColor: function (value) {\n              value = value || \"#000\";\n\n              if (value.charAt(0) == \"#\") {\n                value = value.substr(1, 6);\n              }\n\n              value = value.replace(/ /g, \"\");\n              value = value.toLowerCase();\n              value = Color.namedColors[value] || value;\n              return value;\n            },\n            normalizeByte: function (value) {\n              return value < 0 || isNaN(value) ? 0 : value > 255 ? 255 : value;\n            },\n            percBrightness: function () {\n              var color = this;\n              return math.sqrt(0.241 * color.r * color.r + 0.691 * color.g * color.g + 0.068 * color.b * color.b);\n            },\n            isDark: function () {\n              var color = this;\n              var brightnessValue = color.percBrightness();\n              return brightnessValue < 180;\n            }\n          };\n          Color.formats = [{\n            re: /^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\n            process: function (parts) {\n              return [parseInt(parts[1], 10), parseInt(parts[2], 10), parseInt(parts[3], 10)];\n            }\n          }, {\n            re: /^(\\w{2})(\\w{2})(\\w{2})$/,\n            process: function (parts) {\n              return [parseInt(parts[1], 16), parseInt(parts[2], 16), parseInt(parts[3], 16)];\n            }\n          }, {\n            re: /^(\\w{1})(\\w{1})(\\w{1})$/,\n            process: function (parts) {\n              return [parseInt(parts[1] + parts[1], 16), parseInt(parts[2] + parts[2], 16), parseInt(parts[3] + parts[3], 16)];\n            }\n          }];\n          Color.namedColors = {\n            aqua: \"00ffff\",\n            azure: \"f0ffff\",\n            beige: \"f5f5dc\",\n            black: \"000000\",\n            blue: \"0000ff\",\n            brown: \"a52a2a\",\n            coral: \"ff7f50\",\n            cyan: \"00ffff\",\n            darkblue: \"00008b\",\n            darkcyan: \"008b8b\",\n            darkgray: \"a9a9a9\",\n            darkgreen: \"006400\",\n            darkorange: \"ff8c00\",\n            darkred: \"8b0000\",\n            dimgray: \"696969\",\n            fuchsia: \"ff00ff\",\n            gold: \"ffd700\",\n            goldenrod: \"daa520\",\n            gray: \"808080\",\n            green: \"008000\",\n            greenyellow: \"adff2f\",\n            indigo: \"4b0082\",\n            ivory: \"fffff0\",\n            khaki: \"f0e68c\",\n            lightblue: \"add8e6\",\n            lightgrey: \"d3d3d3\",\n            lightgreen: \"90ee90\",\n            lightpink: \"ffb6c1\",\n            lightyellow: \"ffffe0\",\n            lime: \"00ff00\",\n            limegreen: \"32cd32\",\n            linen: \"faf0e6\",\n            magenta: \"ff00ff\",\n            maroon: \"800000\",\n            mediumblue: \"0000cd\",\n            navy: \"000080\",\n            olive: \"808000\",\n            orange: \"ffa500\",\n            orangered: \"ff4500\",\n            orchid: \"da70d6\",\n            pink: \"ffc0cb\",\n            plum: \"dda0dd\",\n            purple: \"800080\",\n            red: \"ff0000\",\n            royalblue: \"4169e1\",\n            salmon: \"fa8072\",\n            silver: \"c0c0c0\",\n            skyblue: \"87ceeb\",\n            slateblue: \"6a5acd\",\n            slategray: \"708090\",\n            snow: \"fffafa\",\n            steelblue: \"4682b4\",\n            tan: \"d2b48c\",\n            teal: \"008080\",\n            tomato: \"ff6347\",\n            turquoise: \"40e0d0\",\n            violet: \"ee82ee\",\n            wheat: \"f5deb3\",\n            white: \"ffffff\",\n            whitesmoke: \"f5f5f5\",\n            yellow: \"ffff00\",\n            yellowgreen: \"9acd32\"\n          };\n\n          function _createColumns(eventElements) {\n            var columns = [];\n\n            for (var idx = 0; idx < eventElements.length; idx++) {\n              var event = eventElements[idx];\n              var eventRange = rangeIndex(event);\n              var column = null;\n\n              for (var j = 0, columnLength = columns.length; j < columnLength; j++) {\n                var endOverlaps = eventRange.start > columns[j].end;\n\n                if (eventRange.start < columns[j].start || endOverlaps) {\n                  column = columns[j];\n\n                  if (column.end < eventRange.end) {\n                    column.end = eventRange.end;\n                  }\n\n                  break;\n                }\n              }\n\n              if (!column) {\n                column = {\n                  start: eventRange.start,\n                  end: eventRange.end,\n                  events: []\n                };\n                columns.push(column);\n              }\n\n              column.events.push(event);\n            }\n\n            return columns;\n          }\n\n          function createDateLayoutConfiguration(name, dates, inner, times) {\n            var configuration = [];\n            $.each(dates, function (index, item) {\n              var className = item.className ? \"k-slot-cell \" + item.className : \"k-slot-cell\";\n              var obj = {\n                text: item.text,\n                className: className\n              };\n\n              if (times && !item.minorTicks) {\n                obj[name] = createDateLayoutConfiguration(name, item.columns, inner, times);\n              } else {\n                obj[name] = inner;\n              }\n\n              configuration.push(obj);\n            });\n            return configuration;\n          }\n\n          function createLayoutConfiguration(name, resources, inner, template, dates, times, parentValue) {\n            var resource = resources[0];\n            var configuration = [];\n\n            if (resource) {\n              if (dates && inner) {\n                $.each(dates, function (index, item) {\n                  if (times && !item.minorTicks) {\n                    item[name] = createLayoutConfiguration(name, resources, item.columns, template, item.columns, times, parentValue);\n                  } else {\n                    item[name] = createLayoutConfiguration(name, resources, null, template, null, null, parentValue);\n                  }\n                });\n                configuration = dates;\n              } else {\n                var data = resource.dataSource.view();\n                data = data.filter(function (item) {\n                  var itemParentValue = kendo.getter(resource.dataParentValueField)(item);\n                  return itemParentValue === null || itemParentValue === undefined || itemParentValue === parentValue;\n                });\n\n                for (var dataIndex = 0; dataIndex < data.length; dataIndex++) {\n                  var value = kendo.getter(resource.dataValueField)(data[dataIndex]);\n                  var obj = {\n                    text: template({\n                      text: kendo.htmlEncode(kendo.getter(resource.dataTextField)(data[dataIndex])),\n                      color: kendo.getter(resource.dataColorField)(data[dataIndex]),\n                      field: resource.field,\n                      title: resource.title,\n                      name: resource.name,\n                      value: value\n                    }),\n                    className: \"k-slot-cell k-scheduler-group-cell\",\n                    parentValue: parentValue,\n                    value: value\n                  }; // filter-out those inner resources that are not relevant\n\n                  obj[name] = createLayoutConfiguration(name, resources.slice(1), inner, template, dates, times, value);\n                  configuration.push(obj);\n                }\n              }\n\n              return configuration;\n            }\n\n            return inner;\n          }\n\n          function groupEqFilter(value) {\n            return function (item) {\n              if (Array.isArray(item) || item instanceof kendo.data.ObservableArray) {\n                for (var idx = 0; idx < item.length; idx++) {\n                  if (item[idx] == value) {\n                    return true;\n                  }\n                }\n\n                return false;\n              }\n\n              return item == value;\n            };\n          }\n\n          var selectedStateRegExp = /\\s*k-selected/;\n\n          function addSelectedState(cell) {\n            cell.className = cell.className.replace(selectedStateRegExp, \"\") + \" k-selected\";\n          }\n\n          $.extend(ui.SchedulerView, {\n            createColumns: createColumns,\n            createRows: createRows,\n            rangeIndex: rangeIndex,\n            collidingEvents: collidingEvents,\n            groupEqFilter: groupEqFilter\n          });\n        })(window.kendo.jQuery);\n\n        return window.kendo;\n      }, __webpack_require__.amdD);\n      /***/\n\n    },\n\n    /***/\n    57949:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./kendo.core\");\n      /***/\n    }\n    /******/\n\n  };\n  /************************************************************************/\n\n  /******/\n  // The module cache\n\n  /******/\n\n  var __webpack_module_cache__ = {};\n  /******/\n\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n    // Check if module is in cache\n\n    /******/\n    var cachedModule = __webpack_module_cache__[moduleId];\n    /******/\n\n    if (cachedModule !== undefined) {\n      /******/\n      return cachedModule.exports;\n      /******/\n    }\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n\n    var module = __webpack_module_cache__[moduleId] = {\n      /******/\n      // no module.id needed\n\n      /******/\n      // no module.loaded needed\n\n      /******/\n      exports: {}\n      /******/\n\n    };\n    /******/\n\n    /******/\n    // Execute the module function\n\n    /******/\n\n    __webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n    /******/\n\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n\n    return module.exports;\n    /******/\n  }\n  /******/\n\n  /************************************************************************/\n\n  /******/\n\n  /* webpack/runtime/amd define */\n\n  /******/\n\n\n  !function () {\n    /******/\n    __webpack_require__.amdD = function () {\n      /******/\n      throw new Error('define cannot be used indirect');\n      /******/\n    };\n    /******/\n\n  }();\n  /******/\n\n  /************************************************************************/\n\n  /******/\n\n  /******/\n  // startup\n\n  /******/\n  // Load entry module and return exports\n\n  /******/\n  // This entry module used 'module' so it can't be inlined\n\n  /******/\n\n  var __webpack_exports__ = __webpack_require__(22200);\n  /******/\n\n\n  module.exports = __webpack_exports__;\n  /******/\n\n  /******/\n})();","map":{"version":3,"names":["__webpack_modules__","module","exports","__webpack_require__","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","f","define","apply","undefined","__meta__","id","name","category","description","depends","hidden","kendo","ui","scheduler","$","window","getDate","date","Widget","outerHeight","_outerHeight","keys","NS","INVERSE_COLOR_CLASS","MIN_HORIZONTAL_SCROLL_SIZE","math","Math","SPACE","levels","values","key","result","collect","depth","level","idx","length","push","table","tableRows","className","trim","join","allDayTable","timesHeader","columnLevelCount","allDaySlot","rowCount","text","content","HINT","ResourceView","Class","extend","init","index","isRtl","enforceAllDaySlot","_index","_timeSlotCollections","_daySlotCollections","_isRtl","_enforceAllDaySlot","addTimeSlotCollection","startDate","endDate","_addCollection","addDaySlotCollection","collections","collection","SlotCollection","timeSlotCollectionCount","daySlotCollectionCount","daySlotByPosition","x","y","byDate","_slotByPosition","timeSlotByPosition","collectionIndex","slotIndex","count","slot","at","width","offsetWidth","height","offsetHeight","nextSlot","horizontalEnd","offsetLeft","verticalEnd","offsetTop","refresh","timeSlotRanges","startTime","endTime","start","_startSlot","firstIndex","lastIndex","inRange","end","_endSlot","MS_PER_DAY","first","last","_continuousRange","TimeSlotRange","daySlotRanges","isAllDay","DaySlotRange","range","startSlot","endSlot","startIndex","endIndex","ranges","head","tail","slotRanges","event","isDay","_startTime","toUtcTime","_endTime","isMultiDay","_startCollection","startInRange","_endCollection","endInRange","_getCollections","continuousSlot","reverse","pad","isDaySlot","firstSlot","lastSlot","upSlot","keepCollection","groupByDateVertically","that","moveToDaySlot","isFirstCell","_verticalSlot","downSlot","moveToTimeSlot","leftSlot","_horizontalSlot","rightSlot","step","swapCollection","_collection","multiday","time","_start","slotByStartDate","slotByEndDate","getSlotCollection","getTimeSlotCollection","getDaySlotCollection","SlotRange","options","innerHeight","events","addEvent","outerRect","snap","_rect","property","top","bottom","left","right","support","element","startOffset","startSlotDuration","endOffset","endSlotDuration","round","innerRect","innerWidth","groupIndex","_slots","_events","_end","_groupIndex","_collectionIndex","allday","addTimeSlot","isHorizontal","TimeSlot","addDaySlot","eventCount","DaySlot","Slot","clientWidth","clientHeight","timezone","toLocalDate","fn","arguments","offsetX","rtl","offset","duration","difference","floor","children","firstChild","firstChildHeight","firstChildTop","Date","scrollbarWidth","scrollbar","SchedulerView","call","_normalizeOptions","_scrollbar","_resizeHint","_moveHint","_cellId","guid","_resourcesForGroups","_selectedSlots","attr","messages","ariaEventLabel","on","to","allDay","prefix","visibleEndDate","setMilliseconds","workDayStart","workDayEnd","_isMobile","mobile","mobileOS","_addResourceView","resourceView","groups","dateForTitle","format","selectedDateFormat","shortDateForTitle","selectedShortDateFormat","mobileDateForTitle","selectedMobileDateFormat","_changeGroup","selection","previous","method","_isGroupedByDate","_changeDate","group","_changeGroupContinuously","_changeViewPeriod","_isInRange","newStart","newEnd","min","max","_horizontalSlots","multiple","horizontalRange","isVertical","_isVerticallyGrouped","_normalizeHorizontalSelection","tempSlot","_getNextHorizontalRange","_continuousSlot","_verticalSlots","verticalRange","_normalizeVerticalSelection","_getNextVerticalRange","_footer","html","today","footer","appendTo","e","preventDefault","action","currentDate","timezoneOffset","convert","getTimezoneOffset","trigger","view","constrainSelection","move","shift","handled","verticalByDate","slots","DOWN","UP","_updateDirection","LEFT","RIGHT","backward","moveToEventInGroup","selectedEvents","prev","_continuousEvents","found","i","lastSelected","uid","inArray","moveToEvent","allEvents","_getAllEvents","uniqueAllEvents","_getUniqueEvents","sortedEvents","_getSortedEvents","eventIndex","_getNextEventIndexBySlot","_getStartIdx","_getSelectedSlot","eventElement","current","candidate","_current","has","_scrollTo","select","clearSelection","_selectEvents","_selectSlots","tempIndex","slotStartDate","eventStartDate","getTime","selectedEventIndex","each","concat","exists","j","sort","second","firstStartDate","secondStartDate","rangeIndex","addSelectedState","groupEvents","groupEvent","add","indexOf","addClass","addDays","_resourceValue","resource","item","valuePrimitive","getter","dataValueField","_setResourceValue","groupLevelMember","value","setter","field","_resourceBySlot","resources","groupedResources","resourceIndex","groupOptions","nestedMember","orientation","rowLevels","columnLevels","dateGroupCompensation","groupLevel","passedChildren","numberOfChildren","_createResizeHint","css","_removeResizeHint","remove","_removeMoveHint","filter","container","elementOffset","elementOffsetDir","containerScroll","scrollTop","containerOffsetDir","bottomDistance","_inverseEventColor","eventColor","eventColorIsDark","Color","isDark","eventBackground","eventBackgroundIsDark","_eventTmpl","template","wrapper","settings","Template","templateSettings","paramName","type","state","storage","tmpl","bind","eventResources","data","dataSource","eventResource","dataIndex","get","resourceColor","dataColorField","title","dataTextField","color","createLayout","layout","allDayIndex","rows","splice","_isVirtualized","_trimRowLevels","find","append","_topSection","_bottomSection","_updateDomRowLevels","_groupOrientation","_outerWidth","_scroller","virtual","lastGroup","cachedRowLevels","levelMarker","_hasContentToRender","stopAtLevel","hasParent","parentLevel","parentValue","rowLevelIndex","stop","createNextLayout","clone","trimmedRowLevels","_height","_times","cell","rowSpan","parseInt","_virtualContent","render","_cachedEvents","_tryRenderContent","bufferHeight","groupCells","times","_rowLevelIndices","map","toArray","refreshLayout","toolbar","headerHeight","paddingDirection","eq","datesHeader","datesHeaderRows","isSchedulerHeightSet","el","initialHeight","newHeight","style","contentDiv","kineticScrollNeeded","timesTable","removeClass","thElm","_datesHeader","dateGroup","closest","wrap","parent","scrollLeft","touchScroller","avoidScrolling","target","movable","_touchScroller","scrollElement","sender","groupIdx","groupLength","_createDateLayout","dates","inner","createDateLayoutConfiguration","_createColumnsLayout","createLayoutConfiguration","_createRowsLayout","selectionByElement","removeAttr","destroy","calendarInfo","getCulture","calendars","standard","prevGroupSlot","nextGroupSlot","_eventOptionsForMove","_updateEventForResize","_updateEventForSelection","_innerElements","countInner","innerSpan","innerEls","innerCollection","isMobile","Array","split","rowHeaderRows","rowIndex","rowsBefore","currentRow","rowspan","dateTableRows","columnIndex","columnLevelIndex","th","column","colspan","allDayTableRows","lastLevel","td","cellContent","_formatEventAriaLabel","labelMessages","sameDate","labelText","toString","collidingEvents","elements","overlaps","eventsForSlot","slotStart","slotEnd","createColumns","eventElements","_createColumns","createRows","formats","re","processor","parts","channels","resolveColor","process","exec","r","g","b","normalizeByte","prototype","charAt","substr","replace","toLowerCase","namedColors","isNaN","percBrightness","sqrt","brightnessValue","aqua","azure","beige","black","blue","brown","coral","cyan","darkblue","darkcyan","darkgray","darkgreen","darkorange","darkred","dimgray","fuchsia","gold","goldenrod","gray","green","greenyellow","indigo","ivory","khaki","lightblue","lightgrey","lightgreen","lightpink","lightyellow","lime","limegreen","linen","magenta","maroon","mediumblue","navy","olive","orange","orangered","orchid","pink","plum","purple","red","royalblue","salmon","silver","skyblue","slateblue","slategray","snow","steelblue","tan","teal","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","columns","eventRange","columnLength","endOverlaps","configuration","obj","minorTicks","itemParentValue","dataParentValueField","htmlEncode","slice","groupEqFilter","isArray","ObservableArray","selectedStateRegExp","jQuery","amdD","require","__webpack_module_cache__","moduleId","cachedModule","Error","__webpack_exports__"],"sources":["C:/Users/abodean/restapi-nodejs/vuejs/app-router/node_modules/@progress/kendo-ui/js/kendo.scheduler.view.js"],"sourcesContent":["/******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 22200:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(f, define) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(57949) ], __WEBPACK_AMD_DEFINE_FACTORY__ = (f),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n})(function() {\n\nvar __meta__ = {\n    id: \"scheduler.view\",\n    name: \"Scheduler View\",\n    category: \"web\",\n    description: \"The Scheduler Common View\",\n    depends: [ \"core\" ],\n    hidden: true\n};\n    kendo.ui.scheduler = {};\n\n(function($) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        getDate = kendo.date.getDate,\n        Widget = ui.Widget,\n        outerHeight = kendo._outerHeight,\n        keys = kendo.keys,\n        NS = \".kendoSchedulerView\",\n        INVERSE_COLOR_CLASS = \"k-event-inverse\",\n        MIN_HORIZONTAL_SCROLL_SIZE = 1024,\n        math = Math,\n        SPACE = \" \";\n\n    function levels(values, key) {\n        var result = [];\n\n        function collect(depth, values) {\n            values = values[key];\n\n            if (values) {\n                var level = result[depth] = result[depth] || [];\n\n                for (var idx = 0; idx < values.length; idx++) {\n                    level.push(values[idx]);\n                    collect(depth + 1, values[idx]);\n                }\n            }\n        }\n\n        collect(0, values);\n\n        return result;\n    }\n\n    function table(tableRows, className) {\n        if (!tableRows.length) {\n            return \"\";\n        }\n\n        return '<table role=\"presentation\" class=\"' + kendo.trim('k-scheduler-table ' + (className || \"\")) + '\">' +\n               '<tr>' +\n                    tableRows.join(\"</tr><tr>\") +\n               '</tr>' +\n               '</table>';\n    }\n\n    function allDayTable(tableRows, className) {\n        if (!tableRows.length) {\n            return \"\";\n        }\n\n        return \"<div style='position:relative'>\" + table(tableRows, className) + \"</div>\";\n    }\n\n    function timesHeader(columnLevelCount, allDaySlot, rowCount) {\n        var tableRows = [];\n\n        if (rowCount > 0) {\n            for (var idx = 0; idx < columnLevelCount; idx++) {\n                tableRows.push(\"<th>&#8203;</th>\");\n            }\n        }\n\n        if (allDaySlot) {\n            tableRows.push('<th class=\"k-scheduler-times-all-day\">' + allDaySlot.text + '</th>');\n        }\n\n        if (rowCount < 1) {\n           return $();\n        }\n\n        return $('<div class=\"k-scheduler-times\">' + table(tableRows) + '</div>');\n    }\n\n    function content() {\n        return $(\n            '<div class=\"k-scheduler-content\">' +\n                '<table role=\"presentation\" class=\"k-scheduler-table\"></table>' +\n            '</div>'\n        );\n    }\n    var HINT = '<div class=\"k-marquee k-scheduler-marquee\">' +\n                    '<div class=\"k-marquee-color\"></div>' +\n                    '<div class=\"k-marquee-text\">' +\n                        '<div class=\"k-label-top\"></div>' +\n                        '<div class=\"k-label-bottom\"></div>' +\n                    '</div>' +\n                '</div>';\n\n\n    var ResourceView = kendo.Class.extend({\n        init: function(index, isRtl, enforceAllDaySlot) {\n            this._index = index;\n            this._timeSlotCollections = [];\n            this._daySlotCollections = [];\n            this._isRtl = isRtl;\n            this._enforceAllDaySlot = enforceAllDaySlot;\n        },\n\n        addTimeSlotCollection: function(startDate, endDate) {\n            return this._addCollection(startDate, endDate, this._timeSlotCollections);\n        },\n\n        addDaySlotCollection: function(startDate, endDate) {\n            return this._addCollection(startDate, endDate, this._daySlotCollections);\n        },\n\n        _addCollection: function(startDate, endDate, collections) {\n            var collection = new SlotCollection(startDate, endDate, this._index, collections.length);\n\n            collections.push(collection);\n\n            return collection;\n        },\n\n        timeSlotCollectionCount: function() {\n            return this._timeSlotCollections.length;\n        },\n\n        daySlotCollectionCount: function() {\n            return this._daySlotCollections.length;\n        },\n\n        daySlotByPosition: function(x, y, byDate) {\n            return this._slotByPosition(x, y, this._daySlotCollections, byDate);\n        },\n\n        timeSlotByPosition: function(x, y, byDate) {\n            return this._slotByPosition(x, y, this._timeSlotCollections, byDate);\n        },\n\n        _slotByPosition: function(x, y, collections, byDate) {\n           for (var collectionIndex = 0; collectionIndex < collections.length; collectionIndex++) {\n               var collection = collections[collectionIndex];\n\n               for (var slotIndex = 0; slotIndex < collection.count(); slotIndex++) {\n                   var slot = collection.at(slotIndex);\n                   var width = slot.offsetWidth;\n                   var height = slot.offsetHeight;\n                   var nextSlot;\n\n                   var horizontalEnd = slot.offsetLeft + width;\n                   var verticalEnd = slot.offsetTop + height;\n\n                   if (!byDate) {\n                        nextSlot = collection.at(slotIndex + 1);\n                   }\n\n                   if (nextSlot) {\n                       if (nextSlot.offsetLeft != slot.offsetLeft) {\n                           if (this._isRtl) {\n                               horizontalEnd = slot.offsetLeft + (slot.offsetLeft - nextSlot.offsetLeft);\n                           } else {\n                               horizontalEnd = nextSlot.offsetLeft;\n                           }\n                       } else {\n                           verticalEnd = nextSlot.offsetTop;\n                       }\n                   }\n\n                   if (x >= slot.offsetLeft && x < horizontalEnd &&\n                       y >= slot.offsetTop && y < verticalEnd) {\n                       return slot;\n                   }\n               }\n           }\n        },\n\n        refresh: function() {\n            var collectionIndex;\n\n            for (collectionIndex = 0; collectionIndex < this._daySlotCollections.length; collectionIndex++) {\n                this._daySlotCollections[collectionIndex].refresh();\n            }\n\n            for (collectionIndex = 0; collectionIndex < this._timeSlotCollections.length; collectionIndex++) {\n                this._timeSlotCollections[collectionIndex].refresh();\n            }\n        },\n\n        timeSlotRanges: function(startTime, endTime) {\n            var collections = this._timeSlotCollections;\n            var start = this._startSlot(startTime, collections);\n            var firstIndex, lastIndex;\n\n            if (!start.inRange && startTime >= start.slot.end) {\n                firstIndex = start.slot.collectionIndex + 1;\n                start = null;\n            }\n\n            var end = start;\n\n            if (startTime < endTime) {\n                end = this._endSlot(endTime, collections);\n            }\n\n            if (end && !end.inRange && endTime <= end.slot.start) {\n                lastIndex = end.slot.collectionIndex;\n\n                if (endTime === end.slot.start && ((start && lastIndex > start.slot.collectionIndex) || (lastIndex > firstIndex))) {\n                    lastIndex -= 1;\n                }\n\n                end = null;\n            }\n\n            if (start === null && end === null) {\n                if (endTime - startTime < kendo.date.MS_PER_DAY) {\n                    return [];\n                } else {\n                    start = {\n                        inRange: true,\n                        slot: collections[firstIndex].first()\n                    };\n\n                    end = {\n                        inRange: true,\n                        slot: collections[lastIndex].last()\n                    };\n                }\n            }\n\n            if (start === null) {\n                if (end.slot.end <= startTime) {\n                    return [];\n                }\n\n                start = {\n                    inRange: true,\n                    slot: (collections[firstIndex] || collections[end.slot.collectionIndex]).first()\n                };\n            }\n\n            if (end === null) {\n                if (start.slot.start >= endTime) {\n                    return [];\n                }\n\n                end = {\n                    inRange: true,\n                    slot: (collections[lastIndex] || collections[start.slot.collectionIndex]).last()\n                };\n            }\n\n            return this._continuousRange(TimeSlotRange, collections, start, end);\n        },\n\n        daySlotRanges: function(startTime, endTime, isAllDay) {\n            var collections = this._daySlotCollections;\n\n            var start = this._startSlot(startTime, collections, isAllDay);\n\n            if (!start.inRange && startTime >= start.slot.end) {\n                start = null;\n            }\n\n            var end = start;\n\n            if (startTime < endTime) {\n                end = this._endSlot(endTime, collections, isAllDay);\n            }\n\n            if (end && !end.inRange && endTime <= end.slot.start) {\n                end = null;\n            }\n\n            if (start === null && end === null) {\n                return [];\n            }\n\n            if (start === null) {\n                if (end.slot.end <= startTime) {\n                    return [];\n                }\n\n                do {\n                    startTime += kendo.date.MS_PER_DAY;\n                    start = this._startSlot(startTime, collections, isAllDay);\n                } while (!start.inRange && startTime >= start.slot.end);\n            }\n\n            if (end === null) {\n                if (start.slot.start >= endTime) {\n                    return [];\n                }\n\n                do {\n                    endTime -= kendo.date.MS_PER_DAY;\n                    end = this._endSlot(endTime, collections, isAllDay);\n                } while (!end.inRange && endTime <= end.slot.start);\n            }\n\n            return this._continuousRange(DaySlotRange, collections, start, end);\n        },\n\n        _continuousRange: function(range, collections, start, end) {\n            var startSlot = start.slot;\n            var endSlot = end.slot;\n\n            var startIndex = startSlot.collectionIndex;\n            var endIndex = endSlot.collectionIndex;\n\n            var ranges = [];\n\n            for (var collectionIndex = startIndex; collectionIndex <= endIndex; collectionIndex++) {\n                var collection = collections[collectionIndex];\n\n                var first = collection.first();\n                var last = collection.last();\n                var head = false;\n                var tail = false;\n\n                if (collectionIndex == startIndex) {\n                    tail = !start.inRange;\n                }\n\n                if (collectionIndex == endIndex) {\n                    head = !end.inRange;\n                }\n\n                if (first.start < startSlot.start) {\n                    first = startSlot;\n                }\n\n                if (last.start > endSlot.start) {\n                    last = endSlot;\n                }\n\n                if (startIndex < endIndex) {\n                    if (collectionIndex == startIndex) {\n                        head = true;\n                    } else if (collectionIndex == endIndex) {\n                        tail = true;\n                    } else {\n                        head = tail = true;\n                    }\n                }\n\n                ranges.push(new range({\n                    start: first,\n                    end: last,\n                    collection: collection,\n                    head: head,\n                    tail: tail\n                }));\n            }\n\n            return ranges;\n        },\n\n        slotRanges: function(event, isDay) {\n            var startTime = event._startTime || kendo.date.toUtcTime(event.start);\n            var endTime = event._endTime || kendo.date.toUtcTime(event.end);\n\n            if (isDay === undefined) {\n                if (this._enforceAllDaySlot) {\n                    isDay = event.isMultiDay();\n                } else {\n                    isDay = event.isAllDay;\n                }\n            }\n\n            if (isDay) {\n                return this.daySlotRanges(startTime, endTime, event.isAllDay);\n            }\n\n            return this.timeSlotRanges(startTime, endTime);\n        },\n\n        ranges: function(startTime, endTime, isDay, isAllDay) {\n            if (typeof startTime != \"number\") {\n                startTime = kendo.date.toUtcTime(startTime);\n            }\n\n            if (typeof endTime != \"number\") {\n                endTime = kendo.date.toUtcTime(endTime);\n            }\n\n            if (isDay) {\n                return this.daySlotRanges(startTime, endTime, isAllDay);\n            }\n\n            return this.timeSlotRanges(startTime, endTime);\n        },\n\n        _startCollection: function(date, collections) {\n            for (var collectionIndex = 0; collectionIndex < collections.length; collectionIndex++) {\n                var collection = collections[collectionIndex];\n\n                if (collection.startInRange(date)) {\n                    return collection;\n                }\n            }\n\n            return null;\n        },\n\n        _endCollection: function(date, collections, isAllDay) {\n            for (var collectionIndex = 0; collectionIndex < collections.length; collectionIndex++) {\n                var collection = collections[collectionIndex];\n\n                if (collection.endInRange(date, isAllDay)) {\n                    return collection;\n                }\n            }\n\n            return null;\n        },\n\n        _getCollections: function(isDay) {\n            return isDay ? this._daySlotCollections : this._timeSlotCollections;\n        },\n\n        continuousSlot: function(slot, reverse) {\n            var pad = reverse ? -1 : 1;\n            var collections = this._getCollections(slot.isDaySlot);\n            var collection = collections[slot.collectionIndex + pad];\n\n            return collection ? collection[reverse ? \"last\" : \"first\"]() : undefined;\n        },\n\n        firstSlot: function() {\n            var collections = this._getCollections(this.daySlotCollectionCount());\n\n            return collections[0].first();\n        },\n\n        lastSlot: function() {\n            var collections = this._getCollections(this.daySlotCollectionCount());\n\n            return collections[collections.length - 1].last();\n        },\n\n        upSlot: function(slot, keepCollection, groupByDateVertically) {\n            var that = this;\n            var moveToDaySlot = function(isDaySlot, collectionIndex, index) {\n                var isFirstCell = index === 0;\n\n                if (!keepCollection && !isDaySlot && isFirstCell && that.daySlotCollectionCount()) {\n                    return that._daySlotCollections[0].at(collectionIndex);\n                }\n            };\n\n            if (!this.timeSlotCollectionCount()) {\n                keepCollection = true;\n            }\n\n            return this._verticalSlot(slot, -1, moveToDaySlot, groupByDateVertically);\n        },\n\n        downSlot: function(slot, keepCollection, groupByDateVertically) {\n            var that = this;\n            var moveToTimeSlot = function(isDaySlot, collectionIndex, index) {\n                if (!keepCollection && isDaySlot && that.timeSlotCollectionCount()) {\n                    return that._timeSlotCollections[index].at(0);\n                }\n            };\n\n            if (!this.timeSlotCollectionCount()) {\n                keepCollection = true;\n            }\n\n            return this._verticalSlot(slot, 1, moveToTimeSlot, groupByDateVertically);\n        },\n\n        leftSlot: function(slot, groupByDateVertically) {\n            return this._horizontalSlot(slot, -1, groupByDateVertically);\n        },\n\n        rightSlot: function(slot, groupByDateVertically) {\n            return this._horizontalSlot(slot, 1, groupByDateVertically);\n        },\n\n        _horizontalSlot: function(slot, step, groupByDateVertically) {\n            var index = slot.index;\n            var isDaySlot = slot.isDaySlot;\n            var collectionIndex = slot.collectionIndex;\n            var collections = this._getCollections(isDaySlot);\n\n            isDaySlot = groupByDateVertically ? false : isDaySlot;\n\n            if (isDaySlot) {\n                index += step;\n            } else {\n                collectionIndex += step;\n            }\n\n            var collection = collections[collectionIndex];\n\n            return collection ? collection.at(index) : undefined;\n        },\n\n        _verticalSlot: function(slot, step, swapCollection, groupByDateVertically) {\n            var index = slot.index;\n            var isDaySlot = slot.isDaySlot;\n            var collectionIndex = slot.collectionIndex;\n            var collections = this._getCollections(isDaySlot);\n\n            slot = swapCollection(isDaySlot, collectionIndex, index);\n            if (slot) {\n                return slot;\n            }\n\n            isDaySlot = groupByDateVertically ? false : isDaySlot;\n\n            if (isDaySlot) {\n                collectionIndex += step;\n            } else {\n                index += step;\n            }\n\n            var collection = collections[collectionIndex];\n\n            return collection ? collection.at(index) : undefined;\n        },\n\n        _collection: function(index, multiday) {\n            var collections = multiday ? this._daySlotCollections : this._timeSlotCollections;\n\n            return collections[index];\n        },\n\n        _startSlot: function(time, collections, isAllDay) {\n            var collection = this._startCollection(time, collections);\n            var inRange = true;\n            var index = 0;\n\n            if (!collection) {\n                collection = collections[index];\n\n                while (index < collections.length - 1 && collection._start < time) {\n                    index++;\n                    collection = collections[index];\n                }\n\n                inRange = false;\n            }\n\n            var slot = collection.slotByStartDate(time, isAllDay);\n\n            if (!slot) {\n                slot = collection.first();\n                inRange = false;\n            }\n\n            return {\n                slot: slot,\n                inRange: inRange\n            };\n        },\n\n        _endSlot: function(time, collections, isAllDay) {\n            var collection = this._endCollection(time, collections, isAllDay);\n            var inRange = true;\n            var index = collections.length - 1;\n\n            if (!collection) {\n                collection = collections[index];\n\n                while (index > 0 && collection._start > time) {\n                    index--;\n                    collection = collections[index];\n                }\n\n                inRange = false;\n            }\n\n            var slot = collection.slotByEndDate(time, isAllDay);\n\n            if (!slot) {\n                if (time <= collection.first().start) {\n                    slot = collection.first();\n                } else {\n                    slot = collection.last();\n                }\n\n                inRange = false;\n            }\n\n            return {\n                slot: slot,\n                inRange: inRange\n            };\n        },\n\n        getSlotCollection: function(index, isDay) {\n            return this[isDay ? \"getDaySlotCollection\" : \"getTimeSlotCollection\"](index);\n        },\n\n        getTimeSlotCollection: function(index) {\n            return this._timeSlotCollections[index];\n        },\n\n        getDaySlotCollection: function(index) {\n            return this._daySlotCollections[index];\n        }\n    });\n\n    var SlotRange = kendo.Class.extend({\n        init: function(options) {\n            $.extend(this, options);\n        },\n\n        innerHeight: function() {\n            var collection = this.collection;\n\n            var startIndex = this.start.index;\n\n            var endIndex = this.end.index;\n\n            var result = 0;\n\n            for (var slotIndex = startIndex; slotIndex <= endIndex; slotIndex++) {\n               result += collection.at(slotIndex).offsetHeight;\n            }\n\n            return result;\n        },\n\n        events: function() {\n            return this.collection.events();\n        },\n\n        addEvent: function(event) {\n            this.events().push(event);\n        },\n\n        startSlot: function() {\n            if (this.start.offsetLeft > this.end.offsetLeft) {\n                return this.end;\n            }\n            return this.start;\n        },\n\n        endSlot: function() {\n            if (this.start.offsetLeft > this.end.offsetLeft) {\n                return this.start;\n            }\n            return this.end;\n        }\n    });\n\n    var TimeSlotRange = SlotRange.extend({\n        innerHeight: function() {\n            var collection = this.collection;\n\n            var startIndex = this.start.index;\n\n            var endIndex = this.end.index;\n\n            var result = 0;\n\n            for (var slotIndex = startIndex; slotIndex <= endIndex; slotIndex++) {\n               result += collection.at(slotIndex).offsetHeight;\n            }\n\n            return result;\n        },\n\n        outerRect: function(start, end, snap) {\n            return this._rect(\"offset\", start, end, snap);\n        },\n\n        _rect: function(property, start, end, snap) {\n            var top;\n            var bottom;\n            var left;\n            var right;\n            var startSlot = this.start;\n            var endSlot = this.end;\n            var isRtl = kendo.support.isRtl(startSlot.element);\n\n            if (typeof start != \"number\") {\n                start = kendo.date.toUtcTime(start);\n            }\n\n            if (typeof end != \"number\") {\n                end = kendo.date.toUtcTime(end);\n            }\n\n            if (snap) {\n                top = startSlot.offsetTop;\n                bottom = endSlot.offsetTop + endSlot[property + \"Height\"];\n                if (isRtl) {\n                    left = endSlot.offsetLeft;\n                    right = startSlot.offsetLeft + startSlot[property + \"Width\"];\n                } else {\n                    left = startSlot.offsetLeft;\n                    right = endSlot.offsetLeft + endSlot[property + \"Width\"];\n                }\n            } else {\n                var startOffset = start - startSlot.start;\n\n                if (startOffset < 0) {\n                    startOffset = 0;\n                }\n\n                var startSlotDuration = startSlot.end - startSlot.start;\n\n                top = startSlot.offsetTop + startSlot[property + \"Height\"] * startOffset / startSlotDuration;\n\n                var endOffset = endSlot.end - end;\n\n                if (endOffset < 0) {\n                    endOffset = 0;\n                }\n\n                var endSlotDuration = endSlot.end - endSlot.start;\n\n                bottom = endSlot.offsetTop + endSlot[property + \"Height\"] - endSlot[property + \"Height\"] * endOffset / endSlotDuration;\n\n                if (isRtl) {\n                    left = Math.round(endSlot.offsetLeft + endSlot[property + \"Width\"] * endOffset / endSlotDuration);\n                    right = Math.round(startSlot.offsetLeft + startSlot[property + \"Width\"] - startSlot[property + \"Width\"] * startOffset / startSlotDuration);\n                } else {\n                    left = Math.round(startSlot.offsetLeft + startSlot[property + \"Width\"] * startOffset / startSlotDuration);\n                    right = Math.round(endSlot.offsetLeft + endSlot[property + \"Width\"] - endSlot[property + \"Width\"] * endOffset / endSlotDuration);\n                }\n            }\n\n            return {\n                top: top,\n                bottom: bottom,\n                //first column has no left border\n                left: left === 0 ? left : left + 1,\n                right: right\n            };\n        },\n\n        innerRect: function(start, end, snap) {\n            return this._rect(\"client\", start, end, snap);\n        }\n    });\n\n    var DaySlotRange = SlotRange.extend({\n        innerWidth: function() {\n            var collection = this.collection;\n\n            var startIndex = this.start.index;\n\n            var endIndex = this.end.index;\n\n            var result = 0;\n\n            var width = startIndex !== endIndex ? \"offsetWidth\" : \"clientWidth\";\n\n            for (var slotIndex = startIndex; slotIndex <= endIndex; slotIndex++) {\n               result += collection.at(slotIndex)[width];\n            }\n\n            return result;\n        }\n    });\n\n    var SlotCollection = kendo.Class.extend({\n        init: function(startDate, endDate, groupIndex, collectionIndex) {\n            this._slots = [];\n\n            this._events = [];\n\n            this._start = kendo.date.toUtcTime(startDate);\n\n            this._end = kendo.date.toUtcTime(endDate);\n\n            this._groupIndex = groupIndex;\n\n            this._collectionIndex = collectionIndex;\n        },\n        refresh: function() {\n            for (var slotIndex = 0; slotIndex < this._slots.length; slotIndex++) {\n                this._slots[slotIndex].refresh();\n            }\n        },\n\n        startInRange: function(date) {\n            return this._start <= date && date < this._end;\n        },\n\n        endInRange: function(date, isAllDay) {\n            var end = isAllDay ? date < this._end : date <= this._end;\n            return this._start <= date && end;\n        },\n\n        slotByStartDate: function(date) {\n            var time = date;\n\n            if (typeof time != \"number\") {\n                time = kendo.date.toUtcTime(date);\n            }\n\n            for (var slotIndex = 0; slotIndex < this._slots.length; slotIndex++) {\n                var slot = this._slots[slotIndex];\n\n                if (slot.startInRange(time)) {\n                    return slot;\n                }\n            }\n\n            return null;\n        },\n\n        slotByEndDate: function(date, allday) {\n            var time = date;\n\n            if (typeof time != \"number\") {\n                time = kendo.date.toUtcTime(date);\n            }\n\n            if (allday) {\n                return this.slotByStartDate(date, false);\n            }\n\n            for (var slotIndex = 0; slotIndex < this._slots.length; slotIndex++) {\n                var slot = this._slots[slotIndex];\n\n                if (slot.endInRange(time)) {\n                    return slot;\n                }\n            }\n\n            return null;\n        },\n\n        count: function() {\n            return this._slots.length;\n        },\n        events: function() {\n            return this._events;\n        },\n        addTimeSlot: function(element, start, end, isHorizontal) {\n            var slot = new TimeSlot(element, start, end, this._groupIndex, this._collectionIndex, this._slots.length, isHorizontal);\n\n            this._slots.push(slot);\n        },\n        addDaySlot: function(element, start, end, eventCount) {\n            var slot = new DaySlot(element, start, end, this._groupIndex, this._collectionIndex, this._slots.length, eventCount);\n\n            this._slots.push(slot);\n        },\n        first: function() {\n            return this._slots[0];\n        },\n        last: function() {\n            return this._slots[this._slots.length - 1];\n        },\n        at: function(index) {\n            return this._slots[index];\n        }\n    });\n\n    var Slot = kendo.Class.extend({\n        init: function(element, start, end, groupIndex, collectionIndex, index) {\n            this.element = element;\n            this.clientWidth = element.clientWidth;\n            this.clientHeight = element.clientHeight;\n            this.offsetWidth = element.offsetWidth;\n            this.offsetHeight = element.offsetHeight;\n            this.offsetTop = element.offsetTop;\n            this.offsetLeft = element.offsetLeft;\n\n            this.start = start;\n            this.end = end;\n            this.element = element;\n            this.groupIndex = groupIndex;\n            this.collectionIndex = collectionIndex;\n            this.index = index;\n            this.isDaySlot = false;\n        },\n\n        refresh: function() {\n            var element = this.element;\n\n            this.clientWidth = element.clientWidth;\n            this.clientHeight = element.clientHeight;\n            this.offsetWidth = element.offsetWidth;\n            this.offsetHeight = element.offsetHeight;\n            this.offsetTop = element.offsetTop;\n            this.offsetLeft = element.offsetLeft;\n        },\n\n        startDate: function() {\n            return kendo.timezone.toLocalDate(this.start);\n        },\n\n        endDate: function() {\n            return kendo.timezone.toLocalDate(this.end);\n        },\n\n        startInRange: function(date) {\n            return this.start <= date && date < this.end;\n        },\n\n        endInRange: function(date) {\n            return this.start < date && date <= this.end;\n        },\n\n        startOffset: function() {\n           return this.start;\n        },\n\n        endOffset: function() {\n            return this.end;\n        }\n    });\n\n    var TimeSlot = Slot.extend({\n        init: function(element, start, end, groupIndex, collectionIndex, index, isHorizontal) {\n            Slot.fn.init.apply(this, arguments);\n\n            this.isHorizontal = isHorizontal ? true : false;\n        },\n\n        offsetX: function(rtl, offset) {\n            if (rtl) {\n                return this.offsetLeft + offset;\n            } else {\n                return this.offsetLeft + offset;\n            }\n        },\n\n        startInRange: function(date) {\n            return this.start <= date && date < this.end;\n        },\n\n        endInRange: function(date) {\n            return this.start < date && date <= this.end;\n        },\n\n        startOffset: function(x, y, snap) {\n            if (snap) {\n                return this.start;\n            }\n\n            var offset = $(this.element).offset();\n\n            var duration = this.end - this.start;\n            var difference;\n            var time;\n\n            if (this.isHorizontal) {\n                //need update\n                var isRtl = kendo.support.isRtl(this.element);\n                difference = x - offset.left;\n                time = Math.floor(duration * ( difference / this.offsetWidth));\n\n                if (isRtl) {\n                    return this.start + duration - time;\n                }\n            } else {\n                difference = y - offset.top;\n                time = Math.floor(duration * ( difference / this.offsetHeight));\n            }\n\n            return this.start + time;\n        },\n\n        endOffset: function(x, y, snap) {\n            if (snap) {\n                return this.end;\n            }\n\n            var offset = $(this.element).offset();\n\n            var duration = this.end - this.start;\n            var difference;\n            var time;\n\n            if (this.isHorizontal) {\n                //need update\n                var isRtl = kendo.support.isRtl(this.element);\n                difference = x - offset.left;\n                time = Math.floor(duration * ( difference / this.offsetWidth));\n\n                if (isRtl) {\n                    return this.start + duration - time;\n                }\n            } else {\n                difference = y - offset.top;\n                time = Math.floor(duration * ( difference / this.offsetHeight));\n            }\n\n            return this.start + time;\n        }\n    });\n\n    var DaySlot = Slot.extend({\n        init: function(element, start, end, groupIndex, collectionIndex, index, eventCount) {\n            Slot.fn.init.apply(this, arguments);\n\n            this.eventCount = eventCount;\n            this.isDaySlot = true;\n\n            if (this.element.children.length) {\n                var firstChild = this.element.children[0];\n\n                this.firstChildHeight = firstChild.offsetHeight;\n                this.firstChildTop = firstChild.offsetTop;\n            } else {\n                this.firstChildHeight = 3;\n                this.firstChildTop = 0;\n            }\n        },\n\n        startDate: function() {\n            var date = new Date(this.start);\n\n            return kendo.timezone.apply(date, \"Etc/UTC\");\n        },\n\n        endDate: function() {\n            var date = new Date(this.end);\n\n            return kendo.timezone.apply(date, \"Etc/UTC\");\n        },\n\n        startInRange: function(date) {\n            return this.start <= date && date < this.end;\n        },\n\n        endInRange: function(date) {\n            return this.start < date && date <= this.end;\n        }\n    });\n\n    var scrollbarWidth;\n    function scrollbar() {\n        scrollbarWidth = scrollbarWidth ? scrollbarWidth : kendo.support.scrollbar();\n        return scrollbarWidth;\n    }\n\n    kendo.ui.SchedulerView = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, $.extend({}, this.options, options));\n\n            this._normalizeOptions();\n            this._scrollbar = scrollbar();\n            this._isRtl = kendo.support.isRtl(element);\n            this._resizeHint = $();\n            this._moveHint = $();\n            this._cellId = kendo.guid();\n            this._resourcesForGroups();\n            this._selectedSlots = [];\n            this.element.attr(\"role\", \"application\");\n        },\n\n        options: {\n            messages: {\n                ariaEventLabel: {\n                    on: \"on\",\n                    at: \"at\",\n                    to: \"to\",\n                    allDay: \"(all day)\",\n                    prefix: \"\"\n                }\n            }\n        },\n\n        visibleEndDate: function() {\n            return this.endDate();\n        },\n\n        _normalizeOptions: function() {\n            var options = this.options;\n\n            if (options.startTime) {\n                options.startTime.setMilliseconds(0);\n            }\n\n            if (options.endTime) {\n                options.endTime.setMilliseconds(0);\n            }\n\n            if (options.workDayStart) {\n                options.workDayStart.setMilliseconds(0);\n            }\n\n            if (options.workDayEnd) {\n                options.workDayEnd.setMilliseconds(0);\n            }\n        },\n\n        _isMobile: function() {\n            var options = this.options;\n            return (options.mobile === true && kendo.support.mobileOS) || options.mobile === \"phone\" || options.mobile === \"tablet\";\n        },\n\n        _addResourceView: function() {\n            var resourceView = new ResourceView(this.groups.length, this._isRtl, this.options.enforceAllDaySlot);\n\n            this.groups.push(resourceView);\n\n            return resourceView;\n        },\n\n        dateForTitle: function() {\n            return kendo.format(this.options.selectedDateFormat, this.startDate(), this.endDate());\n        },\n\n        shortDateForTitle: function() {\n            return kendo.format(this.options.selectedShortDateFormat, this.startDate(), this.endDate());\n        },\n\n        mobileDateForTitle: function() {\n            return kendo.format(this.options.selectedMobileDateFormat || this.options.selectedShortDateFormat, this.startDate(), this.endDate());\n        },\n\n        _changeGroup: function(selection, previous) {\n            var method = previous ? \"prevGroupSlot\" : \"nextGroupSlot\";\n            var slot = this[method](selection.start, selection.groupIndex, selection.isAllDay);\n\n            if (slot) {\n                selection.groupIndex += previous ? -1 : 1;\n            }\n\n            if (this._isGroupedByDate() && !slot) {\n               selection.groupIndex = previous ? this.groups.length - 1 : 0;\n            }\n\n            return slot;\n        },\n\n        _changeDate: function(selection, slot, previous) {\n            var group = this.groups[selection.groupIndex];\n            var collections, index;\n\n            if (previous) {\n                  collections = group._getCollections(false);\n                  index = group.daySlotCollectionCount() ? slot.index - 1 : slot.collectionIndex - 1;\n\n                  if (index >= 0) {\n                      return collections[index]._slots[collections[index]._slots.length - 1];\n                  }\n              } else {\n                  collections = group._getCollections(group.daySlotCollectionCount());\n                  index = group.daySlotCollectionCount() ? 0 : slot.collectionIndex + 1;\n                  var slotIndex = group.daySlotCollectionCount() ? slot.collectionIndex + 1 : 0;\n\n                  if (collections[index] && collections[index]._slots[slotIndex]) {\n                      return collections[index]._slots[slotIndex];\n                  }\n               }\n        },\n\n        _changeGroupContinuously: function() {\n            return null;\n        },\n\n        _changeViewPeriod: function() {\n            return false;\n        },\n\n        _isInRange: function(newStart, newEnd) {\n            if (!newStart || !newEnd || !this.options.min || !this.options.max) {\n                return false;\n            }\n            return getDate(newStart) <= getDate(this.options.min) || getDate(newEnd) >= getDate(this.options.max);\n        },\n\n        _horizontalSlots: function(selection, ranges, multiple, reverse) {\n            var method = reverse ? \"leftSlot\" : \"rightSlot\";\n            var horizontalRange = {\n                 startSlot: ranges[0].start,\n                 endSlot: ranges[ranges.length - 1].end\n             };\n            var group = this.groups[selection.groupIndex];\n            var isVertical = this._isVerticallyGrouped();\n\n            if (!multiple) {\n                var slot = this._normalizeHorizontalSelection(selection, ranges, reverse);\n                if (slot) {\n                    horizontalRange.startSlot = horizontalRange.endSlot = slot;\n                }\n            }\n\n            if (this._isGroupedByDate() && !multiple) {\n                  var tempSlot = this._changeGroup(selection, reverse);\n\n                  if (!tempSlot)\n                  {\n                    horizontalRange = this._getNextHorizontalRange(group, method, horizontalRange);\n                  } else {\n                      horizontalRange.startSlot = horizontalRange.endSlot = tempSlot;\n                  }\n            } else {\n                  horizontalRange.startSlot = group[method](horizontalRange.startSlot);\n                  horizontalRange.endSlot = group[method](horizontalRange.endSlot);\n\n                  if (!multiple && !isVertical && (!horizontalRange.startSlot || !horizontalRange.endSlot)) {\n                        horizontalRange.startSlot = horizontalRange.endSlot = this._changeGroup(selection, reverse);\n                  }\n            }\n\n            var continuousSlot;\n\n            if ((!horizontalRange.startSlot || !horizontalRange.endSlot) && !this._isGroupedByDate()) {\n                continuousSlot = this._continuousSlot(selection, ranges, reverse);\n                continuousSlot = this._changeGroupContinuously(selection, continuousSlot, multiple, reverse);\n\n                if (continuousSlot) {\n                    horizontalRange.startSlot = horizontalRange.endSlot = continuousSlot;\n                }\n            }\n\n            return horizontalRange;\n        },\n\n         _getNextHorizontalRange: function(group, method, horizontalRange) {\n            if (!this._isVerticallyGrouped()) {\n                horizontalRange.startSlot = group[method](horizontalRange.startSlot);\n                horizontalRange.endSlot = group[method](horizontalRange.endSlot);\n            }\n\n             return horizontalRange;\n        },\n\n        _verticalSlots: function(selection, ranges, multiple, reverse) {\n            var group = this.groups[selection.groupIndex];\n            var slot;\n            var verticalRange = {\n                startSlot: ranges[0].start,\n                endSlot: ranges[ranges.length - 1].end\n            };\n\n            if (!multiple) {\n                slot = this._normalizeVerticalSelection(selection, ranges, reverse);\n                if (slot) {\n                    verticalRange.startSlot = verticalRange.endSlot = slot;\n                }\n            }\n\n            var method = reverse ? \"upSlot\" : \"downSlot\";\n\n            verticalRange = this._getNextVerticalRange(group, method, verticalRange, multiple);\n\n            if (!multiple && this._isVerticallyGrouped() && (!verticalRange.startSlot || !verticalRange.endSlot)) {\n                if (this._isGroupedByDate()) {\n                    verticalRange.startSlot = verticalRange.endSlot = this._changeDate(selection, slot, reverse);\n\n               } else {\n                    verticalRange.startSlot = verticalRange.endSlot = this._changeGroup(selection, reverse);\n               }\n            }\n\n            return verticalRange;\n        },\n\n        _getNextVerticalRange: function(group, method, verticalRange, multiple) {\n             verticalRange.startSlot = group[method](verticalRange.startSlot, multiple);\n             verticalRange.endSlot = group[method](verticalRange.endSlot, multiple);\n\n             return verticalRange;\n        },\n\n        _normalizeHorizontalSelection: function() {\n            return null;\n        },\n\n        _normalizeVerticalSelection: function(selection, ranges, reverse) {\n            var slot;\n\n            if (reverse) {\n                slot = ranges[0].start;\n            } else {\n                slot = ranges[ranges.length - 1].end;\n            }\n\n            return slot;\n        },\n\n        _continuousSlot: function() {\n            return null;\n        },\n\n        _footer: function() {\n            var that = this;\n            var options = that.options;\n\n            if (that._isMobile()) {\n                var html = '<div class=\"k-scheduler-footer k-toolbar\">';\n                html += '<span class=\"k-scheduler-today\"><a href=\"#\" class=\"k-link\">';\n                html += options.messages.today + '</a></span>';\n                html += \"</div>\";\n                that.footer = $(html).appendTo(that.element);\n            }\n\n            if (that.footer) {\n                that.footer.on(\"click\" + NS, \".k-scheduler-today\", function(e) {\n                    e.preventDefault();\n                    var timezone = that.options.timezone;\n                    var action = \"today\";\n                    var currentDate = new Date();\n                    var date;\n\n                    if (timezone) {\n                        var timezoneOffset = kendo.timezone.offset(currentDate, timezone);\n                        date = kendo.timezone.convert(currentDate, currentDate.getTimezoneOffset(), timezoneOffset);\n                    } else {\n                        date = currentDate;\n                    }\n\n                    that.trigger(\"navigate\", { view: that.name || options.name, action: action, date: date });\n                });\n            }\n        },\n\n        constrainSelection: function(selection) {\n            var group = this.groups[0];\n            var slot;\n\n            if (!this.inRange(selection)) {\n               slot = group.firstSlot();\n\n               selection.isAllDay = slot.isDaySlot;\n               selection.start = slot.startDate();\n               selection.end = slot.endDate();\n            } else {\n                if (!group.daySlotCollectionCount()) {\n                    selection.isAllDay = false;\n                } else if (!group.timeSlotCollectionCount()) {\n                    selection.isAllDay = true;\n                }\n           }\n\n            if (!this.groups[selection.groupIndex]) {\n                selection.groupIndex = 0;\n            }\n        },\n\n        move: function(selection, key, shift) {\n            var handled = false;\n            var group = this.groups[selection.groupIndex];\n            var verticalByDate = this._isGroupedByDate() && this._isVerticallyGrouped();\n\n            if (!group.timeSlotCollectionCount()) {\n                selection.isAllDay = true;\n            }\n\n            var ranges = group.ranges(selection.start, selection.end, selection.isAllDay, false);\n            var startSlot, endSlot, reverse, slots;\n\n            if (key === keys.DOWN || key === keys.UP) {\n                handled = true;\n                reverse = key === keys.UP;\n\n                this._updateDirection(selection, ranges, shift, reverse, true);\n\n                slots = this._verticalSlots(selection, ranges, shift, reverse);\n\n                if (!slots.startSlot && !shift && this._changeViewPeriod(selection, reverse, !verticalByDate)) {\n                    return handled;\n                }\n\n            } else if (key === keys.LEFT || key === keys.RIGHT) {\n                handled = true;\n                reverse = key === keys.LEFT;\n\n                this._updateDirection(selection, ranges, shift, reverse, false);\n\n                slots = this._horizontalSlots(selection, ranges, shift, reverse);\n\n                if (!slots.startSlot && !shift && this._changeViewPeriod(selection, reverse, verticalByDate)) {\n                    return handled;\n                }\n            }\n\n            if (handled) {\n                startSlot = slots.startSlot;\n                endSlot = slots.endSlot;\n\n                if (shift) {\n                    var backward = selection.backward;\n                    if (backward && startSlot) {\n                        selection.start = startSlot.startDate();\n                    } else if (!backward && endSlot) {\n                        selection.end = endSlot.endDate();\n                    }\n                } else if (startSlot && endSlot) {\n                    selection.isAllDay = startSlot.isDaySlot;\n                    selection.start = startSlot.startDate();\n                    selection.end = endSlot.endDate();\n                }\n\n                selection.events = [];\n            }\n\n            return handled;\n        },\n\n        moveToEventInGroup: function(group, slot, selectedEvents, prev) {\n            var events = group._continuousEvents || [];\n            var found, event;\n            var pad = prev ? -1 : 1;\n            var length = events.length;\n            var idx = prev ? length - 1 : 0;\n            var i, lastSelected;\n\n            if (selectedEvents.length) {\n                lastSelected = selectedEvents[selectedEvents.length - 1];\n\n                if (prev) {\n                    for (i = 0; i < events.length; i++) {\n                        if (events[i].uid === lastSelected) {\n                            idx = i + pad;\n                        }\n                    }\n                } else {\n                    for (i = events.length - 1; i > -1; i--) {\n                        if (events[i].uid === lastSelected) {\n                            idx = i + pad;\n                        }\n                    }\n                }\n            }\n\n            while (idx < length && idx > -1) {\n                event = events[idx];\n\n                if ( (!prev && event.start.startDate() >= slot.startDate()) ||\n                    (prev && event.start.startDate() <= slot.startDate()) ) {\n\n                    if (event && $.inArray(event.uid, selectedEvents) === -1) {\n                        found = !!event;\n                        break;\n                    }\n                }\n\n                idx += pad;\n            }\n\n            return event;\n        },\n\n        moveToEvent: function(selection, prev) {\n            var groupIndex = selection.groupIndex;\n\n            var group = this.groups[groupIndex];\n            var slot = group.ranges(selection.start, selection.end, this.name === \"month\" || selection.isAllDay, false)[0].start;\n\n            var length = this.groups.length;\n            var pad = prev ? -1 : 1;\n            var events = selection.events;\n            var event;\n\n            if (this._isGroupedByDate()) {\n                var allEvents = this._getAllEvents();\n                var uniqueAllEvents = this._getUniqueEvents(allEvents);\n                var sortedEvents = this._getSortedEvents(uniqueAllEvents);\n\n                if (events.length === 0) {\n                    var eventIndex = this._getNextEventIndexBySlot(slot, sortedEvents, groupIndex);\n\n                    if (prev) {\n                        eventIndex--;\n                    }\n\n                    event = sortedEvents[eventIndex];\n                } else {\n                     var idx = this._getStartIdx(events, sortedEvents);\n\n                    while (idx < sortedEvents.length && idx > -1) {\n                        if (events.length > 0) {\n                            slot = this._getSelectedSlot(slot, sortedEvents, event, idx, pad, prev);\n                        }\n\n                        if (!slot) {\n                            break;\n                        }\n\n                        if ( (!prev && sortedEvents[idx].start.startDate() >= slot.startDate()) ||\n                              (prev && sortedEvents[idx].start.startDate() <= slot.startDate())) {\n                             if (events[0] != sortedEvents[idx].uid) {\n                                 event = sortedEvents[idx];\n                                  break;\n                             }\n                        }\n                        idx += pad;\n                    }\n                }\n            } else {\n                  while (groupIndex < length && groupIndex > -1) {\n                    event = this.moveToEventInGroup(group, slot, events, prev);\n\n                    groupIndex += pad;\n                    group = this.groups[groupIndex];\n\n                    if (!group || event) {\n                        break;\n                    }\n\n                    events = [];\n                    if (prev) {\n                        slot = group.lastSlot();\n                    } else {\n                        slot = group.firstSlot(true);\n                    }\n                }\n            }\n\n            if (event) {\n                selection.events = [ event.uid ];\n                selection.start = event.start.startDate();\n                selection.end = event.end.endDate();\n                selection.isAllDay = event.start.isDaySlot;\n                selection.groupIndex = event.start.groupIndex;\n                selection.eventElement = event.element[0];\n            }\n\n            return !!event;\n        },\n\n        current: function(candidate) {\n            if (candidate !== undefined) {\n                this._current = candidate;\n                if (this.content.has(candidate)) {\n                    this._scrollTo(candidate, this.content[0]);\n                }\n            } else {\n                return this._current;\n            }\n        },\n\n        select: function(selection) {\n            this.clearSelection();\n\n            if (!this._selectEvents(selection)) {\n                this._selectSlots(selection);\n            }\n        },\n\n        _getNextEventIndexBySlot: function(slot, sortedEvents, groupIndex) {\n            var tempIndex = 0;\n            var slotStartDate = kendo.date.getDate(slot.startDate());\n\n            for (var i = 0; i < sortedEvents.length; i++) {\n                var eventStartDate = kendo.date.getDate(sortedEvents[i].start.startDate());\n                if (slotStartDate > eventStartDate) {\n                    tempIndex++;\n                    continue;\n                }\n\n                if (slotStartDate.getTime() === eventStartDate.getTime() && groupIndex > sortedEvents[i].start.groupIndex) {\n                      tempIndex++;\n                      continue;\n                }\n\n                if (slotStartDate.getTime() === eventStartDate.getTime() &&\n                    groupIndex >= sortedEvents[i].start.groupIndex &&\n                    slot.startDate() > sortedEvents[i].start.startDate()) {\n                    tempIndex++;\n                    continue;\n                 }\n\n                 break;\n            }\n            return tempIndex;\n        },\n\n        _getSelectedSlot: function(slot, sortedEvents, event, idx, pad, prev) {\n              if (sortedEvents[idx + pad] &&\n               sortedEvents[idx].start.groupIndex !== sortedEvents[idx + pad].start.groupIndex) {\n                    var groupIndex = sortedEvents[idx + pad].start.groupIndex;\n                    var group = this.groups[groupIndex];\n\n                    if (!group || event) {\n                       slot = null;\n                    }\n\n                    if (prev) {\n                        slot = group.lastSlot();\n                    } else {\n                        slot = group.firstSlot(true);\n                    }\n                }\n             return slot;\n        },\n\n        _getStartIdx: function(events, sortedEvents) {\n            var selectedEventIndex = 0;\n\n            $.each(sortedEvents, function() {\n                if (this.uid === events[0]) {\n                     return false;\n                }\n\n                selectedEventIndex++;\n            });\n\n            return selectedEventIndex;\n        },\n\n        _getAllEvents: function() {\n            var allEvents = [];\n            var groups = this.groups;\n\n            for (var idx = 0; idx < groups.length; idx++) {\n                if (groups[idx]._continuousEvents) {\n                    allEvents = allEvents.concat(groups[idx]._continuousEvents);\n                }\n            }\n\n            return allEvents;\n        },\n\n        _getUniqueEvents: function(allEvents) {\n            var uniqueAllEvents = [];\n\n            for (var i = 0; i < allEvents.length; i++) {\n                var exists = false;\n                for (var j = 0; j < uniqueAllEvents.length; j++) {\n                    if (allEvents[i].uid === uniqueAllEvents[j].uid) {\n                        exists = true;\n                        break;\n                    }\n                }\n\n                if (!exists) {\n                    uniqueAllEvents.push(allEvents[i]);\n                }\n            }\n\n            return uniqueAllEvents;\n        },\n\n        _getSortedEvents: function(uniqueAllEvents) {\n             return uniqueAllEvents.sort(function(first, second) {\n                var firstStartDate = first.start.startDate();\n                var secondStartDate = second.start.startDate();\n                var result = kendo.date.getDate(firstStartDate) - kendo.date.getDate(secondStartDate);\n\n                if (result === 0) {\n                    result = first.start.groupIndex - second.start.groupIndex;\n                }\n\n                if (result === 0) {\n                    result = firstStartDate.getTime() - secondStartDate.getTime();\n                }\n\n                if (result === 0) {\n                    if (first.start.isDaySlot && !second.start.isDaySlot) {\n                            result = -1;\n                    }\n\n                    if (!first.start.isDaySlot && second.start.isDaySlot) {\n                            result = 1;\n                    }\n                }\n\n                if (result === 0) {\n                    result = $(first.element).index() - $(second.element).index();\n                }\n\n                return result;\n            });\n        },\n\n        _selectSlots: function(selection) {\n            var isAllDay = selection.isAllDay;\n            var group = this.groups[selection.groupIndex];\n\n            if (!group.timeSlotCollectionCount()) {\n                isAllDay = true;\n            }\n\n            this._selectedSlots = [];\n\n            var ranges = group.ranges(selection.start, selection.end, isAllDay, false);\n            var element;\n            var slot;\n\n            for (var rangeIndex = 0; rangeIndex < ranges.length; rangeIndex++) {\n                var range = ranges[rangeIndex];\n                var collection = range.collection;\n\n                for (var slotIndex = range.start.index; slotIndex <= range.end.index; slotIndex++) {\n                    slot = collection.at(slotIndex);\n\n                    element = slot.element;\n                    addSelectedState(element);\n\n                    this._selectedSlots.push({\n                        start: slot.startDate(),\n                        end: slot.endDate(),\n                        element: element\n                    });\n                }\n            }\n\n            if (selection.backward) {\n                element = ranges[0].start.element;\n            }\n\n            this.current(element);\n        },\n\n        _selectEvents: function(selection) {\n            var found = false;\n            var events = selection.events;\n            var groupEvents = this._getAllEvents();\n            var idx, groupEvent, length = groupEvents.length;\n\n            if (!events[0] || !groupEvents[0]) {\n                return found;\n            }\n\n            var result = $();\n            selection.events = [];\n            for (idx = 0; idx < length; idx ++) {\n                if ($.inArray(groupEvents[idx].uid, events) > -1) {\n                    groupEvent = groupEvents[idx];\n                    result = result.add(groupEvent.element);\n                    if (selection.events.indexOf(groupEvent.uid) === -1) {\n                        selection.events.push(groupEvent.uid);\n                    }\n                }\n            }\n\n            if (result[0]) {\n                result.addClass(\"k-selected\");\n\n                if (selection.eventElement) {\n                    this.current(selection.eventElement);\n                } else {\n                    this.current(result.last()[0]);\n                }\n\n                this._selectedSlots = [];\n                found = true;\n            }\n\n            return found;\n        },\n\n        inRange: function(options) {\n            var startDate = this.startDate();\n            var endDate = kendo.date.addDays(this.endDate(), 1);\n            var start = options.start;\n            var end = options.end;\n\n            return startDate <= start && start < endDate && startDate < end && end <= endDate;\n        },\n\n        _resourceValue: function(resource, item) {\n            if (resource.valuePrimitive) {\n                item = kendo.getter(resource.dataValueField)(item);\n            }\n            return item;\n        },\n\n        _setResourceValue: function(groupLevelMember, resource, result) {\n            var value = groupLevelMember.value,\n                setter;\n\n            if (resource.multiple) {\n                value = [value];\n            }\n\n            setter = kendo.setter(resource.field);\n            setter(result, value);\n        },\n\n        _resourceBySlot: function(slot) {\n            var resources = this.groupedResources;\n            var result = {};\n\n            if (resources.length) {\n                var resourceIndex = slot.groupIndex,\n                    groupOptions = this.options.group,\n                    nestedMember = groupOptions.date || groupOptions.orientation === \"horizontal\" ? \"columns\" : \"rows\",\n                    levels = nestedMember === \"rows\" ? this.rowLevels : this.columnLevels,\n                    dateGroupCompensation = groupOptions.date && groupOptions.orientation === \"horizontal\" ? 1 : 0,\n                    groupLevel = levels[resources.length - 1 + dateGroupCompensation],\n                    resource = resources[resources.length - 1],\n                    groupLevelMember = groupLevel[resourceIndex],\n                    passedChildren, numberOfChildren, j, i;\n\n                this._setResourceValue(groupLevelMember, resource, result);\n\n                for (j = resources.length - 2; j >= 0; j--) {\n                    groupLevel = levels[j + dateGroupCompensation];\n                    resource = resources[j];\n                    passedChildren = 0;\n\n                    for (i = 0; i < groupLevel.length; i++) {\n                        groupLevelMember = groupLevel[i];\n                        numberOfChildren = groupLevelMember[nestedMember].length;\n\n                        if (numberOfChildren > resourceIndex - passedChildren) {\n                            this._setResourceValue(groupLevelMember, resource, result);\n\n                            i = groupLevel.length;\n                        } else {\n                            passedChildren += numberOfChildren;\n                        }\n                    }\n                }\n            }\n\n            return result;\n        },\n\n        _createResizeHint: function(left, top, width, height) {\n            return $(HINT).css({\n                left: left,\n                top: top,\n                width: width,\n                height: height\n            });\n        },\n\n        _removeResizeHint: function() {\n            this._resizeHint.remove();\n            this._resizeHint = $();\n        },\n\n        _removeMoveHint: function(uid) {\n            if (uid) {\n                this._moveHint.filter(\"[data-uid='\" + uid + \"']\").remove();\n\n                this._moveHint = this._moveHint.filter(\"[data-uid!='\" + uid + \"']\");\n            } else {\n                this._moveHint.remove();\n                this._moveHint = $();\n            }\n        },\n\n        _scrollTo: function(element, container) {\n            var elementOffset = element.offsetTop,\n                elementOffsetDir = element.offsetHeight,\n                containerScroll = container.scrollTop,\n                containerOffsetDir = container.clientHeight,\n                bottomDistance = elementOffset + elementOffsetDir,\n                result = 0;\n\n                if (containerScroll > elementOffset) {\n                    result = elementOffset;\n                } else if (bottomDistance > (containerScroll + containerOffsetDir)) {\n                    if (elementOffsetDir <= containerOffsetDir) {\n                        result = (bottomDistance - containerOffsetDir);\n                    } else {\n                        result = elementOffset;\n                    }\n                } else {\n                    result = containerScroll;\n                }\n                container.scrollTop = result;\n        },\n\n        _inverseEventColor: function(element) {\n            var eventColor = element.css(\"color\");\n            var eventColorIsDark = new Color(eventColor).isDark();\n            var eventBackground = element.css(\"background-color\");\n            var eventBackgroundIsDark = new Color(eventBackground).isDark();\n\n            if (eventColorIsDark == eventBackgroundIsDark) {\n                element.addClass(INVERSE_COLOR_CLASS);\n            }\n        },\n\n       _eventTmpl: function(template, wrapper) {\n           var options = this.options,\n               settings = $.extend({}, kendo.Template, options.templateSettings),\n               paramName = settings.paramName,\n               html = \"\",\n               type = typeof template,\n               state = { storage: {}, count: 0 };\n\n            if (type === \"function\") {\n                state.storage[\"tmpl\" + state.count] = template;\n                html += \"#=this.tmpl\" + state.count + \"(\" + paramName + \")#\";\n                state.count ++;\n            } else if (type === \"string\") {\n                html += template;\n            }\n\n            var tmpl = kendo.template(kendo.format(wrapper, html), settings);\n\n            if (state.count > 0) {\n                tmpl = tmpl.bind(state.storage);\n            }\n\n            return tmpl;\n       },\n\n        eventResources: function(event) {\n            var resources = [],\n                options = this.options;\n\n            if (!options.resources) {\n                return resources;\n            }\n\n            for (var idx = 0; idx < options.resources.length; idx++) {\n                var resource = options.resources[idx];\n                var field = resource.field;\n                var eventResources = kendo.getter(field)(event);\n\n                if (eventResources == null) {\n                    continue;\n                }\n\n                if (!resource.multiple) {\n                    eventResources = [eventResources];\n                }\n\n                var data = resource.dataSource.view();\n\n                for (var resourceIndex = 0; resourceIndex < eventResources.length; resourceIndex++) {\n                    var eventResource = null;\n\n                    var value = eventResources[resourceIndex];\n\n                    if (!resource.valuePrimitive) {\n                        value = kendo.getter(resource.dataValueField)(value);\n                    }\n\n                    for (var dataIndex = 0; dataIndex < data.length; dataIndex++) {\n                        if (data[dataIndex].get(resource.dataValueField) == value) {\n                            eventResource = data[dataIndex];\n                            break;\n                        }\n                    }\n\n                    if (eventResource !== null) {\n                        var resourceColor = kendo.getter(resource.dataColorField)(eventResource);\n                        resources.push({\n                            field: resource.field,\n                            title: resource.title,\n                            name: resource.name,\n                            text: kendo.getter(resource.dataTextField)(eventResource),\n                            value: value,\n                            color: resourceColor\n                        });\n                    }\n                }\n            }\n            return resources;\n        },\n\n        createLayout: function(layout) {\n            var allDayIndex = -1;\n\n            if (!layout.rows) {\n                layout.rows = [];\n            }\n\n            for (var idx = 0; idx < layout.rows.length; idx++) {\n                if (layout.rows[idx].allDay) {\n                    allDayIndex = idx;\n                    break;\n                }\n            }\n\n            var allDaySlot = layout.rows[allDayIndex];\n\n            if (allDayIndex >= 0) {\n                layout.rows.splice(allDayIndex, 1);\n            }\n\n            var columnLevels = this.columnLevels = levels(layout, \"columns\");\n            var rowLevels = this.rowLevels = levels(layout, \"rows\");\n\n            if (this._isVirtualized()) {\n                this._trimRowLevels(rowLevels);\n            }\n\n            this.table = $('<table role=\"presentation\" class=\"k-scheduler-layout k-scheduler-' + this.name + 'view\"><tbody></tbody></table>');\n\n            var rowCount = rowLevels[rowLevels.length - 1].length;\n\n            this.table.find(\"tbody\").first().append(this._topSection(columnLevels, allDaySlot, rowCount));\n            this.table.find(\"tbody\").first().append(this._bottomSection(columnLevels, rowLevels, rowCount));\n            this.element.append(this.table);\n\n            if (this._isVirtualized()) {\n                this._updateDomRowLevels();\n            }\n\n            // Enable horizontal scrolling when mobile, grouped and less than 1024px width\n            if (this._isMobile() &&\n                    columnLevels.length > 1 &&\n                    this._groupOrientation() === \"horizontal\" &&\n                    kendo._outerWidth($(window)) < MIN_HORIZONTAL_SCROLL_SIZE ) {\n\n                this.table.find(\".k-scheduler-content .k-scheduler-table\").width((columnLevels[columnLevels.length - 2].length * 100) + \"%\");\n                this.table.find(\".k-scheduler-header .k-scheduler-table\").width((columnLevels[columnLevels.length - 2].length * 100) + \"%\");\n            }\n\n            this._scroller();\n        },\n\n        _isVirtualized: function() {\n            return this.options.virtual && this.rowLevels.length > 1 && this._isVerticallyGrouped();\n        },\n\n        _trimRowLevels: function(rowLevels) {\n            var lastGroup = rowLevels[rowLevels.length - 2];\n            var cachedRowLevels = this.cachedRowLevels || [];\n            var levelMarker;\n\n            this._hasContentToRender = true;\n\n            var stopAtLevel = function(levels, index) {\n                var hasParent = levels[index - 1].length > 0,\n                parentLevel, parentValue;\n\n                if (hasParent) {\n                    parentLevel = levels[index - 1][0];\n                    parentValue = levels[index][0].parentValue;\n\n                    return parentLevel.value !== parentValue;\n                } else {\n                    return true;\n                }\n            };\n\n            for (var rowLevelIndex = rowLevels.length - 2; rowLevelIndex >= 0; rowLevelIndex--) {\n                var stop = false;\n                if (rowLevelIndex > 0 && stopAtLevel(rowLevels, rowLevelIndex)) {\n                    stop = true;\n                    levelMarker = rowLevelIndex;\n                }\n\n                cachedRowLevels[rowLevelIndex] = rowLevels[rowLevelIndex].splice(1);\n\n                if (rowLevelIndex < rowLevels.length - 2 && rowLevels[rowLevelIndex][0].rows.length != 1) {\n                    rowLevels[rowLevelIndex][0].rows = rowLevels[rowLevelIndex + 1];\n                }\n\n                if (stop) {\n                    break;\n                }\n            }\n\n            cachedRowLevels[rowLevels.length - 1] = rowLevels[rowLevels.length - 1].splice(lastGroup[0].rows.length);\n\n            this.cachedRowLevels = cachedRowLevels;\n\n            if (!cachedRowLevels[cachedRowLevels.length - 1].length) {\n                this._hasContentToRender = false;\n            }\n\n            return {\n                levelMarker: levelMarker || 0,\n                rowLevels: rowLevels\n            };\n        },\n\n        createNextLayout: function() {\n            var clone = [];\n            var trimmedRowLevels;\n            var rowLevels;\n            var levelMarker;\n            var rowCount;\n\n            for (var rowLevelIndex = 0; rowLevelIndex < this.cachedRowLevels.length; rowLevelIndex++) {\n                clone[rowLevelIndex] = this.cachedRowLevels[rowLevelIndex];\n            }\n\n            trimmedRowLevels = this._trimRowLevels(clone);\n            rowLevels = trimmedRowLevels.rowLevels.splice(trimmedRowLevels.levelMarker);\n            levelMarker = trimmedRowLevels.levelMarker;\n            rowCount = rowLevels[rowLevels.length - 1].length;\n\n            delete this._height;\n\n            for (var i = levelMarker; i < this.rowLevels.length; i++) {\n                this.rowLevels[i] = this.rowLevels[i].concat(rowLevels[i - levelMarker]);\n            }\n\n            this.table\n                .find(\".k-scheduler-times\").last().find(\"tbody\")\n                .append(this._times(rowLevels, rowCount, this._isMobile()).find(\"tr\"));\n\n            this._updateDomRowLevels();\n\n            if (levelMarker > 0) {\n                for (i = 0; i < levelMarker; i++) {\n                    var cell = this.table.find(\"[data-row-level=\" + i + \"]\").last();\n                    var rowSpan = parseInt(cell.attr(\"rowspan\"),10) + rowCount;\n                    cell.attr(\"rowspan\", rowSpan);\n                }\n            }\n\n            this._virtualContent(rowLevels, this.columnLevels);\n            this.render(this._cachedEvents);\n        },\n\n        _tryRenderContent: function() {\n            var that = this;\n            var bufferHeight = that.table.innerHeight();\n            var height = that.content.find(\"table\").innerHeight();\n            var scrollTop = that.content.scrollTop();\n\n            while (that._hasContentToRender && height - bufferHeight < scrollTop) {\n                that.createNextLayout();\n                height = that.content.find(\"table\").innerHeight();\n            }\n        },\n\n        _updateDomRowLevels: function() {\n            var that = this;\n            var groupCells = that.times.find(\".k-scheduler-group-cell:not([data-row-level])\");\n\n            if (!this._rowLevelIndices) {\n                this._rowLevelIndices = groupCells.map(function(index, item) {\n                    $(item).attr(\"data-row-level\", index);\n                    return index;\n                }).toArray().reverse();\n                return;\n            }\n\n            groupCells = groupCells.toArray().reverse();\n\n            for (var i = 0; i <= groupCells.length; i++) {\n                $(groupCells[i]).attr(\"data-row-level\", this._rowLevelIndices[i]);\n            }\n        },\n\n        refreshLayout: function() {\n            var that = this,\n                toolbar = that.element.find(\"> .k-scheduler-toolbar\"),\n                height = that.element.innerHeight(),\n                scrollbar = this._scrollbar,\n                headerHeight = 0,\n                paddingDirection = this._isRtl ? \"left\" : \"right\";\n\n            for (var idx = 0; idx < toolbar.length; idx++) {\n                height -= outerHeight(toolbar.eq(idx));\n            }\n\n            if (that.datesHeader) {\n                headerHeight = outerHeight(that.datesHeader);\n            }\n\n            if (that.timesHeader && outerHeight(that.timesHeader) > headerHeight) {\n                headerHeight = outerHeight(that.timesHeader);\n            }\n\n            if (that.datesHeader && that.timesHeader) {\n                var datesHeaderRows = that.datesHeader.find(\"table\").first().find(\"tr\");\n\n                that.timesHeader.find(\"tr\").height(function(index) {\n                    $(this).height(datesHeaderRows.eq(index).height());\n                });\n            }\n\n            if (headerHeight) {\n                height -= headerHeight;\n            }\n\n            if (that.footer) {\n                height -= outerHeight(that.footer);\n            }\n\n            var isSchedulerHeightSet = function(el) {\n                var initialHeight, newHeight;\n                if (el[0].style.height) {\n                    return true;\n                } else {\n                    initialHeight = el.height();\n                }\n\n                el.height(\"auto\");\n                newHeight = el.height();\n\n                if (initialHeight != newHeight) {\n                    el.height(\"\");\n                    return true;\n                }\n                el.height(\"\");\n                return false;\n            };\n\n            var contentDiv = that.content[0],\n                scrollbarWidth = !kendo.support.kineticScrollNeeded ? scrollbar : 0;\n\n            if (isSchedulerHeightSet(that.element)) { // set content height only if needed\n                if (height > scrollbar * 2) { // do not set height if proper scrollbar cannot be displayed\n                    that.content.height(height);\n                } else {\n                    that.content.height(scrollbar * 2 + 1);\n                }\n\n                if (that.times) {\n                    that.times.height(contentDiv.clientHeight);\n\n                    var timesTable = that.times.find(\"table\");\n                    if (timesTable.length) {\n                        timesTable.height(that.content.find(\"table\")[0].clientHeight);\n                    }\n                }\n            }\n\n            if (that.table) {\n                if (contentDiv.offsetWidth - contentDiv.clientWidth > 0) {\n                    that.table.addClass(\"k-scrollbar-v\");\n                    that.datesHeader.css(\"padding-\" + paddingDirection, scrollbarWidth - parseInt(that.datesHeader.children().css(\"border-\" + paddingDirection + \"-width\"), 10));\n                } else {\n                    that.datesHeader.css(\"padding-\" + paddingDirection, \"0\");\n                }\n                if (contentDiv.offsetHeight - contentDiv.clientHeight > 0 || contentDiv.clientHeight > that.content.children(\".k-scheduler-table\").height()) {\n                    that.table.addClass(\"k-scrollbar-h\");\n                } else {\n                    that.table.removeClass(\"k-scrollbar-h\");\n                }\n            }\n        },\n\n        _topSection: function(columnLevels, allDaySlot, rowCount) {\n            var thElm = $(\"<tr>\");\n\n            this.timesHeader = timesHeader(columnLevels.length, allDaySlot, rowCount);\n            this.datesHeader = this._datesHeader(columnLevels, allDaySlot);\n\n            var dateGroup = this.datesHeader.find(\".k-nav-day\");\n\n            if (dateGroup.length) {\n                dateGroup.closest(\"tr\").addClass(\"k-scheduler-date-group\");\n            }\n\n            if (this._isMobile()) {\n                thElm.addClass(\"k-mobile-header\");\n                thElm.addClass(\"k-mobile-\" + this._groupOrientation() + \"-header\");\n            }\n\n            return $(thElm).append(this.timesHeader.add(this.datesHeader).wrap(\"<td>\").parent());\n        },\n\n        _bottomSection: function(columnLevels, rowLevels, rowCount) {\n            this.times = this._times(rowLevels, rowCount, this._isMobile());\n\n            this.content = content(columnLevels[columnLevels.length - 1], rowLevels[rowLevels.length - 1]);\n\n            return $(\"<tr>\").append(this.times.add(this.content).wrap(\"<td>\").parent());\n        },\n\n        _scroller: function() {\n            var that = this;\n\n            this.content.on(\"scroll\" + NS, function() {\n                kendo.scrollLeft(that.datesHeader.find(\">.k-scheduler-header-wrap\"), this.scrollLeft);\n                that.times.scrollTop(this.scrollTop);\n                if (that._isVirtualized()) {\n                    that._tryRenderContent();\n                }\n            });\n\n            var touchScroller = kendo.touchScroller(this.content, {\n                avoidScrolling: function(e) {\n                    return $(e.event.target).closest(\".k-event.k-event-active\").length > 0;\n                }\n            });\n\n            if (touchScroller && touchScroller.movable) {\n\n                this._touchScroller = touchScroller;\n\n                this.content = touchScroller.scrollElement;\n\n                touchScroller.movable.bind(\"change\", function(e) {\n                    kendo.scrollLeft(that.datesHeader.find(\">.k-scheduler-header-wrap\"), -e.sender.x);\n                    that.times.scrollTop(-e.sender.y);\n                    if (that._isVirtualized()) {\n                        that._tryRenderContent();\n                    }\n                });\n            }\n        },\n\n        _resourcesForGroups: function() {\n            var result = [];\n            var groups = this.options.group;\n            var resources = this.options.resources;\n\n            groups = groups && groups.resources ? groups.resources : [];\n\n            if (resources && groups.length) {\n                for (var idx = 0, length = resources.length; idx < length; idx++) {\n                    for (var groupIdx = 0, groupLength = groups.length; groupIdx < groupLength; groupIdx++) {\n                        if (resources[idx].name === groups[groupIdx]) {\n                            result.push(resources[idx]);\n                        }\n                    }\n                }\n            }\n\n            this.groupedResources = result;\n        },\n\n        _createDateLayout: function(dates, inner, times) {\n            return createDateLayoutConfiguration(\"rows\", dates, inner, times);\n        },\n\n        _createColumnsLayout: function(resources, inner, template, dates, times, parentValue) {\n            return createLayoutConfiguration(\"columns\", resources, inner, template, dates, times, parentValue);\n        },\n\n        _groupOrientation: function() {\n            var groups = this.options.group;\n            return groups && groups.resources ? groups.orientation : \"horizontal\";\n        },\n\n        _isGroupedByDate: function() {\n            return this.options.group && this.options.group.date;\n        },\n\n        _isVerticallyGrouped: function() {\n            return this.groupedResources.length && this._groupOrientation() === \"vertical\";\n        },\n\n        _createRowsLayout: function(resources, inner, template, dates) {\n            return createLayoutConfiguration(\"rows\", resources, inner, template, dates);\n        },\n\n        selectionByElement: function() {\n            return null;\n        },\n\n        clearSelection: function() {\n            this.content\n                .find(\".k-selected\")\n                .removeAttr(\"id\")\n                .removeClass(\"k-selected\");\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(this);\n\n            if (that.table) {\n                kendo.destroy(that.table);\n                that.table.remove();\n            }\n\n            if (that.footer) {\n                kendo.destroy(that.footer);\n                that.footer.remove();\n            }\n\n            that.groups = null;\n            that.table = null;\n            that.content = null;\n            that.times = null;\n            that.datesHeader = null;\n            that.timesHeader = null;\n            that.footer = null;\n            that._resizeHint = null;\n            that._moveHint = null;\n        },\n\n        calendarInfo: function() {\n            return kendo.getCulture().calendars.standard;\n        },\n\n        prevGroupSlot: function(date, groupIndex, isDay) {\n            var collection;\n            var group = this.groups[groupIndex];\n            var slot = group.ranges(date, date, isDay, false)[0].start;\n\n            if (groupIndex <= 0) {\n                return;\n            }\n\n            if (this._isGroupedByDate()) {\n               return slot;\n            }\n\n            if (this._isVerticallyGrouped()) {\n                if (!group.timeSlotCollectionCount()) {\n                    collection = group._collection(group.daySlotCollectionCount() - 1, true);\n                    return collection.at(slot.index);\n                } else {\n                    collection = group._collection(isDay ? slot.index : slot.collectionIndex, false);\n                    return collection.last();\n                }\n            } else {\n                if (!group.timeSlotCollectionCount()) {\n                    collection = group._collection(slot.collectionIndex, true);\n                    return collection.last();\n                } else {\n                    collection = group._collection(isDay ? 0 : group.timeSlotCollectionCount() - 1, isDay);\n                    return isDay ? collection.last() : collection.at(slot.index);\n                }\n            }\n        },\n\n        nextGroupSlot: function(date, groupIndex, isDay) {\n            var collection;\n            var group = this.groups[groupIndex];\n            var slot = group.ranges(date, date, isDay, false)[0].start;\n            var daySlotCollectionCount;\n\n            if (groupIndex >= this.groups.length - 1) {\n                return;\n            }\n\n            if (this._isGroupedByDate()) {\n               return slot;\n            }\n\n            if (this._isVerticallyGrouped()) {\n                if (!group.timeSlotCollectionCount()) {\n                    collection = group._collection(0, true);\n                    return collection.at(slot.index);\n                } else {\n                    daySlotCollectionCount = group.daySlotCollectionCount();\n                    collection = group._collection(daySlotCollectionCount ? 0 : slot.collectionIndex, daySlotCollectionCount);\n\n                    return isDay ? collection.first() : collection.at(slot.collectionIndex);\n                }\n            } else {\n                if (!group.timeSlotCollectionCount()) {\n                    collection = group._collection(slot.collectionIndex, true);\n                    return collection.first();\n                } else {\n                    collection = group._collection(0, isDay);\n                    return isDay ? collection.first() : collection.at(slot.index);\n                }\n            }\n        },\n\n        _eventOptionsForMove: function() {\n            return {};\n        },\n\n        _updateEventForResize: function() {\n            return;\n        },\n\n        _updateEventForSelection: function(event) {\n            return event;\n        },\n\n        _innerElements: function(element, type, inner) {\n            var count = 0,\n                countInner = function(el) {\n                    var innerSpan = el[inner],\n                        innerEls = el[type],\n                        current, innerCollection, i;\n\n                    if (innerSpan) {\n                        count += innerSpan;\n                        return;\n                    }\n\n                    if (!innerEls || innerEls.length === 0) {\n                        count += 1;\n                        return;\n                    }\n\n                    for (i = 0; i < innerEls.length; i++) {\n                        current = innerEls[i];\n                        innerCollection = current[type];\n\n                        if (innerCollection && innerCollection[0]) {\n                            if (!innerCollection[0][type] || innerCollection[0][type].length === 0) {\n                                count += innerCollection.length;\n                            } else {\n                                countInner(current);\n                            }\n                        } else {\n                            count += 1;\n                        }\n                    }\n                };\n\n            countInner(element);\n\n            return count;\n        },\n\n        _times: function(rowLevels, rowCount, isMobile) {\n            var that = this;\n            var rows = new Array(rowCount).join().split(\",\");\n            var rowHeaderRows = [];\n            var rowIndex;\n\n            for (var rowLevelIndex = 0; rowLevelIndex < rowLevels.length; rowLevelIndex++) {\n                var level = rowLevels[rowLevelIndex];\n                var rowsBefore = 0;\n\n                for (rowIndex = 0; rowIndex < level.length; rowIndex++) {\n                    var currentRow = level[rowIndex];\n                    var className = currentRow.className || \"\";\n                    var text = currentRow.text;\n                    var rowspan = that._innerElements(currentRow, \"rows\");\n\n                    rowsBefore += rowspan;\n\n                    if (currentRow.allDay) {\n                        className = \"k-scheduler-times-all-day\";\n                    }\n\n                    if (isMobile && className.indexOf(\"k-scheduler-group-cell\") !== -1) {\n                        text = '<span class=\"k-scheduler-group-text\">' + text + '</span>';\n                    }\n\n                    rows[rowsBefore - rowspan] += '<th class=\"' + className + '\" rowspan=\"' + rowspan + '\">' + text + \"</th>\";\n                }\n            }\n\n            for (rowIndex = 0; rowIndex < rowCount; rowIndex++) {\n                rowHeaderRows.push(rows[rowIndex]);\n            }\n\n            if (rowCount < 1) {\n                return $();\n            }\n\n            return $('<div class=\"k-scheduler-times\">' + table(rowHeaderRows) + '</div>');\n        },\n\n        _datesHeader: function(columnLevels, allDaySlot) {\n            var that = this;\n            var dateTableRows = [];\n            var columnIndex;\n\n            for (var columnLevelIndex = 0; columnLevelIndex < columnLevels.length; columnLevelIndex++) {\n                var level = columnLevels[columnLevelIndex];\n                var th = [];\n\n                for (columnIndex = 0; columnIndex < level.length; columnIndex ++) {\n                    var column = level[columnIndex];\n                    var colspan = that._innerElements(column, \"columns\", \"colspan\");\n\n                    th.push('<th colspan=\"' + (column.colspan || colspan) + '\" class=\"' + (column.className || \"\") + '\">' + column.text + \"</th>\");\n                }\n\n                dateTableRows.push(th.join(\"\"));\n            }\n\n            var allDayTableRows = [];\n\n            if (allDaySlot) {\n                var lastLevel = columnLevels[columnLevels.length - 1];\n                var td = [];\n                var cellContent = allDaySlot.cellContent;\n\n                for (columnIndex = 0; columnIndex < lastLevel.length; columnIndex++) {\n                    td.push('<td class=\"' + (lastLevel[columnIndex].className || \"\") + '\">' + (cellContent ? cellContent(columnIndex) : '&nbsp;') + '</td>');\n                }\n\n                allDayTableRows.push(td.join(\"\"));\n            }\n\n            return $(\n                '<div class=\"k-scheduler-header\">' +\n                    '<div class=\"k-scheduler-header-wrap\">' +\n                        table(dateTableRows) +\n                        allDayTable(allDayTableRows, \"k-scheduler-header-all-day\") +\n                    '</div>' +\n                '</div>'\n            );\n        },\n\n        _formatEventAriaLabel: function(title, start, end, isAllDay) {\n            var labelMessages = this.options.messages.ariaEventLabel,\n                sameDate = kendo.date.getDate(start).getTime() === kendo.date.getDate(end).getTime(),\n                labelText;\n\n            if (typeof(labelMessages) === \"string\") {\n                return kendo.format(labelMessages, title, start, start);\n            }\n\n            labelText = (labelMessages.prefix + SPACE + title + SPACE + labelMessages.on + SPACE + kendo.toString(start, \"D\")).trim();\n\n            if (isAllDay && sameDate) {\n                return labelText + SPACE + labelMessages.allDay;\n            } else if (isAllDay) {\n                return labelText + SPACE + labelMessages.to + SPACE + kendo.toString(end, \"D\") + SPACE + labelMessages.allDay;\n            } else {\n                labelText = labelText + SPACE + labelMessages.at + SPACE + kendo.toString(start, \"t\") + SPACE + labelMessages.to + SPACE;\n\n                if (sameDate) {\n                    return labelText + kendo.toString(end, \"t\");\n                } else {\n                    return labelText + kendo.toString(end, \"D\") + SPACE + labelMessages.at + SPACE + kendo.toString(end, \"t\");\n                }\n            }\n        }\n    });\n\n    function collidingEvents(elements, start, end) {\n        var idx,\n            index,\n            startIndex,\n            overlaps,\n            endIndex;\n\n        for (idx = elements.length - 1; idx >= 0; idx--) {\n            index = rangeIndex(elements[idx]);\n            startIndex = index.start;\n            endIndex = index.end;\n\n            overlaps = startIndex <= start && endIndex >= start;\n\n            if (overlaps || (startIndex >= start && endIndex <= end) || (start <= startIndex && end >= startIndex)) {\n                if (startIndex < start) {\n                    start = startIndex;\n                }\n\n                if (endIndex > end) {\n                    end = endIndex;\n                }\n            }\n        }\n\n        return eventsForSlot(elements, start, end);\n    }\n\n    function rangeIndex(eventElement) {\n        return {\n            start: eventElement.start,\n            end: eventElement.end\n        };\n    }\n\n    function eventsForSlot(elements, slotStart, slotEnd) {\n        var events = [];\n\n        for (var idx = 0; idx < elements.length; idx++) {\n            var event = rangeIndex(elements[idx]);\n\n            if ((event.start < slotStart && event.end > slotStart) || (event.start >= slotStart && event.end <= slotEnd)) {\n                events.push(elements[idx]);\n            }\n        }\n\n        return events;\n    }\n\n    function createColumns(eventElements) {\n        return _createColumns(eventElements);\n    }\n\n    function createRows(eventElements) {\n        return _createColumns(eventElements);\n    }\n\n    var Color = function(value) {\n        var color = this,\n            formats = Color.formats,\n            re,\n            processor,\n            parts,\n            i,\n            channels;\n\n        if (arguments.length === 1) {\n            value = color.resolveColor(value);\n\n            for (i = 0; i < formats.length; i++) {\n                re = formats[i].re;\n                processor = formats[i].process;\n                parts = re.exec(value);\n\n                if (parts) {\n                    channels = processor(parts);\n                    color.r = channels[0];\n                    color.g = channels[1];\n                    color.b = channels[2];\n                }\n            }\n        } else {\n            color.r = arguments[0];\n            color.g = arguments[1];\n            color.b = arguments[2];\n        }\n\n        color.r = color.normalizeByte(color.r);\n        color.g = color.normalizeByte(color.g);\n        color.b = color.normalizeByte(color.b);\n    };\n\n    Color.prototype = {\n        resolveColor: function(value) {\n            value = value || \"#000\";\n\n            if (value.charAt(0) == \"#\") {\n                value = value.substr(1, 6);\n            }\n\n            value = value.replace(/ /g, \"\");\n            value = value.toLowerCase();\n            value = Color.namedColors[value] || value;\n\n            return value;\n        },\n\n        normalizeByte: function(value) {\n            return (value < 0 || isNaN(value)) ? 0 : ((value > 255) ? 255 : value);\n        },\n\n        percBrightness: function() {\n            var color = this;\n            return math.sqrt(0.241 * color.r * color.r + 0.691 * color.g * color.g + 0.068 * color.b * color.b);\n        },\n\n        isDark: function() {\n            var color = this;\n            var brightnessValue = color.percBrightness();\n            return brightnessValue < 180;\n        }\n    };\n\n    Color.formats = [{\n            re: /^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\n            process: function(parts) {\n                return [\n                    parseInt(parts[1], 10), parseInt(parts[2], 10), parseInt(parts[3], 10)\n                ];\n            }\n        }, {\n            re: /^(\\w{2})(\\w{2})(\\w{2})$/,\n            process: function(parts) {\n                return [\n                    parseInt(parts[1], 16), parseInt(parts[2], 16), parseInt(parts[3], 16)\n                ];\n            }\n        }, {\n            re: /^(\\w{1})(\\w{1})(\\w{1})$/,\n            process: function(parts) {\n                return [\n                    parseInt(parts[1] + parts[1], 16),\n                    parseInt(parts[2] + parts[2], 16),\n                    parseInt(parts[3] + parts[3], 16)\n                ];\n            }\n        }\n    ];\n\n    Color.namedColors = {\n        aqua: \"00ffff\", azure: \"f0ffff\", beige: \"f5f5dc\",\n        black: \"000000\", blue: \"0000ff\", brown: \"a52a2a\",\n        coral: \"ff7f50\", cyan: \"00ffff\", darkblue: \"00008b\",\n        darkcyan: \"008b8b\", darkgray: \"a9a9a9\", darkgreen: \"006400\",\n        darkorange: \"ff8c00\", darkred: \"8b0000\", dimgray: \"696969\",\n        fuchsia: \"ff00ff\", gold: \"ffd700\", goldenrod: \"daa520\",\n        gray: \"808080\", green: \"008000\", greenyellow: \"adff2f\",\n        indigo: \"4b0082\", ivory: \"fffff0\", khaki: \"f0e68c\",\n        lightblue: \"add8e6\", lightgrey: \"d3d3d3\", lightgreen: \"90ee90\",\n        lightpink: \"ffb6c1\", lightyellow: \"ffffe0\", lime: \"00ff00\",\n        limegreen: \"32cd32\", linen: \"faf0e6\", magenta: \"ff00ff\",\n        maroon: \"800000\", mediumblue: \"0000cd\", navy: \"000080\",\n        olive: \"808000\", orange: \"ffa500\", orangered: \"ff4500\",\n        orchid: \"da70d6\", pink: \"ffc0cb\", plum: \"dda0dd\",\n        purple: \"800080\", red: \"ff0000\", royalblue: \"4169e1\",\n        salmon: \"fa8072\", silver: \"c0c0c0\", skyblue: \"87ceeb\",\n        slateblue: \"6a5acd\", slategray: \"708090\", snow: \"fffafa\",\n        steelblue: \"4682b4\", tan: \"d2b48c\", teal: \"008080\",\n        tomato: \"ff6347\", turquoise: \"40e0d0\", violet: \"ee82ee\",\n        wheat: \"f5deb3\", white: \"ffffff\", whitesmoke: \"f5f5f5\",\n        yellow: \"ffff00\", yellowgreen: \"9acd32\"\n    };\n\n    function _createColumns(eventElements) {\n        var columns = [];\n\n        for (var idx = 0; idx < eventElements.length; idx++) {\n            var event = eventElements[idx];\n            var eventRange = rangeIndex(event);\n            var column = null;\n\n            for (var j = 0, columnLength = columns.length; j < columnLength; j++) {\n                var endOverlaps = eventRange.start > columns[j].end;\n\n                if (eventRange.start < columns[j].start || endOverlaps) {\n\n                    column = columns[j];\n\n                    if (column.end < eventRange.end) {\n                        column.end = eventRange.end;\n                    }\n\n                    break;\n                }\n            }\n\n            if (!column) {\n                column = { start: eventRange.start, end: eventRange.end, events: [] };\n                columns.push(column);\n            }\n\n            column.events.push(event);\n        }\n\n        return columns;\n    }\n\n    function createDateLayoutConfiguration(name, dates, inner, times) {\n         var configuration = [];\n\n         $.each(dates, function(index, item) {\n            var className = item.className ? \"k-slot-cell \" + item.className : \"k-slot-cell\";\n\n            var obj = {\n                text: item.text,\n                className: className\n            };\n\n            if (times && !item.minorTicks) {\n                obj[name] = createDateLayoutConfiguration(name, item.columns, inner, times);\n            } else {\n                obj[name] = inner;\n            }\n            configuration.push(obj);\n        });\n\n        return configuration;\n    }\n\n    function createLayoutConfiguration(name, resources, inner, template, dates, times, parentValue) {\n        var resource = resources[0];\n        var configuration = [];\n\n        if (resource) {\n            if (dates && inner) {\n                $.each(dates, function(index, item) {\n                    if (times && !item.minorTicks) {\n                        item[name] = createLayoutConfiguration(name, resources, item.columns, template, item.columns, times, parentValue);\n                    } else {\n                        item[name] = createLayoutConfiguration(name, resources, null, template, null, null, parentValue);\n                    }\n                });\n                configuration = dates;\n            } else {\n                var data = resource.dataSource.view();\n\n                data = data.filter(function(item) {\n                    var itemParentValue = kendo.getter(resource.dataParentValueField)(item);\n\n                    return itemParentValue === null || itemParentValue === undefined || itemParentValue === parentValue;\n                });\n\n                for (var dataIndex = 0; dataIndex < data.length; dataIndex++) {\n                    var value = kendo.getter(resource.dataValueField)(data[dataIndex]);\n                    var obj = {\n                        text: template({\n                            text: kendo.htmlEncode(kendo.getter(resource.dataTextField)(data[dataIndex])),\n                            color: kendo.getter(resource.dataColorField)(data[dataIndex]),\n                            field: resource.field,\n                            title: resource.title,\n                            name: resource.name,\n                            value: value\n                        }),\n                        className: \"k-slot-cell k-scheduler-group-cell\",\n                        parentValue: parentValue,\n                        value: value\n                    };\n\n                    // filter-out those inner resources that are not relevant\n                    obj[name] = createLayoutConfiguration(name, resources.slice(1), inner, template, dates, times, value);\n\n                    configuration.push(obj);\n                }\n            }\n            return configuration;\n        }\n        return inner;\n    }\n\n    function groupEqFilter(value) {\n        return function(item) {\n            if (Array.isArray(item) || item instanceof kendo.data.ObservableArray) {\n                for (var idx = 0; idx < item.length; idx++) {\n                    if (item[idx] == value) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n            return item == value;\n        };\n    }\n\n    var selectedStateRegExp = /\\s*k-selected/;\n    function addSelectedState(cell) {\n        cell.className = cell.className.replace(selectedStateRegExp, \"\") + \" k-selected\";\n    }\n\n    $.extend(ui.SchedulerView, {\n        createColumns: createColumns,\n        createRows: createRows,\n        rangeIndex: rangeIndex,\n        collidingEvents: collidingEvents,\n        groupEqFilter: groupEqFilter\n    });\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, __webpack_require__.amdD);\n\n\n/***/ }),\n\n/***/ 57949:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./kendo.core\");\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/amd define */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.amdD = function () {\n/******/ \t\t\tthrow new Error('define cannot be used indirect');\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module used 'module' so it can't be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__(22200);\n/******/ \tmodule.exports = __webpack_exports__;\n/******/ \t\n/******/ })()\n;"],"mappings":"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"},"metadata":{},"sourceType":"script"}