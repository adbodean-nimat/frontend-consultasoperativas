{"ast":null,"code":"require(\"core-js/modules/es.error.cause.js\");\n\n/******/\n(function () {\n  // webpackBootstrap\n\n  /******/\n  var __webpack_modules__ = {\n    /***/\n    89901:\n    /***/\n    function (module, exports, __webpack_require__) {\n      var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n      (function (f, define) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(36765), __webpack_require__(87190), __webpack_require__(63401), __webpack_require__(53374), __webpack_require__(24049), __webpack_require__(13094), __webpack_require__(84800), __webpack_require__(20648)], __WEBPACK_AMD_DEFINE_FACTORY__ = f, __WEBPACK_AMD_DEFINE_RESULT__ = typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n      })(function () {\n        var __meta__ = {\n          id: \"gantt\",\n          name: \"Gantt\",\n          category: \"web\",\n          description: \"The Gantt component.\",\n          depends: [\"data\", \"resizable\", \"switch\", \"gantt.data\", \"gantt.editors\", \"gantt.list\", \"gantt.timeline\", \"pdf\"]\n        };\n\n        (function ($, undefined) {\n          var kendo = window.kendo,\n              keys = $.extend({\n            F10: 121\n          }, kendo.keys),\n              supportsMedia = (\"matchMedia\" in window),\n              mobileOS = kendo.support.mobileOS,\n              Widget = kendo.ui.Widget,\n              ObservableObject = kendo.data.ObservableObject,\n              ObservableArray = kendo.data.ObservableArray,\n              Query = kendo.data.Query,\n              isArray = Array.isArray,\n              inArray = $.inArray,\n              isFunction = kendo.isFunction,\n              extend = $.extend,\n              isPlainObject = $.isPlainObject,\n              outerWidth = kendo._outerWidth,\n              outerHeight = kendo._outerHeight,\n              defaultIndicatorWidth = 3,\n              NS = \".kendoGantt\",\n              PERCENTAGE_FORMAT = \"p0\",\n              TABINDEX = \"tabIndex\",\n              CLICK = \"click\",\n              STRING = \"string\",\n              ARIA_DESCENDANT = \"aria-activedescendant\",\n              ARIA_LABEL = \"aria-label\",\n              ACTIVE_CELL = \"gantt_active_cell\",\n              DOT = \".\",\n              TASK_DELETE_CONFIRM = \"Are you sure you want to delete this task?\",\n              DEPENDENCY_DELETE_CONFIRM = \"Are you sure you want to delete this dependency?\",\n              TOGGLE_BUTTON_TEMPLATE = kendo.template('<button class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-gantt-toggle\" type=\"button\" ' + ARIA_LABEL + '=\"Toggle\"><span class=\"k-button-icon #=styles.iconToggle#\"></span></button>'),\n              BUTTON_TEMPLATE = '<button aria-label=\"#=text#\" class=\"#=styles.button# #=styles.buttonDefaults# #=className#\" type=\"button\" ' + '#if (action) {#' + 'data-action=\"#=action#\"' + '#}#' + '>' + '<span class=\"k-button-icon #=iconClass#\"></span>' + '<span class=\"k-button-text\">#=text#</span>' + '</button>',\n              COMMAND_BUTTON_TEMPLATE = '<a class=\"#=className#\" #=attr# href=\"\\\\#\"><span class=\"k-button-text\">#=text#</span></a>',\n              VIEWS_DROPDOWN_TEMPLATE = kendo.template('<select aria-label=\"#= label #\" class=\"k-dropdown k-picker k-dropdown-list #= styles.viewsDropdown #\">' + '#for(var view in views){#' + '<option value=\"#=view#\">#=views[view].title#</option>' + '#}#' + '</select>'),\n              HEADER_VIEWS_TEMPLATE = kendo.template('<div class=\"#=styles.viewsWrapper#\">' + '<span class=\"k-button-group #=styles.views#\">' + '#for(var view in views){#' + '<button type=\"button\" class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-view-#= view.toLowerCase() #\" data-#=ns#name=\"#=view#\">' + '<span class=\"k-button-text\">#=views[view].title#</span>' + '</button>' + '#}#' + '</span>' + '</div>');\n          var ganttStyles = {\n            wrapper: \"k-widget k-gantt\",\n            plannedTasks: \"k-gantt-planned\",\n            rowHeight: \"k-gantt-rowheight\",\n            content: \"k-gantt-content\",\n            listWrapper: \"k-gantt-treelist\",\n            list: \"k-gantt-treelist\",\n            timelineWrapper: \"k-gantt-timeline\",\n            timeline: \"k-gantt-timeline\",\n            splitBarWrapper: \"k-splitbar k-splitbar-horizontal k-splitbar-draggable-horizontal\",\n            splitBar: \"k-splitbar\",\n            splitBarHover: \"k-splitbar-horizontal-hover\",\n            popupWrapper: \"k-list-container\",\n            popupList: \"k-list k-reset\",\n            resizeHandle: \"k-resize-handle\",\n            icon: \"k-icon\",\n            item: \"k-item\",\n            line: \"k-gantt-line\",\n            buttonDelete: \"k-gantt-delete\",\n            buttonCancel: \"k-gantt-cancel\",\n            buttonSave: \"k-gantt-update\",\n            buttonToggle: \"k-gantt-toggle\",\n            buttonDefaults: \"k-button-md k-rounded-md k-button-solid\",\n            primary: \"k-button-solid-primary\",\n            hovered: \"k-hover\",\n            selected: \"k-selected\",\n            focused: \"k-focus\",\n            focusedCell: \"k-focus\",\n            gridHeader: \"k-grid-header\",\n            gridHeaderWrap: \"k-grid-header-wrap\",\n            gridContent: \"k-grid-content\",\n            tasks: \"k-gantt-tasks\",\n            popup: {\n              form: \"k-popup-edit-form\",\n              editForm: \"k-gantt-edit-form\",\n              formContainer: \"k-edit-form-container\",\n              resourcesFormContainer: \"k-resources-form-container\",\n              message: \"k-popup-message\",\n              buttonsContainer: \"k-edit-buttons\",\n              button: \"k-button\",\n              editField: \"k-edit-field\",\n              editLabel: \"k-edit-label\",\n              resourcesField: \"k-gantt-resources\"\n            },\n            toolbar: {\n              headerWrapper: \"k-gantt-header k-toolbar k-gantt-toolbar\",\n              footerWrapper: \"k-gantt-footer k-toolbar k-gantt-toolbar\",\n              toolbar: \"k-gantt-toolbar\",\n              views: \"k-gantt-views\",\n              viewsWrapper: \"k-gantt-views-wrapper\",\n              viewsDropdown: \"k-views-dropdown\",\n              button: \"k-button\",\n              buttonToggle: \"k-gantt-toggle\",\n              buttonDefaults: \"k-button-md k-rounded-md k-button-solid\",\n              iconPlus: \"k-icon k-i-plus\",\n              iconPdf: \"k-icon k-i-file-pdf\",\n              iconToggle: \"k-icon k-i-layout-1-by-4\",\n              viewButton: \"k-view\",\n              link: \"k-link\",\n              pdfButton: \"k-gantt-pdf\",\n              appendButton: \"k-gantt-create\"\n            }\n          };\n\n          function selector(uid) {\n            return \"[\" + kendo.attr(\"uid\") + (uid ? \"='\" + uid + \"']\" : \"]\");\n          }\n\n          function trimOptions(options) {\n            delete options.name;\n            delete options.prefix;\n            delete options.remove;\n            delete options.edit;\n            delete options.add;\n            delete options.navigate;\n            return options;\n          }\n\n          function focusTable(table, direct) {\n            var wrapper = table.parents('[' + kendo.attr(\"role\") + '=\"gantt\"]');\n            var scrollPositions = [];\n            var parents = scrollableParents(wrapper);\n            table.attr(TABINDEX, 0);\n\n            if (direct) {\n              parents.each(function (index, parent) {\n                scrollPositions[index] = $(parent).scrollTop();\n              });\n            }\n\n            try {\n              //The setActive method does not cause the document to scroll to the active object in the current page\n              table[0].setActive();\n            } catch (e) {\n              table[0].focus();\n            }\n\n            if (direct) {\n              parents.each(function (index, parent) {\n                $(parent).scrollTop(scrollPositions[index]);\n              });\n            }\n          }\n\n          function scrollableParents(element) {\n            return $(element).parentsUntil(\"body\").filter(function (index, element) {\n              var computedStyle = kendo.getComputedStyles(element, [\"overflow\"]);\n              return computedStyle.overflow != \"visible\";\n            }).add(window);\n          }\n\n          var defaultCommands;\n          var Gantt = Widget.extend({\n            init: function (element, options, events) {\n              if (isArray(options)) {\n                options = {\n                  dataSource: options\n                };\n              }\n\n              defaultCommands = {\n                append: {\n                  text: \"Add Task\",\n                  action: \"add\",\n                  className: Gantt.styles.toolbar.appendButton + \" k-button-solid-base\",\n                  iconClass: Gantt.styles.toolbar.iconPlus\n                },\n                pdf: {\n                  text: \"Export to PDF\",\n                  className: Gantt.styles.toolbar.pdfButton + \" k-button-solid-base\",\n                  iconClass: Gantt.styles.toolbar.iconPdf\n                }\n              };\n              Widget.fn.init.call(this, element, options);\n\n              if (events) {\n                this._events = events;\n              }\n\n              this._wrapper();\n\n              this._resources();\n\n              if (!this.options.views || !this.options.views.length) {\n                this.options.views = [\"day\", \"week\", \"month\"];\n              }\n\n              this._timeline();\n\n              this._toolbar();\n\n              this._footer();\n\n              this._adjustDimensions(); // Prevent extra refresh from setting the view\n\n\n              this._preventRefresh = true;\n              this.view(this.timeline._selectedViewName);\n              this._preventRefresh = false;\n\n              this._dataSource();\n\n              this._assignments();\n\n              this._dropDowns();\n\n              this._list();\n\n              this._dependencies();\n\n              this._resizable();\n\n              this._scrollable();\n\n              this._dataBind();\n\n              this._attachEvents();\n\n              this._createEditor();\n\n              kendo.notify(this);\n            },\n            events: [\"dataBinding\", \"dataBound\", \"add\", \"edit\", \"remove\", \"cancel\", \"save\", \"change\", \"navigate\", \"moveStart\", \"move\", \"moveEnd\", \"resizeStart\", \"resize\", \"resizeEnd\", \"columnHide\", \"columnReorder\", \"columnResize\", \"columnShow\", \"togglePlannedTasks\"],\n            options: {\n              name: \"Gantt\",\n              autoBind: true,\n              navigatable: false,\n              selectable: true,\n              editable: true,\n              resizable: false,\n              columnResizeHandleWidth: defaultIndicatorWidth,\n              columns: [],\n              views: [],\n              dataSource: {},\n              dependencies: {},\n              resources: {},\n              assignments: {},\n              taskTemplate: null,\n              messages: {\n                save: \"Save\",\n                cancel: \"Cancel\",\n                destroy: \"Delete\",\n                deleteTaskConfirmation: TASK_DELETE_CONFIRM,\n                deleteDependencyConfirmation: DEPENDENCY_DELETE_CONFIRM,\n                deleteTaskWindowTitle: \"Delete task\",\n                deleteDependencyWindowTitle: \"Delete dependency\",\n                selectView: \"Select view\",\n                views: {\n                  day: \"Day\",\n                  week: \"Week\",\n                  month: \"Month\",\n                  year: \"Year\",\n                  start: \"Start\",\n                  end: \"End\"\n                },\n                actions: {\n                  append: \"Add Task\",\n                  addChild: \"Add Child\",\n                  insertBefore: \"Add Above\",\n                  insertAfter: \"Add Below\",\n                  pdf: \"Export to PDF\"\n                },\n                editor: {\n                  editorTitle: \"Task\",\n                  resourcesEditorTitle: \"Resources\",\n                  title: \"Title\",\n                  start: \"Start\",\n                  end: \"End\",\n                  plannedStart: \"Planned Start\",\n                  plannedEnd: \"Planned End\",\n                  percentComplete: \"Complete\",\n                  resources: \"Resources\",\n                  assignButton: \"Assign\",\n                  resourcesHeader: \"Resources\",\n                  unitsHeader: \"Units\"\n                },\n                plannedTasks: {\n                  switchText: \"Planned Tasks\",\n                  offsetTooltipAdvanced: \"Met deadline earlier\",\n                  offsetTooltipDelay: \"Delay\",\n                  seconds: \"seconds\",\n                  minutes: \"minutes\",\n                  hours: \"hours\",\n                  days: \"days\"\n                }\n              },\n              showWorkHours: true,\n              showWorkDays: true,\n              toolbar: null,\n              workDayStart: new Date(1980, 1, 1, 8, 0, 0),\n              workDayEnd: new Date(1980, 1, 1, 17, 0, 0),\n              workWeekStart: 1,\n              workWeekEnd: 5,\n              hourSpan: 1,\n              snap: true,\n              height: 600,\n              listWidth: \"30%\",\n              rowHeight: null,\n              showPlannedTasks: false\n            },\n            select: function (value) {\n              var list = this.list;\n\n              if (!value) {\n                return list.select();\n              }\n\n              if (typeof value === STRING) {\n                value = list.content.find(value);\n              }\n\n              list.select(value);\n              this.list.element.find(\"table[role=treegrid]\").trigger(\"focus\");\n              return;\n            },\n            clearSelection: function () {\n              this.list.clearSelection();\n              this.list.trigger(\"change\");\n            },\n            destroy: function () {\n              Widget.fn.destroy.call(this);\n\n              if (this.dataSource) {\n                this.dataSource.unbind(\"change\", this._refreshHandler);\n                this.dataSource.unbind(\"progress\", this._progressHandler);\n                this.dataSource.unbind(\"error\", this._errorHandler);\n              }\n\n              if (this.dependencies) {\n                this.dependencies.unbind(\"change\", this._dependencyRefreshHandler);\n                this.dependencies.unbind(\"error\", this._dependencyErrorHandler);\n              }\n\n              if (this.timeline) {\n                this.timeline.unbind();\n                this.timeline.destroy();\n              }\n\n              if (this.list) {\n                this.list.unbind();\n                this.list.destroy();\n              }\n\n              if (this.footerDropDown) {\n                this.footerDropDown.destroy();\n              }\n\n              if (this.headerDropDown) {\n                this.headerDropDown.destroy();\n              }\n\n              if (this._editor) {\n                this._editor.destroy();\n              }\n\n              if (this._resizeDraggable) {\n                this._resizeDraggable.destroy();\n              }\n\n              this.toolbar.off(NS);\n\n              if (supportsMedia) {\n                this._mediaQuery.removeListener(this._mediaQueryHandler);\n\n                this._mediaQuery = null;\n              }\n\n              $(window).off(\"resize\" + NS, this._resizeHandler);\n              $(this.wrapper).off(NS);\n              this.toolbar = null;\n              this.footer = null;\n              kendo.destroy(this.element);\n            },\n            setOptions: function (options) {\n              var newOptions = kendo.deepExtend({}, this.options, options);\n              var events = this._events;\n\n              if (!options.views) {\n                var selectedView = this.view().name;\n                newOptions.views = $.map(this.options.views, function (view) {\n                  var isSettings = isPlainObject(view);\n                  var name = isSettings ? typeof view.type !== \"string\" ? view.title : view.type : view;\n\n                  if (selectedView === name) {\n                    if (isSettings) {\n                      view.selected = true;\n                    } else {\n                      view = {\n                        type: name,\n                        selected: true\n                      };\n                    }\n                  } else if (isSettings) {\n                    view.selected = false;\n                  }\n\n                  return view;\n                });\n              }\n\n              if (!options.dataSource) {\n                newOptions.dataSource = this.dataSource;\n              }\n\n              if (!options.dependencies) {\n                newOptions.dependencies = this.dependencies;\n              }\n\n              if (!options.resources) {\n                newOptions.resources = this.resources;\n              }\n\n              if (!options.assignments) {\n                newOptions.assignments = this.assignments;\n              }\n\n              this.destroy();\n              this.element.empty();\n              this.options = null;\n              this.init(this.element, newOptions, events);\n\n              Widget.fn._setEvents.call(this, newOptions);\n            },\n            _attachEvents: function () {\n              this._resizeHandler = this.resize.bind(this, false);\n              $(window).on(\"resize\" + NS, this._resizeHandler);\n\n              if (supportsMedia && this._mediaQuery.matches === true) {\n                this._mediaQueryHandler({\n                  matches: true\n                });\n              }\n            },\n            _wrapper: function () {\n              var ganttStyles = Gantt.styles;\n              var splitBarHandleClassName = [ganttStyles.icon, ganttStyles.resizeHandle].join(\" \");\n              var options = this.options;\n              var height = options.height;\n              var width = options.width;\n              this.wrapper = this.element.addClass(ganttStyles.wrapper);\n              this.layout = $(\"<div class='\" + ganttStyles.content + \"' />\").appendTo(this.wrapper).append(\"<div class='\" + ganttStyles.listWrapper + \"'><div></div></div>\").append(\"<div class='\" + ganttStyles.splitBarWrapper + \"'><div class='\" + splitBarHandleClassName + \"'></div></div>\").append(\"<div class='\" + ganttStyles.timelineWrapper + \"'><div></div></div>\");\n\n              if (options.showPlannedTasks) {\n                this.wrapper.addClass(ganttStyles.plannedTasks);\n              }\n\n              if (height) {\n                this.wrapper.css(\"height\", height);\n              }\n\n              if (width) {\n                this.wrapper.css(\"width\", width);\n              }\n\n              if (options.rowHeight) {\n                this.wrapper.addClass(ganttStyles.rowHeight);\n              }\n\n              this.treelistWrapper = this.wrapper.find(DOT + ganttStyles.list);\n              this.splitbar = this.wrapper.find(DOT + ganttStyles.splitBar);\n              this.timelineWrapper = this.wrapper.find(DOT + ganttStyles.timeline);\n              this.treelistWrapper.css(\"width\", options.listWidth);\n              this.timelineWrapper.css(\"width\", this.wrapper.width() - this.treelistWrapper.outerWidth() - this.splitbar.outerWidth());\n            },\n            _toolbar: function () {\n              var that = this;\n              var ganttStyles = Gantt.styles;\n              var viewsSelector = DOT + ganttStyles.toolbar.views + \" > button\";\n              var viewsDropdownSelector = DOT + ganttStyles.toolbar.viewsDropdown;\n              var pdfSelector = DOT + ganttStyles.toolbar.pdfButton;\n              var toggleSelector = DOT + ganttStyles.buttonToggle;\n              var contentSelector = DOT + ganttStyles.gridContent;\n              var splitbar = that.splitbar;\n              var treelist = that.treelistWrapper;\n              var timeline = that.timelineWrapper;\n              var actions = this.options.toolbar;\n              var toolbar;\n              var views;\n              var toggleButton;\n\n              var mediaQueryHandler = function (e) {\n                if (e.matches) {\n                  treelist.addClass(\"k-hidden\");\n                  splitbar.addClass(\"k-hidden\");\n                  treelist.width(\"100%\");\n                } else {\n                  treelist.removeClass(\"k-hidden\");\n                  splitbar.removeClass(\"k-hidden\");\n                  timeline.removeClass(\"k-hidden\");\n                  treelist.width(treelist.outerWidth());\n                  that.refresh();\n                  timeline.find(contentSelector).scrollTop(that.scrollTop);\n                }\n\n                that._resize();\n              };\n\n              if (!isFunction(actions)) {\n                actions = typeof actions === STRING ? actions : this._actions(actions);\n                actions = kendo.template(actions).bind(this);\n              }\n\n              toggleButton = $(TOGGLE_BUTTON_TEMPLATE({\n                styles: ganttStyles.toolbar\n              }));\n              views = $(HEADER_VIEWS_TEMPLATE({\n                ns: kendo.ns,\n                views: this.timeline.views,\n                styles: ganttStyles.toolbar\n              }));\n              toolbar = $(\"<div role='toolbar' class='\" + ganttStyles.toolbar.headerWrapper + \"'>\").append(toggleButton).append(actions({})).append(\"<span class='k-spacer k-toolbar-spacer' />\").append(views);\n\n              if (views.find(\"button\").length > 1) {\n                views.prepend(VIEWS_DROPDOWN_TEMPLATE({\n                  ns: kendo.ns,\n                  views: this.timeline.views,\n                  styles: ganttStyles.toolbar,\n                  label: this.options.messages.selectView\n                }));\n              }\n\n              if (this.toggeSwitchWrap) {\n                this.toggeSwitchWrap.insertBefore(views);\n              }\n\n              this.wrapper.prepend(toolbar);\n              this.toolbar = toolbar;\n\n              if (supportsMedia) {\n                this._mediaQueryHandler = mediaQueryHandler.bind(this);\n                this._mediaQuery = window.matchMedia(\"(max-width: 480px)\");\n\n                this._mediaQuery.addListener(this._mediaQueryHandler);\n              }\n\n              toolbar.on(\"change\" + NS, viewsDropdownSelector, function () {\n                var list = that.list;\n                var name = $(this).val();\n\n                if (list.editable && list.editable.trigger(\"validate\")) {\n                  return;\n                }\n\n                if (!that.trigger(\"navigate\", {\n                  view: name\n                })) {\n                  that.view(name);\n                }\n\n                that.toolbar.find(DOT + ganttStyles.focused).removeClass(ganttStyles.focused);\n              }).on(CLICK + NS, viewsSelector, function (e) {\n                e.preventDefault();\n                var list = that.list;\n                var name = $(this).attr(kendo.attr(\"name\"));\n\n                if (list.editor && !list.editor.end()) {\n                  return;\n                }\n\n                if (!that.trigger(\"navigate\", {\n                  view: name\n                })) {\n                  that.view(name);\n                }\n\n                that.toolbar.find(DOT + ganttStyles.focused).removeClass(ganttStyles.focused);\n              }).on(\"keydown\" + NS, viewsSelector, function (e) {\n                var views = $(DOT + ganttStyles.toolbar.views).children(\":not(.k-current-view)\");\n                var focusedViewIndex = views.index(that._focusedView && that._focusedView[0] || views.closest(DOT + ganttStyles.selected)[0]);\n\n                if (e.keyCode === keys.RIGHT) {\n                  $(that.toolbar.find(DOT + ganttStyles.focused)).removeClass(ganttStyles.focused);\n                  that._focusedView = focusedViewIndex + 1 === views.length ? $(views[0]) : $(views[focusedViewIndex + 1]);\n\n                  that._focusedView.trigger(\"focus\").addClass(ganttStyles.focused);\n\n                  e.preventDefault();\n                } else if (e.keyCode === keys.LEFT) {\n                  $(that.toolbar.find(DOT + ganttStyles.focused)).removeClass(ganttStyles.focused);\n                  that._focusedView = focusedViewIndex === 0 ? $(views[views.length - 1]) : $(views[focusedViewIndex - 1]);\n\n                  that._focusedView.trigger(\"focus\").addClass(ganttStyles.focused);\n\n                  e.preventDefault();\n                } else if ((e.keyCode === keys.ENTER || e.keyCode === keys.SPACEBAR) && that._focusedView) {\n                  that.view(that._focusedView.text().toLowerCase());\n                  e.preventDefault();\n                } else if (e.keyCode >= 49 && e.keyCode <= 57) {\n                  that.view(that.timeline._viewByIndex(e.keyCode - 49));\n                }\n              }).on(CLICK + NS, pdfSelector, function (e) {\n                e.preventDefault();\n                that.saveAsPDF();\n              }).on(CLICK + NS, toggleSelector, function (e) {\n                e.preventDefault();\n\n                if (treelist.is(\":visible\")) {\n                  treelist.addClass(\"k-hidden\");\n                  timeline.removeClass(\"k-hidden\");\n                  that.refresh();\n                  timeline.find(contentSelector).scrollTop(that.scrollTop);\n                } else {\n                  treelist.removeClass(\"k-hidden\");\n                  timeline.addClass(\"k-hidden\");\n                  treelist.find(contentSelector).scrollTop(that.scrollTop);\n                }\n\n                that._resize();\n              });\n              this.wrapper.on(\"focusout\" + NS, function (e) {\n                if (!$(e.relatedTarget).closest(DOT + ganttStyles.toolbar.toolbar).length) {\n                  that.toolbar.find(DOT + ganttStyles.focused).removeClass(ganttStyles.focused);\n                }\n\n                if (!$(e.relatedTarget).closest(DOT + ganttStyles.toolbar.views).length) {\n                  that.toolbar.find(DOT + ganttStyles.toolbar.views).removeClass(ganttStyles.toolbar.expanded);\n                }\n              });\n            },\n            _actions: function () {\n              var options = this.options;\n              var editable = options.editable;\n              var actions = options.toolbar;\n              var html = \"\";\n              var action;\n\n              if (!isArray(actions)) {\n                if (editable && editable.create !== false) {\n                  actions = [\"append\"];\n                } else {\n                  return html;\n                }\n              }\n\n              for (var i = 0, length = actions.length; i < length; i++) {\n                action = actions[i];\n\n                if (action === \"plannedTasks\" || action.name === \"plannedTasks\") {\n                  this._createPlannedTasksSwitch();\n\n                  continue;\n                }\n\n                html += this._createButton(action);\n              }\n\n              return html;\n            },\n            _footer: function () {\n              var editable = this.options.editable;\n\n              if (!editable || editable.create === false) {\n                return;\n              }\n\n              var ganttStyles = Gantt.styles.toolbar;\n              var messages = this.options.messages.actions;\n              var button = $(kendo.template(BUTTON_TEMPLATE)(extend(true, {\n                styles: ganttStyles\n              }, defaultCommands.append, {\n                text: messages.append\n              })));\n              var footer = $(\"<div class='\" + ganttStyles.footerWrapper + \"'>\").append(button);\n              this.wrapper.append(footer);\n              this.footer = footer;\n            },\n            _createButton: function (command) {\n              var template = command.template || BUTTON_TEMPLATE;\n              var messages = this.options.messages.actions;\n              var commandName = typeof command === STRING ? command : command.name || command.text;\n              var className = defaultCommands[commandName] ? defaultCommands[commandName].className : \"k-gantt-\" + (commandName || \"\").replace(/\\s/g, \"\");\n              var options = {\n                iconClass: \"\",\n                action: \"\",\n                text: commandName,\n                className: className,\n                styles: Gantt.styles.toolbar\n              };\n\n              if (!options.className) {\n                options.className = \"k-button-solid-base\";\n              } else if (options.className.indexOf(\"k-button-solid-primary\") === -1) {\n                options.className += \" k-button-solid-base\";\n              }\n\n              if (!commandName && !(isPlainObject(command) && command.template)) {\n                throw new Error(\"Custom commands should have name specified\");\n              }\n\n              options = extend(true, options, defaultCommands[commandName], {\n                text: messages[commandName]\n              });\n\n              if (isPlainObject(command)) {\n                if (command.className && inArray(options.className, command.className.split(\" \")) < 0) {\n                  command.className += \" \" + options.className;\n                }\n\n                options = extend(true, options, command);\n              }\n\n              return kendo.template(template)(options);\n            },\n            _adjustDimensions: function () {\n              var element = this.element;\n              var toolbarHeight = outerHeight(this.toolbar);\n              var footerHeight = this.footer ? outerHeight(this.footer) : 0;\n              var totalHeight = element.height();\n              var totalWidth = element.width();\n              var splitBarWidth = this.splitbar.is(\":visible\") ? outerWidth(this.splitbar) : 0;\n              var treeListWidth = this.treelistWrapper.is(\":visible\") ? outerWidth(this.treelistWrapper) : 0;\n              var timelineWidth = totalWidth - (treeListWidth + splitBarWidth);\n              this.layout.children().height(totalHeight - (toolbarHeight + footerHeight));\n              this.timelineWrapper.width(timelineWidth);\n\n              if (totalWidth < treeListWidth + splitBarWidth) {\n                this.treelistWrapper.width(totalWidth - splitBarWidth);\n              }\n            },\n            _scrollTo: function (value) {\n              var view = this.timeline.view();\n              var list = this.list;\n              var attr = kendo.attr(\"uid\");\n              var id = typeof value === \"string\" ? value : value.closest(\"tr\" + selector()).attr(attr);\n              var action;\n              var scrollTarget;\n\n              var scrollIntoView = function () {\n                if (scrollTarget.length !== 0) {\n                  action();\n                }\n              };\n\n              if (view.content.is(\":visible\")) {\n                scrollTarget = view.content.find(selector(id));\n\n                action = function () {\n                  view._scrollTo(scrollTarget);\n                };\n              } else {\n                scrollTarget = list.element.find(selector(id));\n\n                action = function () {\n                  scrollTarget.get(0).scrollIntoView();\n                };\n              }\n\n              scrollIntoView();\n            },\n            _dropDowns: function () {\n              var that = this;\n              var actionsSelector = DOT + Gantt.styles.toolbar.appendButton;\n              var actionMessages = this.options.messages.actions;\n              var timeline = this.timeline;\n              var editable = this.options.editable;\n\n              var handler = function (e) {\n                var type = e.type;\n                var orderId;\n                var dataSource = that.dataSource;\n\n                var task = dataSource._createNewModel({});\n\n                var selected = that.dataItem(that.select());\n                var parent = dataSource.taskParent(selected);\n\n                var firstSlot = timeline.view()._timeSlots()[0];\n\n                var target = type === \"add\" ? selected : parent;\n                var editable = that.list.editor;\n\n                if (editable && editable.trigger(\"validate\")) {\n                  return;\n                }\n\n                task.set(\"title\", \"New task\");\n\n                if (target) {\n                  task.set(\"parentId\", target.get(\"id\"));\n                  task.set(\"start\", target.get(\"start\"));\n                  task.set(\"end\", target.get(\"end\"));\n                  task.set(\"plannedStart\", target.get(\"plannedStart\"));\n                  task.set(\"plannedEnd\", target.get(\"plannedEnd\"));\n                } else {\n                  task.set(\"start\", firstSlot.start);\n                  task.set(\"end\", firstSlot.end);\n                }\n\n                if (type !== \"add\") {\n                  orderId = selected.get(\"orderId\");\n                  orderId = type === \"insert-before\" ? orderId : orderId + 1;\n                }\n\n                that._createTask(task, orderId);\n              };\n\n              if (!editable || editable.create === false) {\n                return;\n              }\n\n              this.footerDropDown = new kendo.gantt.TaskDropDown(this.footer.children(actionsSelector).eq(0), {\n                messages: {\n                  actions: actionMessages\n                },\n                direction: \"up\",\n                animation: {\n                  open: {\n                    effects: \"slideIn:up\"\n                  }\n                }\n              });\n              this.headerDropDown = new kendo.gantt.TaskDropDown(this.toolbar.children(actionsSelector).eq(0), {\n                messages: {\n                  actions: actionMessages\n                }\n              });\n              this.footerDropDown.bind(\"command\", handler);\n              this.headerDropDown.bind(\"command\", handler);\n            },\n            _getListEditable: function () {\n              var editable = false,\n                  options = this.options;\n\n              if (options.editable !== false) {\n                editable = \"incell\";\n\n                if (options.editable && options.editable.update === false) {\n                  editable = false;\n                } else {\n                  if (!options.editable || options.editable.reorder !== false) {\n                    editable = {\n                      mode: \"incell\",\n                      move: {\n                        reorderable: true\n                      }\n                    };\n                  }\n                }\n              }\n\n              return editable;\n            },\n            _getListOptions: function () {\n              var options = this.options,\n                  editable = this._getListEditable(),\n                  listWrapper = this.wrapper.find(DOT + ganttStyles.list),\n                  ganttListOptions = {\n                columns: options.columns || [],\n                dataSource: this.dataSource,\n                selectable: options.selectable,\n                reorderable: options.reorderable,\n                editable: editable,\n                resizable: options.resizable,\n                filterable: options.filterable,\n                columnMenu: options.columnMenu,\n                columnResizeHandleWidth: this.options.columnResizeHandleWidth,\n                listWidth: outerWidth(listWrapper),\n                resourcesField: this.resources.field,\n                rowHeight: this.options.rowHeight\n              };\n\n              return ganttListOptions;\n            },\n            _attachResourceEditor: function (columns) {\n              var column;\n\n              for (var i = 0; i < columns.length; i++) {\n                column = columns[i];\n\n                if (column.field === this.resources.field && typeof column.editor !== \"function\") {\n                  column.editor = this._createResourceEditor.bind(this);\n                }\n              }\n            },\n            _attachListEvents: function () {\n              var that = this,\n                  navigatable = that.options.navigatable,\n                  toggleButtons = this.wrapper.find(DOT + ganttStyles.toolbar.toolbar + \" \" + DOT + ganttStyles.toolbar.appendButton),\n                  restoreFocus = function () {\n                var element;\n\n                if (navigatable && that._cachedCurrent) {\n                  element = that.list.content.find(\"tr\").eq(that._cachedCurrent.rowIndex).find(\"td\").eq(that._cachedCurrent.columnIndex);\n\n                  that._current(element);\n\n                  focusTable(that.list.content.find(\"table\"), true);\n                }\n\n                delete that._cachedCurrent;\n              };\n\n              that.list.bind(\"columnShow\", function (e) {\n                that.trigger(\"columnShow\", {\n                  column: e.column\n                });\n              }).bind(\"columnHide\", function (e) {\n                that.trigger(\"columnHide\", {\n                  column: e.column\n                });\n              }).bind(\"columnReorder\", function (e) {\n                that.trigger(\"columnReorder\", {\n                  column: e.column,\n                  oldIndex: e.oldIndex,\n                  newIndex: e.newIndex\n                });\n              }).bind(\"columnResize\", function (e) {\n                that.trigger(\"columnResize\", {\n                  column: e.column,\n                  oldWidth: e.oldWidth,\n                  newWidth: e.newWidth\n                });\n              }).bind(\"render\", function () {\n                that._navigatable();\n              }, true).bind(\"beforeEdit\", function (e) {\n                that._cachedCurrent = {\n                  rowIndex: e.container.closest(\"tr\").index(),\n                  columnIndex: e.container.index()\n                };\n\n                if (that.trigger(\"edit\", {\n                  task: e.model,\n                  container: e.container\n                })) {\n                  e.preventDefault();\n                }\n              }).bind(\"cancel\", function (e) {\n                if (that.trigger(\"cancel\", {\n                  task: e.model,\n                  container: e.cell\n                })) {\n                  e.preventDefault();\n                  return;\n                }\n\n                that._preventItemChange = true;\n                that.list.closeCell(true);\n                restoreFocus();\n              }).bind(\"save\", function (e) {\n                var updatedValues = e.values,\n                    key;\n                that.previousTask = {};\n                that._preventRefresh = true;\n\n                if (that.updateDuration === null || that.updateDuration === undefined) {\n                  that.updateDuration = e.model.duration();\n                }\n\n                if (that.updatePlannedDuration === null || that.updatePlannedDuration === undefined) {\n                  that.updatePlannedDuration = e.model.plannedDuration();\n                }\n\n                if (updatedValues.hasOwnProperty(\"start\")) {\n                  updatedValues.end = new Date(updatedValues.start.getTime() + that.updateDuration);\n                }\n\n                if (updatedValues.hasOwnProperty(\"plannedStart\") && updatedValues.plannedStart) {\n                  updatedValues.plannedEnd = new Date(updatedValues.plannedStart.getTime() + that.updatePlannedDuration);\n                }\n\n                for (key in updatedValues) {\n                  if (updatedValues.hasOwnProperty(key)) {\n                    that.previousTask[key] = e.model.get(key);\n                  }\n                }\n\n                that.updatedValues = updatedValues;\n              }).bind(\"itemChange\", function (e) {\n                var updateInfo = that.updatedValues,\n                    task = e.data,\n                    resourcesField = that.resources.field,\n                    previousTask = that.previousTask,\n                    key;\n\n                if (that._preventItemChange) {\n                  that._preventItemChange = false;\n                  return;\n                }\n\n                for (key in previousTask) {\n                  if (previousTask.hasOwnProperty(key)) {\n                    task.set(key, previousTask[key]);\n                  }\n                }\n\n                that.previousTask = {};\n\n                if (!that.trigger(\"save\", {\n                  task: task,\n                  values: updateInfo\n                })) {\n                  if (updateInfo) {\n                    that._preventRefresh = true;\n                    that.dataSource.update(task, updateInfo);\n\n                    if (updateInfo[resourcesField]) {\n                      that._updateAssignments(task.get(\"id\"), updateInfo[resourcesField]);\n                    }\n                  }\n\n                  that._preventRefresh = false;\n\n                  that._requestStart();\n\n                  that.dataSource.sync().then(function () {\n                    restoreFocus();\n                  });\n                } else if (that.dataSource.hasChanges()) {\n                  that.dataSource.cancelChanges(task);\n                  that._preventRefresh = false;\n                  that.refresh();\n                }\n\n                that.updatedValues = null;\n                that.updateDuration = null;\n              }).bind(\"change\", function () {\n                that.trigger(\"change\");\n                var selection = that.list.select();\n\n                if (selection.length) {\n                  toggleButtons.removeAttr(\"data-action\", \"add\");\n                  that.timeline.select(\"[data-uid='\" + selection.attr(\"data-uid\") + \"']\");\n                } else {\n                  toggleButtons.attr(\"data-action\", \"add\");\n                  that.timeline.clearSelection();\n                }\n              }).bind(\"collapse\", function (e) {\n                e.preventDefault();\n                var row = that.list.element.find(\"tr[data-uid='\" + e.model.uid + \"']\");\n                e.model.set(\"expanded\", false);\n                that._cachedCurrent = {\n                  rowIndex: row.index(),\n                  columnIndex: row.find(\".k-focus\").index()\n                };\n                restoreFocus();\n              }).bind(\"expand\", function (e) {\n                e.preventDefault();\n                var row = that.list.element.find(\"tr[data-uid='\" + e.model.uid + \"']\");\n                e.model.set(\"expanded\", true);\n                that._cachedCurrent = {\n                  rowIndex: row.index(),\n                  columnIndex: row.find(\".k-focus\").index()\n                };\n                restoreFocus();\n              }).bind(\"dragend\", function (e) {\n                var dataSource = that.dataSource,\n                    task,\n                    updateInfo;\n\n                if (e.position === \"over\") {\n                  dataSource.cancelChanges();\n                  updateInfo = {\n                    parentId: e.source.parentId\n                  };\n                  task = dataSource.get(e.source.id);\n\n                  if (!that.trigger(\"save\", {\n                    task: task,\n                    values: updateInfo\n                  })) {\n                    dataSource.update(task, updateInfo);\n                  }\n\n                  dataSource.sync();\n                }\n              }).bind(\"dataBound\", function () {\n                if (that.dataSource.sort().length === 0) {\n                  that.dataSource.sort([{\n                    field: \"orderId\",\n                    dir: \"asc\"\n                  }]);\n                }\n              }).bind(\"reorder\", function (e) {\n                that._updateTask(e.task, e.updateInfo);\n\n                restoreFocus();\n              });\n            },\n            _list: function () {\n              var ganttStyles = Gantt.styles,\n                  listWrapper = this.wrapper.find(DOT + ganttStyles.list),\n                  listElement = listWrapper.find(\"> div\"),\n                  listOptions = this._getListOptions();\n\n              this._attachResourceEditor(listOptions.columns);\n\n              this.list = new kendo.ui.GanttList(listElement, listOptions);\n\n              this._attachListEvents();\n            },\n            _timeline: function () {\n              var that = this;\n              var ganttStyles = Gantt.styles;\n              var options = trimOptions(extend(true, {\n                resourcesField: this.resources.field\n              }, this.options));\n              var element = this.wrapper.find(DOT + ganttStyles.timeline + \" > div\");\n              this.timeline = new kendo.ui.GanttTimeline(element, options);\n              this.timeline.bind(\"navigate\", function (e) {\n                var viewName = e.view.replace(/\\./g, \"\\\\.\").toLowerCase();\n                that.toolbar.find(DOT + ganttStyles.toolbar.views + \" > button\").removeClass(ganttStyles.selected).end().find(DOT + ganttStyles.toolbar.viewButton + \"-\" + viewName).addClass(ganttStyles.selected);\n                that.toolbar.find(DOT + ganttStyles.toolbar.viewsDropdown).val(e.view);\n                that.refresh();\n              }).bind(\"moveStart\", function (e) {\n                var editable = that.list.editor;\n\n                if (editable && !editable.end()) {\n                  e.preventDefault();\n                  return;\n                }\n\n                if (that.trigger(\"moveStart\", {\n                  task: e.task\n                })) {\n                  e.preventDefault();\n                }\n              }).bind(\"move\", function (e) {\n                var task = e.task;\n                var start = e.start;\n                var end = new Date(start.getTime() + task.duration());\n\n                if (that.trigger(\"move\", {\n                  task: task,\n                  start: start,\n                  end: end\n                })) {\n                  e.preventDefault();\n                }\n              }).bind(\"moveEnd\", function (e) {\n                var task = e.task;\n                var start = e.start;\n                var end = new Date(start.getTime() + task.duration());\n\n                if (!that.trigger(\"moveEnd\", {\n                  task: task,\n                  start: start,\n                  end: end\n                })) {\n                  that._updateTask(that.dataSource.getByUid(task.uid), {\n                    start: start,\n                    end: end\n                  });\n                }\n              }).bind(\"resizeStart\", function (e) {\n                var editable = that.list.editor;\n\n                if (editable && !editable.end()) {\n                  e.preventDefault();\n                  return;\n                }\n\n                if (that.trigger(\"resizeStart\", {\n                  task: e.task\n                })) {\n                  e.preventDefault();\n                }\n              }).bind(\"resize\", function (e) {\n                if (that.trigger(\"resize\", {\n                  task: e.task,\n                  start: e.start,\n                  end: e.end\n                })) {\n                  e.preventDefault();\n                }\n              }).bind(\"resizeEnd\", function (e) {\n                var task = e.task;\n                var updateInfo = {};\n\n                if (e.resizeStart) {\n                  updateInfo.start = e.start;\n                } else {\n                  updateInfo.end = e.end;\n                }\n\n                if (!that.trigger(\"resizeEnd\", {\n                  task: task,\n                  start: e.start,\n                  end: e.end\n                })) {\n                  that._updateTask(that.dataSource.getByUid(task.uid), updateInfo);\n                }\n              }).bind(\"percentResizeStart\", function (e) {\n                var editable = that.list.editor;\n\n                if (editable && !editable.end()) {\n                  e.preventDefault();\n                }\n              }).bind(\"percentResizeEnd\", function (e) {\n                that._updateTask(that.dataSource.getByUid(e.task.uid), {\n                  percentComplete: e.percentComplete\n                });\n              }).bind(\"dependencyDragStart\", function (e) {\n                var editable = that.list.editor;\n\n                if (editable && !editable.end()) {\n                  e.preventDefault();\n                }\n              }).bind(\"dependencyDragEnd\", function (e) {\n                var dependency = that.dependencies._createNewModel({\n                  type: e.type,\n                  predecessorId: e.predecessor.id,\n                  successorId: e.successor.id\n                });\n\n                that._createDependency(dependency);\n              }).bind(\"select\", function (e) {\n                var editable = that.list.editor;\n\n                if (editable) {\n                  editable.end();\n                }\n\n                that.select(\"[data-uid='\" + e.uid + \"']\");\n              }).bind(\"editTask\", function (e) {\n                var editable = that.list.editor;\n\n                if (editable && !editable.end()) {\n                  return;\n                }\n\n                that.editTask(e.uid);\n              }).bind(\"clear\", function () {\n                that.clearSelection();\n              }).bind(\"removeTask\", function (e) {\n                var editable = that.list.editor;\n\n                if (editable && !editable.end()) {\n                  return;\n                }\n\n                that.removeTask(that.dataSource.getByUid(e.uid));\n              }).bind(\"removeDependency\", function (e) {\n                var editable = that.list.editor;\n\n                if (editable && !editable.end()) {\n                  return;\n                }\n\n                that.removeDependency(that.dependencies.getByUid(e.uid));\n              });\n            },\n            _dataSource: function () {\n              var options = this.options;\n              var dataSource = options.dataSource;\n              dataSource = isArray(dataSource) ? {\n                data: dataSource\n              } : dataSource;\n\n              if (this.dataSource && this._refreshHandler) {\n                this.dataSource.unbind(\"change\", this._refreshHandler).unbind(\"progress\", this._progressHandler).unbind(\"error\", this._errorHandler);\n              } else {\n                this._refreshHandler = this.refresh.bind(this);\n                this._progressHandler = this._requestStart.bind(this);\n                this._errorHandler = this._error.bind(this);\n              }\n\n              this.dataSource = kendo.data.GanttDataSource.create(dataSource).bind(\"change\", this._refreshHandler).bind(\"progress\", this._progressHandler).bind(\"error\", this._errorHandler);\n            },\n            _dependencies: function () {\n              var dependencies = this.options.dependencies || {};\n              var dataSource = isArray(dependencies) ? {\n                data: dependencies\n              } : dependencies;\n\n              if (this.dependencies && this._dependencyRefreshHandler) {\n                this.dependencies.unbind(\"change\", this._dependencyRefreshHandler).unbind(\"error\", this._dependencyErrorHandler);\n              } else {\n                this._dependencyRefreshHandler = this.refreshDependencies.bind(this);\n                this._dependencyErrorHandler = this._error.bind(this);\n              }\n\n              this.dependencies = kendo.data.GanttDependencyDataSource.create(dataSource).bind(\"change\", this._dependencyRefreshHandler).bind(\"error\", this._dependencyErrorHandler);\n            },\n            _resources: function () {\n              var resources = this.options.resources;\n              var dataSource = resources.dataSource || {};\n              this.resources = {\n                field: \"resources\",\n                dataTextField: \"name\",\n                dataColorField: \"color\",\n                dataFormatField: \"format\"\n              };\n              extend(this.resources, resources);\n              this.resources.dataSource = kendo.data.DataSource.create(dataSource);\n            },\n            _assignments: function () {\n              var assignments = this.options.assignments;\n              var dataSource = assignments.dataSource || {};\n\n              if (this.assignments) {\n                this.assignments.dataSource.unbind(\"change\", this._assignmentsRefreshHandler);\n              } else {\n                this._assignmentsRefreshHandler = this.refresh.bind(this);\n              }\n\n              this.assignments = {\n                dataTaskIdField: \"taskId\",\n                dataResourceIdField: \"resourceId\",\n                dataValueField: \"value\"\n              };\n              extend(this.assignments, assignments);\n              this.assignments.dataSource = kendo.data.DataSource.create(dataSource);\n              this.assignments.dataSource.bind(\"change\", this._assignmentsRefreshHandler);\n            },\n            _createEditor: function () {\n              var that = this;\n              var editor = this._editor = new kendo.gantt.PopupEditor(this.wrapper, extend({}, this.options, {\n                target: this,\n                resources: {\n                  field: this.resources.field,\n                  editor: this._createResourceEditor.bind(this)\n                },\n                createButton: this._createPopupButton.bind(this)\n              }));\n              editor.bind(\"cancel\", function (e) {\n                var task = that.dataSource.getByUid(e.model.uid);\n\n                if (that.trigger(\"cancel\", {\n                  container: e.container,\n                  task: task\n                })) {\n                  e.preventDefault();\n                  return;\n                }\n\n                that.cancelTask();\n              }).bind(\"edit\", function (e) {\n                var task = that.dataSource.getByUid(e.model.uid);\n\n                if (that.trigger(\"edit\", {\n                  container: e.container,\n                  task: task\n                })) {\n                  e.preventDefault();\n                }\n              }).bind(\"save\", function (e) {\n                var task = that.dataSource.getByUid(e.model.uid);\n                that.saveTask(task, e.updateInfo);\n              }).bind(\"remove\", function (e) {\n                that.removeTask(e.model.uid);\n              }).bind(\"close\", that._onDialogClose);\n            },\n            _onDialogClose: function () {},\n            _createResourceEditor: function (container, options) {\n              var that = this;\n              var model = options instanceof ObservableObject ? options : options.model;\n              var id = model.get(\"id\");\n              var messages = this.options.messages;\n              var resourcesField = this.resources.field;\n              var unitsValidation = {\n                step: 0.01\n              };\n              var assignmentsModel = this.assignments.dataSource.options.schema.model;\n\n              if (assignmentsModel && assignmentsModel.fields.Units && assignmentsModel.fields.Units.validation) {\n                extend(true, unitsValidation, assignmentsModel.fields.Units.validation);\n              }\n\n              var editor = this._resourceEditor = new kendo.gantt.ResourceEditor(container, {\n                resourcesField: resourcesField,\n                unitsValidation: unitsValidation,\n                data: this._wrapResourceData(id),\n                model: model,\n                messages: extend({}, messages.editor),\n                buttons: [{\n                  name: \"update\",\n                  text: messages.save,\n                  className: Gantt.styles.primary\n                }, {\n                  name: \"cancel\",\n                  text: messages.cancel\n                }],\n                createButton: this._createPopupButton.bind(this),\n                save: function (e) {\n                  that._updateAssignments(e.model.get(\"id\"), e.model.get(resourcesField));\n                }\n              });\n              editor.open();\n            },\n            _createPopupButton: function (command) {\n              var commandName = command.name || command.text;\n              var options = {\n                className: Gantt.styles.popup.button + \" \" + Gantt.styles.buttonDefaults + \" k-gantt-\" + (commandName || \"\").replace(/\\s/g, \"\"),\n                text: commandName,\n                attr: \"\"\n              };\n\n              if (!commandName && !(isPlainObject(command) && command.template)) {\n                throw new Error(\"Custom commands should have name specified\");\n              }\n\n              if (isPlainObject(command)) {\n                if (command.className) {\n                  command.className += \" \" + options.className;\n                }\n\n                options = extend(true, options, command);\n              }\n\n              if (!options.className) {\n                options.className = \"k-button-solid-base\";\n              } else if (options.className.indexOf(\"k-button-solid-primary\") === -1) {\n                options.className += \" k-button-solid-base\";\n              }\n\n              return kendo.template(COMMAND_BUTTON_TEMPLATE)(options);\n            },\n            view: function (type) {\n              return this.timeline.view(type);\n            },\n            range: function (range) {\n              var dataSource = this.dataSource;\n              var view = this.view();\n              var timeline = this.timeline;\n\n              if (range) {\n                view.options.range = {\n                  start: range.start,\n                  end: range.end\n                };\n\n                timeline._render(dataSource.taskTree());\n\n                timeline._renderDependencies(this.dependencies.view());\n              }\n\n              return {\n                start: view.start,\n                end: view.end\n              };\n            },\n            date: function (date) {\n              var view = this.view();\n\n              if (date) {\n                view.options.date = date;\n\n                view._scrollToDate(date);\n              }\n\n              return view.options.date;\n            },\n            dataItem: function (value) {\n              if (!value) {\n                return null;\n              }\n\n              var list = this.list;\n              var element = list.element.find(value);\n              return list._modelFromElement(element);\n            },\n            setDataSource: function (dataSource) {\n              this.options.dataSource = dataSource;\n\n              this._dataSource();\n\n              this.list.setDataSource(this.dataSource);\n\n              if (this.options.autoBind) {\n                dataSource.fetch();\n              }\n            },\n            setDependenciesDataSource: function (dependencies) {\n              this.options.dependencies = dependencies;\n\n              this._dependencies();\n\n              if (this.options.autoBind) {\n                dependencies.fetch();\n              }\n            },\n            items: function () {\n              return this.wrapper.children(\".k-task\");\n            },\n            _updateAssignments: function (id, resources) {\n              var dataSource = this.assignments.dataSource;\n              var taskId = this.assignments.dataTaskIdField;\n              var resourceId = this.assignments.dataResourceIdField;\n              var hasMatch = false;\n              var assignments = new Query(dataSource.view()).filter({\n                field: taskId,\n                operator: \"eq\",\n                value: id\n              }).toArray();\n              var assignment;\n              var resource;\n              var value;\n\n              while (assignments.length) {\n                assignment = assignments[0];\n\n                for (var i = 0, length = resources.length; i < length; i++) {\n                  resource = resources[i];\n\n                  if (assignment.get(resourceId) === resource.get(\"id\")) {\n                    value = resources[i].get(\"value\");\n\n                    this._updateAssignment(assignment, value);\n\n                    resources.splice(i, 1);\n                    hasMatch = true;\n                    break;\n                  }\n                }\n\n                if (!hasMatch) {\n                  this._removeAssignment(assignment);\n                }\n\n                hasMatch = false;\n                assignments.shift();\n              }\n\n              for (var j = 0, newLength = resources.length; j < newLength; j++) {\n                resource = resources[j];\n\n                this._createAssignment(resource, id);\n              }\n\n              dataSource.sync();\n            },\n            cancelTask: function () {\n              var editor = this._editor;\n              var container = editor.container;\n\n              if (container) {\n                editor.close();\n              }\n            },\n            editTask: function (uid) {\n              var task = typeof uid === \"string\" ? this.dataSource.getByUid(uid) : uid;\n\n              if (!task) {\n                return;\n              }\n\n              var taskCopy = this.dataSource._createNewModel(task.toJSON());\n\n              taskCopy.uid = task.uid;\n              this.cancelTask();\n\n              this._editTask(taskCopy);\n            },\n            _editTask: function (task) {\n              this._editor.editTask(task, this.options.editable.plannedTasks);\n            },\n            saveTask: function (task, updateInfo) {\n              var editor = this._editor;\n              var container = editor.container;\n              var editable = editor.editable;\n\n              if (container && editable && editable.end()) {\n                this._updateTask(task, updateInfo);\n              }\n            },\n            _updateTask: function (task, updateInfo) {\n              var that = this;\n              var resourcesField = that.resources.field;\n\n              if (!that.trigger(\"save\", {\n                task: task,\n                values: updateInfo\n              })) {\n                if (updateInfo) {\n                  that._preventRefresh = true;\n                  that.dataSource.update(task, updateInfo);\n\n                  if (updateInfo[resourcesField]) {\n                    that._updateAssignments(task.get(\"id\"), updateInfo[resourcesField]);\n                  }\n                }\n\n                that._syncDataSource();\n              } else if (task && task.dirty) {\n                that.dataSource.cancelChanges(task);\n                that._preventRefresh = false;\n                that.refresh();\n              }\n            },\n            _updateAssignment: function (assignment, value) {\n              var resourceValueField = this.assignments.dataValueField;\n              assignment.set(resourceValueField, value);\n            },\n            removeTask: function (uid) {\n              var that = this;\n              var task = typeof uid === \"string\" ? this.dataSource.getByUid(uid) : uid;\n\n              if (!task) {\n                return;\n              }\n\n              this._taskConfirm(function (cancel) {\n                if (!cancel) {\n                  that._removeTask(task);\n                }\n              }, task);\n            },\n            _createTask: function (task, index) {\n              if (!this.trigger(\"add\", {\n                task: task,\n                dependency: null\n              })) {\n                var dataSource = this.dataSource;\n                this._preventRefresh = true;\n\n                if (index === undefined) {\n                  dataSource.add(task);\n                } else {\n                  dataSource.insert(index, task);\n                }\n\n                this._scrollToUid = task.uid;\n\n                this._syncDataSource();\n              }\n            },\n            _createDependency: function (dependency) {\n              if (!this.trigger(\"add\", {\n                task: null,\n                dependency: dependency\n              })) {\n                this._preventDependencyRefresh = true;\n                this.dependencies.add(dependency);\n                this._preventDependencyRefresh = false;\n                this.dependencies.sync();\n              }\n            },\n            _createAssignment: function (resource, id) {\n              var assignments = this.assignments;\n              var dataSource = assignments.dataSource;\n              var taskId = assignments.dataTaskIdField;\n              var resourceId = assignments.dataResourceIdField;\n              var resourceValue = assignments.dataValueField;\n\n              var assignment = dataSource._createNewModel();\n\n              assignment[taskId] = id;\n              assignment[resourceId] = resource.get(\"id\");\n              assignment[resourceValue] = resource.get(\"value\");\n              dataSource.add(assignment);\n            },\n            removeDependency: function (uid) {\n              var that = this;\n              var dependency = typeof uid === \"string\" ? this.dependencies.getByUid(uid) : uid;\n\n              if (!dependency) {\n                return;\n              }\n\n              this._dependencyConfirm(function (cancel) {\n                if (!cancel) {\n                  that._removeDependency(dependency);\n                }\n              }, dependency);\n            },\n            _removeTaskDependencies: function (task, dependencies) {\n              this._preventDependencyRefresh = true;\n\n              for (var i = 0, length = dependencies.length; i < length; i++) {\n                this.dependencies.remove(dependencies[i]);\n              }\n\n              this._preventDependencyRefresh = false;\n              this.dependencies.sync();\n            },\n            _removeTaskAssignments: function (task) {\n              var dataSource = this.assignments.dataSource;\n              var assignments = dataSource.view();\n              var filter = {\n                field: this.assignments.dataTaskIdField,\n                operator: \"eq\",\n                value: task.get(\"id\")\n              };\n              assignments = new Query(assignments).filter(filter).toArray();\n              this._preventRefresh = true;\n\n              for (var i = 0, length = assignments.length; i < length; i++) {\n                dataSource.remove(assignments[i]);\n              }\n\n              this._preventRefresh = false;\n              dataSource.sync();\n            },\n            _removeTask: function (task) {\n              var dependencies = this.dependencies.dependencies(task.id);\n\n              if (!this.trigger(\"remove\", {\n                task: task,\n                dependencies: dependencies\n              })) {\n                this._removeTaskDependencies(task, dependencies);\n\n                this._removeTaskAssignments(task);\n\n                this._preventRefresh = true;\n\n                if (this.dataSource.remove(task)) {\n                  this._syncDataSource();\n                }\n\n                this._preventRefresh = false;\n              }\n            },\n            _removeDependency: function (dependency) {\n              if (!this.trigger(\"remove\", {\n                task: null,\n                dependencies: [dependency]\n              })) {\n                if (this.dependencies.remove(dependency)) {\n                  this.dependencies.sync();\n                }\n              }\n            },\n            _removeAssignment: function (assignment) {\n              this.assignments.dataSource.remove(assignment);\n            },\n            _taskConfirm: function (callback, task) {\n              var messages = this.options.messages;\n\n              this._confirm(callback, {\n                model: task,\n                text: messages.deleteTaskConfirmation,\n                title: messages.deleteTaskWindowTitle\n              });\n            },\n            _dependencyConfirm: function (callback, dependency) {\n              var messages = this.options.messages;\n\n              this._confirm(callback, {\n                model: dependency,\n                text: messages.deleteDependencyConfirmation,\n                title: messages.deleteDependencyWindowTitle\n              });\n            },\n            _confirm: function (callback, options) {\n              var editable = this.options.editable;\n              var messages;\n              var buttons;\n\n              if (editable === true || editable.confirmation !== false) {\n                messages = this.options.messages;\n                buttons = [{\n                  name: \"delete\",\n                  text: messages.destroy,\n                  className: Gantt.styles.primary,\n                  click: function () {\n                    callback();\n                  }\n                }, {\n                  name: \"cancel\",\n                  text: messages.cancel,\n                  click: function () {\n                    callback(true);\n                  }\n                }];\n                this.showDialog(extend(true, {}, options, {\n                  buttons: buttons\n                }));\n              } else {\n                callback();\n              }\n            },\n            showDialog: function (options) {\n              this._editor.showDialog(options);\n            },\n            refresh: function () {\n              if (this._preventRefresh || !this.list || this.list.editor) {\n                return;\n              }\n\n              this._progress(false);\n\n              var dataSource = this.dataSource;\n              var taskTree = dataSource.taskTree();\n              var scrollToUid = this._scrollToUid;\n              var current;\n              var cachedUid;\n              var cachedIndex = -1;\n\n              if (this.current) {\n                cachedUid = this.current.closest(\"tr\").attr(kendo.attr(\"uid\"));\n                cachedIndex = this.current.index();\n              }\n\n              if (this.trigger(\"dataBinding\")) {\n                return;\n              }\n\n              if (this.resources.dataSource.data().length !== 0) {\n                this._assignResources(taskTree);\n              }\n\n              if (this._editor) {\n                this._editor.close();\n              }\n\n              this.clearSelection();\n\n              this.list._renderTree(taskTree);\n\n              this.timeline._render(taskTree);\n\n              this.timeline._renderDependencies(this.dependencies.view());\n\n              if (scrollToUid) {\n                this._scrollTo(scrollToUid);\n\n                this.select(selector(scrollToUid));\n              }\n\n              if ((scrollToUid || cachedUid) && cachedIndex >= 0) {\n                current = this.list.element.find(\"tr\" + selector(scrollToUid || cachedUid) + \" > td\").eq(cachedIndex);\n\n                this._current(current);\n              }\n\n              this._scrollToUid = null;\n              this.trigger(\"dataBound\");\n            },\n            refreshDependencies: function () {\n              if (this._preventDependencyRefresh) {\n                return;\n              }\n\n              if (this.trigger(\"dataBinding\")) {\n                return;\n              }\n\n              this.timeline._renderDependencies(this.dependencies.view());\n\n              this.trigger(\"dataBound\");\n            },\n            _assignResources: function (taskTree) {\n              var resources = this.resources;\n              var assignments = this.assignments;\n\n              var groupAssigments = function () {\n                var data = assignments.dataSource.view();\n                var group = {\n                  field: assignments.dataTaskIdField\n                };\n                data = new Query(data).group(group).toArray();\n                return data;\n              };\n\n              var assigments = groupAssigments();\n\n              var applyTaskResource = function (task, action) {\n                var taskId = task.get(\"id\");\n                kendo.setter(resources.field)(task, new ObservableArray([]));\n\n                for (var i = 0, length = assigments.length; i < length; i++) {\n                  if (assigments[i].value === taskId) {\n                    action(task, assigments[i].items);\n                  }\n                }\n              };\n\n              var wrapTask = function (task, items) {\n                for (var j = 0, length = items.length; j < length; j++) {\n                  var item = items[j];\n                  var resource = resources.dataSource.get(item.get(assignments.dataResourceIdField));\n                  var resourceValue = item.get(assignments.dataValueField);\n                  var resourcedId = item.get(assignments.dataResourceIdField);\n                  var valueFormat = resource.get(resources.dataFormatField) || PERCENTAGE_FORMAT;\n                  var formatedValue = kendo.toString(resourceValue, valueFormat);\n                  task[resources.field].push(new ObservableObject({\n                    id: resourcedId,\n                    name: resource.get(resources.dataTextField),\n                    color: resource.get(resources.dataColorField),\n                    value: resourceValue,\n                    formatedValue: formatedValue\n                  }));\n                }\n              };\n\n              for (var i = 0, length = taskTree.length; i < length; i++) {\n                applyTaskResource(taskTree[i], wrapTask);\n              }\n            },\n            _wrapResourceData: function (id) {\n              var that = this;\n              var result = [];\n              var resource;\n              var resources = this.resources.dataSource.view();\n              var assignments = this.assignments.dataSource.view();\n              var taskAssignments = new Query(assignments).filter({\n                field: that.assignments.dataTaskIdField,\n                operator: \"eq\",\n                value: id\n              }).toArray();\n\n              var valuePerResource = function (id) {\n                var resourceValue = null;\n                new Query(taskAssignments).filter({\n                  field: that.assignments.dataResourceIdField,\n                  operator: \"eq\",\n                  value: id\n                }).select(function (assignment) {\n                  resourceValue += assignment.get(that.assignments.dataValueField);\n                });\n                return resourceValue;\n              };\n\n              for (var i = 0, length = resources.length; i < length; i++) {\n                resource = resources[i];\n                result.push({\n                  id: resource.get(\"id\"),\n                  name: resource.get(that.resources.dataTextField),\n                  format: resource.get(that.resources.dataFormatField) || PERCENTAGE_FORMAT,\n                  value: valuePerResource(resource.id)\n                });\n              }\n\n              return result;\n            },\n            _syncDataSource: function () {\n              this._preventRefresh = false;\n\n              this._requestStart();\n\n              this.dataSource.sync();\n            },\n            _requestStart: function () {\n              this._progress(true);\n            },\n            _error: function () {\n              this._progress(false);\n            },\n            _progress: function (toggle) {\n              kendo.ui.progress(this.element, toggle);\n            },\n            _resizable: function () {\n              var that = this;\n              var wrapper = this.wrapper;\n              var ganttStyles = Gantt.styles;\n              var contentSelector = DOT + ganttStyles.gridContent;\n              var treeListWrapper = wrapper.find(DOT + ganttStyles.list);\n              var timelineWrapper = wrapper.find(DOT + ganttStyles.timeline);\n              var treeListWidth;\n              var timelineWidth;\n              var timelineScroll;\n              this._resizeDraggable = wrapper.find(DOT + ganttStyles.splitBar).height(treeListWrapper.height()).hover(function () {\n                $(this).addClass(ganttStyles.splitBarHover);\n              }, function () {\n                $(this).removeClass(ganttStyles.splitBarHover);\n              }).end().kendoResizable({\n                orientation: \"horizontal\",\n                handle: DOT + ganttStyles.splitBar,\n                \"start\": function () {\n                  treeListWidth = treeListWrapper.width();\n                  timelineWidth = timelineWrapper.width();\n                  timelineScroll = kendo.scrollLeft(timelineWrapper.find(contentSelector));\n                },\n                \"resize\": function (e) {\n                  var delta = e.x.initialDelta;\n\n                  if (kendo.support.isRtl(wrapper)) {\n                    delta *= -1;\n                  }\n\n                  if (treeListWidth + delta < 0 || timelineWidth - delta < 0) {\n                    return;\n                  }\n\n                  treeListWrapper.width(treeListWidth + delta);\n                  timelineWrapper.width(timelineWidth - delta);\n                  kendo.scrollLeft(timelineWrapper.find(contentSelector), timelineScroll + delta);\n\n                  that.timeline.view()._renderCurrentTime();\n                }\n              }).data(\"kendoResizable\");\n            },\n            _scrollable: function () {\n              var that = this;\n              var ganttStyles = Gantt.styles;\n              var contentSelector = DOT + ganttStyles.gridContent;\n              var headerSelector = DOT + ganttStyles.gridHeaderWrap;\n              var timelineHeader = this.timeline.element.find(headerSelector);\n              var timelineContent = this.timeline.element.find(contentSelector);\n              var treeListHeader = this.list.element.find(headerSelector);\n              var treeListContent = this.list.element.find(contentSelector);\n\n              if (mobileOS) {\n                treeListContent.css(\"overflow-y\", \"auto\");\n              }\n\n              timelineContent.on(\"scroll\", function () {\n                that.scrollTop = this.scrollTop;\n                kendo.scrollLeft(timelineHeader, this.scrollLeft);\n                treeListContent.scrollTop(this.scrollTop);\n              });\n              treeListContent.on(\"scroll\", function () {\n                kendo.scrollLeft(treeListHeader, this.scrollLeft);\n              }).on(\"DOMMouseScroll\" + NS + \" mousewheel\" + NS, function (e) {\n                var scrollTop = timelineContent.scrollTop();\n                var delta = kendo.wheelDeltaY(e);\n\n                if (delta) {\n                  e.preventDefault(); //In Firefox DOMMouseScroll event cannot be canceled\n\n                  $(e.currentTarget).one(\"wheel\" + NS, false);\n                  timelineContent.scrollTop(scrollTop + -delta);\n                }\n              });\n            },\n            _navigatable: function () {\n              var that = this;\n              var navigatable = this.options.navigatable;\n              var editable = this.options.editable;\n              var ganttStyles = Gantt.styles;\n              var contentSelector = DOT + ganttStyles.gridContent;\n              var headerSelector = DOT + ganttStyles.gridHeaderWrap;\n              var headerTable = this.list.element.find(headerSelector).find(\"table\");\n              var contentTable = this.list.element.find(contentSelector).find(\"table\");\n              var isRtl = kendo.support.isRtl(this.wrapper);\n              var timelineContent = this.timeline.element.find(DOT + ganttStyles.gridContent);\n              var tables = headerTable.add(contentTable);\n              var attr = selector();\n              var cellIndex;\n              var expandState = {\n                collapse: false,\n                expand: true\n              };\n\n              var scroll = function (reverse) {\n                var width = that.timeline.view()._timeSlots()[0].offsetWidth;\n\n                kendo.scrollLeft(timelineContent, kendo.scrollLeft(timelineContent) + (reverse ? -width : width));\n              };\n\n              var scrollVertical = function (reverse) {\n                var height = that.timeline.view()._rowHeight;\n\n                timelineContent.scrollTop(timelineContent.scrollTop() + (reverse ? -height : height));\n              };\n\n              var moveVertical = function (method) {\n                var parent = that.current.parent(\"tr\" + selector());\n                var index = that.current.index();\n                var sibling = parent[method]('tr:visible').first();\n\n                if (that.select().length !== 0) {\n                  that.clearSelection();\n                }\n\n                if (sibling.length !== 0) {\n                  that._current(sibling.children(\"td\").eq(index));\n\n                  that._scrollTo(that.current);\n                } else {\n                  if (that.current.is(\"td\") && method == \"prevAll\") {\n                    focusTable(headerTable);\n                  } else if (that.current.is(\"th\") && method == \"nextAll\") {\n                    focusTable(contentTable);\n                  }\n                }\n              };\n\n              var moveHorizontal = function (method) {\n                var subling = that.current[method]();\n\n                if (subling.length !== 0) {\n                  that._current(subling);\n\n                  cellIndex = that.current.index();\n                }\n              };\n\n              var toggleExpandedState = function (value) {\n                var model = that.dataItem(that.current);\n\n                if (model.summary && model.expanded !== value) {\n                  model.set(\"expanded\", value);\n                }\n              };\n\n              var deleteAction = function () {\n                var editable = that.options.editable;\n\n                if (!editable || editable.destroy === false || that.list.editor) {\n                  return;\n                }\n\n                var selectedTask = that.select();\n                var uid = kendo.attr(\"uid\");\n\n                if (selectedTask.length) {\n                  that.removeTask(selectedTask.attr(uid));\n                }\n              };\n\n              $(this.wrapper).on(\"mousedown\" + NS, \"tr\" + attr + \", div\" + attr + \":not(\" + DOT + ganttStyles.line + \")\", function (e) {\n                var currentTarget = $(e.currentTarget);\n                var isInput = $(e.target).is(\":button,a,:input,a>.k-icon,textarea,span.k-icon:not(.k-i-none),span.k-link,.k-input,.k-multiselect-wrap\");\n                var current;\n\n                if (e.ctrlKey) {\n                  return;\n                }\n\n                if (navigatable) {\n                  if (currentTarget.is(\"tr\")) {\n                    current = $(e.target).closest(\"td\");\n                  } else {\n                    current = that.list.content.find(\"tr\" + selector(currentTarget.attr(kendo.attr(\"uid\"))) + \" > td\").first();\n                  }\n\n                  that._current(current);\n                }\n\n                if ((navigatable || editable) && !isInput) {\n                  that._focusTimeout = setTimeout(function () {\n                    focusTable(that.list.content.find(\"table\"), true);\n                  }, 2);\n                }\n              }).on(\"keydown\" + NS, function (e) {\n                var key = e.keyCode;\n                var that = this;\n                var focusableItems = $(that._getToolbarItems());\n                var idx = focusableItems.index(that.toolbar.find(DOT + ganttStyles.focused)[0]);\n\n                if (idx === -1 && $(e.target).closest(DOT + ganttStyles.toolbar.views).length) {\n                  idx = focusableItems.index(that.toolbar.find(\".k-gantt-views > .k-selected:visible, .k-views-dropdown:visible\")[0]);\n                }\n\n                var itemToFocus = e.shiftKey ? focusableItems[idx - 1] : focusableItems[idx + 1];\n\n                if (key === keys.F10) {\n                  that.toolbar.find(\".k-button:visible\").first().addClass(ganttStyles.focused).trigger(\"focus\");\n                  e.preventDefault();\n                } else if (key == keys.TAB && $(e.target).closest(DOT + ganttStyles.toolbar.toolbar).length) {\n                  that.toolbar.find(DOT + ganttStyles.focused).removeClass(ganttStyles.focused).trigger(\"blur\");\n\n                  if (itemToFocus) {\n                    $(itemToFocus).addClass(ganttStyles.focused).trigger(\"focus\");\n                    e.preventDefault();\n                    return;\n                  }\n\n                  if (this.list.element.is(\":visible\")) {\n                    this.list.element.find(\"table[role=treegrid]\").trigger(\"focus\");\n                  } else {\n                    this.element.find(DOT + ganttStyles.tasks)[0].focus();\n                  }\n\n                  e.preventDefault();\n                }\n              }.bind(this));\n\n              if (navigatable !== true) {\n                contentTable.on(\"keydown\" + NS, function (e) {\n                  if (e.keyCode == keys.DELETE) {\n                    deleteAction();\n                  }\n                });\n                return;\n              }\n\n              tables.on(\"focus\" + NS, function () {\n                var selector = this === contentTable.get(0) ? \"td\" : \"th\";\n                var selection = that.select();\n                var current = that.current || $(selection.length ? selection : this).find(selector).eq(cellIndex || 0);\n\n                that._current(current);\n\n                $(that.toolbar.find(DOT + ganttStyles.focused)).removeClass(ganttStyles.focused);\n              }).on(\"blur\" + NS, function () {\n                that._current();\n\n                if (this == headerTable) {\n                  $(this).attr(TABINDEX, -1);\n                }\n              }).on(\"keydown\" + NS, function (e) {\n                var key = e.keyCode;\n                var isCell;\n\n                if (!that.current) {\n                  return;\n                }\n\n                isCell = that.current.is(\"td\");\n\n                switch (key) {\n                  case keys.RIGHT:\n                    e.preventDefault();\n\n                    if (e.altKey) {\n                      scroll();\n                    } else if (e.ctrlKey) {\n                      toggleExpandedState(isRtl ? expandState.collapse : expandState.expand);\n                    } else {\n                      moveHorizontal(isRtl ? \"prev\" : \"next\");\n                    }\n\n                    break;\n\n                  case keys.LEFT:\n                    e.preventDefault();\n\n                    if (e.altKey) {\n                      scroll(true);\n                    } else if (e.ctrlKey) {\n                      toggleExpandedState(isRtl ? expandState.expand : expandState.collapse);\n                    } else {\n                      moveHorizontal(isRtl ? \"next\" : \"prev\");\n                    }\n\n                    break;\n\n                  case keys.UP:\n                    e.preventDefault();\n\n                    if (e.altKey) {\n                      scrollVertical(true);\n                    } else {\n                      moveVertical(\"prevAll\");\n                    }\n\n                    break;\n\n                  case keys.DOWN:\n                    e.preventDefault();\n\n                    if (e.altKey) {\n                      scrollVertical();\n                    } else {\n                      moveVertical(\"nextAll\");\n                    }\n\n                    break;\n\n                  case keys.SPACEBAR:\n                    e.preventDefault();\n\n                    if (isCell) {\n                      that.select(that.current.closest(\"tr\"));\n                    }\n\n                    break;\n\n                  case keys.ENTER:\n                    e.preventDefault();\n\n                    if (isCell) {\n                      if (that.options.editable && that.options.editable.update !== false) {\n                        that.list._startEditHandler(that.current);\n\n                        $(this).one(\"keyup\", function (e) {\n                          /* Stop the event propagation so that the list widget won't close its editor immediately */\n                          e.stopPropagation();\n                        });\n                      }\n                    } else {\n                      /* Sort */\n                      that.current.children(\"a.k-link\").click();\n                    }\n\n                    break;\n\n                  case keys.DELETE:\n                    if (isCell) {\n                      deleteAction();\n                    }\n\n                    break;\n\n                  default:\n                    if (key >= 49 && key <= 57 && e.target.tagName.toLowerCase() !== \"input\") {\n                      that.view(that.timeline._viewByIndex(key - 49));\n                    }\n\n                    break;\n                }\n              });\n            },\n            _getToolbarItems: function () {\n              return this.toolbar.find(\"> .k-button:visible\").toArray().concat(this.toolbar.find(\".k-views-dropdown:visible\").toArray(), this.toolbar.find(\".k-gantt-views > .k-selected:visible\").toArray());\n            },\n            _current: function (element) {\n              var ganttStyles = Gantt.styles;\n              var activeElement;\n\n              if (this.current && this.current.length) {\n                this.current.removeClass(ganttStyles.focusedCell).removeAttr(\"id\");\n              }\n\n              if (element && element.length) {\n                this.current = element.addClass(ganttStyles.focusedCell).attr(\"id\", ACTIVE_CELL);\n                activeElement = $(kendo._activeElement());\n\n                if (activeElement.is(\"table\") && this.wrapper.find(activeElement).length > 0) {\n                  activeElement.removeAttr(ARIA_DESCENDANT).attr(ARIA_DESCENDANT, ACTIVE_CELL);\n                }\n              } else {\n                this.current = null;\n              }\n            },\n            _dataBind: function () {\n              var that = this;\n\n              if (that.options.autoBind) {\n                this._preventRefresh = true;\n                this._preventDependencyRefresh = true;\n                var promises = $.map([this.dataSource, this.dependencies, this.resources.dataSource, this.assignments.dataSource], function (dataSource) {\n                  return dataSource.fetch();\n                });\n                $.when.apply(null, promises).done(function () {\n                  that._preventRefresh = false;\n                  that._preventDependencyRefresh = false;\n                  that.refresh();\n                });\n              }\n            },\n            _resize: function () {\n              this._adjustDimensions();\n\n              this.timeline.view()._adjustHeight();\n\n              this.timeline.view()._renderCurrentTime();\n\n              this.list._adjustHeight();\n            },\n            _createPlannedTasksSwitch: function () {\n              var that = this;\n              var switchLabel = that.options.messages.plannedTasks.switchText;\n              var toggeSwitchWrap = $(\"<span class='k-gantt-planned-wrap'><label>\" + switchLabel + \"</label></span>\");\n              var plannedToggle = new kendo.ui.Switch($(\"<input id='planned-switch' class='k-gantt-planned-switch'>\"), {\n                checked: that.options.showPlannedTasks,\n                change: that._togglePlannedTasks.bind(that),\n                messages: {\n                  checked: \"\",\n                  unchecked: \"\"\n                }\n              });\n              toggeSwitchWrap.append(plannedToggle.wrapper);\n              that.toggeSwitchWrap = toggeSwitchWrap;\n              that.toggleSwitch = plannedToggle;\n            },\n            _togglePlannedTasks: function (e) {\n              var timeline = this.timeline;\n\n              if (!this.trigger(\"togglePlannedTasks\", {\n                showPlannedTasks: !timeline.options.showPlannedTasks\n              })) {\n                this.wrapper.toggleClass(ganttStyles.plannedTasks);\n\n                timeline._setPlanned(!timeline.options.showPlannedTasks);\n\n                timeline._render(this.dataSource.taskTree());\n\n                timeline._renderDependencies(this.dependencies.view());\n              } else {\n                e.preventDefault();\n              }\n            }\n          });\n\n          if (kendo.PDFMixin) {\n            kendo.PDFMixin.extend(Gantt.fn);\n\n            Gantt.fn._drawPDF = function () {\n              var ganttStyles = Gantt.styles;\n              var listTableWidth = this.wrapper.find(DOT + ganttStyles.list + \" \" + DOT + ganttStyles.gridContent + \">table\").width();\n              var content = this.wrapper.clone();\n              content.find(DOT + ganttStyles.list).css(\"width\", listTableWidth);\n              return this._drawPDFShadow({\n                content: content\n              }, {\n                avoidLinks: this.options.pdf.avoidLinks\n              });\n            };\n          }\n\n          kendo.ui.plugin(Gantt);\n          extend(true, Gantt, {\n            styles: ganttStyles\n          });\n        })(window.kendo.jQuery);\n\n        return window.kendo;\n      }, __webpack_require__.amdD);\n      /***/\n\n    },\n\n    /***/\n    36765:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./kendo.data\");\n      /***/\n    },\n\n    /***/\n    53374:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./kendo.gantt.data\");\n      /***/\n    },\n\n    /***/\n    24049:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./kendo.gantt.editors\");\n      /***/\n    },\n\n    /***/\n    13094:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./kendo.gantt.list\");\n      /***/\n    },\n\n    /***/\n    84800:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./kendo.gantt.timeline\");\n      /***/\n    },\n\n    /***/\n    20648:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./kendo.pdf\");\n      /***/\n    },\n\n    /***/\n    87190:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./kendo.resizable\");\n      /***/\n    },\n\n    /***/\n    63401:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./kendo.switch\");\n      /***/\n    }\n    /******/\n\n  };\n  /************************************************************************/\n\n  /******/\n  // The module cache\n\n  /******/\n\n  var __webpack_module_cache__ = {};\n  /******/\n\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n    // Check if module is in cache\n\n    /******/\n    var cachedModule = __webpack_module_cache__[moduleId];\n    /******/\n\n    if (cachedModule !== undefined) {\n      /******/\n      return cachedModule.exports;\n      /******/\n    }\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n\n    var module = __webpack_module_cache__[moduleId] = {\n      /******/\n      // no module.id needed\n\n      /******/\n      // no module.loaded needed\n\n      /******/\n      exports: {}\n      /******/\n\n    };\n    /******/\n\n    /******/\n    // Execute the module function\n\n    /******/\n\n    __webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n    /******/\n\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n\n    return module.exports;\n    /******/\n  }\n  /******/\n\n  /************************************************************************/\n\n  /******/\n\n  /* webpack/runtime/amd define */\n\n  /******/\n\n\n  !function () {\n    /******/\n    __webpack_require__.amdD = function () {\n      /******/\n      throw new Error('define cannot be used indirect');\n      /******/\n    };\n    /******/\n\n  }();\n  /******/\n\n  /************************************************************************/\n\n  /******/\n\n  /******/\n  // startup\n\n  /******/\n  // Load entry module and return exports\n\n  /******/\n  // This entry module used 'module' so it can't be inlined\n\n  /******/\n\n  var __webpack_exports__ = __webpack_require__(89901);\n  /******/\n\n\n  module.exports = __webpack_exports__;\n  /******/\n\n  /******/\n})();","map":{"version":3,"names":["__webpack_modules__","module","exports","__webpack_require__","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","f","define","apply","undefined","__meta__","id","name","category","description","depends","$","kendo","window","keys","extend","F10","supportsMedia","mobileOS","support","Widget","ui","ObservableObject","data","ObservableArray","Query","isArray","Array","inArray","isFunction","isPlainObject","outerWidth","_outerWidth","outerHeight","_outerHeight","defaultIndicatorWidth","NS","PERCENTAGE_FORMAT","TABINDEX","CLICK","STRING","ARIA_DESCENDANT","ARIA_LABEL","ACTIVE_CELL","DOT","TASK_DELETE_CONFIRM","DEPENDENCY_DELETE_CONFIRM","TOGGLE_BUTTON_TEMPLATE","template","BUTTON_TEMPLATE","COMMAND_BUTTON_TEMPLATE","VIEWS_DROPDOWN_TEMPLATE","HEADER_VIEWS_TEMPLATE","ganttStyles","wrapper","plannedTasks","rowHeight","content","listWrapper","list","timelineWrapper","timeline","splitBarWrapper","splitBar","splitBarHover","popupWrapper","popupList","resizeHandle","icon","item","line","buttonDelete","buttonCancel","buttonSave","buttonToggle","buttonDefaults","primary","hovered","selected","focused","focusedCell","gridHeader","gridHeaderWrap","gridContent","tasks","popup","form","editForm","formContainer","resourcesFormContainer","message","buttonsContainer","button","editField","editLabel","resourcesField","toolbar","headerWrapper","footerWrapper","views","viewsWrapper","viewsDropdown","iconPlus","iconPdf","iconToggle","viewButton","link","pdfButton","appendButton","selector","uid","attr","trimOptions","options","prefix","remove","edit","add","navigate","focusTable","table","direct","parents","scrollPositions","scrollableParents","each","index","parent","scrollTop","setActive","e","focus","element","parentsUntil","filter","computedStyle","getComputedStyles","overflow","defaultCommands","Gantt","init","events","dataSource","append","text","action","className","styles","iconClass","pdf","fn","call","_events","_wrapper","_resources","length","_timeline","_toolbar","_footer","_adjustDimensions","_preventRefresh","view","_selectedViewName","_dataSource","_assignments","_dropDowns","_list","_dependencies","_resizable","_scrollable","_dataBind","_attachEvents","_createEditor","notify","autoBind","navigatable","selectable","editable","resizable","columnResizeHandleWidth","columns","dependencies","resources","assignments","taskTemplate","messages","save","cancel","destroy","deleteTaskConfirmation","deleteDependencyConfirmation","deleteTaskWindowTitle","deleteDependencyWindowTitle","selectView","day","week","month","year","start","end","actions","addChild","insertBefore","insertAfter","editor","editorTitle","resourcesEditorTitle","title","plannedStart","plannedEnd","percentComplete","assignButton","resourcesHeader","unitsHeader","switchText","offsetTooltipAdvanced","offsetTooltipDelay","seconds","minutes","hours","days","showWorkHours","showWorkDays","workDayStart","Date","workDayEnd","workWeekStart","workWeekEnd","hourSpan","snap","height","listWidth","showPlannedTasks","select","value","find","trigger","clearSelection","unbind","_refreshHandler","_progressHandler","_errorHandler","_dependencyRefreshHandler","_dependencyErrorHandler","footerDropDown","headerDropDown","_editor","_resizeDraggable","off","_mediaQuery","removeListener","_mediaQueryHandler","_resizeHandler","footer","setOptions","newOptions","deepExtend","selectedView","map","isSettings","type","empty","_setEvents","resize","bind","on","matches","splitBarHandleClassName","join","width","addClass","layout","appendTo","css","treelistWrapper","splitbar","that","viewsSelector","viewsDropdownSelector","pdfSelector","toggleSelector","contentSelector","treelist","toggleButton","mediaQueryHandler","removeClass","refresh","_resize","_actions","ns","prepend","label","toggeSwitchWrap","matchMedia","addListener","val","preventDefault","children","focusedViewIndex","_focusedView","closest","keyCode","RIGHT","LEFT","ENTER","SPACEBAR","toLowerCase","_viewByIndex","saveAsPDF","is","relatedTarget","expanded","html","create","i","_createPlannedTasksSwitch","_createButton","command","commandName","replace","indexOf","Error","split","toolbarHeight","footerHeight","totalHeight","totalWidth","splitBarWidth","treeListWidth","timelineWidth","_scrollTo","scrollTarget","scrollIntoView","get","actionsSelector","actionMessages","handler","orderId","task","_createNewModel","dataItem","taskParent","firstSlot","_timeSlots","target","set","_createTask","gantt","TaskDropDown","eq","direction","animation","open","effects","_getListEditable","update","reorder","mode","move","reorderable","_getListOptions","ganttListOptions","filterable","columnMenu","field","_attachResourceEditor","column","_createResourceEditor","_attachListEvents","toggleButtons","restoreFocus","_cachedCurrent","rowIndex","columnIndex","_current","oldIndex","newIndex","oldWidth","newWidth","_navigatable","container","model","cell","_preventItemChange","closeCell","updatedValues","values","key","previousTask","updateDuration","duration","updatePlannedDuration","plannedDuration","hasOwnProperty","getTime","updateInfo","_updateAssignments","_requestStart","sync","then","hasChanges","cancelChanges","selection","removeAttr","row","position","parentId","source","sort","dir","_updateTask","listElement","listOptions","GanttList","GanttTimeline","viewName","getByUid","resizeStart","dependency","predecessorId","predecessor","successorId","successor","_createDependency","editTask","removeTask","removeDependency","_error","GanttDataSource","refreshDependencies","GanttDependencyDataSource","dataTextField","dataColorField","dataFormatField","DataSource","_assignmentsRefreshHandler","dataTaskIdField","dataResourceIdField","dataValueField","PopupEditor","createButton","_createPopupButton","cancelTask","saveTask","_onDialogClose","unitsValidation","step","assignmentsModel","schema","fields","Units","validation","_resourceEditor","ResourceEditor","_wrapResourceData","buttons","range","_render","taskTree","_renderDependencies","date","_scrollToDate","_modelFromElement","setDataSource","fetch","setDependenciesDataSource","items","taskId","resourceId","hasMatch","operator","toArray","assignment","resource","_updateAssignment","splice","_removeAssignment","shift","j","newLength","_createAssignment","close","taskCopy","toJSON","_editTask","_syncDataSource","dirty","resourceValueField","_taskConfirm","_removeTask","insert","_scrollToUid","_preventDependencyRefresh","resourceValue","_dependencyConfirm","_removeDependency","_removeTaskDependencies","_removeTaskAssignments","callback","_confirm","confirmation","click","showDialog","_progress","scrollToUid","current","cachedUid","cachedIndex","_assignResources","_renderTree","groupAssigments","group","assigments","applyTaskResource","setter","wrapTask","resourcedId","valueFormat","formatedValue","toString","push","color","result","taskAssignments","valuePerResource","format","toggle","progress","treeListWrapper","timelineScroll","hover","kendoResizable","orientation","handle","scrollLeft","delta","x","initialDelta","isRtl","_renderCurrentTime","headerSelector","timelineHeader","timelineContent","treeListHeader","treeListContent","wheelDeltaY","currentTarget","one","headerTable","contentTable","tables","cellIndex","expandState","collapse","expand","scroll","reverse","offsetWidth","scrollVertical","_rowHeight","moveVertical","method","sibling","first","moveHorizontal","subling","toggleExpandedState","summary","deleteAction","selectedTask","isInput","ctrlKey","_focusTimeout","setTimeout","focusableItems","_getToolbarItems","idx","itemToFocus","shiftKey","TAB","DELETE","isCell","altKey","UP","DOWN","_startEditHandler","stopPropagation","tagName","concat","activeElement","_activeElement","promises","when","done","_adjustHeight","switchLabel","plannedToggle","Switch","checked","change","_togglePlannedTasks","unchecked","toggleSwitch","toggleClass","_setPlanned","PDFMixin","_drawPDF","listTableWidth","clone","_drawPDFShadow","avoidLinks","plugin","jQuery","amdD","require","__webpack_module_cache__","moduleId","cachedModule","__webpack_exports__"],"sources":["C:/Users/abodean/restapi-nodejs/client/app-router/node_modules/@progress/kendo-ui/js/kendo.gantt.js"],"sourcesContent":["/******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 89901:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(f, define) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(36765), __webpack_require__(87190), __webpack_require__(63401), __webpack_require__(53374), __webpack_require__(24049), __webpack_require__(13094), __webpack_require__(84800), __webpack_require__(20648)], __WEBPACK_AMD_DEFINE_FACTORY__ = (f),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n})(function() {\n\nvar __meta__ = {\n    id: \"gantt\",\n    name: \"Gantt\",\n    category: \"web\",\n    description: \"The Gantt component.\",\n    depends: [ \"data\", \"resizable\", \"switch\", \"gantt.data\", \"gantt.editors\", \"gantt.list\", \"gantt.timeline\", \"pdf\" ]\n};\n\n(function($, undefined) {\n\n    var kendo = window.kendo,\n        keys = $.extend({ F10: 121 }, kendo.keys),\n        supportsMedia = \"matchMedia\" in window,\n        mobileOS = kendo.support.mobileOS,\n        Widget = kendo.ui.Widget,\n        ObservableObject = kendo.data.ObservableObject,\n        ObservableArray = kendo.data.ObservableArray,\n        Query = kendo.data.Query,\n        isArray = Array.isArray,\n        inArray = $.inArray,\n        isFunction = kendo.isFunction,\n        extend = $.extend,\n        isPlainObject = $.isPlainObject,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n        defaultIndicatorWidth = 3,\n\n        NS = \".kendoGantt\",\n        PERCENTAGE_FORMAT = \"p0\",\n        TABINDEX = \"tabIndex\",\n        CLICK = \"click\",\n        STRING = \"string\",\n        ARIA_DESCENDANT = \"aria-activedescendant\",\n        ARIA_LABEL = \"aria-label\",\n        ACTIVE_CELL = \"gantt_active_cell\",\n        DOT = \".\",\n        TASK_DELETE_CONFIRM = \"Are you sure you want to delete this task?\",\n        DEPENDENCY_DELETE_CONFIRM = \"Are you sure you want to delete this dependency?\",\n        TOGGLE_BUTTON_TEMPLATE = kendo.template('<button class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-gantt-toggle\" type=\"button\" ' + ARIA_LABEL + '=\"Toggle\"><span class=\"k-button-icon #=styles.iconToggle#\"></span></button>'),\n        BUTTON_TEMPLATE = '<button aria-label=\"#=text#\" class=\"#=styles.button# #=styles.buttonDefaults# #=className#\" type=\"button\" ' +\n            '#if (action) {#' +\n                'data-action=\"#=action#\"' +\n            '#}#' +\n        '>' +\n            '<span class=\"k-button-icon #=iconClass#\"></span>' +\n            '<span class=\"k-button-text\">#=text#</span>' +\n        '</button>',\n        COMMAND_BUTTON_TEMPLATE = '<a class=\"#=className#\" #=attr# href=\"\\\\#\"><span class=\"k-button-text\">#=text#</span></a>',\n        VIEWS_DROPDOWN_TEMPLATE = kendo.template('<select aria-label=\"#= label #\" class=\"k-dropdown k-picker k-dropdown-list #= styles.viewsDropdown #\">' +\n            '#for(var view in views){#' +\n                '<option value=\"#=view#\">#=views[view].title#</option>' +\n            '#}#' +\n        '</select>'),\n        HEADER_VIEWS_TEMPLATE = kendo.template('<div class=\"#=styles.viewsWrapper#\">' +\n            '<span class=\"k-button-group #=styles.views#\">' +\n                '#for(var view in views){#' +\n                    '<button type=\"button\" class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-view-#= view.toLowerCase() #\" data-#=ns#name=\"#=view#\">' +\n                        '<span class=\"k-button-text\">#=views[view].title#</span>' +\n                    '</button>' +\n                '#}#' +\n            '</span>' +\n        '</div>');\n\n    var ganttStyles = {\n        wrapper: \"k-widget k-gantt\",\n        plannedTasks: \"k-gantt-planned\",\n        rowHeight: \"k-gantt-rowheight\",\n        content: \"k-gantt-content\",\n        listWrapper: \"k-gantt-treelist\",\n        list: \"k-gantt-treelist\",\n        timelineWrapper: \"k-gantt-timeline\",\n        timeline: \"k-gantt-timeline\",\n        splitBarWrapper: \"k-splitbar k-splitbar-horizontal k-splitbar-draggable-horizontal\",\n        splitBar: \"k-splitbar\",\n        splitBarHover: \"k-splitbar-horizontal-hover\",\n        popupWrapper: \"k-list-container\",\n        popupList: \"k-list k-reset\",\n        resizeHandle: \"k-resize-handle\",\n        icon: \"k-icon\",\n        item: \"k-item\",\n        line: \"k-gantt-line\",\n        buttonDelete: \"k-gantt-delete\",\n        buttonCancel: \"k-gantt-cancel\",\n        buttonSave: \"k-gantt-update\",\n        buttonToggle: \"k-gantt-toggle\",\n        buttonDefaults: \"k-button-md k-rounded-md k-button-solid\",\n        primary: \"k-button-solid-primary\",\n        hovered: \"k-hover\",\n        selected: \"k-selected\",\n        focused: \"k-focus\",\n        focusedCell: \"k-focus\",\n        gridHeader: \"k-grid-header\",\n        gridHeaderWrap: \"k-grid-header-wrap\",\n        gridContent: \"k-grid-content\",\n        tasks: \"k-gantt-tasks\",\n        popup: {\n            form: \"k-popup-edit-form\",\n            editForm: \"k-gantt-edit-form\",\n            formContainer: \"k-edit-form-container\",\n            resourcesFormContainer: \"k-resources-form-container\",\n            message: \"k-popup-message\",\n            buttonsContainer: \"k-edit-buttons\",\n            button: \"k-button\",\n            editField: \"k-edit-field\",\n            editLabel: \"k-edit-label\",\n            resourcesField: \"k-gantt-resources\"\n        },\n        toolbar: {\n            headerWrapper: \"k-gantt-header k-toolbar k-gantt-toolbar\",\n            footerWrapper: \"k-gantt-footer k-toolbar k-gantt-toolbar\",\n            toolbar: \"k-gantt-toolbar\",\n            views: \"k-gantt-views\",\n            viewsWrapper: \"k-gantt-views-wrapper\",\n            viewsDropdown: \"k-views-dropdown\",\n            button: \"k-button\",\n            buttonToggle: \"k-gantt-toggle\",\n            buttonDefaults: \"k-button-md k-rounded-md k-button-solid\",\n            iconPlus: \"k-icon k-i-plus\",\n            iconPdf: \"k-icon k-i-file-pdf\",\n            iconToggle: \"k-icon k-i-layout-1-by-4\",\n            viewButton: \"k-view\",\n            link: \"k-link\",\n            pdfButton: \"k-gantt-pdf\",\n            appendButton: \"k-gantt-create\"\n        }\n    };\n\n    function selector(uid) {\n        return \"[\" + kendo.attr(\"uid\") + (uid ? \"='\" + uid + \"']\" : \"]\");\n    }\n\n    function trimOptions(options) {\n        delete options.name;\n        delete options.prefix;\n\n        delete options.remove;\n        delete options.edit;\n        delete options.add;\n        delete options.navigate;\n\n        return options;\n    }\n\n    function focusTable(table, direct) {\n        var wrapper = table.parents('[' + kendo.attr(\"role\") + '=\"gantt\"]');\n        var scrollPositions = [];\n        var parents = scrollableParents(wrapper);\n\n        table.attr(TABINDEX, 0);\n\n        if (direct) {\n            parents.each(function(index, parent) {\n                scrollPositions[index] = $(parent).scrollTop();\n            });\n        }\n\n        try {\n            //The setActive method does not cause the document to scroll to the active object in the current page\n            table[0].setActive();\n        } catch (e) {\n            table[0].focus();\n        }\n\n        if (direct) {\n            parents.each(function(index, parent) {\n                $(parent).scrollTop(scrollPositions[index]);\n            });\n        }\n    }\n\n    function scrollableParents(element) {\n        return $(element).parentsUntil(\"body\")\n                .filter(function(index, element) {\n                    var computedStyle = kendo.getComputedStyles(element, [\"overflow\"]);\n                    return computedStyle.overflow != \"visible\";\n                })\n                .add(window);\n    }\n\n    var defaultCommands;\n\n    var Gantt = Widget.extend({\n        init: function(element, options, events) {\n            if (isArray(options)) {\n                options = { dataSource: options };\n            }\n\n            defaultCommands = {\n                append: {\n                    text: \"Add Task\",\n                    action: \"add\",\n                    className: Gantt.styles.toolbar.appendButton + \" k-button-solid-base\",\n                    iconClass: Gantt.styles.toolbar.iconPlus\n                },\n                pdf: {\n                    text: \"Export to PDF\",\n                    className: Gantt.styles.toolbar.pdfButton + \" k-button-solid-base\",\n                    iconClass: Gantt.styles.toolbar.iconPdf\n                }\n            };\n\n            Widget.fn.init.call(this, element, options);\n\n            if (events) {\n                this._events = events;\n            }\n\n            this._wrapper();\n\n            this._resources();\n\n            if (!this.options.views || !this.options.views.length) {\n                this.options.views = [\"day\", \"week\", \"month\"];\n            }\n\n            this._timeline();\n\n            this._toolbar();\n\n            this._footer();\n\n            this._adjustDimensions();\n\n            // Prevent extra refresh from setting the view\n            this._preventRefresh = true;\n\n            this.view(this.timeline._selectedViewName);\n\n            this._preventRefresh = false;\n\n            this._dataSource();\n\n            this._assignments();\n\n            this._dropDowns();\n\n            this._list();\n\n            this._dependencies();\n\n            this._resizable();\n\n            this._scrollable();\n\n            this._dataBind();\n\n            this._attachEvents();\n\n            this._createEditor();\n\n            kendo.notify(this);\n        },\n\n        events: [\n            \"dataBinding\",\n            \"dataBound\",\n            \"add\",\n            \"edit\",\n            \"remove\",\n            \"cancel\",\n            \"save\",\n            \"change\",\n            \"navigate\",\n            \"moveStart\",\n            \"move\",\n            \"moveEnd\",\n            \"resizeStart\",\n            \"resize\",\n            \"resizeEnd\",\n            \"columnHide\",\n            \"columnReorder\",\n            \"columnResize\",\n            \"columnShow\",\n            \"togglePlannedTasks\"\n        ],\n\n        options: {\n            name: \"Gantt\",\n            autoBind: true,\n            navigatable: false,\n            selectable: true,\n            editable: true,\n            resizable: false,\n            columnResizeHandleWidth: defaultIndicatorWidth,\n            columns: [],\n            views: [],\n            dataSource: {},\n            dependencies: {},\n            resources: {},\n            assignments: {},\n            taskTemplate: null,\n            messages: {\n                save: \"Save\",\n                cancel: \"Cancel\",\n                destroy: \"Delete\",\n                deleteTaskConfirmation: TASK_DELETE_CONFIRM,\n                deleteDependencyConfirmation: DEPENDENCY_DELETE_CONFIRM,\n                deleteTaskWindowTitle: \"Delete task\",\n                deleteDependencyWindowTitle: \"Delete dependency\",\n                selectView: \"Select view\",\n                views: {\n                    day: \"Day\",\n                    week: \"Week\",\n                    month: \"Month\",\n                    year: \"Year\",\n                    start: \"Start\",\n                    end: \"End\"\n                },\n                actions: {\n                    append: \"Add Task\",\n                    addChild: \"Add Child\",\n                    insertBefore: \"Add Above\",\n                    insertAfter: \"Add Below\",\n                    pdf: \"Export to PDF\"\n                },\n                editor: {\n                    editorTitle: \"Task\",\n                    resourcesEditorTitle: \"Resources\",\n                    title: \"Title\",\n                    start: \"Start\",\n                    end: \"End\",\n                    plannedStart: \"Planned Start\",\n                    plannedEnd: \"Planned End\",\n                    percentComplete: \"Complete\",\n                    resources: \"Resources\",\n                    assignButton: \"Assign\",\n                    resourcesHeader: \"Resources\",\n                    unitsHeader: \"Units\"\n                },\n                plannedTasks: {\n                    switchText: \"Planned Tasks\",\n                    offsetTooltipAdvanced: \"Met deadline earlier\",\n                    offsetTooltipDelay: \"Delay\",\n                    seconds: \"seconds\",\n                    minutes: \"minutes\",\n                    hours: \"hours\",\n                    days: \"days\"\n                }\n            },\n            showWorkHours: true,\n            showWorkDays: true,\n            toolbar: null,\n            workDayStart: new Date(1980, 1, 1, 8, 0, 0),\n            workDayEnd: new Date(1980, 1, 1, 17, 0, 0),\n            workWeekStart: 1,\n            workWeekEnd: 5,\n            hourSpan: 1,\n            snap: true,\n            height: 600,\n            listWidth: \"30%\",\n            rowHeight: null,\n            showPlannedTasks: false\n        },\n\n        select: function(value) {\n            var list = this.list;\n\n            if (!value) {\n                return list.select();\n            }\n\n            if (typeof value === STRING) {\n                value = list.content.find(value);\n            }\n\n            list.select(value);\n\n            this.list.element.find(\"table[role=treegrid]\").trigger(\"focus\");\n            return;\n        },\n\n        clearSelection: function() {\n            this.list.clearSelection();\n            this.list.trigger(\"change\");\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            if (this.dataSource) {\n                this.dataSource.unbind(\"change\", this._refreshHandler);\n                this.dataSource.unbind(\"progress\", this._progressHandler);\n                this.dataSource.unbind(\"error\", this._errorHandler);\n            }\n\n            if (this.dependencies) {\n                this.dependencies.unbind(\"change\", this._dependencyRefreshHandler);\n                this.dependencies.unbind(\"error\", this._dependencyErrorHandler);\n            }\n\n            if (this.timeline) {\n                this.timeline.unbind();\n                this.timeline.destroy();\n            }\n\n            if (this.list) {\n                this.list.unbind();\n                this.list.destroy();\n            }\n\n            if (this.footerDropDown) {\n                this.footerDropDown.destroy();\n            }\n\n            if (this.headerDropDown) {\n                this.headerDropDown.destroy();\n            }\n\n            if (this._editor) {\n                this._editor.destroy();\n            }\n\n            if (this._resizeDraggable) {\n                this._resizeDraggable.destroy();\n            }\n\n            this.toolbar.off(NS);\n\n            if (supportsMedia) {\n                this._mediaQuery.removeListener(this._mediaQueryHandler);\n                this._mediaQuery = null;\n            }\n\n            $(window).off(\"resize\" + NS, this._resizeHandler);\n            $(this.wrapper).off(NS);\n\n            this.toolbar = null;\n            this.footer = null;\n\n            kendo.destroy(this.element);\n        },\n\n        setOptions: function(options) {\n            var newOptions = kendo.deepExtend({}, this.options, options);\n\n            var events = this._events;\n\n            if (!options.views) {\n                var selectedView = this.view().name;\n\n                newOptions.views = $.map(this.options.views, function(view) {\n                    var isSettings = isPlainObject(view);\n                    var name = isSettings ? ((typeof view.type !== \"string\") ? view.title : view.type) : view;\n\n                    if (selectedView === name) {\n                        if (isSettings) {\n                            view.selected = true;\n                        } else {\n                            view = { type: name, selected: true };\n                        }\n                    } else if (isSettings) {\n                        view.selected = false;\n                    }\n\n                    return view;\n                });\n            }\n\n            if (!options.dataSource) { newOptions.dataSource = this.dataSource; }\n            if (!options.dependencies) { newOptions.dependencies = this.dependencies; }\n            if (!options.resources) { newOptions.resources = this.resources; }\n            if (!options.assignments) { newOptions.assignments = this.assignments; }\n\n            this.destroy();\n            this.element.empty();\n            this.options = null;\n\n            this.init(this.element, newOptions, events);\n\n            Widget.fn._setEvents.call(this, newOptions);\n        },\n\n        _attachEvents: function() {\n            this._resizeHandler = this.resize.bind(this, false);\n            $(window).on(\"resize\" + NS, this._resizeHandler);\n\n            if (supportsMedia && this._mediaQuery.matches === true) {\n                this._mediaQueryHandler({ matches: true });\n            }\n        },\n\n        _wrapper: function() {\n            var ganttStyles = Gantt.styles;\n            var splitBarHandleClassName = [ganttStyles.icon, ganttStyles.resizeHandle].join(\" \");\n            var options = this.options;\n            var height = options.height;\n            var width = options.width;\n\n            this.wrapper = this.element.addClass(ganttStyles.wrapper);\n            this.layout = $(\"<div class='\" + ganttStyles.content + \"' />\").appendTo(this.wrapper)\n                .append(\"<div class='\" + ganttStyles.listWrapper + \"'><div></div></div>\")\n                .append(\"<div class='\" + ganttStyles.splitBarWrapper + \"'><div class='\" + splitBarHandleClassName + \"'></div></div>\")\n                .append(\"<div class='\" + ganttStyles.timelineWrapper + \"'><div></div></div>\");\n\n            if (options.showPlannedTasks) {\n                this.wrapper.addClass(ganttStyles.plannedTasks);\n            }\n\n            if (height) {\n                this.wrapper.css(\"height\", height);\n            }\n\n            if (width) {\n                this.wrapper.css(\"width\", width);\n            }\n\n            if (options.rowHeight) {\n                this.wrapper.addClass(ganttStyles.rowHeight);\n            }\n\n            this.treelistWrapper = this.wrapper.find(DOT + ganttStyles.list);\n            this.splitbar = this.wrapper.find(DOT + ganttStyles.splitBar);\n            this.timelineWrapper = this.wrapper.find(DOT + ganttStyles.timeline);\n\n            this.treelistWrapper.css(\"width\", options.listWidth);\n            this.timelineWrapper.css(\"width\", this.wrapper.width() - this.treelistWrapper.outerWidth() - this.splitbar.outerWidth() );\n        },\n\n        _toolbar: function() {\n            var that = this;\n            var ganttStyles = Gantt.styles;\n            var viewsSelector = DOT + ganttStyles.toolbar.views + \" > button\";\n            var viewsDropdownSelector = DOT + ganttStyles.toolbar.viewsDropdown;\n            var pdfSelector = DOT + ganttStyles.toolbar.pdfButton;\n            var toggleSelector = DOT + ganttStyles.buttonToggle;\n            var contentSelector = DOT + ganttStyles.gridContent;\n            var splitbar = that.splitbar;\n            var treelist = that.treelistWrapper;\n            var timeline = that.timelineWrapper;\n            var actions = this.options.toolbar;\n            var toolbar;\n            var views;\n            var toggleButton;\n            var mediaQueryHandler = function(e) {\n\n                if (e.matches) {\n                    treelist.addClass(\"k-hidden\");\n                    splitbar.addClass(\"k-hidden\");\n\n                    treelist.width(\"100%\");\n                } else {\n                    treelist.removeClass(\"k-hidden\");\n                    splitbar.removeClass(\"k-hidden\");\n                    timeline.removeClass(\"k-hidden\");\n\n                    treelist.width(treelist.outerWidth());\n\n                    that.refresh();\n\n                    timeline\n                        .find(contentSelector)\n                        .scrollTop(that.scrollTop);\n                }\n\n                that._resize();\n            };\n\n            if (!isFunction(actions)) {\n                actions = (typeof actions === STRING ? actions : this._actions(actions));\n                actions = kendo.template(actions).bind(this);\n            }\n\n            toggleButton = $(TOGGLE_BUTTON_TEMPLATE({ styles: ganttStyles.toolbar }));\n\n            views = $(HEADER_VIEWS_TEMPLATE({\n                ns: kendo.ns,\n                views: this.timeline.views,\n                styles: ganttStyles.toolbar\n            }));\n\n            toolbar = $(\"<div role='toolbar' class='\" + ganttStyles.toolbar.headerWrapper + \"'>\")\n                .append(toggleButton)\n                .append(actions({}))\n                .append(\"<span class='k-spacer k-toolbar-spacer' />\")\n                .append(views);\n\n            if (views.find(\"button\").length > 1) {\n                views.prepend(VIEWS_DROPDOWN_TEMPLATE({\n                    ns: kendo.ns,\n                    views: this.timeline.views,\n                    styles: ganttStyles.toolbar,\n                    label: this.options.messages.selectView\n                }));\n            }\n\n            if (this.toggeSwitchWrap) {\n                this.toggeSwitchWrap.insertBefore(views);\n            }\n\n            this.wrapper.prepend(toolbar);\n            this.toolbar = toolbar;\n\n            if (supportsMedia) {\n                this._mediaQueryHandler = mediaQueryHandler.bind(this);\n                this._mediaQuery = window.matchMedia(\"(max-width: 480px)\");\n                this._mediaQuery.addListener(this._mediaQueryHandler);\n            }\n\n            toolbar\n                .on(\"change\" + NS, viewsDropdownSelector, function() {\n                    var list = that.list;\n                    var name = $(this).val();\n\n                    if (list.editable && list.editable.trigger(\"validate\")) {\n                        return;\n                    }\n\n                    if (!that.trigger(\"navigate\", { view: name })) {\n                        that.view(name);\n                    }\n\n                    that.toolbar.find(DOT + ganttStyles.focused).removeClass(ganttStyles.focused);\n                })\n                .on(CLICK + NS, viewsSelector, function(e) {\n                    e.preventDefault();\n\n                    var list = that.list;\n                    var name = $(this).attr(kendo.attr(\"name\"));\n\n                    if (list.editor && !list.editor.end()) {\n                        return;\n                    }\n\n                    if (!that.trigger(\"navigate\", { view: name })) {\n                        that.view(name);\n                    }\n\n                    that.toolbar.find(DOT + ganttStyles.focused).removeClass(ganttStyles.focused);\n                })\n                .on(\"keydown\" + NS, viewsSelector, function(e) {\n                    var views = $(DOT + ganttStyles.toolbar.views).children(\":not(.k-current-view)\");\n                    var focusedViewIndex = views.index((that._focusedView && that._focusedView[0]) || views.closest(DOT + ganttStyles.selected)[0]);\n\n                    if (e.keyCode === keys.RIGHT) {\n                        $(that.toolbar.find(DOT + ganttStyles.focused)).removeClass(ganttStyles.focused);\n                        that._focusedView = focusedViewIndex + 1 === views.length ? $(views[0]) : $(views[focusedViewIndex + 1]);\n                        that._focusedView.trigger(\"focus\").addClass(ganttStyles.focused);\n                        e.preventDefault();\n                    } else if (e.keyCode === keys.LEFT) {\n                        $(that.toolbar.find(DOT + ganttStyles.focused)).removeClass(ganttStyles.focused);\n                        that._focusedView = focusedViewIndex === 0 ? $(views[views.length - 1]) : $(views[focusedViewIndex - 1]);\n                        that._focusedView.trigger(\"focus\").addClass(ganttStyles.focused);\n                        e.preventDefault();\n                    } else if ((e.keyCode === keys.ENTER || e.keyCode === keys.SPACEBAR) && that._focusedView) {\n                        that.view(that._focusedView.text().toLowerCase());\n                        e.preventDefault();\n                    } else if (e.keyCode >= 49 && e.keyCode <= 57) {\n                        that.view(that.timeline._viewByIndex(e.keyCode - 49));\n                    }\n                })\n                .on(CLICK + NS, pdfSelector, function(e) {\n                    e.preventDefault();\n\n                    that.saveAsPDF();\n                })\n                .on(CLICK + NS, toggleSelector, function(e) {\n                    e.preventDefault();\n\n                    if (treelist.is(\":visible\")) {\n                        treelist.addClass(\"k-hidden\");\n                        timeline.removeClass(\"k-hidden\");\n\n                        that.refresh();\n\n                        timeline\n                            .find(contentSelector)\n                            .scrollTop(that.scrollTop);\n                    } else {\n                        treelist.removeClass(\"k-hidden\");\n                        timeline.addClass(\"k-hidden\");\n\n                        treelist\n                            .find(contentSelector)\n                            .scrollTop(that.scrollTop);\n                    }\n\n                    that._resize();\n                });\n\n            this.wrapper\n                .on(\"focusout\" + NS, function(e) {\n                    if (!$(e.relatedTarget).closest(DOT + ganttStyles.toolbar.toolbar).length) {\n                        that.toolbar.find(DOT + ganttStyles.focused).removeClass(ganttStyles.focused);\n                    }\n                    if (!$(e.relatedTarget).closest(DOT + ganttStyles.toolbar.views).length) {\n                        that.toolbar.find(DOT + ganttStyles.toolbar.views).removeClass(ganttStyles.toolbar.expanded);\n                    }\n                });\n\n        },\n\n        _actions: function() {\n            var options = this.options;\n            var editable = options.editable;\n            var actions = options.toolbar;\n            var html = \"\";\n            var action;\n\n            if (!isArray(actions)) {\n                if (editable && editable.create !== false) {\n                    actions = [\"append\"];\n                } else {\n                    return html;\n                }\n            }\n\n            for (var i = 0, length = actions.length; i < length; i++) {\n                action = actions[i];\n\n                if (action === \"plannedTasks\" || action.name === \"plannedTasks\") {\n                    this._createPlannedTasksSwitch();\n                    continue;\n                }\n\n                html += this._createButton(action);\n            }\n\n            return html;\n        },\n\n        _footer: function() {\n            var editable = this.options.editable;\n\n            if (!editable || editable.create === false) {\n                return;\n            }\n\n            var ganttStyles = Gantt.styles.toolbar;\n            var messages = this.options.messages.actions;\n            var button = $(kendo.template(BUTTON_TEMPLATE)(extend(true, { styles: ganttStyles }, defaultCommands.append, { text: messages.append })));\n            var footer = $(\"<div class='\" + ganttStyles.footerWrapper + \"'>\").append(button);\n\n            this.wrapper.append(footer);\n            this.footer = footer;\n        },\n\n        _createButton: function(command) {\n            var template = command.template || BUTTON_TEMPLATE;\n            var messages = this.options.messages.actions;\n            var commandName = typeof command === STRING ? command : command.name || command.text;\n            var className = defaultCommands[commandName] ? defaultCommands[commandName].className : \"k-gantt-\" + (commandName || \"\").replace(/\\s/g, \"\");\n            var options = {\n                iconClass: \"\",\n                action: \"\",\n                text: commandName,\n                className: className,\n                styles: Gantt.styles.toolbar\n            };\n\n            if (!options.className) {\n                options.className = \"k-button-solid-base\";\n            } else if (options.className.indexOf(\"k-button-solid-primary\") === -1) {\n                options.className += \" k-button-solid-base\";\n            }\n\n            if (!commandName && !(isPlainObject(command) && command.template)) {\n                throw new Error(\"Custom commands should have name specified\");\n            }\n\n            options = extend(true, options, defaultCommands[commandName], { text: messages[commandName] });\n\n            if (isPlainObject(command)) {\n                if (command.className && inArray(options.className, command.className.split(\" \")) < 0) {\n                    command.className += \" \" + options.className;\n                }\n\n                options = extend(true, options, command);\n            }\n\n            return kendo.template(template)(options);\n        },\n\n        _adjustDimensions: function() {\n            var element = this.element;\n            var toolbarHeight = outerHeight(this.toolbar);\n            var footerHeight = this.footer ? outerHeight(this.footer) : 0;\n            var totalHeight = element.height();\n            var totalWidth = element.width();\n            var splitBarWidth = this.splitbar.is(\":visible\") ? outerWidth(this.splitbar) : 0;\n            var treeListWidth = this.treelistWrapper.is(\":visible\") ? outerWidth(this.treelistWrapper) : 0;\n            var timelineWidth = totalWidth - ( treeListWidth + splitBarWidth );\n\n            this.layout.children().height(totalHeight - (toolbarHeight + footerHeight));\n            this.timelineWrapper.width(timelineWidth);\n\n            if (totalWidth < (treeListWidth + splitBarWidth)) {\n                this.treelistWrapper.width(totalWidth - splitBarWidth);\n            }\n        },\n\n        _scrollTo: function(value) {\n            var view = this.timeline.view();\n            var list = this.list;\n            var attr = kendo.attr(\"uid\");\n            var id = typeof value === \"string\" ? value :\n                value.closest(\"tr\" + selector()).attr(attr);\n            var action;\n            var scrollTarget;\n            var scrollIntoView = function() {\n                if (scrollTarget.length !== 0) {\n                    action();\n                }\n            };\n\n            if (view.content.is(\":visible\")) {\n                scrollTarget = view.content.find(selector(id));\n                action = function() {\n                    view._scrollTo(scrollTarget);\n                };\n            } else {\n                scrollTarget = list.element.find(selector(id));\n                action = function() {\n                    scrollTarget.get(0).scrollIntoView();\n                };\n            }\n\n            scrollIntoView();\n        },\n\n        _dropDowns: function() {\n            var that = this;\n            var actionsSelector = DOT + Gantt.styles.toolbar.appendButton;\n            var actionMessages = this.options.messages.actions;\n            var timeline = this.timeline;\n            var editable = this.options.editable;\n\n            var handler = function(e) {\n                var type = e.type;\n                var orderId;\n                var dataSource = that.dataSource;\n                var task = dataSource._createNewModel({});\n                var selected = that.dataItem(that.select());\n                var parent = dataSource.taskParent(selected);\n                var firstSlot = timeline.view()._timeSlots()[0];\n                var target = type === \"add\" ? selected : parent;\n                var editable = that.list.editor;\n\n                if (editable && editable.trigger(\"validate\")) {\n                    return;\n                }\n\n                task.set(\"title\", \"New task\");\n\n                if (target) {\n                    task.set(\"parentId\", target.get(\"id\"));\n                    task.set(\"start\", target.get(\"start\"));\n                    task.set(\"end\", target.get(\"end\"));\n                    task.set(\"plannedStart\", target.get(\"plannedStart\"));\n                    task.set(\"plannedEnd\", target.get(\"plannedEnd\"));\n                } else {\n                    task.set(\"start\", firstSlot.start);\n                    task.set(\"end\", firstSlot.end);\n                }\n\n                if (type !== \"add\") {\n                    orderId = selected.get(\"orderId\");\n                    orderId = type === \"insert-before\" ? orderId : orderId + 1;\n                }\n\n                that._createTask(task, orderId);\n            };\n\n            if (!editable || editable.create === false) {\n                return;\n            }\n\n            this.footerDropDown = new kendo.gantt.TaskDropDown(this.footer.children(actionsSelector).eq(0), {\n                messages: {\n                    actions: actionMessages\n                },\n                direction: \"up\",\n                animation: {\n                    open: {\n                        effects: \"slideIn:up\"\n                    }\n                }\n            });\n\n            this.headerDropDown = new kendo.gantt.TaskDropDown(this.toolbar.children(actionsSelector).eq(0), {\n                messages: {\n                    actions: actionMessages\n                }\n            });\n\n            this.footerDropDown.bind(\"command\", handler);\n            this.headerDropDown.bind(\"command\", handler);\n        },\n\n        _getListEditable: function() {\n            var editable = false,\n                options = this.options;\n\n            if (options.editable !== false) {\n                editable = \"incell\";\n\n                if (options.editable && options.editable.update === false) {\n                    editable = false;\n                } else {\n                    if (!options.editable || options.editable.reorder !== false) {\n                        editable = {\n                            mode: \"incell\",\n                            move: {\n                                reorderable: true\n                            }\n                        };\n                    }\n                }\n            }\n\n            return editable;\n        },\n\n        _getListOptions: function() {\n            var options = this.options,\n                editable = this._getListEditable(),\n                listWrapper = this.wrapper.find(DOT + ganttStyles.list),\n                ganttListOptions = {\n                    columns: options.columns || [],\n                    dataSource: this.dataSource,\n                    selectable: options.selectable,\n                    reorderable: options.reorderable,\n                    editable: editable,\n                    resizable: options.resizable,\n                    filterable: options.filterable,\n                    columnMenu: options.columnMenu,\n                    columnResizeHandleWidth: this.options.columnResizeHandleWidth,\n                    listWidth: outerWidth(listWrapper),\n                    resourcesField: this.resources.field,\n                    rowHeight: this.options.rowHeight\n                };\n\n            return ganttListOptions;\n        },\n\n        _attachResourceEditor: function(columns) {\n            var column;\n\n            for (var i = 0; i < columns.length; i++) {\n                column = columns[i];\n\n                if (column.field === this.resources.field && typeof column.editor !== \"function\") {\n                    column.editor = this._createResourceEditor.bind(this);\n                }\n            }\n        },\n\n        _attachListEvents: function() {\n            var that = this,\n                navigatable = that.options.navigatable,\n                toggleButtons = this.wrapper.find(DOT + ganttStyles.toolbar.toolbar + \" \" + DOT + ganttStyles.toolbar.appendButton),\n                restoreFocus = function() {\n                    var element;\n\n                    if (navigatable && that._cachedCurrent) {\n                        element = that.list.content.find(\"tr\").eq(that._cachedCurrent.rowIndex).find(\"td\").eq(that._cachedCurrent.columnIndex);\n\n                        that._current(element);\n\n                        focusTable(that.list.content.find(\"table\"), true);\n                    }\n\n                    delete that._cachedCurrent;\n                };\n\n            that.list\n                .bind(\"columnShow\", function(e) {\n                    that.trigger(\"columnShow\", { column: e.column });\n                })\n                .bind(\"columnHide\", function(e) {\n                    that.trigger(\"columnHide\", { column: e.column });\n                })\n                .bind(\"columnReorder\", function(e) {\n                    that.trigger(\"columnReorder\", { column: e.column, oldIndex: e.oldIndex, newIndex: e.newIndex });\n                })\n                .bind(\"columnResize\", function(e) {\n                    that.trigger(\"columnResize\", { column: e.column, oldWidth: e.oldWidth, newWidth: e.newWidth });\n                })\n                .bind(\"render\", function() {\n                    that._navigatable();\n                 }, true)\n                .bind(\"beforeEdit\", function(e) {\n                    that._cachedCurrent = {\n                        rowIndex: e.container.closest(\"tr\").index(),\n                        columnIndex: e.container.index()\n                    };\n\n                    if (that.trigger(\"edit\", { task: e.model, container: e.container })) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"cancel\", function(e) {\n                    if (that.trigger(\"cancel\", { task: e.model, container: e.cell })) {\n                        e.preventDefault();\n                        return;\n                    }\n\n                    that._preventItemChange = true;\n                    that.list.closeCell(true);\n                    restoreFocus();\n                })\n                .bind(\"save\", function(e) {\n                    var updatedValues = e.values,\n                        key;\n\n                    that.previousTask = {};\n                    that._preventRefresh = true;\n\n                    if (that.updateDuration === null || that.updateDuration === undefined) {\n                        that.updateDuration = e.model.duration();\n                    }\n\n                    if (that.updatePlannedDuration === null || that.updatePlannedDuration === undefined) {\n                        that.updatePlannedDuration = e.model.plannedDuration();\n                    }\n\n                    if (updatedValues.hasOwnProperty(\"start\")) {\n                        updatedValues.end = new Date(updatedValues.start.getTime() + that.updateDuration);\n                    }\n\n                    if (updatedValues.hasOwnProperty(\"plannedStart\") && updatedValues.plannedStart) {\n                        updatedValues.plannedEnd = new Date(updatedValues.plannedStart.getTime() + that.updatePlannedDuration);\n                    }\n\n                    for (key in updatedValues) {\n                        if (updatedValues.hasOwnProperty(key)) {\n                            that.previousTask[key] = e.model.get(key);\n                        }\n                    }\n\n                    that.updatedValues = updatedValues;\n                })\n                .bind(\"itemChange\", function(e) {\n                    var updateInfo = that.updatedValues,\n                        task = e.data,\n                        resourcesField = that.resources.field,\n                        previousTask = that.previousTask,\n                        key;\n\n                    if (that._preventItemChange) {\n                        that._preventItemChange = false;\n                        return;\n                    }\n\n                    for (key in previousTask) {\n                        if (previousTask.hasOwnProperty(key)) {\n                            task.set(key, previousTask[key]);\n                        }\n                    }\n\n                    that.previousTask = {};\n\n                    if (!that.trigger(\"save\", { task: task, values: updateInfo })) {\n                        if (updateInfo) {\n                            that._preventRefresh = true;\n                            that.dataSource.update(task, updateInfo);\n\n                            if (updateInfo[resourcesField]) {\n                                that._updateAssignments(task.get(\"id\"), updateInfo[resourcesField]);\n                            }\n                        }\n\n                        that._preventRefresh = false;\n                        that._requestStart();\n                        that.dataSource.sync().then(function() {\n                            restoreFocus();\n                        });\n                    } else if (that.dataSource.hasChanges()) {\n                        that.dataSource.cancelChanges(task);\n                        that._preventRefresh = false;\n                        that.refresh();\n                    }\n\n                    that.updatedValues = null;\n                    that.updateDuration = null;\n                })\n                .bind(\"change\", function() {\n                    that.trigger(\"change\");\n\n                    var selection = that.list.select();\n\n                    if (selection.length) {\n                        toggleButtons.removeAttr(\"data-action\", \"add\");\n                        that.timeline.select(\"[data-uid='\" + selection.attr(\"data-uid\") + \"']\");\n                    } else {\n                        toggleButtons.attr(\"data-action\", \"add\");\n                        that.timeline.clearSelection();\n                    }\n                })\n                .bind(\"collapse\", function(e) {\n                    e.preventDefault();\n\n                    var row = that.list.element.find(\"tr[data-uid='\" + e.model.uid + \"']\");\n                    e.model.set(\"expanded\", false);\n\n                    that._cachedCurrent = {\n                        rowIndex: row.index(),\n                        columnIndex: row.find(\".k-focus\").index()\n                    };\n\n                    restoreFocus();\n                })\n                .bind(\"expand\", function(e) {\n                    e.preventDefault();\n\n                    var row = that.list.element.find(\"tr[data-uid='\" + e.model.uid + \"']\");\n                    e.model.set(\"expanded\", true);\n\n                    that._cachedCurrent = {\n                        rowIndex: row.index(),\n                        columnIndex: row.find(\".k-focus\").index()\n                    };\n\n                    restoreFocus();\n                })\n                .bind(\"dragend\", function(e) {\n                    var dataSource = that.dataSource,\n                        task, updateInfo;\n\n                    if (e.position === \"over\") {\n                        dataSource.cancelChanges();\n\n                        updateInfo = {\n                            parentId: e.source.parentId\n                        };\n\n                        task = dataSource.get(e.source.id);\n\n                        if (!that.trigger(\"save\", { task: task, values: updateInfo })) {\n                            dataSource.update(task, updateInfo);\n                        }\n\n                        dataSource.sync();\n                    }\n                })\n                .bind(\"dataBound\", function() {\n                    if (that.dataSource.sort().length === 0) {\n                        that.dataSource.sort([{ field: \"orderId\", dir: \"asc\" }]);\n                    }\n                })\n                .bind(\"reorder\", function(e) {\n                    that._updateTask(e.task, e.updateInfo);\n                    restoreFocus();\n                });\n        },\n\n        _list: function() {\n            var ganttStyles = Gantt.styles,\n                listWrapper = this.wrapper.find(DOT + ganttStyles.list),\n                listElement = listWrapper.find(\"> div\"),\n                listOptions = this._getListOptions();\n\n            this._attachResourceEditor(listOptions.columns);\n\n            this.list = new kendo.ui.GanttList(listElement, listOptions);\n\n            this._attachListEvents();\n        },\n\n        _timeline: function() {\n            var that = this;\n            var ganttStyles = Gantt.styles;\n            var options = trimOptions(extend(true, { resourcesField: this.resources.field }, this.options));\n            var element = this.wrapper.find(DOT + ganttStyles.timeline + \" > div\");\n\n            this.timeline = new kendo.ui.GanttTimeline(element, options);\n\n            this.timeline\n                .bind(\"navigate\", function(e) {\n                    var viewName = e.view.replace(/\\./g, \"\\\\.\").toLowerCase();\n\n                    that.toolbar\n                        .find(DOT + ganttStyles.toolbar.views + \" > button\")\n                        .removeClass(ganttStyles.selected)\n                        .end()\n                        .find(DOT + ganttStyles.toolbar.viewButton + \"-\" + viewName)\n                        .addClass(ganttStyles.selected);\n\n                    that.toolbar\n                        .find(DOT + ganttStyles.toolbar.viewsDropdown)\n                        .val(e.view);\n\n                    that.refresh();\n                })\n                .bind(\"moveStart\", function(e) {\n                    var editable = that.list.editor;\n\n                    if (editable && !editable.end()) {\n                        e.preventDefault();\n                        return;\n                    }\n\n                    if (that.trigger(\"moveStart\", { task: e.task })) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"move\", function(e) {\n                    var task = e.task;\n                    var start = e.start;\n                    var end = new Date(start.getTime() + task.duration());\n\n                    if (that.trigger(\"move\", { task: task, start: start, end: end })) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"moveEnd\", function(e) {\n                    var task = e.task;\n                    var start = e.start;\n                    var end = new Date(start.getTime() + task.duration());\n\n                    if (!that.trigger(\"moveEnd\", { task: task, start: start, end: end })) {\n                        that._updateTask(that.dataSource.getByUid(task.uid), {\n                            start: start,\n                            end: end\n                        });\n                    }\n                })\n                .bind(\"resizeStart\", function(e) {\n                    var editable = that.list.editor;\n\n                    if (editable && !editable.end()) {\n                        e.preventDefault();\n                        return;\n                    }\n\n                    if (that.trigger(\"resizeStart\", { task: e.task })) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"resize\", function(e) {\n                    if (that.trigger(\"resize\", { task: e.task, start: e.start, end: e.end })) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"resizeEnd\", function(e) {\n                    var task = e.task;\n                    var updateInfo = {};\n\n                    if (e.resizeStart) {\n                        updateInfo.start = e.start;\n                    } else {\n                        updateInfo.end = e.end;\n                    }\n\n                    if (!that.trigger(\"resizeEnd\", { task: task, start: e.start, end: e.end })) {\n                        that._updateTask(that.dataSource.getByUid(task.uid), updateInfo);\n                    }\n                })\n                .bind(\"percentResizeStart\", function(e) {\n                    var editable = that.list.editor;\n\n                    if (editable && !editable.end()) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"percentResizeEnd\", function(e) {\n                    that._updateTask(that.dataSource.getByUid(e.task.uid), { percentComplete: e.percentComplete });\n                })\n                .bind(\"dependencyDragStart\", function(e) {\n                    var editable = that.list.editor;\n\n                    if (editable && !editable.end()) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"dependencyDragEnd\", function(e) {\n                    var dependency = that.dependencies._createNewModel({\n                        type: e.type,\n                        predecessorId: e.predecessor.id,\n                        successorId: e.successor.id\n                    });\n\n                    that._createDependency(dependency);\n                })\n                .bind(\"select\", function(e) {\n                    var editable = that.list.editor;\n\n                    if (editable) {\n                        editable.end();\n                    }\n\n                    that.select(\"[data-uid='\" + e.uid + \"']\");\n                })\n                .bind(\"editTask\", function(e) {\n                    var editable = that.list.editor;\n\n                    if (editable && !editable.end()) {\n                        return;\n                    }\n\n                    that.editTask(e.uid);\n                })\n                .bind(\"clear\", function() {\n                    that.clearSelection();\n                })\n                .bind(\"removeTask\", function(e) {\n                    var editable = that.list.editor;\n\n                    if (editable && !editable.end()) {\n                        return;\n                    }\n\n                    that.removeTask(that.dataSource.getByUid(e.uid));\n                })\n                .bind(\"removeDependency\", function(e) {\n                    var editable = that.list.editor;\n\n                    if (editable && !editable.end()) {\n                        return;\n                    }\n\n                    that.removeDependency(that.dependencies.getByUid(e.uid));\n                });\n        },\n\n        _dataSource: function() {\n            var options = this.options;\n            var dataSource = options.dataSource;\n\n            dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n\n            if (this.dataSource && this._refreshHandler) {\n                this.dataSource\n                    .unbind(\"change\", this._refreshHandler)\n                    .unbind(\"progress\", this._progressHandler)\n                    .unbind(\"error\", this._errorHandler);\n            } else {\n                this._refreshHandler = this.refresh.bind(this);\n                this._progressHandler = this._requestStart.bind(this);\n                this._errorHandler = this._error.bind(this);\n            }\n\n            this.dataSource = kendo.data.GanttDataSource.create(dataSource)\n                .bind(\"change\", this._refreshHandler)\n                .bind(\"progress\", this._progressHandler)\n                .bind(\"error\", this._errorHandler);\n        },\n\n        _dependencies: function() {\n            var dependencies = this.options.dependencies || {};\n            var dataSource = isArray(dependencies) ? { data: dependencies } : dependencies;\n\n            if (this.dependencies && this._dependencyRefreshHandler) {\n                this.dependencies\n                    .unbind(\"change\", this._dependencyRefreshHandler)\n                    .unbind(\"error\", this._dependencyErrorHandler);\n            } else {\n                this._dependencyRefreshHandler = this.refreshDependencies.bind(this);\n                this._dependencyErrorHandler = this._error.bind(this);\n            }\n\n            this.dependencies = kendo.data.GanttDependencyDataSource.create(dataSource)\n                .bind(\"change\", this._dependencyRefreshHandler)\n                .bind(\"error\", this._dependencyErrorHandler);\n        },\n\n        _resources: function() {\n            var resources = this.options.resources;\n            var dataSource = resources.dataSource || {};\n\n            this.resources = {\n                field: \"resources\",\n                dataTextField: \"name\",\n                dataColorField: \"color\",\n                dataFormatField: \"format\"\n            };\n\n            extend(this.resources, resources);\n\n            this.resources.dataSource = kendo.data.DataSource.create(dataSource);\n        },\n\n        _assignments: function() {\n            var assignments = this.options.assignments;\n            var dataSource = assignments.dataSource || { };\n\n            if (this.assignments) {\n                this.assignments.dataSource\n                    .unbind(\"change\", this._assignmentsRefreshHandler);\n            } else {\n                this._assignmentsRefreshHandler = this.refresh.bind(this);\n            }\n\n            this.assignments = {\n                dataTaskIdField: \"taskId\",\n                dataResourceIdField: \"resourceId\",\n                dataValueField: \"value\"\n            };\n\n            extend(this.assignments, assignments);\n\n            this.assignments.dataSource = kendo.data.DataSource.create(dataSource);\n\n            this.assignments.dataSource\n                .bind(\"change\", this._assignmentsRefreshHandler);\n        },\n\n        _createEditor: function() {\n            var that = this;\n\n            var editor = this._editor = new kendo.gantt.PopupEditor(this.wrapper, extend({}, this.options, {\n                target: this,\n                resources: {\n                    field: this.resources.field,\n                    editor: this._createResourceEditor.bind(this)\n                },\n                createButton: this._createPopupButton.bind(this)\n            }));\n\n            editor\n                .bind(\"cancel\", function(e) {\n                    var task = that.dataSource.getByUid(e.model.uid);\n\n                    if (that.trigger(\"cancel\", { container: e.container, task: task })) {\n                        e.preventDefault();\n                        return;\n                    }\n\n                    that.cancelTask();\n                })\n                .bind(\"edit\", function(e) {\n                    var task = that.dataSource.getByUid(e.model.uid);\n\n                    if (that.trigger(\"edit\", { container: e.container, task: task })) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"save\", function(e) {\n                    var task = that.dataSource.getByUid(e.model.uid);\n\n                    that.saveTask(task, e.updateInfo);\n                })\n                .bind(\"remove\", function(e) {\n                    that.removeTask(e.model.uid);\n                })\n                .bind(\"close\", that._onDialogClose);\n        },\n\n        _onDialogClose: function() {},\n\n        _createResourceEditor: function(container, options) {\n            var that = this;\n            var model = options instanceof ObservableObject ? options : options.model;\n            var id = model.get(\"id\");\n            var messages = this.options.messages;\n            var resourcesField = this.resources.field;\n            var unitsValidation = { step: 0.01 };\n            var assignmentsModel = this.assignments.dataSource.options.schema.model;\n\n            if (assignmentsModel && assignmentsModel.fields.Units && assignmentsModel.fields.Units.validation) {\n                extend(true, unitsValidation, assignmentsModel.fields.Units.validation);\n            }\n\n            var editor = this._resourceEditor = new kendo.gantt.ResourceEditor(container, {\n                resourcesField: resourcesField,\n                unitsValidation: unitsValidation,\n                data: this._wrapResourceData(id),\n                model: model,\n                messages: extend({}, messages.editor),\n                buttons: [\n                    { name: \"update\", text: messages.save, className: Gantt.styles.primary },\n                    { name: \"cancel\", text: messages.cancel }\n                ],\n                createButton: this._createPopupButton.bind(this),\n                save: function(e) {\n                    that._updateAssignments(e.model.get(\"id\"), e.model.get(resourcesField));\n                }\n            });\n\n            editor.open();\n        },\n\n        _createPopupButton: function(command) {\n            var commandName = command.name || command.text;\n            var options = {\n                className: Gantt.styles.popup.button + \" \" + Gantt.styles.buttonDefaults + \" k-gantt-\" + (commandName || \"\").replace(/\\s/g, \"\"),\n                text: commandName,\n                attr: \"\"\n            };\n\n            if (!commandName && !(isPlainObject(command) && command.template)) {\n                throw new Error(\"Custom commands should have name specified\");\n            }\n\n            if (isPlainObject(command)) {\n                if (command.className) {\n                    command.className += \" \" + options.className;\n                }\n\n                options = extend(true, options, command);\n            }\n\n            if (!options.className) {\n                options.className = \"k-button-solid-base\";\n            } else if (options.className.indexOf(\"k-button-solid-primary\") === -1) {\n                options.className += \" k-button-solid-base\";\n            }\n\n            return kendo.template(COMMAND_BUTTON_TEMPLATE)(options);\n        },\n\n        view: function(type) {\n            return this.timeline.view(type);\n        },\n\n        range: function(range) {\n            var dataSource = this.dataSource;\n            var view = this.view();\n            var timeline = this.timeline;\n\n            if (range) {\n                view.options.range = {\n                    start: range.start,\n                    end: range.end\n                };\n\n                timeline._render(dataSource.taskTree());\n                timeline._renderDependencies(this.dependencies.view());\n            }\n\n            return {\n                start: view.start,\n                end: view.end\n            };\n        },\n\n        date: function(date) {\n            var view = this.view();\n\n            if (date) {\n                view.options.date = date;\n                view._scrollToDate(date);\n            }\n\n            return view.options.date;\n        },\n\n        dataItem: function(value) {\n            if (!value) {\n                return null;\n            }\n\n            var list = this.list;\n            var element = list.element.find(value);\n\n            return list._modelFromElement(element);\n        },\n\n        setDataSource: function(dataSource) {\n            this.options.dataSource = dataSource;\n\n            this._dataSource();\n\n            this.list.setDataSource(this.dataSource);\n\n            if (this.options.autoBind) {\n                dataSource.fetch();\n            }\n        },\n\n        setDependenciesDataSource: function(dependencies) {\n            this.options.dependencies = dependencies;\n\n            this._dependencies();\n\n            if (this.options.autoBind) {\n                dependencies.fetch();\n            }\n        },\n\n        items: function() {\n            return this.wrapper.children(\".k-task\");\n        },\n\n        _updateAssignments: function(id, resources) {\n            var dataSource = this.assignments.dataSource;\n            var taskId = this.assignments.dataTaskIdField;\n            var resourceId = this.assignments.dataResourceIdField;\n            var hasMatch = false;\n            var assignments = new Query(dataSource.view())\n                .filter({\n                    field: taskId,\n                    operator: \"eq\",\n                    value: id\n                }).toArray();\n            var assignment;\n            var resource;\n            var value;\n\n            while (assignments.length) {\n                assignment = assignments[0];\n\n                for (var i = 0, length = resources.length; i < length; i++) {\n                    resource = resources[i];\n\n                    if (assignment.get(resourceId) === resource.get(\"id\")) {\n                        value = resources[i].get(\"value\");\n                        this._updateAssignment(assignment, value);\n                        resources.splice(i, 1);\n                        hasMatch = true;\n                        break;\n                    }\n                }\n\n                if (!hasMatch) {\n                    this._removeAssignment(assignment);\n                }\n\n                hasMatch = false;\n\n                assignments.shift();\n            }\n\n            for (var j = 0, newLength = resources.length; j < newLength; j++) {\n                resource = resources[j];\n                this._createAssignment(resource, id);\n            }\n\n            dataSource.sync();\n        },\n\n        cancelTask: function() {\n            var editor = this._editor;\n            var container = editor.container;\n\n            if (container) {\n                editor.close();\n            }\n        },\n\n        editTask: function(uid) {\n            var task = typeof uid === \"string\" ? this.dataSource.getByUid(uid) : uid;\n\n            if (!task) {\n                return;\n            }\n\n            var taskCopy = this.dataSource._createNewModel(task.toJSON());\n            taskCopy.uid = task.uid;\n\n            this.cancelTask();\n\n            this._editTask(taskCopy);\n        },\n\n        _editTask: function(task) {\n            this._editor.editTask(task, this.options.editable.plannedTasks);\n        },\n\n        saveTask: function(task, updateInfo) {\n            var editor = this._editor;\n            var container = editor.container;\n            var editable = editor.editable;\n\n            if (container && editable && editable.end()) {\n                this._updateTask(task, updateInfo);\n            }\n        },\n\n        _updateTask: function(task, updateInfo) {\n            var that = this;\n            var resourcesField = that.resources.field;\n\n            if (!that.trigger(\"save\", { task: task, values: updateInfo })) {\n                if (updateInfo) {\n                    that._preventRefresh = true;\n\n                    that.dataSource.update(task, updateInfo);\n\n                    if (updateInfo[resourcesField]) {\n                        that._updateAssignments(task.get(\"id\"), updateInfo[resourcesField]);\n                    }\n                }\n\n                that._syncDataSource();\n            } else if (task && task.dirty) {\n                that.dataSource.cancelChanges(task);\n                that._preventRefresh = false;\n                that.refresh();\n            }\n        },\n\n        _updateAssignment: function(assignment, value) {\n            var resourceValueField = this.assignments.dataValueField;\n\n            assignment.set(resourceValueField, value);\n        },\n\n        removeTask: function(uid) {\n            var that = this;\n            var task = typeof uid === \"string\" ? this.dataSource.getByUid(uid) : uid;\n\n            if (!task) {\n                return;\n            }\n\n            this._taskConfirm(function(cancel) {\n                if (!cancel) {\n                    that._removeTask(task);\n                }\n            }, task);\n        },\n\n        _createTask: function(task, index) {\n            if (!this.trigger(\"add\", {\n                task: task,\n                dependency: null\n            })) {\n                var dataSource = this.dataSource;\n\n                this._preventRefresh = true;\n\n                if (index === undefined) {\n                    dataSource.add(task);\n                } else {\n                    dataSource.insert(index, task);\n                }\n\n                this._scrollToUid = task.uid;\n                this._syncDataSource();\n            }\n        },\n\n        _createDependency: function(dependency) {\n            if (!this.trigger(\"add\", {\n                task: null,\n                dependency: dependency\n            })) {\n                this._preventDependencyRefresh = true;\n\n                this.dependencies.add(dependency);\n\n                this._preventDependencyRefresh = false;\n\n                this.dependencies.sync();\n            }\n        },\n\n        _createAssignment: function(resource, id) {\n            var assignments = this.assignments;\n            var dataSource = assignments.dataSource;\n            var taskId = assignments.dataTaskIdField;\n            var resourceId = assignments.dataResourceIdField;\n            var resourceValue = assignments.dataValueField;\n            var assignment = dataSource._createNewModel();\n\n            assignment[taskId] = id;\n            assignment[resourceId] = resource.get(\"id\");\n            assignment[resourceValue] = resource.get(\"value\");\n\n            dataSource.add(assignment);\n        },\n\n        removeDependency: function(uid) {\n            var that = this;\n            var dependency = typeof uid === \"string\" ? this.dependencies.getByUid(uid) : uid;\n\n            if (!dependency) {\n                return;\n            }\n\n            this._dependencyConfirm(function(cancel) {\n                if (!cancel) {\n                    that._removeDependency(dependency);\n                }\n            }, dependency);\n        },\n\n        _removeTaskDependencies: function(task, dependencies) {\n            this._preventDependencyRefresh = true;\n\n            for (var i = 0, length = dependencies.length; i < length; i++) {\n                this.dependencies.remove(dependencies[i]);\n            }\n\n            this._preventDependencyRefresh = false;\n\n            this.dependencies.sync();\n        },\n\n        _removeTaskAssignments: function(task) {\n            var dataSource = this.assignments.dataSource;\n            var assignments = dataSource.view();\n            var filter = {\n                field: this.assignments.dataTaskIdField,\n                operator: \"eq\",\n                value: task.get(\"id\")\n            };\n\n            assignments = new Query(assignments).filter(filter).toArray();\n\n            this._preventRefresh = true;\n\n            for (var i = 0, length = assignments.length; i < length; i++) {\n                dataSource.remove(assignments[i]);\n            }\n\n            this._preventRefresh = false;\n\n            dataSource.sync();\n        },\n\n        _removeTask: function(task) {\n            var dependencies = this.dependencies.dependencies(task.id);\n\n            if (!this.trigger(\"remove\", {\n                task: task,\n                dependencies: dependencies\n            })) {\n                this._removeTaskDependencies(task, dependencies);\n                this._removeTaskAssignments(task);\n\n                this._preventRefresh = true;\n\n                if (this.dataSource.remove(task)) {\n                    this._syncDataSource();\n                }\n\n                this._preventRefresh = false;\n            }\n        },\n\n        _removeDependency: function(dependency) {\n            if (!this.trigger(\"remove\", {\n                task: null,\n                dependencies: [dependency]\n            })) {\n                if (this.dependencies.remove(dependency)) {\n                    this.dependencies.sync();\n                }\n            }\n        },\n\n        _removeAssignment: function(assignment) {\n            this.assignments.dataSource.remove(assignment);\n        },\n\n        _taskConfirm: function(callback, task) {\n            var messages = this.options.messages;\n\n            this._confirm(callback, {\n                model: task,\n                text: messages.deleteTaskConfirmation,\n                title: messages.deleteTaskWindowTitle\n            });\n        },\n\n        _dependencyConfirm: function(callback, dependency) {\n            var messages = this.options.messages;\n\n            this._confirm(callback, {\n                model: dependency,\n                text: messages.deleteDependencyConfirmation,\n                title: messages.deleteDependencyWindowTitle\n            });\n        },\n\n        _confirm: function(callback, options) {\n            var editable = this.options.editable;\n            var messages;\n            var buttons;\n\n            if (editable === true || editable.confirmation !== false) {\n                messages = this.options.messages;\n                buttons = [\n                    { name: \"delete\", text: messages.destroy, className: Gantt.styles.primary, click: function() { callback(); } },\n                    { name: \"cancel\", text: messages.cancel, click: function() { callback(true); } }\n                ];\n\n                this.showDialog(extend(true, {}, options, { buttons: buttons }));\n            } else {\n                callback();\n            }\n        },\n\n        showDialog: function(options) {\n            this._editor.showDialog(options);\n        },\n\n        refresh: function() {\n            if (this._preventRefresh || !this.list || this.list.editor) {\n                return;\n            }\n\n            this._progress(false);\n\n            var dataSource = this.dataSource;\n            var taskTree = dataSource.taskTree();\n            var scrollToUid = this._scrollToUid;\n            var current;\n            var cachedUid;\n            var cachedIndex = -1;\n\n            if (this.current) {\n                cachedUid = this.current.closest(\"tr\").attr(kendo.attr(\"uid\"));\n                cachedIndex = this.current.index();\n            }\n\n            if (this.trigger(\"dataBinding\")) {\n                return;\n            }\n\n            if (this.resources.dataSource.data().length !== 0) {\n                this._assignResources(taskTree);\n            }\n\n            if (this._editor) {\n                this._editor.close();\n            }\n\n            this.clearSelection();\n            this.list._renderTree(taskTree);\n            this.timeline._render(taskTree);\n            this.timeline._renderDependencies(this.dependencies.view());\n\n            if (scrollToUid) {\n                this._scrollTo(scrollToUid);\n                this.select(selector(scrollToUid));\n            }\n\n            if ((scrollToUid || cachedUid) && cachedIndex >= 0) {\n                current = this.list.element\n                    .find(\"tr\" + selector((scrollToUid || cachedUid)) + \" > td\").eq(cachedIndex);\n\n                this._current(current);\n            }\n\n            this._scrollToUid = null;\n\n            this.trigger(\"dataBound\");\n        },\n\n        refreshDependencies: function() {\n            if (this._preventDependencyRefresh) {\n                return;\n            }\n\n            if (this.trigger(\"dataBinding\")) {\n                return;\n            }\n\n            this.timeline._renderDependencies(this.dependencies.view());\n\n            this.trigger(\"dataBound\");\n        },\n\n        _assignResources: function(taskTree) {\n            var resources = this.resources;\n            var assignments = this.assignments;\n            var groupAssigments = function() {\n                var data = assignments.dataSource.view();\n                var group = {\n                    field: assignments.dataTaskIdField\n                };\n\n                data = new Query(data).group(group).toArray();\n\n                return data;\n            };\n            var assigments = groupAssigments();\n            var applyTaskResource = function(task, action) {\n                var taskId = task.get(\"id\");\n\n                kendo.setter(resources.field)(task, new ObservableArray([]));\n\n                for (var i = 0, length = assigments.length; i < length; i++) {\n                    if (assigments[i].value === taskId) {\n                        action(task, assigments[i].items);\n                    }\n                }\n            };\n            var wrapTask = function(task, items) {\n                for (var j = 0, length = items.length; j < length; j++) {\n                    var item = items[j];\n                    var resource = resources.dataSource.get(item.get(assignments.dataResourceIdField));\n                    var resourceValue = item.get(assignments.dataValueField);\n                    var resourcedId = item.get(assignments.dataResourceIdField);\n                    var valueFormat = resource.get(resources.dataFormatField) || PERCENTAGE_FORMAT;\n                    var formatedValue = kendo.toString(resourceValue, valueFormat);\n\n                    task[resources.field].push(new ObservableObject({\n                        id: resourcedId,\n                        name: resource.get(resources.dataTextField),\n                        color: resource.get(resources.dataColorField),\n                        value: resourceValue,\n                        formatedValue: formatedValue\n                    }));\n                }\n            };\n\n            for (var i = 0, length = taskTree.length; i < length; i++) {\n                applyTaskResource(taskTree[i], wrapTask);\n            }\n        },\n\n        _wrapResourceData: function(id) {\n            var that = this;\n            var result = [];\n            var resource;\n            var resources = this.resources.dataSource.view();\n            var assignments = this.assignments.dataSource.view();\n            var taskAssignments = new Query(assignments).filter({\n                field: that.assignments.dataTaskIdField,\n                operator: \"eq\",\n                value: id\n            }).toArray();\n            var valuePerResource = function(id) {\n                var resourceValue = null;\n\n                new Query(taskAssignments).filter({\n                    field: that.assignments.dataResourceIdField,\n                    operator: \"eq\",\n                    value: id\n                }).select(function(assignment) {\n                    resourceValue += assignment.get(that.assignments.dataValueField);\n                });\n\n                return resourceValue;\n            };\n\n            for (var i = 0, length = resources.length; i < length; i++) {\n                resource = resources[i];\n                result.push({\n                    id: resource.get(\"id\"),\n                    name: resource.get(that.resources.dataTextField),\n                    format: resource.get(that.resources.dataFormatField) || PERCENTAGE_FORMAT,\n                    value: valuePerResource(resource.id)\n                });\n            }\n\n            return result;\n        },\n\n        _syncDataSource: function() {\n            this._preventRefresh = false;\n            this._requestStart();\n            this.dataSource.sync();\n        },\n\n        _requestStart: function() {\n            this._progress(true);\n        },\n\n        _error: function() {\n            this._progress(false);\n        },\n\n        _progress: function(toggle) {\n            kendo.ui.progress(this.element, toggle);\n        },\n\n        _resizable: function() {\n            var that = this;\n            var wrapper = this.wrapper;\n            var ganttStyles = Gantt.styles;\n            var contentSelector = DOT + ganttStyles.gridContent;\n            var treeListWrapper = wrapper.find(DOT + ganttStyles.list);\n            var timelineWrapper = wrapper.find(DOT + ganttStyles.timeline);\n            var treeListWidth;\n            var timelineWidth;\n            var timelineScroll;\n\n            this._resizeDraggable = wrapper\n                .find(DOT + ganttStyles.splitBar)\n                .height(treeListWrapper.height())\n                .hover(function() {\n                    $(this).addClass(ganttStyles.splitBarHover);\n                }, function() {\n                    $(this).removeClass(ganttStyles.splitBarHover);\n                })\n                .end()\n                .kendoResizable({\n                    orientation: \"horizontal\",\n                    handle: DOT + ganttStyles.splitBar,\n                    \"start\": function() {\n                        treeListWidth = treeListWrapper.width();\n                        timelineWidth = timelineWrapper.width();\n                        timelineScroll = kendo.scrollLeft(timelineWrapper.find(contentSelector));\n                    },\n                    \"resize\": function(e) {\n                        var delta = e.x.initialDelta;\n\n                        if (kendo.support.isRtl(wrapper)) {\n                            delta *= -1;\n                        }\n\n                        if (treeListWidth + delta < 0 || timelineWidth - delta < 0) {\n                            return;\n                        }\n\n                        treeListWrapper.width(treeListWidth + delta);\n                        timelineWrapper.width(timelineWidth - delta);\n                        kendo.scrollLeft(timelineWrapper.find(contentSelector), (timelineScroll + delta));\n\n                        that.timeline.view()._renderCurrentTime();\n                    }\n                }).data(\"kendoResizable\");\n        },\n\n        _scrollable: function() {\n            var that = this;\n            var ganttStyles = Gantt.styles;\n            var contentSelector = DOT + ganttStyles.gridContent;\n            var headerSelector = DOT + ganttStyles.gridHeaderWrap;\n            var timelineHeader = this.timeline.element.find(headerSelector);\n            var timelineContent = this.timeline.element.find(contentSelector);\n            var treeListHeader = this.list.element.find(headerSelector);\n            var treeListContent = this.list.element.find(contentSelector);\n\n            if (mobileOS) {\n                treeListContent.css(\"overflow-y\", \"auto\");\n            }\n\n            timelineContent.on(\"scroll\", function() {\n                that.scrollTop = this.scrollTop;\n                kendo.scrollLeft(timelineHeader, this.scrollLeft);\n                treeListContent.scrollTop(this.scrollTop);\n            });\n\n            treeListContent\n                .on(\"scroll\", function() {\n                    kendo.scrollLeft(treeListHeader, this.scrollLeft);\n                })\n                .on(\"DOMMouseScroll\" + NS + \" mousewheel\" + NS, function(e) {\n                    var scrollTop = timelineContent.scrollTop();\n                    var delta = kendo.wheelDeltaY(e);\n\n                    if (delta) {\n                        e.preventDefault();\n                        //In Firefox DOMMouseScroll event cannot be canceled\n                        $(e.currentTarget).one(\"wheel\" + NS, false);\n\n                        timelineContent.scrollTop(scrollTop + (-delta));\n                    }\n                });\n        },\n\n        _navigatable: function() {\n            var that = this;\n            var navigatable = this.options.navigatable;\n            var editable = this.options.editable;\n            var ganttStyles = Gantt.styles;\n            var contentSelector = DOT + ganttStyles.gridContent;\n            var headerSelector = DOT + ganttStyles.gridHeaderWrap;\n            var headerTable = this.list.element.find(headerSelector).find(\"table\");\n            var contentTable = this.list.element.find(contentSelector).find(\"table\");\n            var isRtl = kendo.support.isRtl(this.wrapper);\n            var timelineContent = this.timeline.element.find(DOT + ganttStyles.gridContent);\n            var tables = headerTable.add(contentTable);\n            var attr = selector();\n            var cellIndex;\n            var expandState = {\n                collapse: false,\n                expand: true\n            };\n\n            var scroll = function(reverse) {\n                var width = that.timeline.view()._timeSlots()[0].offsetWidth;\n                kendo.scrollLeft(timelineContent, kendo.scrollLeft(timelineContent) + (reverse ? -width : width));\n            };\n\n            var scrollVertical = function(reverse) {\n                var height = that.timeline.view()._rowHeight;\n                timelineContent.scrollTop(timelineContent.scrollTop() + (reverse ? -height : height));\n            };\n\n            var moveVertical = function(method) {\n                var parent = that.current.parent(\"tr\" + selector());\n                var index = that.current.index();\n                var sibling = parent[method]('tr:visible').first();\n\n                if (that.select().length !== 0) {\n                    that.clearSelection();\n                }\n\n                if (sibling.length !== 0) {\n                    that._current(sibling.children(\"td\").eq(index));\n                    that._scrollTo(that.current);\n                } else {\n                    if (that.current.is(\"td\") && method == \"prevAll\") {\n                        focusTable(headerTable);\n                    } else if (that.current.is(\"th\") && method == \"nextAll\") {\n                        focusTable(contentTable);\n                    }\n                }\n            };\n            var moveHorizontal = function(method) {\n                var subling = that.current[method]();\n\n                if (subling.length !== 0) {\n                    that._current(subling);\n                    cellIndex = that.current.index();\n                }\n            };\n            var toggleExpandedState = function(value) {\n                var model = that.dataItem(that.current);\n\n                if (model.summary && model.expanded !== value) {\n                    model.set(\"expanded\", value);\n                }\n            };\n            var deleteAction = function() {\n                var editable = that.options.editable;\n\n                if (!editable || editable.destroy === false || that.list.editor) {\n                    return;\n                }\n\n                var selectedTask = that.select();\n                var uid = kendo.attr(\"uid\");\n\n                if (selectedTask.length) {\n                    that.removeTask(selectedTask.attr(uid));\n                }\n            };\n\n            $(this.wrapper)\n                .on(\"mousedown\" + NS, \"tr\" + attr + \", div\" + attr + \":not(\" + DOT + ganttStyles.line + \")\", function(e) {\n                    var currentTarget = $(e.currentTarget);\n                    var isInput = $(e.target).is(\":button,a,:input,a>.k-icon,textarea,span.k-icon:not(.k-i-none),span.k-link,.k-input,.k-multiselect-wrap\");\n                    var current;\n\n                    if (e.ctrlKey) {\n                        return;\n                    }\n\n                    if (navigatable) {\n                        if (currentTarget.is(\"tr\")) {\n                            current = $(e.target).closest(\"td\");\n                        } else {\n                            current = that.list\n                                .content.find(\"tr\" + selector(currentTarget.attr(kendo.attr(\"uid\"))) + \" > td\").first();\n                        }\n\n                        that._current(current);\n                    }\n\n                    if ((navigatable || editable) && !isInput) {\n                        that._focusTimeout = setTimeout(function() {\n                            focusTable(that.list.content.find(\"table\"), true);\n                        }, 2);\n                    }\n                })\n\n                .on(\"keydown\" + NS, function(e) {\n                    var key = e.keyCode;\n                    var that = this;\n                    var focusableItems = $(that._getToolbarItems());\n                    var idx = focusableItems.index(that.toolbar.find(DOT + ganttStyles.focused)[0]);\n                    if (idx === -1 && $(e.target).closest(DOT + ganttStyles.toolbar.views).length) {\n                        idx = focusableItems.index(that.toolbar.find(\".k-gantt-views > .k-selected:visible, .k-views-dropdown:visible\")[0]);\n                    }\n                    var itemToFocus = e.shiftKey ? focusableItems[idx - 1] : focusableItems[idx + 1];\n\n                    if (key === keys.F10) {\n                        that.toolbar.find(\".k-button:visible\").first().addClass(ganttStyles.focused).trigger(\"focus\");\n                        e.preventDefault();\n                    } else if (key == keys.TAB && $(e.target).closest(DOT + ganttStyles.toolbar.toolbar).length) {\n                        that.toolbar.find(DOT + ganttStyles.focused).removeClass(ganttStyles.focused).trigger(\"blur\");\n                        if (itemToFocus) {\n                            $(itemToFocus).addClass(ganttStyles.focused).trigger(\"focus\");\n                            e.preventDefault();\n                            return;\n                        }\n                        if (this.list.element.is(\":visible\")) {\n                            this.list.element.find(\"table[role=treegrid]\").trigger(\"focus\");\n                        } else {\n                            this.element.find(DOT + ganttStyles.tasks)[0].focus();\n                        }\n                        e.preventDefault();\n                    }\n\n                }.bind(this));\n\n            if (navigatable !== true) {\n                contentTable\n                    .on(\"keydown\" + NS, function(e) {\n                        if (e.keyCode == keys.DELETE) {\n                            deleteAction();\n                        }\n                    });\n\n                return;\n            }\n\n            tables\n                .on(\"focus\" + NS, function() {\n                    var selector = this === contentTable.get(0) ? \"td\" : \"th\";\n                    var selection = that.select();\n                    var current = that.current || $((selection.length ? selection : this))\n                        .find(selector).eq((cellIndex || 0));\n\n                    that._current(current);\n                    $(that.toolbar.find(DOT + ganttStyles.focused)).removeClass(ganttStyles.focused);\n                })\n                .on(\"blur\" + NS, function() {\n                    that._current();\n\n                    if (this == headerTable) {\n                        $(this).attr(TABINDEX, -1);\n                    }\n                })\n                .on(\"keydown\" + NS, function(e) {\n                    var key = e.keyCode;\n                    var isCell;\n\n                    if (!that.current) {\n                        return;\n                    }\n\n                    isCell = that.current.is(\"td\");\n\n                    switch (key) {\n                        case keys.RIGHT:\n                            e.preventDefault();\n                            if (e.altKey) {\n                                scroll();\n                            } else if (e.ctrlKey) {\n                                toggleExpandedState(isRtl ? expandState.collapse : expandState.expand);\n                            } else {\n                                moveHorizontal(isRtl ? \"prev\" : \"next\");\n                            }\n                            break;\n                        case keys.LEFT:\n                            e.preventDefault();\n                            if (e.altKey) {\n                                scroll(true);\n                            } else if (e.ctrlKey) {\n                                toggleExpandedState(isRtl ? expandState.expand : expandState.collapse);\n                            } else {\n                                moveHorizontal(isRtl ? \"next\" : \"prev\");\n                            }\n                            break;\n                        case keys.UP:\n                            e.preventDefault();\n                            if (e.altKey) {\n                                scrollVertical(true);\n                            } else {\n                                moveVertical(\"prevAll\");\n                            }\n                            break;\n                        case keys.DOWN:\n                            e.preventDefault();\n                            if (e.altKey) {\n                                scrollVertical();\n                            } else {\n                                moveVertical(\"nextAll\");\n                            }\n                            break;\n                        case keys.SPACEBAR:\n                            e.preventDefault();\n                            if (isCell) {\n                                that.select(that.current.closest(\"tr\"));\n                            }\n                            break;\n                        case keys.ENTER:\n                            e.preventDefault();\n                            if (isCell) {\n                                if (that.options.editable && that.options.editable.update !== false) {\n                                    that.list._startEditHandler(that.current);\n                                    $(this).one(\"keyup\", function(e) {\n                                        /* Stop the event propagation so that the list widget won't close its editor immediately */\n                                        e.stopPropagation();\n                                    });\n                                }\n                            } else {\n                                /* Sort */\n                                that.current\n                                    .children(\"a.k-link\")\n                                    .click();\n                            }\n                            break;\n                        case keys.DELETE:\n                            if (isCell) {\n                                deleteAction();\n                            }\n                            break;\n                        default:\n                            if (key >= 49 && key <= 57 && e.target.tagName.toLowerCase() !== \"input\") {\n                               that.view(that.timeline._viewByIndex(key - 49));\n                            }\n                            break;\n                    }\n                });\n        },\n\n        _getToolbarItems: function() {\n            return this.toolbar.find(\"> .k-button:visible\").toArray().concat(\n                this.toolbar.find(\".k-views-dropdown:visible\").toArray(),\n                this.toolbar.find(\".k-gantt-views > .k-selected:visible\").toArray()\n            );\n        },\n\n        _current: function(element) {\n            var ganttStyles = Gantt.styles;\n            var activeElement;\n\n            if (this.current && this.current.length) {\n                this.current\n                    .removeClass(ganttStyles.focusedCell)\n                    .removeAttr(\"id\");\n            }\n\n            if (element && element.length) {\n                this.current = element\n                    .addClass(ganttStyles.focusedCell)\n                    .attr(\"id\", ACTIVE_CELL);\n\n                activeElement = $(kendo._activeElement());\n\n                if (activeElement.is(\"table\") && this.wrapper.find(activeElement).length > 0) {\n                    activeElement\n                        .removeAttr(ARIA_DESCENDANT)\n                        .attr(ARIA_DESCENDANT, ACTIVE_CELL);\n                }\n            } else {\n                this.current = null;\n            }\n        },\n\n        _dataBind: function() {\n            var that = this;\n\n            if (that.options.autoBind) {\n                this._preventRefresh = true;\n                this._preventDependencyRefresh = true;\n\n                var promises = $.map([\n                    this.dataSource,\n                    this.dependencies,\n                    this.resources.dataSource,\n                    this.assignments.dataSource\n                ],\n                function(dataSource) {\n                    return dataSource.fetch();\n                });\n\n                $.when.apply(null, promises)\n                    .done(function() {\n                        that._preventRefresh = false;\n                        that._preventDependencyRefresh = false;\n                        that.refresh();\n                    });\n            }\n        },\n\n        _resize: function() {\n            this._adjustDimensions();\n            this.timeline.view()._adjustHeight();\n            this.timeline.view()._renderCurrentTime();\n            this.list._adjustHeight();\n        },\n\n        _createPlannedTasksSwitch: function() {\n            var that = this;\n            var switchLabel = that.options.messages.plannedTasks.switchText;\n            var toggeSwitchWrap = $(\"<span class='k-gantt-planned-wrap'><label>\" + switchLabel + \"</label></span>\");\n            var plannedToggle = new kendo.ui.Switch($(\"<input id='planned-switch' class='k-gantt-planned-switch'>\"), {\n                checked: that.options.showPlannedTasks,\n                change: that._togglePlannedTasks.bind(that),\n                messages: {\n                    checked: \"\",\n                    unchecked: \"\"\n                }\n            });\n\n            toggeSwitchWrap.append(plannedToggle.wrapper);\n\n            that.toggeSwitchWrap = toggeSwitchWrap;\n            that.toggleSwitch = plannedToggle;\n        },\n\n        _togglePlannedTasks: function(e) {\n            var timeline = this.timeline;\n\n            if (!this.trigger(\"togglePlannedTasks\", { showPlannedTasks: !timeline.options.showPlannedTasks })) {\n                this.wrapper.toggleClass(ganttStyles.plannedTasks);\n                timeline._setPlanned(!timeline.options.showPlannedTasks);\n                timeline._render(this.dataSource.taskTree());\n                timeline._renderDependencies(this.dependencies.view());\n            } else {\n                e.preventDefault();\n            }\n        }\n    });\n\n    if (kendo.PDFMixin) {\n        kendo.PDFMixin.extend(Gantt.fn);\n\n        Gantt.fn._drawPDF = function() {\n            var ganttStyles = Gantt.styles;\n            var listTableWidth = this.wrapper.find(DOT + ganttStyles.list + \" \" + DOT + ganttStyles.gridContent + \">table\").width();\n            var content = this.wrapper.clone();\n\n            content.find(DOT + ganttStyles.list).css(\"width\", listTableWidth);\n\n            return this._drawPDFShadow({\n                content: content\n            }, {\n                avoidLinks: this.options.pdf.avoidLinks\n            });\n        };\n    }\n\n    kendo.ui.plugin(Gantt);\n\n    extend(true, Gantt, { styles: ganttStyles });\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, __webpack_require__.amdD);\n\n/***/ }),\n\n/***/ 36765:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./kendo.data\");\n\n/***/ }),\n\n/***/ 53374:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./kendo.gantt.data\");\n\n/***/ }),\n\n/***/ 24049:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./kendo.gantt.editors\");\n\n/***/ }),\n\n/***/ 13094:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./kendo.gantt.list\");\n\n/***/ }),\n\n/***/ 84800:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./kendo.gantt.timeline\");\n\n/***/ }),\n\n/***/ 20648:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./kendo.pdf\");\n\n/***/ }),\n\n/***/ 87190:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./kendo.resizable\");\n\n/***/ }),\n\n/***/ 63401:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./kendo.switch\");\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/amd define */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.amdD = function () {\n/******/ \t\t\tthrow new Error('define cannot be used indirect');\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module used 'module' so it can't be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__(89901);\n/******/ \tmodule.exports = __webpack_exports__;\n/******/ \t\n/******/ })()\n;"],"mappings":"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"},"metadata":{},"sourceType":"script"}