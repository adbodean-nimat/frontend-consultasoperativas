{"ast":null,"code":"import '@progress/kendo-ui';\nimport '@progress/kendo-ui/js/messages/kendo.messages.es-AR';\nimport '@progress/kendo-ui/js/cultures/kendo.culture.es-AR';\nimport '@progress/kendo-theme-bootstrap/dist/all.css';\nimport { DataSource } from '@progress/kendo-datasource-vue-wrapper';\nimport { Grid, GridColumn } from '@progress/kendo-grid-vue-wrapper';\nimport { Button } from '@progress/kendo-buttons-vue-wrapper';\nimport { directive as fullscreen } from 'vue-fullscreen';\nexport default {\n  name: 'ListadeClientes',\n  directives: {\n    fullscreen\n  },\n  components: {\n    \"grid\": Grid,\n    \"grid-column\": GridColumn,\n    \"datasource\": DataSource\n  },\n  data: function () {\n    return {\n      fullscreen: false,\n      teleport: true,\n      pageOnly: true,\n      title: 'Lista de Clientes',\n      schemaModelFields: {\n        Fecha_alta_cliente: {\n          type: 'date'\n        },\n        Nro_cliente: {\n          type: 'number'\n        },\n        Nombre_cliente: {\n          type: 'string'\n        },\n        Cod_domic: {\n          type: 'number'\n        },\n        Fax_celular: {\n          type: 'string'\n        },\n        Verificacion: {\n          type: 'string'\n        },\n        Telefono: {\n          type: 'string'\n        },\n        Observ_domicilio: {\n          type: 'string'\n        },\n        Cobrador: {\n          type: 'string'\n        },\n        Vendedor: {\n          type: 'string'\n        },\n        Auditoria: {\n          type: 'string'\n        },\n        Nombre_Usuario: {\n          type: 'string'\n        }\n      }\n    };\n  },\n  computed: {\n    options() {\n      return {\n        callback: isFullscreen => {\n          this.fullscreen = isFullscreen;\n        },\n        target: '.directive-fullscreen-wrapper',\n        pageOnly: this.pageOnly,\n        teleport: this.teleport\n      };\n    }\n\n  },\n  methods: {\n    toolbarTemplate: function () {\n      var templateHtml = '<span id=\"form\" style=\"position:absolute; left:5px\">' + `<label for=\"fechadesde\">Fecha desde:</label>` + '<input id=\"fechadesde\" style=\"width: auto\"/>' + `<label for=\"fechahasta\" style=\"margin-left: 0.5rem; text-align: center\">hasta</label>` + '<input id=\"fechahasta\" style=\"width: auto\"/>' + '<span style=\"margin-left: 15px\">' + '<a class=\"k-pager-refresh k-link k-button play\" title=\"Ralizar consulta\" style=\"margin-right:5px\"><span class=\"k-icon k-i-play\"></span></a>' + '<a class=\"k-pager-refresh k-link k-button filter-clear\" title=\"Limpiar filtro\" style=\"margin-right:5px\"><span class=\"k-icon k-i-filter-clear\"></span></a>' + '<a class=\"k-pager-refresh k-link k-button\" title=\"Nueva consulta\" onClick=\"window.location.reload();\"><span class=\"k-icon k-i-file\"></span></a>' + '<a class=\"k-pager-refresh k-link k-button refresh\" title=\"Actualizar\" style=\"margin-left:5px\"><span class=\"k-icon k-i-reload\"></span></a>' + '</span>' + '</span>';\n      return templateHtml;\n    }\n  },\n  mounted: function () {\n    var grid = this.$refs.grid.kendoWidget();\n    var gridElement = grid.element;\n    var fechadesde = gridElement.find('#fechadesde');\n    var fechahasta = gridElement.find('#fechahasta');\n    var toolbarElement = gridElement.find('.k-grid-toolbar');\n    fechadesde.kendoDatePicker({\n      culture: \"es-AR\",\n      format: \"dd-MM-yyyy\",\n      dataValueField: \"Fecha_alta_cliente\",\n\n      /* optionLabel: \"All\", */\n      autoBind: false,\n      dataSource: ['remoteDataSource2']\n      /* change: function(e) {\r\n          var fdesde = e.sender.value(),\r\n          fhasta = fechahasta.data(\"kendoDatePicker\").value();\r\n          \r\n          if (fdesde & fhasta) {\r\n              var filter = { logic: \"and\", filters: [] };\r\n              filter.filters.push({ field: \"Fecha_alta_cliente\", operator: \"gte\", value: new Date(fdesde) });\r\n              filter.filters.push({ field: \"Fecha_alta_cliente\", operator: \"lte\", value: new Date(fhasta.getTime()+1000*60*60*24) });\r\n              grid.dataSource.filter(filter);\r\n          }\r\n      } */\n\n    });\n    fechahasta.kendoDatePicker({\n      culture: \"es-AR\",\n      format: \"dd-MM-yyyy\",\n      dataValueField: \"Fecha_alta_cliente\",\n      autoBind: false,\n      dataSource: ['remoteDataSource2']\n      /* change:function(e) {\r\n          var fdesde = fechadesde.data(\"kendoDatePicker\").value(),\r\n          fhasta = e.sender.value();\r\n            if (fdesde & fhasta) {\r\n              var filter = { logic: \"and\", filters: [] };\r\n              filter.filters.push({ field: \"Fecha_alta_cliente\", operator: \"gte\", value: new Date(fdesde) });\r\n              filter.filters.push({ field: \"Fecha_alta_cliente\", operator: \"lte\", value: new Date(fhasta.getTime()+1000*60*60*24) });\r\n              grid.dataSource.filter(filter);\r\n              grid.dataSource.sort({field: \"Fecha_alta_cliente\", dir: \"asc\"})\r\n          }\r\n      } */\n\n    });\n    toolbarElement.on(\"click\", \".refresh\", function (e) {\n      e.preventDefault();\n      grid.dataSource.read();\n    });\n    toolbarElement.on(\"click\", \".play\", function () {\n      var fdesde = fechadesde.data(\"kendoDatePicker\").value();\n      var fhasta = fechahasta.data(\"kendoDatePicker\").value();\n\n      if (fdesde && fhasta == null) {\n        grid.dataSource.filter({\n          field: \"Fecha_alta_cliente\",\n          operator: \"gte\",\n          value: new Date(fdesde)\n        });\n        /* grid.dataSource.filter({ field: \"Fecha_alta_cliente\", operator: \"lte\", value: fhasta.addDays(1) }) */\n\n        grid.dataSource.sort({\n          field: \"Fecha_alta_cliente\",\n          dir: \"desc\"\n        });\n      }\n\n      if (fdesde & fhasta) {\n        var filter = {\n          logic: \"and\",\n          filters: []\n        };\n        filter.filters.push({\n          field: \"Fecha_alta_cliente\",\n          operator: \"gte\",\n          value: new Date(fdesde)\n        });\n        filter.filters.push({\n          field: \"Fecha_alta_cliente\",\n          operator: \"lte\",\n          value: new Date(fhasta)\n        });\n        grid.dataSource.filter(filter);\n        grid.dataSource.sort({\n          field: \"Fecha_alta_cliente\",\n          dir: \"desc\"\n        });\n      }\n    });\n    toolbarElement.on(\"click\", \".filter-clear\", function (e) {\n      e.preventDefault();\n      fechahasta.data(\"kendoDatePicker\").value(null);\n      fechadesde.data(\"kendoDatePicker\").value(null);\n      grid.dataSource.sort({});\n      grid.dataSource.filter({});\n      /* grid.dataSource.read({}); */\n\n      /* grid.dataSource.refresh(); */\n\n      /* grid.dataSource.data(\"kendoGrid\").empty(null); */\n\n      /* grid.dataSource.data('kendoGrid').({}); */\n    });\n  }\n};","map":{"version":3,"mappings":"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","names":["DataSource","Grid","GridColumn","Button","directive","fullscreen","name","directives","components","data","teleport","pageOnly","title","schemaModelFields","Fecha_alta_cliente","type","Nro_cliente","Nombre_cliente","Cod_domic","Fax_celular","Verificacion","Telefono","Observ_domicilio","Cobrador","Vendedor","Auditoria","Nombre_Usuario","computed","options","callback","isFullscreen","target","methods","toolbarTemplate","templateHtml","mounted","grid","$refs","kendoWidget","gridElement","element","fechadesde","find","fechahasta","toolbarElement","kendoDatePicker","culture","format","dataValueField","autoBind","dataSource","on","e","preventDefault","read","fdesde","value","fhasta","filter","field","operator","Date","sort","dir","logic","filters","push"],"sourceRoot":"","sources":["C:\\Users\\abodean\\restapi-nodejs\\client\\app-router\\src\\views\\ListadeClientes.vue"],"sourcesContent":["<template>\r\n  <div class=\"container-fluid page-grid\">\r\n    <div class=\"encabezado-titulo\">\r\n    <div style=\"margin-left: 5px; color: white;\" class=\"icon-title\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"#fff\" class=\"bi bi-person-lines-fill\" viewBox=\"0 0 16 16\"><path d=\"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z\"/></svg>\r\n      <!-- <span style=\"margin-left: 5px; color: white;\" class=\"k-icon k-i-grid-layout\"></span> -->\r\n      <span style=\"color: white; margin-left: 5px;\">{{ title }}</span>\r\n      </div>\r\n      <div class=\"button-fullscreen\">\r\n        <div style=\"margin-right: 15px;\">\r\n        <kbutton v-fullscreen=\"options\">\r\n          <svg v-show=\"!fullscreen\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrows-fullscreen\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707zm0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707zm-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707z\"/></svg>\r\n          <svg v-show=\"fullscreen\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-fullscreen-exit\" viewBox=\"0 0 16 16\"><path d=\"M5.5 0a.5.5 0 0 1 .5.5v4A1.5 1.5 0 0 1 4.5 6h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5zm5 0a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 10 4.5v-4a.5.5 0 0 1 .5-.5zM0 10.5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 6 11.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zm10 1a1.5 1.5 0 0 1 1.5-1.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4z\"/></svg>\r\n        </kbutton>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <datasource ref=\"remoteDataSource2\"\r\n                      :transport-read-url=\"'http://192.168.0.182:8090/api/listadeclientes/'\"\r\n                      :transport-read-data-type=\"'json'\"\r\n                      :transport-read-content-type=\"'application/json'\"\r\n                      :transport-read-type=\"'GET'\"\r\n                      :transport-read-cache=\"false\"\r\n                      :schema-model-fields=\"schemaModelFields\"\r\n                      :page-size='15'\r\n                      >\r\n    </datasource>\r\n    <grid ref=\"grid\"\r\n          :height=\"'100vh'\"\r\n          :data-source-ref=\"'remoteDataSource2'\"\r\n          :sortable-mode=\"'multiple'\"\r\n          :sortable-allow-unsort=\"true\"\r\n          :sortable-show-indexes=\"true\"\r\n          :pageable-always-visible=\"false\"\r\n          :pageable-page-sizes=\"[5, 10, 20, 100]\"\r\n          :filterable=\"true\"\r\n          :filterable-extra=\"false\"\r\n          :reorderable=\"true\"\r\n          :resizable=\"true\"\r\n          :groupable=\"true\"\r\n          :column-menu=\"true\"\r\n          :auto-bind=\"false\"\r\n          :row-height=\"38\"\r\n          :toolbar=\"toolbarTemplate\"\r\n          :selectable=\"true\"\r\n          :allow-copy=\"true\"\r\n          :navigatable=\"true\"\r\n          >\r\n          <grid-column field=\"Fecha_alta_cliente\" title=\"Fecha alta cliente\" type=\"date\" format=\"{0:dd-MM-yyyy}\" :width=\"150\"></grid-column>\r\n          <grid-column field=\"Nro_cliente\" title=\"Nro cliente\" :filterable-search=\"true\" :width=\"125\"></grid-column>\r\n          <grid-column field=\"Nombre_cliente\" title=\"Nombre cliente\" :width=\"200\"></grid-column>\r\n          <grid-column field=\"Cod_domic\" title=\"Cod domic\" :width=\"100\"></grid-column>\r\n          <grid-column field=\"Fax_celular\" title=\"Fax (celular)\" :width=\"135\"></grid-column>\r\n          <grid-column field=\"Verificacion\" title=\"Verificación\" :filterable-multi=\"true\" :width=\"150\"></grid-column>\r\n          <grid-column field=\"Telefono\" title=\"Teléfono\" :width=\"135\"></grid-column>\r\n          <grid-column field=\"Observ_domicilio\" title=\"Observ domicilio\" :width=\"135\"></grid-column>\r\n          <grid-column field=\"Cobrador\" title=\"Cobrador\"></grid-column>\r\n          <grid-column field=\"Vendedor\" title=\"Vendedor\" :width=\"135\"></grid-column>\r\n          <grid-column field=\"Auditoria\" title=\"Auditoría\" :filterable-multi=\"true\" :width=\"135\"></grid-column>\r\n          <grid-column field=\"Nombre_Usuario\" title=\"Nombre Usuario\" :filterable-multi=\"true\" :width=\"200\"></grid-column>\r\n    </grid>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport '@progress/kendo-ui'\r\nimport '@progress/kendo-ui/js/messages/kendo.messages.es-AR'\r\nimport '@progress/kendo-ui/js/cultures/kendo.culture.es-AR'\r\nimport '@progress/kendo-theme-bootstrap/dist/all.css'\r\nimport { DataSource } from '@progress/kendo-datasource-vue-wrapper'\r\nimport { Grid, GridColumn } from '@progress/kendo-grid-vue-wrapper'\r\nimport { Button } from '@progress/kendo-buttons-vue-wrapper'\r\nimport { directive as fullscreen } from 'vue-fullscreen'\r\n\r\nexport default {\r\n  name: 'ListadeClientes',\r\n  directives: {\r\n    fullscreen,\r\n  },\r\n  components: {\r\n    \"grid\": Grid,\r\n    \"grid-column\": GridColumn,\r\n    \"datasource\": DataSource\r\n},\r\n  data: function () {\r\n         return {\r\n            fullscreen: false,\r\n            teleport: true,\r\n            pageOnly: true,\r\n            title: 'Lista de Clientes',\r\n            schemaModelFields: {\r\n                Fecha_alta_cliente: {type: 'date'},\r\n                Nro_cliente: {type: 'number'},\r\n                Nombre_cliente: {type: 'string'},\r\n                Cod_domic: {type: 'number'},\r\n                Fax_celular: {type: 'string'},\r\n                Verificacion: {type: 'string'},\r\n                Telefono: {type: 'string'},\r\n                Observ_domicilio: {type: 'string'},\r\n                Cobrador: {type: 'string'},\r\n                Vendedor: {type: 'string'},\r\n                Auditoria: {type: 'string'},\r\n                Nombre_Usuario: {type: 'string'}\r\n            }\r\n         }\r\n  },\r\n  computed: {\r\n    options () {\r\n      return {\r\n        callback: (isFullscreen) => {\r\n          this.fullscreen = isFullscreen\r\n        },\r\n        target: '.directive-fullscreen-wrapper',\r\n        pageOnly: this.pageOnly,\r\n        teleport: this.teleport\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n            toolbarTemplate: function() {\r\n            var templateHtml =\r\n                '<span id=\"form\" style=\"position:absolute; left:5px\">' +\r\n                    `<label for=\"fechadesde\">Fecha desde:</label>` +\r\n                    '<input id=\"fechadesde\" style=\"width: auto\"/>' +\r\n                    `<label for=\"fechahasta\" style=\"margin-left: 0.5rem; text-align: center\">hasta</label>` +\r\n                    '<input id=\"fechahasta\" style=\"width: auto\"/>' +\r\n                    '<span style=\"margin-left: 15px\">'+\r\n                    '<a class=\"k-pager-refresh k-link k-button play\" title=\"Ralizar consulta\" style=\"margin-right:5px\"><span class=\"k-icon k-i-play\"></span></a>' +\r\n                    '<a class=\"k-pager-refresh k-link k-button filter-clear\" title=\"Limpiar filtro\" style=\"margin-right:5px\"><span class=\"k-icon k-i-filter-clear\"></span></a>'+\r\n                    '<a class=\"k-pager-refresh k-link k-button\" title=\"Nueva consulta\" onClick=\"window.location.reload();\"><span class=\"k-icon k-i-file\"></span></a>' +\r\n                    '<a class=\"k-pager-refresh k-link k-button refresh\" title=\"Actualizar\" style=\"margin-left:5px\"><span class=\"k-icon k-i-reload\"></span></a>' +\r\n                    '</span>' +\r\n                '</span>';\r\n            return templateHtml;\r\n            }\r\n          },\r\n            mounted: function(){\r\n            var grid = this.$refs.grid.kendoWidget();\r\n            var gridElement = grid.element;\r\n            var fechadesde = gridElement.find('#fechadesde');\r\n            var fechahasta = gridElement.find('#fechahasta');\r\n            var toolbarElement = gridElement.find('.k-grid-toolbar');\r\n\r\n            fechadesde.kendoDatePicker({\r\n                culture: \"es-AR\",\r\n                format: \"dd-MM-yyyy\",\r\n                dataValueField: \"Fecha_alta_cliente\",\r\n                /* optionLabel: \"All\", */\r\n                autoBind: false,\r\n                dataSource: ['remoteDataSource2']\r\n                /* change: function(e) {\r\n                    var fdesde = e.sender.value(),\r\n                    fhasta = fechahasta.data(\"kendoDatePicker\").value();\r\n                    \r\n                    if (fdesde & fhasta) {\r\n                        var filter = { logic: \"and\", filters: [] };\r\n                        filter.filters.push({ field: \"Fecha_alta_cliente\", operator: \"gte\", value: new Date(fdesde) });\r\n                        filter.filters.push({ field: \"Fecha_alta_cliente\", operator: \"lte\", value: new Date(fhasta.getTime()+1000*60*60*24) });\r\n                        grid.dataSource.filter(filter);\r\n                    }\r\n                } */\r\n            });\r\n            fechahasta.kendoDatePicker({\r\n                culture: \"es-AR\", \r\n                format: \"dd-MM-yyyy\",\r\n                dataValueField: \"Fecha_alta_cliente\",\r\n                autoBind: false,\r\n                dataSource: ['remoteDataSource2']\r\n                /* change:function(e) {\r\n                    var fdesde = fechadesde.data(\"kendoDatePicker\").value(),\r\n                    fhasta = e.sender.value();\r\n\r\n                    if (fdesde & fhasta) {\r\n                        var filter = { logic: \"and\", filters: [] };\r\n                        filter.filters.push({ field: \"Fecha_alta_cliente\", operator: \"gte\", value: new Date(fdesde) });\r\n                        filter.filters.push({ field: \"Fecha_alta_cliente\", operator: \"lte\", value: new Date(fhasta.getTime()+1000*60*60*24) });\r\n                        grid.dataSource.filter(filter);\r\n                        grid.dataSource.sort({field: \"Fecha_alta_cliente\", dir: \"asc\"})\r\n                    }\r\n                } */\r\n            });\r\n            toolbarElement.on(\"click\", \".refresh\", function (e) {\r\n              e.preventDefault(); \r\n              grid.dataSource.read();\r\n            });\r\n            toolbarElement.on(\"click\", \".play\", function(){\r\n              var fdesde = fechadesde.data(\"kendoDatePicker\").value();\r\n              var fhasta = fechahasta.data(\"kendoDatePicker\").value();\r\n              if (fdesde && fhasta == null) {\r\n                        grid.dataSource.filter({ field: \"Fecha_alta_cliente\", operator: \"gte\", value: new Date(fdesde) });\r\n                        /* grid.dataSource.filter({ field: \"Fecha_alta_cliente\", operator: \"lte\", value: fhasta.addDays(1) }) */\r\n                        grid.dataSource.sort({field: \"Fecha_alta_cliente\", dir: \"desc\"});\r\n                    }\r\n              if (fdesde & fhasta) {\r\n                        var filter = { logic: \"and\", filters: [] };\r\n                        filter.filters.push({ field: \"Fecha_alta_cliente\", operator: \"gte\", value: new Date(fdesde) });\r\n                        filter.filters.push({ field: \"Fecha_alta_cliente\", operator: \"lte\", value: new Date(fhasta) });\r\n                        grid.dataSource.filter(filter);\r\n                        grid.dataSource.sort({field: \"Fecha_alta_cliente\", dir: \"desc\"});\r\n              }\r\n\r\n            });\r\n            toolbarElement.on(\"click\", \".filter-clear\", function(e){\r\n              e.preventDefault();\r\n              fechahasta.data(\"kendoDatePicker\").value(null);\r\n              fechadesde.data(\"kendoDatePicker\").value(null);\r\n              grid.dataSource.sort({});\r\n              grid.dataSource.filter({});\r\n              /* grid.dataSource.read({}); */\r\n              /* grid.dataSource.refresh(); */\r\n              /* grid.dataSource.data(\"kendoGrid\").empty(null); */\r\n              /* grid.dataSource.data('kendoGrid').({}); */\r\n            })\r\n        }\r\n      }\r\n</script>\r\n\r\n<style>\r\n.k-grid {\r\n    font-size: 12px;\r\n}\r\n.k-grid td{\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.k-grid-content{\r\n  overflow-x: scroll;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}