{"ast":null,"code":"require(\"core-js/modules/es.error.cause.js\");\n\n/******/\n(function () {\n  // webpackBootstrap\n\n  /******/\n  var __webpack_modules__ = {\n    /***/\n    4536:\n    /***/\n    function (module, exports, __webpack_require__) {\n      var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n      (function (f, define) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(87738), __webpack_require__(36394), __webpack_require__(1614), __webpack_require__(81200), __webpack_require__(55944), __webpack_require__(4199)], __WEBPACK_AMD_DEFINE_FACTORY__ = f, __WEBPACK_AMD_DEFINE_RESULT__ = typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n      })(function () {\n        \"use strict\";\n\n        var spreadsheet = kendo.spreadsheet;\n        var CellRef = spreadsheet.CellRef;\n        var kdrw = kendo.drawing;\n        var formatting = spreadsheet.formatting;\n        var geo = kendo.geometry;\n        var GUIDELINE_WIDTH = 0.8; // This takes a list of row heights and the page height, and\n        // produces a list of Y coordinates for each row, such that rows\n        // are not truncated across pages.  However, the algorithm will\n        // decide to truncate a row in the event that more than\n        // `maxEmpty` (default 0.2) of the available space would\n        // otherwise be left blank.\n        //\n        // It will be used for horizontal splitting too (will receive\n        // column widths and page width, and produce a list of X coords).\n        //\n        // If the third argument (headerRows) is not null, it specifies a\n        // number of rows to repeat on each page.  On pages other than the\n        // first, the necessary space will be skipped at the top.  Header\n        // coordinates (except for the first page) are pushed in\n        // headerCoords.\n\n        function distributeCoords(heights, pageHeight, maxEmpty, headerRows, headerCoords) {\n          var curr = 0;\n          var out = [];\n          var bottom = pageHeight;\n          var header = 0;\n\n          if (pageHeight && maxEmpty) {\n            maxEmpty *= pageHeight;\n          }\n\n          heights.forEach(function (h, i) {\n            if (headerRows != null && i < headerRows) {\n              header += h;\n            }\n\n            if (pageHeight && curr + h > bottom) {\n              if (bottom - curr < maxEmpty) {\n                // align to next page\n                curr = pageHeight * Math.ceil(curr / pageHeight) + header;\n\n                if (header > 0) {\n                  headerCoords.push(curr - header);\n                }\n              } // update bottom anyway; don't just add pageHeight, as\n              // we might need multiple pages for the pathological\n              // case of one row higher than the page.\n\n\n              bottom += pageHeight * Math.ceil(h / pageHeight);\n            }\n\n            out.push(curr);\n            curr += h;\n          });\n          out.push(curr);\n          return out;\n        }\n\n        function doLayout(sheet, range, options) {\n          // normalize reference so we don't have to deal with Infinity here.\n          var grid = sheet._grid;\n          range = grid.normalize(range);\n          var wholeRect = grid.rectangle(range);\n          var drawings = [];\n\n          sheet._drawings.forEach(function (d) {\n            var box = sheet.drawingBoundingBox(d);\n\n            if (box.intersects(wholeRect)) {\n              drawings.push({\n                drawing: d,\n                box: box.offset(-wholeRect.left, -wholeRect.top)\n              });\n            }\n          }); // 1. obtain the list of cells that need to be printed, the\n          //    row heights and column widths.  Place in each cell row,\n          //    col (relative to range, i.e. first is 0,0), rowspan,\n          //    colspan and merged.  also place a list of drawings\n          //    anchored to that cell.\n\n\n          var cells = [];\n          var rowHeights = [];\n          var colWidths = [];\n\n          var mergedCells = sheet._getMergedCells(range);\n\n          var maxRow = -1,\n              maxCol = -1;\n          sheet.forEach(range, function (row, col, cell) {\n            var relrow = row - range.topLeft.row;\n            var relcol = col - range.topLeft.col;\n            var rh = sheet.rowHeight(row);\n            var cw = sheet.columnWidth(col);\n\n            if (!options.forScreen) {\n              // for printing we'll need the list of anchored\n              // drawings so that we can adjust them after page\n              // splitting.\n              cell.drawings = drawings.filter(function (d) {\n                var tl = d.drawing.topLeftCell;\n\n                if (tl && tl.row == row && tl.col == col) {\n                  maxRow = Math.max(maxRow, sheet._rows.index(d.box.bottom));\n                  maxCol = Math.max(maxCol, sheet._columns.index(d.box.right));\n                  return true;\n                }\n              });\n            }\n\n            if (!relcol) {\n              rowHeights.push(rh);\n            }\n\n            if (!relrow) {\n              colWidths.push(cw);\n            }\n\n            var id = new CellRef(row, col).print();\n\n            if (mergedCells.secondary[id]) {\n              return;\n            }\n\n            cell.row = relrow;\n            cell.col = relcol;\n            var m = mergedCells.primary[id];\n\n            if (m) {\n              delete mergedCells.primary[id];\n              cell.merged = true;\n              cell.rowspan = m.height();\n              cell.colspan = m.width();\n\n              if (options.forScreen) {\n                cell.width = sheet._columns.sum(m.topLeft.col, m.bottomRight.col);\n                cell.height = sheet._rows.sum(m.topLeft.row, m.bottomRight.row);\n              }\n            } else {\n              cell.rowspan = 1;\n              cell.colspan = 1;\n            }\n\n            if (!sheet._grid._columns.sum(col, col + cell.colspan - 1) || !sheet._grid._rows.sum(row, row + cell.rowspan - 1)) {\n              return;\n            }\n\n            var nonEmpty = options.forScreen || shouldDrawCell(cell);\n\n            if (!(options.emptyCells || nonEmpty)) {\n              return;\n            }\n\n            if (nonEmpty) {\n              maxRow = Math.max(maxRow, relrow + cell.rowspan - 1);\n              maxCol = Math.max(maxCol, relcol + cell.colspan - 1);\n            } else {\n              cell.empty = true;\n            }\n\n            cells.push(cell);\n          });\n\n          if (!options.forScreen) {\n            // keep only the drawable area\n            rowHeights = rowHeights.slice(0, maxRow + 1);\n            colWidths = colWidths.slice(0, maxCol + 1);\n          }\n\n          var pageWidth = options.pageWidth;\n          var pageHeight = options.pageHeight;\n          var scaleFactor = options.scale || 1; // when fitWidth is requested, we must update the page size\n          // with the corresponding scale factor; the algorithm below\n          // (2) will continue to work, just drawing on a bigger page.\n\n          if (options.fitWidth) {\n            var width = colWidths.reduce(sum, 0);\n\n            if (width > pageWidth) {\n              scaleFactor = pageWidth / width;\n            }\n          }\n\n          pageWidth = Math.ceil(pageWidth / scaleFactor);\n          pageHeight = Math.ceil(pageHeight / scaleFactor); // 2. calculate top, left, bottom, right, width and height for\n          //    printable cells.  Merged cells will be split across\n          //    pages, unless the first row/col is shifted to next page.\n          //    boxWidth and boxHeight get the complete drawing size.\n          //    Note that cell coordinates keep increasing, i.e. they\n          //    are not reset to zero for a new page.  The print\n          //    function translates the view to current page.\n\n          var hyCoords = []; // will receive header Y coordinates, if needed\n\n          var yCoords = distributeCoords(rowHeights, pageHeight || 0, options.maxEmpty, options.headerRows, hyCoords);\n          var xCoords = distributeCoords(colWidths, pageWidth || 0, options.maxEmpty);\n          var boxWidth = 0;\n          var boxHeight = 0;\n          var headerCells = [];\n          cells = cells.filter(function (cell) {\n            if (cell.empty && (cell.row > maxRow || cell.col > maxCol)) {\n              return false;\n            }\n\n            if (options.headerRows && cell.row < options.headerRows) {\n              headerCells.push(cell);\n            }\n\n            cell.left = xCoords[cell.col];\n            cell.top = yCoords[cell.row];\n\n            if (cell.merged) {\n              if (!options.forScreen) {\n                cell.right = orlast(xCoords, cell.col + cell.colspan);\n                cell.bottom = orlast(yCoords, cell.row + cell.rowspan);\n                cell.width = cell.right - cell.left;\n                cell.height = cell.bottom - cell.top;\n              } else {\n                cell.right = cell.left + cell.width;\n                cell.bottom = cell.top + cell.height;\n              }\n            } else {\n              cell.width = colWidths[cell.col];\n              cell.height = rowHeights[cell.row];\n              cell.bottom = cell.top + cell.height;\n              cell.right = cell.left + cell.width;\n            }\n\n            if (!options.forScreen) {\n              // page breaking will shift cell coordinates.  adjust\n              // anchored drawings.\n              cell.drawings.forEach(function (d) {\n                var box = d.box;\n                box.left = cell.left + d.drawing.offsetX;\n                box.top = cell.top + d.drawing.offsetY;\n                box.right = box.left + box.width;\n                box.bottom = box.top + box.height;\n              });\n            }\n\n            boxWidth = Math.max(boxWidth, cell.right);\n            boxHeight = Math.max(boxHeight, cell.bottom);\n            return true;\n          }); // 3. if any merged cells remain in \"primary\", they start\n          //    outside the printed range and we should still display\n          //    them partially.\n\n          Object.keys(mergedCells.primary).forEach(function (id) {\n            var ref = mergedCells.primary[id];\n            sheet.forEach(ref.topLeft.toRangeRef(), function (row, col, cell) {\n              var relrow = row - range.topLeft.row;\n              var relcol = col - range.topLeft.col;\n              cell.merged = true;\n              cell.colspan = ref.width();\n              cell.rowspan = ref.height();\n\n              if (relrow < 0) {\n                cell.top = -sheet._rows.sum(row, row - relrow - 1);\n              } else {\n                cell.top = yCoords[relrow];\n              }\n\n              if (relcol < 0) {\n                cell.left = -sheet._columns.sum(col, col - relcol - 1);\n              } else {\n                cell.left = xCoords[relcol];\n              }\n\n              cell.height = sheet._rows.sum(ref.topLeft.row, ref.bottomRight.row);\n              cell.width = sheet._columns.sum(ref.topLeft.col, ref.bottomRight.col);\n\n              if (cell.height > 0 && cell.width > 0) {\n                // zero means a fully hidden merged cell (all rows/columns are hidden)\n                // https://github.com/telerik/kendo-ui-core/issues/1794\n                cell.right = cell.left + cell.width;\n                cell.bottom = cell.top + cell.height;\n                cell.row = relrow;\n                cell.col = relcol;\n                cells.push(cell);\n              }\n            });\n          }); // 4. replicate header rows on all pages\n\n          if (options.headerRows) {\n            hyCoords.forEach(function (y) {\n              headerCells.forEach(function (cell) {\n                cell = clone(cell);\n                cell.top += y;\n                cell.bottom = cell.top + cell.height;\n                cells.push(cell);\n              });\n              yCoords.push(y);\n            });\n            yCoords.sort(orderCoords);\n          }\n\n          return {\n            width: boxWidth,\n            height: boxHeight,\n            cells: cells.sort(orderCells),\n            scale: scaleFactor,\n            xCoords: xCoords,\n            yCoords: yCoords,\n            drawings: drawings\n          };\n        }\n\n        function clone(hash, target) {\n          if (!target) {\n            target = {};\n          }\n\n          if (Object.assign) {\n            return Object.assign(target, hash);\n          }\n\n          return Object.keys(hash).reduce(function (copy, key) {\n            copy[key] = hash[key];\n            return copy;\n          }, target);\n        }\n\n        function sameBorder(a, b) {\n          return a.size === b.size && a.color === b.color;\n        }\n\n        function sum(a, b) {\n          return a + b;\n        }\n\n        function orlast(a, i) {\n          return i < a.length ? a[i] : a[a.length - 1];\n        }\n\n        function shouldDrawCell(cell) {\n          return cell.value != null || cell.merged || cell.background != null || cell.borderRight != null || cell.borderBottom != null || cell.validation != null && !cell.validation.value || cell.drawings && cell.drawings.length;\n        }\n\n        function orderCells(a, b) {\n          if (a.top < b.top) {\n            return -1;\n          } else if (a.top == b.top) {\n            if (a.left < b.left) {\n              return -1;\n            } else if (a.left == b.left) {\n              return 0;\n            } else {\n              return 1;\n            }\n          } else {\n            return 1;\n          }\n        }\n\n        function orderCoords(a, b) {\n          return a < b ? -1 : a > b ? 1 : 0;\n        }\n\n        function drawLayout(sheet, layout, group, options) {\n          // options:\n          // - pageWidth\n          // - pageHeight\n          // - fitWidth\n          // - hCenter\n          // - vCenter\n          var ncols = Math.ceil(layout.width / options.pageWidth);\n          var nrows = Math.ceil(layout.height / options.pageHeight);\n          var pageWidth = Math.ceil(options.pageWidth / layout.scale);\n          var pageHeight = Math.ceil(options.pageHeight / layout.scale);\n\n          for (var j = 0; j < nrows; ++j) {\n            for (var i = 0; i < ncols; ++i) {\n              addPage(j, i);\n            }\n          }\n\n          function addPage(row, col) {\n            var left = col * pageWidth;\n            var right = left + pageWidth;\n            var top = row * pageHeight;\n            var bottom = top + pageHeight;\n            var endbottom = 0,\n                endright = 0;\n\n            function isInside(box) {\n              if (box.right <= left || box.left >= right || box.bottom <= top || box.top >= bottom) {\n                return false;\n              }\n\n              endbottom = Math.max(box.bottom, endbottom);\n              endright = Math.max(box.right, endright);\n              return true;\n            } // XXX: this can be optimized - discard cells that won't\n            // be used again, and don't walk cells that stand no\n            // chance to fit.\n\n\n            var cells = layout.cells.filter(isInside);\n            var drawings = layout.drawings.filter(function (d) {\n              return isInside(d.box);\n            }); // merged cells might stretch beyond page; limit to that\n\n            endbottom = Math.min(endbottom, bottom);\n            endright = Math.min(endright, right);\n\n            if (cells.length || drawings.length) {\n              var page = new kdrw.Group();\n              group.append(page); // page.clip(drawing.Path.fromRect(\n              //     new geo.Rect([ 0, 0 ],\n              //                  [ options.pageWidth, options.pageHeight ])));\n\n              var content = new kdrw.Group();\n              page.append(content);\n              content.clip(kdrw.Path.fromRect(new geo.Rect([left - 1, top - 1], [endright + 1, endbottom + 1])));\n              var matrix = geo.Matrix.scale(layout.scale, layout.scale).multiplyCopy(geo.Matrix.translate(-left, -top));\n\n              if (options.hCenter || options.vCenter) {\n                matrix = matrix.multiplyCopy(geo.Matrix.translate(options.hCenter ? (right - endright) / 2 : 0, options.vCenter ? (bottom - endbottom) / 2 : 0));\n              }\n\n              content.transform(matrix);\n\n              if (options.guidelines) {\n                var prev = null;\n                layout.xCoords.forEach(function (x) {\n                  x = Math.min(x, endright);\n\n                  if (x !== prev && x >= left && x <= right) {\n                    prev = x;\n                    content.append(new kdrw.Path().moveTo(x, top).lineTo(x, endbottom).close().stroke(options.guideColor, GUIDELINE_WIDTH));\n                  }\n                });\n                var prev = null;\n                layout.yCoords.forEach(function (y) {\n                  y = Math.min(y, endbottom);\n\n                  if (y !== prev && y >= top && y <= bottom) {\n                    prev = y;\n                    content.append(new kdrw.Path().moveTo(left, y).lineTo(endright, y).close().stroke(options.guideColor, GUIDELINE_WIDTH));\n                  }\n                });\n              }\n\n              var borders = Borders();\n              cells.forEach(function (cell) {\n                drawCell(cell, content, options);\n                borders.add(cell, sheet);\n              });\n              var bordersGroup = new kdrw.Group();\n              borders.vert.forEach(function (a) {\n                a.forEach(function (b) {\n                  if (!b.rendered) {\n                    b.rendered = true;\n                    bordersGroup.append(new kdrw.Path().moveTo(b.x, b.top).lineTo(b.x, b.bottom).close().stroke(b.color, b.size));\n                  }\n                });\n              });\n              borders.horiz.forEach(function (a) {\n                a.forEach(function (b) {\n                  if (!b.rendered) {\n                    b.rendered = true;\n                    bordersGroup.append(new kdrw.Path().moveTo(b.left, b.y).lineTo(b.right, b.y).close().stroke(b.color, b.size));\n                  }\n                });\n              });\n              content.append(bordersGroup);\n              drawings.forEach(function (d) {\n                var drawing = d.drawing;\n                var image = drawing.image;\n\n                if (image != null) {\n                  var box = d.box;\n\n                  var url = sheet._workbook.imageUrl(image);\n\n                  content.append(new kdrw.Image(url, new geo.Rect([box.left, box.top], [box.width, box.height])).opacity(drawing.opacity));\n                }\n              });\n            }\n          }\n        }\n\n        function drawCell(cell, content, options) {\n          var g = new kdrw.Group();\n          content.append(g);\n          var rect = new geo.Rect([cell.left, cell.top], [cell.width, cell.height]);\n\n          if (cell.background || cell.merged) {\n            var r2d2 = rect;\n\n            if (options.guidelines) {\n              r2d2 = rect.clone();\n              r2d2.origin.x += GUIDELINE_WIDTH / 2 + 0.1;\n              r2d2.origin.y += GUIDELINE_WIDTH / 2 + 0.1;\n              r2d2.size.width -= GUIDELINE_WIDTH + 0.2;\n              r2d2.size.height -= GUIDELINE_WIDTH + 0.2;\n            }\n\n            g.append(new kdrw.Rect(r2d2).fill(cell.background || \"#fff\").stroke(null));\n          }\n\n          var val = cell.value;\n\n          if (val != null) {\n            var type = typeof val == \"number\" ? \"number\" : null;\n            var clip = new kdrw.Group();\n            clip.clip(kdrw.Path.fromRect(rect));\n            g.append(clip);\n            var f,\n                format = cell.format;\n\n            if (!format && type == \"number\" && val != Math.floor(val)) {\n              format = \"0.##############\";\n            }\n\n            if (format) {\n              f = formatting.textAndColor(val, format);\n              val = f.text;\n\n              if (f.type) {\n                type = f.type;\n              }\n            } else {\n              val += \"\";\n            }\n\n            if (!cell.textAlign) {\n              switch (type) {\n                case \"number\":\n                case \"date\":\n                case \"percent\":\n                case \"currency\":\n                  cell.textAlign = \"right\";\n                  break;\n\n                case \"boolean\":\n                  cell.textAlign = \"center\";\n                  break;\n              }\n            }\n\n            drawText(val, f && f.color || cell.color || \"#000\", cell, clip);\n          }\n        }\n\n        function applyIndent(cell, style) {\n          if (cell.indent) {\n            // OOXML spec states the indent is \"An integer value,\n            // where an increment of 1 represents 3 spaces\".  This, of\n            // course, bears no resemblance to what Excel actually\n            // does, so we need magic numbers here.\n            var indent = 1.4 * cell.indent;\n\n            switch (style.textAlign) {\n              case null:\n              case \"left\":\n                style.paddingLeft = indent + \"ch\";\n                break;\n\n              case \"right\":\n                style.paddingRight = indent + \"ch\";\n                break;\n\n              case \"center\":\n                style.paddingLeft = indent / 2 + \"ch\";\n                style.paddingRight = indent / 2 + \"ch\";\n                break;\n            }\n          }\n        }\n\n        var CONT;\n\n        function drawText(text, color, cell, group) {\n          if (!CONT) {\n            CONT = document.createElement(\"div\");\n            CONT.style.position = \"fixed\";\n            CONT.style.left = \"0px\";\n            CONT.style.top = \"0px\";\n            CONT.style.visibility = \"hidden\";\n            CONT.style.overflow = \"hidden\";\n            CONT.style.boxSizing = \"border-box\";\n            CONT.style.lineHeight = \"normal\";\n            document.body.appendChild(CONT);\n          }\n\n          if (CONT.firstChild) {\n            CONT.removeChild(CONT.firstChild);\n          }\n\n          CONT.style.padding = \"2px 4px\";\n          CONT.style.color = color;\n          CONT.style.font = makeFontDef(cell);\n          CONT.style.width = cell.width + \"px\";\n          CONT.style.textAlign = cell.textAlign || \"left\";\n          CONT.style.textDecoration = cell.underline ? \"underline\" : \"none\";\n          applyIndent(cell, CONT.style);\n\n          if (cell.wrap) {\n            CONT.style.whiteSpace = \"pre-wrap\";\n            CONT.style.overflowWrap = CONT.style.wordWrap = \"break-word\";\n          } else {\n            CONT.style.whiteSpace = \"pre\";\n            CONT.style.overflowWrap = CONT.style.wordWrap = \"normal\";\n          }\n\n          CONT.appendChild(document.createTextNode(text));\n          var vtrans = 0;\n\n          switch (cell.verticalAlign) {\n            case \"center\":\n              vtrans = cell.height - CONT.offsetHeight >> 1;\n              break;\n\n            case undefined:\n            case null:\n            case \"bottom\":\n              vtrans = cell.height - CONT.offsetHeight;\n              break;\n          }\n\n          if (vtrans < 0) {\n            vtrans = 0;\n          }\n\n          var text_group = kendo.drawing.drawDOM.drawText(CONT);\n          text_group.transform(geo.Matrix.translate(cell.left, cell.top + vtrans));\n          group.append(text_group);\n        }\n\n        function makeFontDef(cell) {\n          var font = [];\n\n          if (cell.italic) {\n            font.push(\"italic\");\n          }\n\n          if (cell.bold) {\n            font.push(\"bold\");\n          }\n\n          font.push((cell.fontSize || 12) + \"px\");\n          font.push(cell.fontFamily || \"Arial\");\n          return font.join(\" \");\n        }\n\n        function draw(sheet, range, options, callback) {\n          if (options == null && callback == null) {\n            callback = range;\n            options = {};\n            range = spreadsheet.SHEETREF;\n          }\n\n          if (callback == null) {\n            callback = options;\n\n            if (range instanceof spreadsheet.Range || range instanceof spreadsheet.Ref || typeof range == \"string\") {\n              options = {};\n            } else {\n              options = range;\n              range = spreadsheet.SHEETREF;\n            }\n          }\n\n          options = kendo.jQuery.extend({\n            paperSize: \"A4\",\n            landscape: true,\n            margin: \"1cm\",\n            guidelines: true,\n            guideColor: \"#aaa\",\n            emptyCells: true,\n            fitWidth: false,\n            center: false,\n            headerRows: null,\n            maxEmpty: 0.2,\n            scale: 1\n          }, options);\n          var group = new kdrw.Group();\n          var paper = kendo.pdf.getPaperOptions(options);\n          group.options.set(\"pdf\", {\n            author: options.author,\n            creator: options.creator,\n            date: options.date,\n            keywords: options.keywords,\n            margin: paper.margin,\n            multiPage: true,\n            paperSize: paper.paperSize,\n            subject: options.subject,\n            title: options.title,\n            autoPrint: options.autoPrint\n          });\n          var pageWidth = paper.paperSize[0];\n          var pageHeight = paper.paperSize[1];\n\n          if (paper.margin) {\n            pageWidth -= paper.margin.left + paper.margin.right + 1;\n            pageHeight -= paper.margin.top + paper.margin.bottom + 1;\n          }\n\n          options.pageWidth = pageWidth;\n          options.pageHeight = pageHeight;\n          var layout = doLayout(sheet, sheet._ref(range), options);\n          drawLayout(sheet, layout, group, options);\n          callback(group);\n        }\n\n        spreadsheet.Sheet.prototype.draw = function (range, options, callback) {\n          var sheet = this;\n\n          if (sheet._workbook) {\n            sheet.recalc(sheet._workbook._context, function () {\n              draw(sheet, range, options, callback);\n            });\n          } else {\n            draw(sheet, range, options, callback);\n          }\n        }; // Hack: since we index the border arrays by relative row/col we\n        // could end up with negative indexes, i.e. horiz[-2] = border.\n        // Array forEach will ignore these, so we provide a simple\n        // container here (outside code only needs forEach at this time).\n\n\n        function Container() {}\n\n        Container.prototype = {\n          forEach: function (f) {\n            Object.keys(this).forEach(function (key) {\n              f(this[key], key, this);\n            }, this);\n          }\n        };\n\n        function Borders() {\n          var horiz = new Container();\n          var vert = new Container();\n\n          function add(cell, sheet) {\n            if (sheet) {\n              // reset borders here; the propertybag doesn't keep track of merged cells :-/ this\n              // is ugly, but the inner details of data storage have leaked everywhere anyway.\n              var pb = sheet._properties;\n              var grid = sheet._grid;\n              cell.borderLeft = pb.get(\"vBorders\", grid.index(cell.row, cell.col));\n              cell.borderRight = pb.get(\"vBorders\", grid.index(cell.row, cell.col + cell.colspan));\n              cell.borderTop = pb.get(\"hBorders\", grid.index(cell.row, cell.col));\n              cell.borderBottom = pb.get(\"hBorders\", grid.index(cell.row + cell.rowspan, cell.col));\n            }\n\n            if (cell.borderLeft) {\n              addVert(cell.row, cell.col, cell.borderLeft, cell.left, cell.top, cell.bottom);\n            }\n\n            if (cell.borderRight) {\n              addVert(cell.row, cell.col + cell.colspan, cell.borderRight, cell.right, cell.top, cell.bottom);\n            }\n\n            if (cell.borderTop) {\n              addHoriz(cell.row, cell.col, cell.borderTop, cell.top, cell.left, cell.right);\n            }\n\n            if (cell.borderBottom) {\n              addHoriz(cell.row + cell.rowspan, cell.col, cell.borderBottom, cell.bottom, cell.left, cell.right);\n            }\n          }\n\n          function addVert(row, col, border, x, top, bottom) {\n            var a = vert[col] || (vert[col] = new Container());\n            var prev = row > 0 && a[row - 1];\n\n            if (prev && sameBorder(prev, border)) {\n              a[row] = prev;\n              prev.bottom = bottom;\n            } else {\n              a[row] = {\n                size: border.size,\n                color: border.color,\n                x: x,\n                top: top,\n                bottom: bottom\n              };\n            }\n          }\n\n          function addHoriz(row, col, border, y, left, right) {\n            var a = horiz[row] || (horiz[row] = new Container());\n            var prev = col > 0 && a[col - 1];\n\n            if (prev && sameBorder(prev, border)) {\n              a[col] = prev;\n              prev.right = right;\n            } else {\n              a[col] = {\n                size: border.size,\n                color: border.color,\n                y: y,\n                left: left,\n                right: right\n              };\n            }\n          }\n\n          return {\n            add: add,\n            horiz: horiz,\n            vert: vert\n          };\n        }\n\n        function drawTabularData(options) {\n          var progress = new $.Deferred();\n          var promise = progress.promise();\n          options = clone(options, {\n            dataSource: null,\n            guidelines: true,\n            guideColor: \"#000\",\n            columns: null,\n            headerBackground: \"#999\",\n            headerColor: \"#000\",\n            oddBackground: null,\n            evenBackground: null,\n            fontFamily: \"Arial\",\n            fontSize: 12,\n            paperSize: \"A4\",\n            margin: \"1cm\",\n            landscape: true,\n            fitWidth: false,\n            scale: 1,\n            rowHeight: 20,\n            maxEmpty: 1,\n            useGridFormat: true\n          }); // retrieve fonts; custom fonts should be already loaded\n\n          kendo.drawing.pdf.defineFont(kendo.drawing.drawDOM.getFontFaces(document));\n          var charWidth = charWidthFunction(options.fontFamily, options.fontSize);\n\n          function textWidth(value) {\n            if (value != null) {\n              var width = 12; // magic numbers :-/\n\n              for (var i = value.length; --i >= 0;) {\n                width += charWidth(value.charAt(i));\n              }\n\n              return width;\n            }\n\n            return 0;\n          }\n\n          var border = options.guidelines ? {\n            size: 1,\n            color: options.guideColor\n          } : null;\n\n          function mkCell(data) {\n            if (!border) {\n              return data;\n            }\n\n            return clone(data, {\n              borderLeft: border,\n              borderTop: border,\n              borderRight: border,\n              borderBottom: border\n            });\n          }\n\n          options.dataSource.fetch(function () {\n            var data = options.dataSource.data();\n\n            if (!data.length) {\n              return progress.reject(\"Empty dataset\");\n            } // this really must be present\n\n\n            var columns = options.columns.map(function (col) {\n              if (typeof col == \"string\") {\n                return {\n                  title: col,\n                  field: col\n                };\n              } else {\n                return col;\n              }\n            });\n            var columnTitles = columns.map(function (col) {\n              return col.title || col.field;\n            });\n            var columnWidths = columnTitles.map(textWidth); // prepare data for a Sheet object's fromJSON method\n\n            var rows = data.map(function (row, rowIndex) {\n              return {\n                cells: columns.map(function (col, colIndex) {\n                  var value = row[col.field]; // NOTE: value might not be string.  I added option useGridFormat (default\n                  // true), which will use a column's format, if present, to convert the value\n                  // to a string, so that we can measure the width right now.\n\n                  if (options.useGridFormat) {\n                    if (value != null) {\n                      if (col.format) {\n                        value = kendo.format(col.format, value);\n                      } else {\n                        value += \"\";\n                      }\n                    } // adjust the column widths while we're at it\n\n\n                    columnWidths[colIndex] = Math.max(textWidth(value), columnWidths[colIndex]);\n                  } // if options.useGridFormat is false and col.format is present, pass it over\n                  // to the spreadsheet.  In that case we should calculate the widths after\n                  // the spreadsheet is created (XXX to be implemented when someone needs it).\n\n\n                  return mkCell({\n                    value: value,\n                    format: options.useGridFormat ? null : col.format,\n                    background: rowIndex % 2 ? options.evenBackground : options.oddBackground\n                  });\n                })\n              };\n            }); // insert header line\n\n            rows.unshift({\n              cells: columnTitles.map(function (label) {\n                return mkCell({\n                  value: label,\n                  background: options.headerBackground,\n                  color: options.headerColor\n                });\n              })\n            }); // init a Sheet object.  Note that we have to add one\n            // extra-row and column, because the very last ones can't\n            // have right/bottom borders (known limitation).\n\n            var sheet = new kendo.spreadsheet.Sheet(rows.length + 1, // rows\n            columns.length + 1, // columns\n            options.rowHeight, // row height\n            50, // column width\n            20, // header height\n            20, // header width,\n            {\n              // default cell style\n              fontFamily: options.fontFamily,\n              fontSize: options.fontSize,\n              verticalAlign: \"center\"\n            }); // load data\n\n            sheet.fromJSON({\n              name: \"Sheet1\",\n              rows: rows,\n              columns: columnWidths.map(function (w, i) {\n                return {\n                  index: i,\n                  width: w\n                };\n              })\n            });\n            sheet.draw({\n              paperSize: options.paperSize,\n              landscape: options.landscape,\n              margin: options.margin,\n              guidelines: false,\n              // using borders instead (better contrast)\n              scale: options.scale,\n              fitWidth: options.fitWidth,\n              maxEmpty: options.maxEmpty,\n              headerRows: 1\n            }, progress.resolve.bind(progress));\n          });\n          return promise;\n        }\n\n        var CACHE_CHAR_WIDTH = {};\n\n        var charWidthFunction = function (fontFamily, fontSize) {\n          var id = fontSize + \":\" + fontFamily;\n          var func = CACHE_CHAR_WIDTH[id];\n\n          if (!func) {\n            var span,\n                div = document.createElement(\"div\");\n            div.style.position = \"fixed\";\n            div.style.left = \"-10000px\";\n            div.style.top = \"-10000px\";\n            div.style.fontFamily = fontFamily;\n            div.style.fontSize = fontSize + \"px\";\n            div.style.whiteSpace = \"pre\";\n\n            for (var i = 32; i < 128; ++i) {\n              span = document.createElement(\"span\");\n              span.appendChild(document.createTextNode(String.fromCharCode(i)));\n              div.appendChild(span);\n            }\n\n            document.body.appendChild(div);\n            var widths = {};\n\n            for (i = 32, span = div.firstChild; i < 128 && span; ++i, span = span.nextSibling) {\n              widths[i] = span.offsetWidth;\n            }\n\n            while (span = div.firstChild) {\n              div.removeChild(span);\n            }\n\n            func = CACHE_CHAR_WIDTH[id] = function (ch) {\n              var code = ch.charCodeAt(0);\n              var width = widths[code];\n\n              if (width == null) {\n                // probably not an ASCII character, let's cache its width as well\n                span = document.createElement(\"span\");\n                span.appendChild(document.createTextNode(String.fromCharCode(code)));\n                div.appendChild(span);\n                width = widths[code] = span.offsetWidth;\n                div.removeChild(span);\n              }\n\n              return width;\n            };\n          }\n\n          return func;\n        };\n\n        spreadsheet.draw = {\n          Borders: Borders,\n          doLayout: doLayout,\n          applyIndent: applyIndent\n        };\n        spreadsheet.drawTabularData = drawTabularData;\n      }, __webpack_require__.amdD);\n      /***/\n\n    },\n\n    /***/\n    87738:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"../kendo.pdf\");\n      /***/\n    },\n\n    /***/\n    4199:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"../util/text-metrics\");\n      /***/\n    },\n\n    /***/\n    55944:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./numformat\");\n      /***/\n    },\n\n    /***/\n    1614:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./range\");\n      /***/\n    },\n\n    /***/\n    81200:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./references\");\n      /***/\n    },\n\n    /***/\n    36394:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./sheet\");\n      /***/\n    }\n    /******/\n\n  };\n  /************************************************************************/\n\n  /******/\n  // The module cache\n\n  /******/\n\n  var __webpack_module_cache__ = {};\n  /******/\n\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n    // Check if module is in cache\n\n    /******/\n    var cachedModule = __webpack_module_cache__[moduleId];\n    /******/\n\n    if (cachedModule !== undefined) {\n      /******/\n      return cachedModule.exports;\n      /******/\n    }\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n\n    var module = __webpack_module_cache__[moduleId] = {\n      /******/\n      // no module.id needed\n\n      /******/\n      // no module.loaded needed\n\n      /******/\n      exports: {}\n      /******/\n\n    };\n    /******/\n\n    /******/\n    // Execute the module function\n\n    /******/\n\n    __webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n    /******/\n\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n\n    return module.exports;\n    /******/\n  }\n  /******/\n\n  /************************************************************************/\n\n  /******/\n\n  /* webpack/runtime/amd define */\n\n  /******/\n\n\n  !function () {\n    /******/\n    __webpack_require__.amdD = function () {\n      /******/\n      throw new Error('define cannot be used indirect');\n      /******/\n    };\n    /******/\n\n  }();\n  /******/\n\n  /************************************************************************/\n\n  /******/\n\n  /******/\n  // startup\n\n  /******/\n  // Load entry module and return exports\n\n  /******/\n  // This entry module used 'module' so it can't be inlined\n\n  /******/\n\n  var __webpack_exports__ = __webpack_require__(4536);\n  /******/\n\n\n  module.exports = __webpack_exports__;\n  /******/\n\n  /******/\n})();","map":{"version":3,"names":["__webpack_modules__","module","exports","__webpack_require__","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","f","define","apply","undefined","spreadsheet","kendo","CellRef","kdrw","drawing","formatting","geo","geometry","GUIDELINE_WIDTH","distributeCoords","heights","pageHeight","maxEmpty","headerRows","headerCoords","curr","out","bottom","header","forEach","h","i","Math","ceil","push","doLayout","sheet","range","options","grid","_grid","normalize","wholeRect","rectangle","drawings","_drawings","d","box","drawingBoundingBox","intersects","offset","left","top","cells","rowHeights","colWidths","mergedCells","_getMergedCells","maxRow","maxCol","row","col","cell","relrow","topLeft","relcol","rh","rowHeight","cw","columnWidth","forScreen","filter","tl","topLeftCell","max","_rows","index","_columns","right","id","print","secondary","m","primary","merged","rowspan","height","colspan","width","sum","bottomRight","nonEmpty","shouldDrawCell","emptyCells","empty","slice","pageWidth","scaleFactor","scale","fitWidth","reduce","hyCoords","yCoords","xCoords","boxWidth","boxHeight","headerCells","orlast","offsetX","offsetY","Object","keys","ref","toRangeRef","y","clone","sort","orderCoords","orderCells","hash","target","assign","copy","key","sameBorder","a","b","size","color","length","value","background","borderRight","borderBottom","validation","drawLayout","layout","group","ncols","nrows","j","addPage","endbottom","endright","isInside","min","page","Group","append","content","clip","Path","fromRect","Rect","matrix","Matrix","multiplyCopy","translate","hCenter","vCenter","transform","guidelines","prev","x","moveTo","lineTo","close","stroke","guideColor","borders","Borders","drawCell","add","bordersGroup","vert","rendered","horiz","image","url","_workbook","imageUrl","Image","opacity","g","rect","r2d2","origin","fill","val","type","format","floor","textAndColor","text","textAlign","drawText","applyIndent","style","indent","paddingLeft","paddingRight","CONT","document","createElement","position","visibility","overflow","boxSizing","lineHeight","body","appendChild","firstChild","removeChild","padding","font","makeFontDef","textDecoration","underline","wrap","whiteSpace","overflowWrap","wordWrap","createTextNode","vtrans","verticalAlign","offsetHeight","text_group","drawDOM","italic","bold","fontSize","fontFamily","join","draw","callback","SHEETREF","Range","Ref","jQuery","extend","paperSize","landscape","margin","center","paper","pdf","getPaperOptions","set","author","creator","date","keywords","multiPage","subject","title","autoPrint","_ref","Sheet","prototype","recalc","_context","Container","pb","_properties","borderLeft","get","borderTop","addVert","addHoriz","border","drawTabularData","progress","$","Deferred","promise","dataSource","columns","headerBackground","headerColor","oddBackground","evenBackground","useGridFormat","defineFont","getFontFaces","charWidth","charWidthFunction","textWidth","charAt","mkCell","data","fetch","reject","map","field","columnTitles","columnWidths","rows","rowIndex","colIndex","unshift","label","fromJSON","name","w","resolve","bind","CACHE_CHAR_WIDTH","func","span","div","String","fromCharCode","widths","nextSibling","offsetWidth","ch","code","charCodeAt","amdD","require","__webpack_module_cache__","moduleId","cachedModule","Error","__webpack_exports__"],"sources":["C:/Users/abodean/restapi-nodejs/vuejs/app-router/node_modules/@progress/kendo-ui/js/spreadsheet/print.js"],"sourcesContent":["/******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 4536:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(f, define){\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(87738), __webpack_require__(36394), __webpack_require__(1614), __webpack_require__(81200), __webpack_require__(55944), __webpack_require__(4199) ], __WEBPACK_AMD_DEFINE_FACTORY__ = (f),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n})(function(){\n    \"use strict\";\n\n    var spreadsheet = kendo.spreadsheet;\n    var CellRef = spreadsheet.CellRef;\n    var kdrw = kendo.drawing;\n    var formatting = spreadsheet.formatting;\n    var geo = kendo.geometry;\n\n    var GUIDELINE_WIDTH = 0.8;\n\n\n\n\n    // This takes a list of row heights and the page height, and\n    // produces a list of Y coordinates for each row, such that rows\n    // are not truncated across pages.  However, the algorithm will\n    // decide to truncate a row in the event that more than\n    // `maxEmpty` (default 0.2) of the available space would\n    // otherwise be left blank.\n    //\n    // It will be used for horizontal splitting too (will receive\n    // column widths and page width, and produce a list of X coords).\n    //\n    // If the third argument (headerRows) is not null, it specifies a\n    // number of rows to repeat on each page.  On pages other than the\n    // first, the necessary space will be skipped at the top.  Header\n    // coordinates (except for the first page) are pushed in\n    // headerCoords.\n    function distributeCoords(heights, pageHeight, maxEmpty, headerRows, headerCoords) {\n        var curr = 0;\n        var out = [];\n        var bottom = pageHeight;\n        var header = 0;\n        if (pageHeight && maxEmpty) {\n            maxEmpty *= pageHeight;\n        }\n        heights.forEach(function(h, i){\n            if (headerRows != null && i < headerRows) {\n                header += h;\n            }\n            if (pageHeight && curr + h > bottom) {\n                if (bottom - curr < maxEmpty) {\n                    // align to next page\n                    curr = pageHeight * Math.ceil(curr / pageHeight) + header;\n                    if (header > 0) {\n                        headerCoords.push(curr - header);\n                    }\n                }\n                // update bottom anyway; don't just add pageHeight, as\n                // we might need multiple pages for the pathological\n                // case of one row higher than the page.\n                bottom += pageHeight * Math.ceil(h / pageHeight);\n            }\n            out.push(curr);\n            curr += h;\n        });\n        out.push(curr);\n        return out;\n    }\n\n    function doLayout(sheet, range, options) {\n        // normalize reference so we don't have to deal with Infinity here.\n        var grid = sheet._grid;\n        range = grid.normalize(range);\n\n        var wholeRect = grid.rectangle(range);\n        var drawings = [];\n        sheet._drawings.forEach(function(d) {\n            var box = sheet.drawingBoundingBox(d);\n            if (box.intersects(wholeRect)) {\n                drawings.push({\n                    drawing: d,\n                    box: box.offset(-wholeRect.left, -wholeRect.top)\n                });\n            }\n        });\n\n        // 1. obtain the list of cells that need to be printed, the\n        //    row heights and column widths.  Place in each cell row,\n        //    col (relative to range, i.e. first is 0,0), rowspan,\n        //    colspan and merged.  also place a list of drawings\n        //    anchored to that cell.\n        var cells = [];\n        var rowHeights = [];\n        var colWidths = [];\n        var mergedCells = sheet._getMergedCells(range);\n\n        var maxRow = -1, maxCol = -1;\n        sheet.forEach(range, function(row, col, cell){\n            var relrow = row - range.topLeft.row;\n            var relcol = col - range.topLeft.col;\n            var rh = sheet.rowHeight(row);\n            var cw = sheet.columnWidth(col);\n            if (!options.forScreen) {\n                // for printing we'll need the list of anchored\n                // drawings so that we can adjust them after page\n                // splitting.\n                cell.drawings = drawings.filter(function(d){\n                    var tl = d.drawing.topLeftCell;\n                    if (tl && tl.row == row && tl.col == col) {\n                        maxRow = Math.max(maxRow, sheet._rows.index(d.box.bottom));\n                        maxCol = Math.max(maxCol, sheet._columns.index(d.box.right));\n                        return true;\n                    }\n                });\n            }\n            if (!relcol) {\n                rowHeights.push(rh);\n            }\n            if (!relrow) {\n                colWidths.push(cw);\n            }\n            var id = new CellRef(row, col).print();\n            if (mergedCells.secondary[id]) {\n                return;\n            }\n            cell.row = relrow;\n            cell.col = relcol;\n            var m = mergedCells.primary[id];\n            if (m) {\n                delete mergedCells.primary[id];\n                cell.merged = true;\n                cell.rowspan = m.height();\n                cell.colspan = m.width();\n                if (options.forScreen) {\n                    cell.width = sheet._columns.sum(m.topLeft.col, m.bottomRight.col);\n                    cell.height = sheet._rows.sum(m.topLeft.row, m.bottomRight.row);\n                }\n            } else {\n                cell.rowspan = 1;\n                cell.colspan = 1;\n            }\n            if (!sheet._grid._columns.sum(col, col + cell.colspan - 1) ||\n                !sheet._grid._rows.sum(row, row + cell.rowspan - 1)) {\n                return;\n            }\n            var nonEmpty = options.forScreen || shouldDrawCell(cell);\n            if (!(options.emptyCells || nonEmpty)) {\n                return;\n            }\n            if (nonEmpty) {\n                maxRow = Math.max(maxRow, relrow + cell.rowspan - 1);\n                maxCol = Math.max(maxCol, relcol + cell.colspan - 1);\n            } else {\n                cell.empty = true;\n            }\n            cells.push(cell);\n        });\n\n        if (!options.forScreen) {\n            // keep only the drawable area\n            rowHeights = rowHeights.slice(0, maxRow + 1);\n            colWidths = colWidths.slice(0, maxCol + 1);\n        }\n\n        var pageWidth = options.pageWidth;\n        var pageHeight = options.pageHeight;\n        var scaleFactor = options.scale || 1;\n\n        // when fitWidth is requested, we must update the page size\n        // with the corresponding scale factor; the algorithm below\n        // (2) will continue to work, just drawing on a bigger page.\n        if (options.fitWidth) {\n            var width = colWidths.reduce(sum, 0);\n            if (width > pageWidth) {\n                scaleFactor = pageWidth / width;\n            }\n        }\n        pageWidth = Math.ceil(pageWidth / scaleFactor);\n        pageHeight = Math.ceil(pageHeight / scaleFactor);\n\n        // 2. calculate top, left, bottom, right, width and height for\n        //    printable cells.  Merged cells will be split across\n        //    pages, unless the first row/col is shifted to next page.\n        //    boxWidth and boxHeight get the complete drawing size.\n        //    Note that cell coordinates keep increasing, i.e. they\n        //    are not reset to zero for a new page.  The print\n        //    function translates the view to current page.\n        var hyCoords = []; // will receive header Y coordinates, if needed\n        var yCoords = distributeCoords(rowHeights, pageHeight || 0, options.maxEmpty,\n                                       options.headerRows, hyCoords);\n        var xCoords = distributeCoords(colWidths, pageWidth || 0, options.maxEmpty);\n        var boxWidth = 0;\n        var boxHeight = 0;\n        var headerCells = [];\n        cells = cells.filter(function(cell){\n            if (cell.empty && (cell.row > maxRow || cell.col > maxCol)) {\n                return false;\n            }\n            if (options.headerRows && cell.row < options.headerRows) {\n                headerCells.push(cell);\n            }\n            cell.left = xCoords[cell.col];\n            cell.top = yCoords[cell.row];\n            if (cell.merged) {\n                if (!options.forScreen) {\n                    cell.right = orlast(xCoords, cell.col + cell.colspan);\n                    cell.bottom = orlast(yCoords, cell.row + cell.rowspan);\n                    cell.width = cell.right - cell.left;\n                    cell.height = cell.bottom - cell.top;\n                } else {\n                    cell.right = cell.left + cell.width;\n                    cell.bottom = cell.top + cell.height;\n                }\n            } else {\n                cell.width = colWidths[cell.col];\n                cell.height = rowHeights[cell.row];\n                cell.bottom = cell.top + cell.height;\n                cell.right = cell.left + cell.width;\n            }\n            if (!options.forScreen) {\n                // page breaking will shift cell coordinates.  adjust\n                // anchored drawings.\n                cell.drawings.forEach(function(d){\n                    var box = d.box;\n                    box.left = cell.left + d.drawing.offsetX;\n                    box.top = cell.top + d.drawing.offsetY;\n                    box.right = box.left + box.width;\n                    box.bottom = box.top + box.height;\n                });\n            }\n            boxWidth = Math.max(boxWidth, cell.right);\n            boxHeight = Math.max(boxHeight, cell.bottom);\n            return true;\n        });\n\n        // 3. if any merged cells remain in \"primary\", they start\n        //    outside the printed range and we should still display\n        //    them partially.\n        Object.keys(mergedCells.primary).forEach(function(id){\n            var ref = mergedCells.primary[id];\n            sheet.forEach(ref.topLeft.toRangeRef(), function(row, col, cell){\n                var relrow = row - range.topLeft.row;\n                var relcol = col - range.topLeft.col;\n                cell.merged = true;\n                cell.colspan = ref.width();\n                cell.rowspan = ref.height();\n                if (relrow < 0) {\n                    cell.top = -sheet._rows.sum(row, row - relrow - 1);\n                } else {\n                    cell.top = yCoords[relrow];\n                }\n                if (relcol < 0) {\n                    cell.left = -sheet._columns.sum(col, col - relcol - 1);\n                } else {\n                    cell.left = xCoords[relcol];\n                }\n                cell.height = sheet._rows.sum(ref.topLeft.row, ref.bottomRight.row);\n                cell.width = sheet._columns.sum(ref.topLeft.col, ref.bottomRight.col);\n                if (cell.height > 0 && cell.width > 0) {\n                    // zero means a fully hidden merged cell (all rows/columns are hidden)\n                    // https://github.com/telerik/kendo-ui-core/issues/1794\n                    cell.right = cell.left + cell.width;\n                    cell.bottom = cell.top + cell.height;\n                    cell.row = relrow;\n                    cell.col = relcol;\n                    cells.push(cell);\n                }\n            });\n        });\n\n        // 4. replicate header rows on all pages\n        if (options.headerRows) {\n            hyCoords.forEach(function(y){\n                headerCells.forEach(function(cell){\n                    cell = clone(cell);\n                    cell.top += y;\n                    cell.bottom = cell.top + cell.height;\n                    cells.push(cell);\n                });\n                yCoords.push(y);\n            });\n            yCoords.sort(orderCoords);\n        }\n\n        return {\n            width    : boxWidth,\n            height   : boxHeight,\n            cells    : cells.sort(orderCells),\n            scale    : scaleFactor,\n            xCoords  : xCoords,\n            yCoords  : yCoords,\n            drawings : drawings\n        };\n    }\n\n    function clone(hash, target) {\n        if (!target) {\n            target = {};\n        }\n        if (Object.assign) {\n            return Object.assign(target, hash);\n        }\n        return Object.keys(hash).reduce(function(copy, key){\n            copy[key] = hash[key];\n            return copy;\n        }, target);\n    }\n\n    function sameBorder(a, b) {\n        return a.size === b.size && a.color === b.color;\n    }\n\n    function sum(a, b) {\n        return a + b;\n    }\n\n    function orlast(a, i) {\n        return i < a.length ? a[i] : a[a.length - 1];\n    }\n\n    function shouldDrawCell(cell) {\n        return cell.value != null\n            || cell.merged\n            || cell.background != null\n            || cell.borderRight != null\n            || cell.borderBottom != null\n            || (cell.validation != null && !cell.validation.value)\n            || (cell.drawings && cell.drawings.length);\n    }\n\n    function orderCells(a, b) {\n        if (a.top < b.top) {\n            return -1;\n        } else if (a.top == b.top) {\n            if (a.left < b.left) {\n                return -1;\n            } else if (a.left == b.left) {\n                return 0;\n            } else {\n                return 1;\n            }\n        } else {\n            return 1;\n        }\n    }\n\n    function orderCoords(a, b) {\n        return a < b ? -1 : a > b ? 1 : 0;\n    }\n\n    function drawLayout(sheet, layout, group, options) {\n        // options:\n        // - pageWidth\n        // - pageHeight\n        // - fitWidth\n        // - hCenter\n        // - vCenter\n        var ncols = Math.ceil(layout.width / options.pageWidth);\n        var nrows = Math.ceil(layout.height / options.pageHeight);\n        var pageWidth = Math.ceil(options.pageWidth / layout.scale);\n        var pageHeight = Math.ceil(options.pageHeight / layout.scale);\n\n        for (var j = 0; j < nrows; ++j) {\n            for (var i = 0; i < ncols; ++i) {\n                addPage(j, i);\n            }\n        }\n\n        function addPage(row, col) {\n            var left = col * pageWidth;\n            var right = left + pageWidth;\n            var top = row * pageHeight;\n            var bottom = top + pageHeight;\n            var endbottom = 0, endright = 0;\n\n            function isInside(box) {\n                if (box.right <= left || box.left >= right ||\n                    box.bottom <= top || box.top >= bottom) {\n                    return false;\n                }\n                endbottom = Math.max(box.bottom, endbottom);\n                endright = Math.max(box.right, endright);\n                return true;\n            }\n\n            // XXX: this can be optimized - discard cells that won't\n            // be used again, and don't walk cells that stand no\n            // chance to fit.\n            var cells = layout.cells.filter(isInside);\n\n            var drawings = layout.drawings.filter(function(d){\n                return isInside(d.box);\n            });\n\n            // merged cells might stretch beyond page; limit to that\n            endbottom = Math.min(endbottom, bottom);\n            endright = Math.min(endright, right);\n\n            if (cells.length || drawings.length) {\n                var page = new kdrw.Group();\n                group.append(page);\n                // page.clip(drawing.Path.fromRect(\n                //     new geo.Rect([ 0, 0 ],\n                //                  [ options.pageWidth, options.pageHeight ])));\n\n                var content = new kdrw.Group();\n                page.append(content);\n\n                content.clip(kdrw.Path.fromRect(\n                    new geo.Rect([ left - 1, top - 1 ], [ endright + 1, endbottom + 1 ])\n                ));\n\n                var matrix = geo.Matrix.scale(layout.scale, layout.scale)\n                    .multiplyCopy(geo.Matrix.translate(-left, -top));\n\n                if (options.hCenter || options.vCenter) {\n                    matrix = matrix.multiplyCopy(\n                        geo.Matrix.translate(\n                            options.hCenter ? (right - endright) / 2 : 0,\n                            options.vCenter ? (bottom - endbottom) / 2 : 0)\n                    );\n                }\n\n                content.transform(matrix);\n\n                if (options.guidelines) {\n                    var prev = null;\n                    layout.xCoords.forEach(function(x){\n                        x = Math.min(x, endright);\n                        if (x !== prev && x >= left && x <= right) {\n                            prev = x;\n                            content.append(\n                                new kdrw.Path()\n                                    .moveTo(x, top)\n                                    .lineTo(x, endbottom)\n                                    .close()\n                                    .stroke(options.guideColor, GUIDELINE_WIDTH)\n                            );\n                        }\n                    });\n                    var prev = null;\n                    layout.yCoords.forEach(function(y){\n                        y = Math.min(y, endbottom);\n                        if (y !== prev && y >= top && y <= bottom) {\n                            prev = y;\n                            content.append(\n                                new kdrw.Path()\n                                    .moveTo(left, y)\n                                    .lineTo(endright, y)\n                                    .close()\n                                    .stroke(options.guideColor, GUIDELINE_WIDTH)\n                            );\n                        }\n                    });\n                }\n\n                var borders = Borders(); \n                cells.forEach(function(cell){\n                    drawCell(cell, content, options);\n                    borders.add(cell, sheet);\n                });\n\n                var bordersGroup = new kdrw.Group();\n                borders.vert.forEach(function(a){\n                    a.forEach(function(b){\n                        if (!b.rendered) {\n                            b.rendered = true;\n                            bordersGroup.append(\n                                new kdrw.Path()\n                                    .moveTo(b.x, b.top)\n                                    .lineTo(b.x, b.bottom)\n                                    .close()\n                                    .stroke(b.color, b.size)\n                            );\n                        }\n                    });\n                });\n                borders.horiz.forEach(function(a){\n                    a.forEach(function(b){\n                        if (!b.rendered) {\n                            b.rendered = true;\n                            bordersGroup.append(\n                                new kdrw.Path()\n                                    .moveTo(b.left, b.y)\n                                    .lineTo(b.right, b.y)\n                                    .close()\n                                    .stroke(b.color, b.size)\n                            );\n                        }\n                    });\n                });\n                content.append(bordersGroup);\n\n                drawings.forEach(function(d){\n                    var drawing = d.drawing;\n                    var image = drawing.image;\n                    if (image != null) {\n                        var box = d.box;\n                        var url = sheet._workbook.imageUrl(image);\n                        content.append(\n                            new kdrw.Image(url, new geo.Rect(\n                                [ box.left, box.top ],\n                                [ box.width, box.height ]\n                            )).opacity(drawing.opacity)\n                        );\n                    }\n                });\n            }\n        }\n    }\n\n    function drawCell(cell, content, options) {\n        var g = new kdrw.Group();\n        content.append(g);\n        var rect = new geo.Rect([ cell.left, cell.top ],\n                                [ cell.width, cell.height ]);\n        if (cell.background || cell.merged) {\n            var r2d2 = rect;\n            if (options.guidelines) {\n                r2d2 = rect.clone();\n                r2d2.origin.x += GUIDELINE_WIDTH/2 + 0.1;\n                r2d2.origin.y += GUIDELINE_WIDTH/2 + 0.1;\n                r2d2.size.width -= GUIDELINE_WIDTH + 0.2;\n                r2d2.size.height -= GUIDELINE_WIDTH + 0.2;\n            }\n            g.append(\n                new kdrw.Rect(r2d2)\n                    .fill(cell.background || \"#fff\")\n                    .stroke(null)\n            );\n        }\n        var val = cell.value;\n        if (val != null) {\n            var type = typeof val == \"number\" ? \"number\" : null;\n            var clip = new kdrw.Group();\n            clip.clip(kdrw.Path.fromRect(rect));\n            g.append(clip);\n            var f, format = cell.format;\n            if (!format && type == \"number\" && val != Math.floor(val)) {\n                format = \"0.##############\";\n            }\n            if (format) {\n                f = formatting.textAndColor(val, format);\n                val = f.text;\n                if (f.type) {\n                    type = f.type;\n                }\n            } else {\n                val += \"\";\n            }\n            if (!cell.textAlign) {\n                switch (type) {\n                  case \"number\":\n                  case \"date\":\n                  case \"percent\":\n                  case \"currency\":\n                    cell.textAlign = \"right\";\n                    break;\n                  case \"boolean\":\n                    cell.textAlign = \"center\";\n                    break;\n                }\n            }\n            drawText(val, (f && f.color) || cell.color || \"#000\", cell, clip);\n        }\n    }\n\n    function applyIndent(cell, style) {\n        if (cell.indent) {\n            // OOXML spec states the indent is \"An integer value,\n            // where an increment of 1 represents 3 spaces\".  This, of\n            // course, bears no resemblance to what Excel actually\n            // does, so we need magic numbers here.\n            var indent = 1.4 * cell.indent;\n            switch (style.textAlign) {\n              case null:\n              case \"left\":\n                style.paddingLeft = indent + \"ch\";\n                break;\n              case \"right\":\n                style.paddingRight = indent + \"ch\";\n                break;\n              case \"center\":\n                style.paddingLeft = indent/2 + \"ch\";\n                style.paddingRight = indent/2 + \"ch\";\n                break;\n            }\n        }\n    }\n\n    var CONT;\n    function drawText(text, color, cell, group) {\n        if (!CONT) {\n            CONT = document.createElement(\"div\");\n            CONT.style.position = \"fixed\";\n            CONT.style.left = \"0px\";\n            CONT.style.top = \"0px\";\n            CONT.style.visibility = \"hidden\";\n            CONT.style.overflow = \"hidden\";\n            CONT.style.boxSizing = \"border-box\";\n            CONT.style.lineHeight = \"normal\";\n            document.body.appendChild(CONT);\n        }\n\n        if (CONT.firstChild) {\n            CONT.removeChild(CONT.firstChild);\n        }\n\n        CONT.style.padding = \"2px 4px\";\n        CONT.style.color = color;\n        CONT.style.font = makeFontDef(cell);\n        CONT.style.width = cell.width + \"px\";\n        CONT.style.textAlign = cell.textAlign || \"left\";\n        CONT.style.textDecoration = cell.underline ? \"underline\" : \"none\";\n\n        applyIndent(cell, CONT.style);\n\n        if (cell.wrap) {\n            CONT.style.whiteSpace = \"pre-wrap\";\n            CONT.style.overflowWrap = CONT.style.wordWrap = \"break-word\";\n        } else {\n            CONT.style.whiteSpace = \"pre\";\n            CONT.style.overflowWrap = CONT.style.wordWrap = \"normal\";\n        }\n\n        CONT.appendChild(document.createTextNode(text));\n\n        var vtrans = 0;\n        switch (cell.verticalAlign) {\n          case \"center\":\n            vtrans = (cell.height - CONT.offsetHeight) >> 1;\n            break;\n\n          case undefined:\n          case null:\n          case \"bottom\":\n            vtrans = (cell.height - CONT.offsetHeight);\n            break;\n        }\n        if (vtrans < 0) { vtrans = 0; }\n\n        var text_group  = kendo.drawing.drawDOM.drawText(CONT);\n        text_group.transform(geo.Matrix.translate(cell.left, cell.top + vtrans));\n        group.append(text_group);\n    }\n\n    function makeFontDef(cell) {\n        var font = [];\n        if (cell.italic) {\n            font.push(\"italic\");\n        }\n        if (cell.bold) {\n            font.push(\"bold\");\n        }\n        font.push((cell.fontSize || 12) + \"px\");\n        font.push((cell.fontFamily || \"Arial\"));\n        return font.join(\" \");\n    }\n\n    function draw(sheet, range, options, callback) {\n        if (options == null && callback == null) {\n            callback = range;\n            options = {};\n            range = spreadsheet.SHEETREF;\n        }\n        if (callback == null) {\n            callback = options;\n            if (range instanceof spreadsheet.Range\n                || range instanceof spreadsheet.Ref\n                || typeof range == \"string\") {\n                options = {};\n            } else {\n                options = range;\n                range = spreadsheet.SHEETREF;\n            }\n        }\n        options = kendo.jQuery.extend({\n            paperSize  : \"A4\",\n            landscape  : true,\n            margin     : \"1cm\",\n            guidelines : true,\n            guideColor : \"#aaa\",\n            emptyCells : true,\n            fitWidth   : false,\n            center     : false,\n            headerRows : null,\n            maxEmpty   : 0.2,\n            scale      : 1\n        }, options);\n        var group = new kdrw.Group();\n        var paper = kendo.pdf.getPaperOptions(options);\n        group.options.set(\"pdf\", {\n            author    : options.author,\n            creator   : options.creator,\n            date      : options.date,\n            keywords  : options.keywords,\n            margin    : paper.margin,\n            multiPage : true,\n            paperSize : paper.paperSize,\n            subject   : options.subject,\n            title     : options.title,\n            autoPrint : options.autoPrint\n        });\n        var pageWidth = paper.paperSize[0];\n        var pageHeight = paper.paperSize[1];\n        if (paper.margin) {\n            pageWidth -= paper.margin.left + paper.margin.right + 1;\n            pageHeight -= paper.margin.top + paper.margin.bottom + 1;\n        }\n        options.pageWidth = pageWidth;\n        options.pageHeight = pageHeight;\n        var layout = doLayout(sheet, sheet._ref(range), options);\n        drawLayout(sheet, layout, group, options);\n        callback(group);\n    }\n\n    spreadsheet.Sheet.prototype.draw = function(range, options, callback) {\n        var sheet = this;\n        if (sheet._workbook) {\n            sheet.recalc(sheet._workbook._context, function(){\n                draw(sheet, range, options, callback);\n            });\n        } else {\n            draw(sheet, range, options, callback);\n        }\n    };\n\n    // Hack: since we index the border arrays by relative row/col we\n    // could end up with negative indexes, i.e. horiz[-2] = border.\n    // Array forEach will ignore these, so we provide a simple\n    // container here (outside code only needs forEach at this time).\n    function Container() {}\n    Container.prototype = {\n        forEach: function(f) {\n            Object.keys(this).forEach(function(key){\n                f(this[key], key, this);\n            }, this);\n        }\n    };\n\n    function Borders() {\n        var horiz = new Container();\n        var vert = new Container();\n        function add(cell, sheet) {\n            if (sheet) {\n                // reset borders here; the propertybag doesn't keep track of merged cells :-/ this\n                // is ugly, but the inner details of data storage have leaked everywhere anyway.\n                var pb = sheet._properties;\n                var grid = sheet._grid;\n                cell.borderLeft    = pb.get(\"vBorders\", grid.index(cell.row, cell.col));\n                cell.borderRight   = pb.get(\"vBorders\", grid.index(cell.row, cell.col + cell.colspan));\n                cell.borderTop     = pb.get(\"hBorders\", grid.index(cell.row, cell.col));\n                cell.borderBottom  = pb.get(\"hBorders\", grid.index(cell.row + cell.rowspan, cell.col));\n            }\n            if (cell.borderLeft) {\n                addVert(cell.row, cell.col, cell.borderLeft,\n                        cell.left, cell.top, cell.bottom);\n            }\n            if (cell.borderRight) {\n                addVert(cell.row, cell.col + cell.colspan, cell.borderRight,\n                        cell.right, cell.top, cell.bottom);\n            }\n            if (cell.borderTop) {\n                addHoriz(cell.row, cell.col, cell.borderTop,\n                         cell.top, cell.left, cell.right);\n            }\n            if (cell.borderBottom) {\n                addHoriz(cell.row + cell.rowspan, cell.col, cell.borderBottom,\n                         cell.bottom, cell.left, cell.right);\n            }\n        }\n        function addVert(row, col, border, x, top, bottom) {\n            var a = vert[col] || (vert[col] = new Container());\n            var prev = row > 0 && a[row - 1];\n            if (prev && sameBorder(prev, border)) {\n                a[row] = prev;\n                prev.bottom = bottom;\n            } else {\n                a[row] = {\n                    size: border.size,\n                    color: border.color,\n                    x: x,\n                    top: top,\n                    bottom: bottom\n                };\n            }\n        }\n        function addHoriz(row, col, border, y, left, right) {\n            var a = horiz[row] || (horiz[row] = new Container());\n            var prev = col > 0 && a[col - 1];\n            if (prev && sameBorder(prev, border)) {\n                a[col] = prev;\n                prev.right = right;\n            } else {\n                a[col] = {\n                    size: border.size,\n                    color: border.color,\n                    y: y,\n                    left: left,\n                    right: right\n                };\n            }\n        }\n        return { add: add, horiz: horiz, vert: vert };\n    }\n\n    function drawTabularData(options) {\n        var progress = new $.Deferred();\n        var promise = progress.promise();\n\n        options = clone(options, {\n            dataSource       : null,\n            guidelines       : true,\n            guideColor       : \"#000\",\n            columns          : null,\n            headerBackground : \"#999\",\n            headerColor      : \"#000\",\n            oddBackground    : null,\n            evenBackground   : null,\n            fontFamily       : \"Arial\",\n            fontSize         : 12,\n            paperSize        : \"A4\",\n            margin           : \"1cm\",\n            landscape        : true,\n            fitWidth         : false,\n            scale            : 1,\n            rowHeight        : 20,\n            maxEmpty         : 1,\n            useGridFormat    : true\n        });\n\n        // retrieve fonts; custom fonts should be already loaded\n        kendo.drawing.pdf.defineFont(\n            kendo.drawing.drawDOM.getFontFaces(document)\n        );\n\n        var charWidth = charWidthFunction(options.fontFamily, options.fontSize);\n\n        function textWidth(value) {\n            if (value != null) {\n                var width = 12;         // magic numbers :-/\n                for (var i = value.length; --i >= 0;) {\n                    width += charWidth(value.charAt(i));\n                }\n                return width;\n            }\n            return 0;\n        }\n\n        var border = options.guidelines ? { size: 1, color: options.guideColor } : null;\n\n        function mkCell(data) {\n            if (!border) {\n                return data;\n            }\n            return clone(data, {\n                borderLeft: border,\n                borderTop: border,\n                borderRight: border,\n                borderBottom: border\n            });\n        }\n\n        options.dataSource.fetch(function(){\n            var data = options.dataSource.data();\n            if (!data.length) {\n                return progress.reject(\"Empty dataset\");\n            }\n\n            // this really must be present\n            var columns = options.columns.map(function(col){\n                if (typeof col == \"string\") {\n                    return { title: col, field: col };\n                } else {\n                    return col;\n                }\n            });\n            var columnTitles = columns.map(function(col){\n                return col.title || col.field;\n            });\n            var columnWidths = columnTitles.map(textWidth);\n\n            // prepare data for a Sheet object's fromJSON method\n            var rows = data.map(function(row, rowIndex){\n                return {\n                    cells: columns.map(function(col, colIndex){\n                        var value = row[col.field];\n\n                        // NOTE: value might not be string.  I added option useGridFormat (default\n                        // true), which will use a column's format, if present, to convert the value\n                        // to a string, so that we can measure the width right now.\n                        if (options.useGridFormat) {\n                            if (value != null) {\n                                if (col.format) {\n                                    value = kendo.format(col.format, value);\n                                } else {\n                                    value += \"\";\n                                }\n                            }\n                            // adjust the column widths while we're at it\n                            columnWidths[colIndex] = Math.max(\n                                textWidth(value),\n                                columnWidths[colIndex]\n                            );\n                        }\n\n                        // if options.useGridFormat is false and col.format is present, pass it over\n                        // to the spreadsheet.  In that case we should calculate the widths after\n                        // the spreadsheet is created (XXX to be implemented when someone needs it).\n                        return mkCell({\n                            value: value,\n                            format: options.useGridFormat ? null : col.format,\n                            background: rowIndex % 2 ? options.evenBackground : options.oddBackground\n                        });\n                    })\n                };\n            });\n\n            // insert header line\n            rows.unshift({\n                cells: columnTitles.map(function(label){\n                    return mkCell({\n                        value: label,\n                        background: options.headerBackground,\n                        color: options.headerColor\n                    });\n                })\n            });\n\n            // init a Sheet object.  Note that we have to add one\n            // extra-row and column, because the very last ones can't\n            // have right/bottom borders (known limitation).\n            var sheet = new kendo.spreadsheet.Sheet(\n                rows.length + 1,        // rows\n                columns.length + 1,     // columns\n                options.rowHeight,      // row height\n                50,                     // column width\n                20,                     // header height\n                20,                     // header width,\n                {                       // default cell style\n                    fontFamily: options.fontFamily,\n                    fontSize: options.fontSize,\n                    verticalAlign: \"center\"\n                }\n            );\n\n            // load data\n            sheet.fromJSON({\n                name: \"Sheet1\",\n                rows: rows,\n                columns: columnWidths.map(function(w, i){\n                    return { index: i, width: w };\n                })\n            });\n\n            sheet.draw({\n                paperSize  : options.paperSize,\n                landscape  : options.landscape,\n                margin     : options.margin,\n                guidelines : false, // using borders instead (better contrast)\n                scale      : options.scale,\n                fitWidth   : options.fitWidth,\n                maxEmpty   : options.maxEmpty,\n                headerRows : 1\n            }, progress.resolve.bind(progress));\n        });\n\n        return promise;\n    }\n\n    var CACHE_CHAR_WIDTH = {};\n\n    var charWidthFunction = function(fontFamily, fontSize) {\n        var id = fontSize + \":\" + fontFamily;\n        var func = CACHE_CHAR_WIDTH[id];\n        if (!func) {\n            var span, div = document.createElement(\"div\");\n            div.style.position = \"fixed\";\n            div.style.left = \"-10000px\";\n            div.style.top = \"-10000px\";\n            div.style.fontFamily = fontFamily;\n            div.style.fontSize = fontSize + \"px\";\n            div.style.whiteSpace = \"pre\";\n            for (var i = 32; i < 128; ++i) {\n                span = document.createElement(\"span\");\n                span.appendChild(document.createTextNode(String.fromCharCode(i)));\n                div.appendChild(span);\n            }\n            document.body.appendChild(div);\n            var widths = {};\n            for (i = 32, span = div.firstChild; i < 128 && span; ++i, span = span.nextSibling) {\n                widths[i] = span.offsetWidth;\n            }\n            while ((span = div.firstChild)) {\n                div.removeChild(span);\n            }\n            func = CACHE_CHAR_WIDTH[id] = function(ch) {\n                var code = ch.charCodeAt(0);\n                var width = widths[code];\n                if (width == null) {\n                    // probably not an ASCII character, let's cache its width as well\n                    span = document.createElement(\"span\");\n                    span.appendChild(document.createTextNode(String.fromCharCode(code)));\n                    div.appendChild(span);\n                    width = widths[code] = span.offsetWidth;\n                    div.removeChild(span);\n                }\n                return width;\n            };\n        }\n        return func;\n    };\n\n    spreadsheet.draw = {\n        Borders         : Borders,\n        doLayout        : doLayout,\n        applyIndent     : applyIndent\n    };\n\n    spreadsheet.drawTabularData = drawTabularData;\n\n}, __webpack_require__.amdD);\n\n\n/***/ }),\n\n/***/ 87738:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"../kendo.pdf\");\n\n/***/ }),\n\n/***/ 4199:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"../util/text-metrics\");\n\n/***/ }),\n\n/***/ 55944:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./numformat\");\n\n/***/ }),\n\n/***/ 1614:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./range\");\n\n/***/ }),\n\n/***/ 81200:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./references\");\n\n/***/ }),\n\n/***/ 36394:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./sheet\");\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/amd define */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.amdD = function () {\n/******/ \t\t\tthrow new Error('define cannot be used indirect');\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module used 'module' so it can't be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__(4536);\n/******/ \tmodule.exports = __webpack_exports__;\n/******/ \t\n/******/ })()\n;"],"mappings":"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"},"metadata":{},"sourceType":"script"}