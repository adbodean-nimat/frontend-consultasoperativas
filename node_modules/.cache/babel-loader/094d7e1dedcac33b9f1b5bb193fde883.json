{"ast":null,"code":"require(\"core-js/modules/es.error.cause.js\");\n\n/******/\n(function () {\n  // webpackBootstrap\n\n  /******/\n  var __webpack_modules__ = {\n    /***/\n    50535:\n    /***/\n    function (module, exports, __webpack_require__) {\n      var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n      (function (f, define) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(79425), __webpack_require__(36765)], __WEBPACK_AMD_DEFINE_FACTORY__ = f, __WEBPACK_AMD_DEFINE_RESULT__ = typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n      })(function () {\n        var __meta__ = {\n          id: \"menu\",\n          name: \"Menu\",\n          category: \"web\",\n          description: \"The Menu widget displays hierarchical data as a multi-level menu.\",\n          depends: [\"popup\", \"data\", \"data.odata\"]\n        };\n\n        (function ($, undefined) {\n          var kendo = window.kendo,\n              ui = kendo.ui,\n              activeElement = kendo._activeElement,\n              touch = kendo.support.touch && kendo.support.mobileOS,\n              isArray = Array.isArray,\n              HierarchicalDataSource = kendo.data.HierarchicalDataSource,\n              MOUSEDOWN = \"mousedown\",\n              CLICK = \"click\",\n              DELAY = 30,\n              SCROLLSPEED = 50,\n              extend = $.extend,\n              each = $.each,\n              template = kendo.template,\n              keys = kendo.keys,\n              Widget = ui.Widget,\n              excludedNodesRegExp = /^(ul|a|div)$/i,\n              NS = \".kendoMenu\",\n              IMG = \"img\",\n              OPEN = \"open\",\n              MENU = \"k-menu\",\n              LINK = \"k-link k-menu-link\",\n              LINK_SELECTOR = \".k-link\",\n              ICON_SELECTOR = \".k-menu-expand-arrow-icon\",\n              LAST = \"k-last\",\n              CLOSE = \"close\",\n              TIMER = \"timer\",\n              FIRST = \"k-first\",\n              IMAGE = \"k-image\",\n              SELECT = \"select\",\n              ZINDEX = \"zIndex\",\n              ACTIVATE = \"activate\",\n              DEACTIVATE = \"deactivate\",\n              POINTERDOWN = \"touchstart\" + NS + \" MSPointerDown\" + NS + \" pointerdown\" + NS,\n              pointers = kendo.support.pointers,\n              msPointers = kendo.support.msPointers,\n              allPointers = msPointers || pointers,\n              CHANGE = \"change\",\n              ERROR = \"error\",\n              TOUCHSTART = kendo.support.touch ? \"touchstart\" : \"\",\n              MOUSEENTER = pointers ? \"pointerover\" : msPointers ? \"MSPointerOver\" : \"mouseenter\",\n              MOUSELEAVE = pointers ? \"pointerout\" : msPointers ? \"MSPointerOut\" : \"mouseleave\",\n              MOUSEWHEEL = \"DOMMouseScroll\" + NS + \" mousewheel\" + NS,\n              RESIZE = kendo.support.resize + NS,\n              SCROLLWIDTH = \"scrollWidth\",\n              SCROLLHEIGHT = \"scrollHeight\",\n              OFFSETWIDTH = \"offsetWidth\",\n              OFFSETHEIGHT = \"offsetHeight\",\n              POPUP_ID_ATTR = \"group\",\n              POPUP_OPENER_ATTR = \"groupparent\",\n              DOCUMENT_ELEMENT = $(document.documentElement),\n              KENDOPOPUP = \"kendoPopup\",\n              HOVERSTATE = \"k-hover\",\n              FOCUSEDSTATE = \"k-focus\",\n              DISABLEDSTATE = \"k-disabled\",\n              SELECTEDSTATE = \"k-selected\",\n              menuSelector = \".k-menu\",\n              groupSelector = \".k-menu-group\",\n              animationContainerSelector = \".k-animation-container\",\n              popupSelector = groupSelector + \",\" + animationContainerSelector,\n              allItemsSelector = \":not(.k-list) > .k-item:not([role='treeitem'])\",\n              disabledSelector = \".k-item.k-disabled\",\n              itemSelector = \".k-item\",\n              availableItemsSelector = \".k-item:not(.k-disabled)\",\n              linkSelector = \".k-item:not(.k-disabled) > .k-link\",\n              exclusionSelector = \":not(.k-item.k-separator)\",\n              templateSelector = \"div:not(.k-animation-container,.k-list-container)\",\n              scrollButtonSelector = \".k-menu-scroll-button\",\n              touchPointerTypes = {\n            \"2\": 1,\n            \"touch\": 1\n          },\n              STRING = \"string\",\n              DATABOUND = \"dataBound\",\n              ARIA_EXPANDED = \"aria-expanded\",\n              ROLE = \"role\",\n              bindings = {\n            text: \"dataTextField\",\n            url: \"dataUrlField\",\n            spriteCssClass: \"dataSpriteCssClassField\",\n            imageUrl: \"dataImageUrlField\",\n            imageAttr: \"dataImageAttrField\",\n            content: \"dataContentField\"\n          },\n              rendering = {\n            wrapperCssClass: function (group, item) {\n              var result = \"k-item k-menu-item\",\n                  index = item.index;\n\n              if (item.enabled === false) {\n                result += \" k-disabled\";\n              }\n\n              if (group.firstLevel && index === 0) {\n                result += \" k-first\";\n              }\n\n              if (index == group.length - 1) {\n                result += \" k-last\";\n              }\n\n              if (item.cssClass) {\n                result += \" \" + item.cssClass;\n              }\n\n              if (item.attr && item.attr.hasOwnProperty(\"class\")) {\n                result += \" \" + item.attr[\"class\"];\n              }\n\n              if (item.selected) {\n                result += \" \" + SELECTEDSTATE;\n              }\n\n              return result;\n            },\n            itemCssAttributes: function (item) {\n              var result = \"\";\n              var attributes = item.attr || {};\n\n              for (var attr in attributes) {\n                if (attributes.hasOwnProperty(attr) && attr !== \"class\") {\n                  result += attr + \"=\\\"\" + attributes[attr] + \"\\\" \";\n                }\n              }\n\n              return result;\n            },\n            imageCssAttributes: function (imgAttributes) {\n              var result = \"\";\n              var attributes = imgAttributes && imgAttributes.toJSON ? imgAttributes.toJSON() : {};\n\n              if (!attributes['class']) {\n                attributes['class'] = IMAGE;\n              } else {\n                attributes['class'] += \" \" + IMAGE;\n              }\n\n              for (var attr in attributes) {\n                if (attributes.hasOwnProperty(attr)) {\n                  result += attr + \"=\\\"\" + attributes[attr] + \"\\\" \";\n                }\n              }\n\n              return result;\n            },\n            contentCssAttributes: function (item) {\n              var result = \"\";\n              var attributes = item.contentAttr || {};\n              var defaultClasses = \"k-content k-group k-menu-group k-menu-group-md\";\n\n              if (!attributes['class']) {\n                attributes['class'] = defaultClasses;\n              } else {\n                attributes['class'] += \" \" + defaultClasses;\n              }\n\n              for (var attr in attributes) {\n                if (attributes.hasOwnProperty(attr)) {\n                  result += attr + \"=\\\"\" + attributes[attr] + \"\\\" \";\n                }\n              }\n\n              return result;\n            },\n            textClass: function () {\n              return LINK;\n            },\n            arrowClass: function (item, group) {\n              var result = \"k-menu-expand-arrow-icon k-icon\";\n\n              if (group.horizontal) {\n                result += \" k-i-arrow-s\";\n              } else {\n                result += \" k-i-arrow-e\";\n              }\n\n              return result;\n            },\n            groupAttributes: function (group) {\n              return group.expanded !== true ? \" style='display:none'\" : \"\";\n            },\n            groupCssClass: function () {\n              return \"k-group k-menu-group k-menu-group-md\";\n            },\n            content: function (item) {\n              return item.content ? item.content : \"&nbsp;\";\n            }\n          };\n\n          function getEffectDirection(direction, root) {\n            direction = direction.split(\" \")[!root + 0] || direction;\n            return direction.replace(\"top\", \"up\").replace(\"bottom\", \"down\");\n          }\n\n          function parseDirection(direction, root, isRtl) {\n            direction = direction.split(\" \")[!root + 0] || direction;\n            var output = {\n              origin: [\"bottom\", isRtl ? \"right\" : \"left\"],\n              position: [\"top\", isRtl ? \"right\" : \"left\"]\n            },\n                horizontal = /left|right/.test(direction);\n\n            if (horizontal) {\n              output.origin = [\"top\", direction];\n              output.position[1] = kendo.directions[direction].reverse;\n            } else {\n              output.origin[0] = direction;\n              output.position[0] = kendo.directions[direction].reverse;\n            }\n\n            output.origin = output.origin.join(\" \");\n            output.position = output.position.join(\" \");\n            return output;\n          }\n\n          function contains(parent, child) {\n            try {\n              return $.contains(parent, child);\n            } catch (e) {\n              return false;\n            }\n          }\n\n          function updateItemClasses(item) {\n            item = $(item);\n            var omitWrap = item.attr(kendo.attr(\"omit-wrap\"));\n\n            if (omitWrap) {\n              return;\n            }\n\n            item.addClass(\"k-item k-menu-item\").children(IMG).addClass(IMAGE);\n            item.children(\"a\").addClass(LINK).children(IMG).addClass(IMAGE);\n            item.filter(\":not([disabled])\");\n            item.filter(\".k-separator\").removeClass(\"k-menu-item\").addClass(\"k-menu-separator\").empty().append(\"&nbsp;\");\n            item.filter(\"li[disabled]\").addClass(DISABLEDSTATE).prop(\"disabled\", false).attr(\"aria-disabled\", true);\n\n            if (!item.filter(\"[role]\").length) {\n              item.attr(ROLE, \"menuitem\");\n            }\n\n            if (!item.children(LINK_SELECTOR).length) {\n              item.contents() // exclude groups, real links, templates and empty text nodes\n              .filter(function () {\n                return !this.nodeName.match(excludedNodesRegExp) && !(this.nodeType === 3 && !kendo.trim(this.nodeValue));\n              }).wrapAll(\"<span class='\" + LINK + \"'></span>\").filter(function (idx, elm) {\n                return elm.nodeType === 3;\n              }).wrap(\"<span class='k-menu-link-text'></span>\");\n            }\n\n            updateArrow(item);\n            updateFirstLast(item);\n          }\n\n          function updateArrow(item) {\n            item = $(item);\n            item.find(\"> .k-link > .k-menu-expand-arrow > [class*=k-i-arrow]:not(.k-sprite)\").parent().remove();\n            item.filter(\":has(.k-menu-group)\").children(\".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))\").each(function () {\n              var item = $(this),\n                  arrowCssClass = getArrowCssClass(item);\n              item.append(\"<span class='k-menu-expand-arrow'><span class='k-menu-expand-arrow-icon k-icon \" + arrowCssClass + \"'></span></span>\");\n            });\n          }\n\n          function getArrowCssClass(item) {\n            var arrowCssClass,\n                parent = item.parent().parent(),\n                isRtl = kendo.support.isRtl(parent);\n\n            if (parent.hasClass(MENU + \"-horizontal\")) {\n              arrowCssClass = \"k-i-arrow-s\";\n            } else {\n              if (isRtl) {\n                arrowCssClass = \"k-i-arrow-w\";\n              } else {\n                arrowCssClass = \"k-i-arrow-e\";\n              }\n            }\n\n            return arrowCssClass;\n          }\n\n          function updateFirstLast(item) {\n            item = $(item);\n            item.filter(\".k-first:not(:first-child)\").removeClass(FIRST);\n            item.filter(\".k-last:not(:last-child)\").removeClass(LAST);\n            item.filter(\":first-child\").addClass(FIRST);\n            item.filter(\":last-child\").addClass(LAST);\n          }\n\n          function updateHasAriaPopup(parents) {\n            if (parents && parents.length) {\n              for (var index in parents) {\n                var parentLi = parents.eq(index);\n\n                if (parentLi.find(\"ul\").length) {\n                  parentLi.attr(\"aria-haspopup\", true);\n                } else {\n                  parentLi.removeAttr(\"aria-haspopup\");\n                }\n              }\n            }\n          }\n\n          function getParentLiItems(group) {\n            if (!group.hasClass(MENU)) {\n              return group.parentsUntil(\".\" + MENU, \"li\");\n            }\n          }\n\n          function storeItemSelectEventHandler(element, options) {\n            var selectHandler = getItemSelectEventHandler(options);\n\n            if (selectHandler) {\n              setItemData(element, selectHandler);\n            }\n\n            if (options.items) {\n              $(element).children(\"ul\").children(\"li\").each(function (i) {\n                storeItemSelectEventHandler(this, options.items[i]);\n              });\n            }\n          }\n\n          function setItemData(element, selectHandler) {\n            $(element).children(\".k-link\").data({\n              selectHandler: selectHandler\n            });\n          }\n\n          function getItemSelectEventHandler(options) {\n            var selectHandler = options.select,\n                isFunction = kendo.isFunction;\n\n            if (selectHandler && isFunction(selectHandler)) {\n              return selectHandler;\n            }\n\n            return null;\n          }\n\n          function popupOpenerSelector(id) {\n            return id ? \"li[data-groupparent='\" + id + \"']\" : \"li[data-groupparent]\";\n          }\n\n          function popupGroupSelector(id) {\n            var selector = id ? \"[data-group='\" + id + \"']\" : \"[data-group]\";\n            return \"ul\" + selector + \",div\" + selector;\n          }\n\n          function getChildPopups(currentPopup, overflowWrapper) {\n            var childPopupOpener = currentPopup.find(popupOpenerSelector());\n            var result = [];\n            childPopupOpener.each(function (i, opener) {\n              opener = $(opener);\n              var popupId = opener.data(POPUP_OPENER_ATTR);\n              var popup = currentPopup;\n\n              while (popupId) {\n                popup = overflowWrapper.find(popupGroupSelector(popupId) + \":visible\");\n\n                if (popup.length) {\n                  result.push(popup);\n                }\n\n                opener = popup.find(popupOpenerSelector());\n                popupId = opener.data(POPUP_OPENER_ATTR);\n              }\n            });\n            return result;\n          }\n\n          function popupParentItem(popupElement, overflowWrapper) {\n            var popupId = popupElement.data(POPUP_ID_ATTR);\n            return popupId ? overflowWrapper.find(popupOpenerSelector(popupId)) : $([]);\n          }\n\n          function itemPopup(item, overflowWrapper) {\n            var popupId = item.data(POPUP_OPENER_ATTR);\n            return popupId ? overflowWrapper.children(animationContainerSelector).children(popupGroupSelector(popupId)) : $([]);\n          }\n\n          function overflowMenuParents(current, overflowWrapper) {\n            var parents = [];\n\n            var getParents = function (item) {\n              while (item.parentNode && !overflowWrapper.is(item.parentNode)) {\n                parents.push(item.parentNode);\n                item = item.parentNode;\n              }\n            };\n\n            var elem = current[0] || current;\n            getParents(elem);\n            var last = parents[parents.length - 1];\n\n            while ($(last).is(animationContainerSelector)) {\n              var popupElement = $(last).children(\"ul\");\n              elem = popupParentItem(popupElement, overflowWrapper)[0];\n\n              if (!elem) {\n                break;\n              }\n\n              parents.push(elem);\n              getParents(elem);\n              last = parents[parents.length - 1];\n            }\n\n            return parents;\n          }\n\n          function mousewheelDelta(e) {\n            var delta = 0;\n\n            if (e.wheelDelta) {\n              delta = -e.wheelDelta / 120;\n              delta = delta > 0 ? Math.ceil(delta) : Math.floor(delta);\n            }\n\n            if (e.detail) {\n              delta = Math.round(e.detail / 3);\n            }\n\n            return delta;\n          }\n\n          function parentsScroll(current, scrollDirection) {\n            var scroll = 0;\n            var parent = current.parentNode;\n\n            while (parent && !isNaN(parent[scrollDirection])) {\n              scroll += parent[scrollDirection];\n              parent = parent.parentNode;\n            }\n\n            return scroll;\n          }\n\n          function isPointerTouch(e) {\n            return allPointers && e.originalEvent && e.originalEvent.pointerType in touchPointerTypes;\n          }\n\n          function isTouch(e) {\n            var ev = e.originalEvent;\n            return touch && /touch/i.test(ev.type || \"\");\n          }\n\n          function removeSpacesBetweenItems(ul) {\n            ul.contents().filter(function () {\n              return this.nodeName != \"LI\";\n            }).remove();\n          }\n\n          var Menu = kendo.ui.DataBoundWidget.extend({\n            init: function (element, options) {\n              var that = this;\n              Widget.fn.init.call(that, element, options);\n              element = that.wrapper = that.element;\n              options = that.options;\n\n              that._accessors();\n\n              that._templates();\n\n              that._dataSource();\n\n              that._updateClasses();\n\n              that._animations(options);\n\n              that.nextItemZIndex = 100;\n\n              that._tabindex();\n\n              that._initOverflow(options);\n\n              that._attachMenuEventsHandlers();\n\n              if (options.openOnClick) {\n                that.clicked = false;\n              }\n\n              element.attr(ROLE, \"menubar\");\n\n              if (element[0].id) {\n                that._ariaId = kendo.format(\"{0}_mn_active\", element[0].id);\n              }\n\n              kendo.notify(that);\n            },\n            events: [OPEN, CLOSE, ACTIVATE, DEACTIVATE, SELECT, DATABOUND],\n            options: {\n              name: \"Menu\",\n              animation: {\n                open: {\n                  duration: 200\n                },\n                close: {\n                  // if close animation effects are defined, they will be used instead of open.reverse\n                  duration: 100\n                }\n              },\n              orientation: \"horizontal\",\n              direction: \"default\",\n              openOnClick: false,\n              closeOnClick: true,\n              hoverDelay: 100,\n              scrollable: false,\n              popupCollision: undefined\n            },\n            _initData: function () {\n              var that = this;\n\n              if (that.dataSource) {\n                that.angular(\"cleanup\", function () {\n                  return {\n                    elements: that.element.children()\n                  };\n                });\n                that.element.empty();\n                that.append(that.dataSource.view(), that.element);\n                that.angular(\"compile\", function () {\n                  return {\n                    elements: that.element.children()\n                  };\n                });\n              }\n            },\n            _attachMenuEventsHandlers: function () {\n              var that = this;\n              var element = that.element;\n              var options = that.options;\n\n              var overflowWrapper = that._overflowWrapper();\n\n              that._checkActiveProxy = that._checkActiveElement.bind(that);\n              (overflowWrapper || element).on(POINTERDOWN, itemSelector, that._focusHandler.bind(that)).on(CLICK + NS, disabledSelector, false).on(CLICK + NS, itemSelector, that._click.bind(that)).on(POINTERDOWN + \" \" + MOUSEDOWN + NS, \".k-content\", that._preventClose.bind(that)).on(MOUSEENTER + NS, availableItemsSelector, that._mouseenter.bind(that)).on(MOUSELEAVE + NS, availableItemsSelector, that._mouseleave.bind(that)).on(MOUSEDOWN + NS, availableItemsSelector, that._mousedown.bind(that)).on(TOUCHSTART + NS + \" \" + MOUSEENTER + NS + \" \" + MOUSELEAVE + NS + \" \" + MOUSEDOWN + NS + \" \" + CLICK + NS, linkSelector, that._toggleHover.bind(that));\n              element.on(\"keydown\" + NS, that._keydown.bind(that)).on(\"focus\" + NS, that._focus.bind(that)).on(\"focus\" + NS, \".k-content\", that._focus.bind(that)).on(\"blur\" + NS, that._removeHoverItem.bind(that)).on(\"blur\" + NS, \"[tabindex]\", that._checkActiveProxy);\n\n              if (overflowWrapper) {\n                overflowWrapper.on(MOUSELEAVE + NS, popupSelector, that._mouseleavePopup.bind(that)).on(MOUSEENTER + NS, popupSelector, that._mouseenterPopup.bind(that));\n              }\n\n              if (options.openOnClick) {\n                that._documentClickHandler = that._documentClick.bind(that);\n                $(document).on(\"click\", that._documentClickHandler);\n              }\n            },\n            _detachMenuEventsHandlers: function () {\n              var that = this;\n\n              var overflowWrapper = that._overflowWrapper();\n\n              if (overflowWrapper) {\n                overflowWrapper.off(NS);\n              }\n\n              that.element.off(NS);\n\n              if (that._documentClickHandler) {\n                $(document).off(\"click\", that._documentClickHandler);\n              }\n            },\n            _initOverflow: function (options) {\n              var that = this;\n              var isHorizontal = options.orientation == \"horizontal\";\n              var backwardBtn, forwardBtn;\n\n              if (options.scrollable) {\n                that._openedPopups = {};\n                that._scrollWrapper = that.element.wrap(\"<div class='k-menu-scroll-wrapper k-\" + options.orientation + \"'></div>\").parent();\n\n                if (isHorizontal) {\n                  removeSpacesBetweenItems(that.element);\n                }\n\n                backwardBtn = $(that.templates.scrollButton({\n                  direction: isHorizontal ? \"left\" : \"up\"\n                }));\n                forwardBtn = $(that.templates.scrollButton({\n                  direction: isHorizontal ? \"right\" : \"down\"\n                }));\n                backwardBtn.add(forwardBtn).appendTo(that._scrollWrapper);\n\n                that._initScrolling(that.element, backwardBtn, forwardBtn, isHorizontal);\n\n                var initialWidth = that.element.outerWidth();\n                var initialCssWidth = that.element[0].style.width;\n                initialCssWidth = initialCssWidth === \"auto\" ? \"\" : initialCssWidth;\n\n                if (isHorizontal) {\n                  $(window).on(RESIZE, function () {\n                    setTimeout(function () {\n                      that._setOverflowWrapperWidth(initialWidth, initialCssWidth);\n\n                      that._toggleScrollButtons(that.element, backwardBtn, forwardBtn, isHorizontal);\n                    }, 300);\n                  });\n                }\n\n                that._setOverflowWrapperWidth(initialWidth, initialCssWidth);\n\n                that._toggleScrollButtons(that.element, backwardBtn, forwardBtn, isHorizontal);\n              }\n            },\n            _overflowWrapper: function () {\n              return this._scrollWrapper || this._popupsWrapper;\n            },\n            _setOverflowWrapperWidth: function (initialWidth, initialCssWidth) {\n              var that = this;\n\n              var wrapperCssWidth = that._scrollWrapper.css(\"width\");\n\n              that._scrollWrapper.css({\n                width: \"\"\n              });\n\n              var wrapperWidth = that._scrollWrapper.outerWidth();\n\n              that._scrollWrapper.css({\n                width: wrapperCssWidth\n              });\n\n              var menuWidth = that.element.outerWidth();\n              var borders = that.element[0].offsetWidth - that.element[0].clientWidth;\n\n              if (menuWidth != wrapperWidth && wrapperWidth > 0) {\n                var width = initialCssWidth ? Math.min(initialWidth, wrapperWidth) : wrapperWidth;\n                that.element.width(width - borders);\n\n                that._scrollWrapper.width(width);\n              }\n            },\n            _reinitOverflow: function (options) {\n              var that = this;\n              var overflowChanged = options.scrollable && !that.options.scrollable || !options.scrollable && that.options.scrollable || options.scrollable && that.options.scrollable && options.scrollable.distance != that.options.scrollable.distance || options.orientation != that.options.orientation;\n\n              if (overflowChanged) {\n                that._detachMenuEventsHandlers();\n\n                that._destroyOverflow();\n\n                that._initOverflow(options);\n\n                that._attachMenuEventsHandlers();\n              }\n            },\n            _destroyOverflow: function () {\n              var that = this;\n\n              var overflowWrapper = that._overflowWrapper();\n\n              if (overflowWrapper) {\n                overflowWrapper.off(NS);\n                overflowWrapper.find(scrollButtonSelector).off(NS).remove();\n                overflowWrapper.children(animationContainerSelector).each(function (i, popupWrapper) {\n                  var ul = $(popupWrapper).children(groupSelector);\n                  ul.off(MOUSEWHEEL);\n                  var popupParentLi = popupParentItem(ul, overflowWrapper);\n\n                  if (popupParentLi.length) {\n                    popupParentLi.append(popupWrapper);\n                  }\n                });\n                overflowWrapper.find(popupOpenerSelector()).removeAttr(\"data-groupparent\");\n                overflowWrapper.find(popupGroupSelector()).removeAttr(\"data-group\");\n                that.element.off(MOUSEWHEEL);\n                $(window).off(RESIZE);\n                overflowWrapper.contents().unwrap();\n                that._scrollWrapper = that._popupsWrapper = that._openedPopups = undefined;\n              }\n            },\n            _initScrolling: function (scrollElement, backwardBtn, forwardBtn, isHorizontal) {\n              var that = this;\n              var scrollable = that.options.scrollable;\n              var distance = that.isNumeric(scrollable.distance) ? scrollable.distance : SCROLLSPEED;\n              var mouseWheelDistance = distance / 2;\n              var backward = \"-=\" + distance;\n              var forward = \"+=\" + distance;\n              var backwardDouble = \"-=\" + distance * 2;\n              var forwardDouble = \"+=\" + distance * 2;\n              var scrolling = false;\n              var touchEvents = false;\n\n              var scroll = function (value) {\n                var scrollValue = isHorizontal ? {\n                  \"scrollLeft\": value\n                } : {\n                  \"scrollTop\": value\n                };\n                scrollElement.finish().animate(scrollValue, \"fast\", \"linear\", function () {\n                  if (scrolling) {\n                    scroll(value);\n                  }\n                });\n\n                that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n              };\n\n              var mouseenterHandler = function (e) {\n                if (!scrolling && !touchEvents) {\n                  scroll(e.data.direction);\n                  scrolling = true;\n                }\n              };\n\n              var mousedownHandler = function (e) {\n                var scrollValue = isHorizontal ? {\n                  \"scrollLeft\": e.data.direction\n                } : {\n                  \"scrollTop\": e.data.direction\n                };\n                touchEvents = isTouch(e) || isPointerTouch(e);\n                scrollElement.stop().animate(scrollValue, \"fast\", \"linear\", function () {\n                  if (!touchEvents) {\n                    $(e.currentTarget).trigger(MOUSEENTER);\n                  } else {\n                    that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n\n                    scrolling = true;\n                  }\n                });\n                scrolling = false;\n                e.stopPropagation();\n                e.preventDefault();\n              };\n\n              backwardBtn.on(MOUSEENTER + NS, {\n                direction: backward\n              }, mouseenterHandler).on(kendo.eventMap.down + NS, {\n                direction: backwardDouble\n              }, mousedownHandler);\n              forwardBtn.on(MOUSEENTER + NS, {\n                direction: forward\n              }, mouseenterHandler).on(kendo.eventMap.down + NS, {\n                direction: forwardDouble\n              }, mousedownHandler);\n              backwardBtn.add(forwardBtn).on(MOUSELEAVE + NS, function () {\n                scrollElement.stop();\n                scrolling = false;\n\n                that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n              });\n              scrollElement.on(MOUSEWHEEL, function (e) {\n                if (!e.ctrlKey && !e.shiftKey && !e.altKey) {\n                  var wheelDelta = mousewheelDelta(e.originalEvent);\n                  var scrollSpeed = Math.abs(wheelDelta) * mouseWheelDistance;\n                  var value = (wheelDelta > 0 ? \"+=\" : \"-=\") + scrollSpeed;\n                  var scrollValue = isHorizontal ? {\n                    \"scrollLeft\": value\n                  } : {\n                    \"scrollTop\": value\n                  };\n\n                  that._closeChildPopups(scrollElement);\n\n                  scrollElement.finish().animate(scrollValue, \"fast\", \"linear\", function () {\n                    that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n                  });\n                  e.preventDefault();\n                }\n              });\n            },\n            isNumeric: function (n) {\n              return !isNaN(parseFloat(n)) && isFinite(n);\n            },\n            _toggleScrollButtons: function (scrollElement, backwardBtn, forwardBtn, horizontal) {\n              var currentScroll = horizontal ? kendo.scrollLeft(scrollElement) : scrollElement.scrollTop();\n              var scrollSize = horizontal ? SCROLLWIDTH : SCROLLHEIGHT;\n              var offset = horizontal ? OFFSETWIDTH : OFFSETHEIGHT;\n              backwardBtn.toggle(currentScroll !== 0);\n              forwardBtn.toggle(currentScroll < scrollElement[0][scrollSize] - scrollElement[0][offset] - 1);\n            },\n            setOptions: function (options) {\n              var animation = this.options.animation;\n\n              this._animations(options);\n\n              options.animation = extend(true, animation, options.animation);\n\n              if (\"dataSource\" in options) {\n                this._dataSource(options);\n              }\n\n              this._updateClasses();\n\n              this._reinitOverflow(options);\n\n              Widget.fn.setOptions.call(this, options);\n            },\n            destroy: function () {\n              var that = this;\n              Widget.fn.destroy.call(that);\n\n              that._detachMenuEventsHandlers();\n\n              that._destroyOverflow();\n\n              kendo.destroy(that.element);\n            },\n            enable: function (element, enable) {\n              this._toggleDisabled(element, enable !== false);\n\n              return this;\n            },\n            disable: function (element) {\n              this._toggleDisabled(element, false);\n\n              return this;\n            },\n            attemptGetItem: function (candidate) {\n              candidate = candidate || this.element;\n              var item = this.element.find(candidate);\n\n              var overflowWrapper = this._overflowWrapper();\n\n              if (item.length || candidate === this.element) {\n                return item;\n              } else if (overflowWrapper) {\n                return overflowWrapper.find(candidate);\n              } else {\n                return $();\n              }\n            },\n            append: function (item, referenceItem) {\n              referenceItem = this.attemptGetItem(referenceItem);\n\n              var inserted = this._insert(item, referenceItem, referenceItem.length ? this._childPopupElement(referenceItem) : null);\n\n              each(inserted.items, function (i) {\n                inserted.group.append(this);\n                updateArrow(this);\n                storeItemSelectEventHandler(this, item[i] || item);\n              });\n              updateArrow(referenceItem);\n              updateFirstLast(inserted.group.find(\".k-first, .k-last\").add(inserted.items));\n              updateHasAriaPopup(getParentLiItems(inserted.group));\n              return this;\n            },\n            insertBefore: function (item, referenceItem) {\n              referenceItem = this.attemptGetItem(referenceItem);\n\n              var inserted = this._insert(item, referenceItem, referenceItem.parent());\n\n              each(inserted.items, function (i) {\n                referenceItem.before(this);\n                updateArrow(this);\n                updateFirstLast(this);\n                storeItemSelectEventHandler(this, item[i] || item);\n              });\n              updateFirstLast(referenceItem);\n              return this;\n            },\n            insertAfter: function (item, referenceItem) {\n              referenceItem = this.attemptGetItem(referenceItem);\n\n              var inserted = this._insert(item, referenceItem, referenceItem.parent());\n\n              each(inserted.items, function (i) {\n                referenceItem.after(this);\n                updateArrow(this);\n                updateFirstLast(this);\n                storeItemSelectEventHandler(this, item[i] || item);\n              });\n              updateFirstLast(referenceItem);\n              return this;\n            },\n            _insert: function (item, referenceItem, parent) {\n              var that = this,\n                  items,\n                  groups;\n\n              if (!referenceItem || !referenceItem.length) {\n                parent = that.element;\n              }\n\n              var plain = $.isPlainObject(item) || item instanceof kendo.data.ObservableObject,\n                  groupData = {\n                firstLevel: parent.hasClass(MENU),\n                horizontal: parent.hasClass(MENU + \"-horizontal\"),\n                expanded: true,\n                length: parent.children().length\n              };\n\n              if (referenceItem && !parent.length) {\n                parent = $(that.renderGroup({\n                  group: groupData,\n                  options: that.options\n                })).appendTo(referenceItem);\n              }\n\n              if (plain || isArray(item) || item instanceof kendo.data.ObservableArray) {\n                // is JSON\n                items = $($.map(plain ? [item] : item, function (value, idx) {\n                  if (typeof value === \"string\") {\n                    return $(value).get();\n                  } else {\n                    return $(that.renderItem({\n                      group: groupData,\n                      item: extend(value, {\n                        index: idx\n                      })\n                    })).get();\n                  }\n                }));\n              } else {\n                if (typeof item == \"string\" && item.charAt(0) != \"<\") {\n                  items = that.element.find(item);\n                } else {\n                  items = $(item);\n                }\n\n                groups = items.find(\"> ul\").addClass(\"k-menu-group k-menu-group-md\").attr(ROLE, \"menu\");\n                items = items.filter(\"li\");\n                items.add(groups.find(\"> li\")).each(function () {\n                  updateItemClasses(this);\n                });\n              }\n\n              return {\n                items: items,\n                group: parent\n              };\n            },\n            remove: function (element) {\n              element = this.attemptGetItem(element);\n              var that = this,\n                  parent = element.parentsUntil(that.element, allItemsSelector),\n                  group = element.parent(\"ul:not(.k-menu)\");\n              element.remove();\n\n              if (group && !group.children(allItemsSelector).length) {\n                var parentItems = getParentLiItems(group);\n                var container = group.parent(animationContainerSelector);\n\n                if (container.length) {\n                  container.remove();\n                } else {\n                  group.remove();\n                }\n\n                updateHasAriaPopup(parentItems);\n              }\n\n              if (parent.length) {\n                parent = parent.eq(0);\n                updateArrow(parent);\n                updateFirstLast(parent);\n              }\n\n              return that;\n            },\n            _openAfterLoad: function (element, dataItem) {\n              var that = this;\n\n              if (dataItem.loaded()) {\n                that.open(element);\n                that._loading = false;\n              } else {\n                dataItem.one(CHANGE, function () {\n                  element.find(ICON_SELECTOR).removeClass(\"k-i-loading\");\n\n                  if (that._loading) {\n                    that.open(element);\n                    that._loading = false;\n                  }\n                });\n              }\n            },\n            open: function (element) {\n              var that = this;\n              var options = that.options;\n              var horizontal = options.orientation == \"horizontal\";\n              var direction = options.direction;\n              var isRtl = kendo.support.isRtl(that.wrapper);\n\n              var overflowWrapper = that._overflowWrapper();\n\n              element = (overflowWrapper || that.element).find(element);\n              var dataItem = that.dataSource && that.dataSource.getByUid(element.data(kendo.ns + \"uid\"));\n\n              if (dataItem && dataItem.hasChildren && !dataItem.loaded() && !that._loading) {\n                that._loading = true;\n                element.find(ICON_SELECTOR).addClass(\"k-i-loading\");\n                dataItem.load();\n\n                that._openAfterLoad(element, dataItem);\n\n                return;\n              }\n\n              if (/^(top|bottom|default)$/.test(direction)) {\n                if (isRtl) {\n                  direction = horizontal ? (direction + \" left\").replace(\"default\", \"bottom\") : \"left\";\n                } else {\n                  direction = horizontal ? (direction + \" right\").replace(\"default\", \"bottom\") : \"right\";\n                }\n              }\n\n              var visiblePopups = \">.k-popup:visible,>.k-animation-container>.k-popup:visible\";\n\n              var closePopup = function () {\n                var popup = $(this).data(KENDOPOPUP);\n\n                if (popup) {\n                  // Use the built-in close method to play the hoverDelay from the options\n                  that.close($(this).closest(\"li.k-item\"), true);\n                }\n              };\n\n              element.siblings().find(visiblePopups).each(closePopup);\n\n              if (overflowWrapper) {\n                element.find(visiblePopups).each(closePopup);\n              }\n\n              if (that.options.openOnClick) {\n                that.clicked = true;\n              }\n\n              element.each(function () {\n                var li = $(this);\n                clearTimeout(li.data(TIMER));\n                li.data(TIMER, setTimeout(function () {\n                  var ul = li.find(\"> .k-menu-group, > .k-animation-container > .k-menu-group\").filter(\":hidden\").first();\n                  var popup;\n                  var overflowPopup;\n\n                  if (!ul[0] && overflowWrapper) {\n                    overflowPopup = that._getPopup(li);\n                    ul = overflowPopup && overflowPopup.element;\n                  }\n\n                  if (ul.is(\":visible\")) {\n                    return;\n                  }\n\n                  if (ul[0] && that._triggerEvent({\n                    item: li[0],\n                    type: OPEN\n                  }) === false) {\n                    if (!ul.find(\".k-menu-group\")[0] && ul.children(\".k-item\").length > 1) {\n                      var windowHeight = $(window).height(),\n                          setScrolling = function () {\n                        ul.css({\n                          maxHeight: windowHeight - (kendo._outerHeight(ul) - ul.height()) - kendo.getShadows(ul).bottom,\n                          overflow: \"auto\"\n                        });\n                      };\n\n                      setScrolling();\n                    } else {\n                      ul.css({\n                        maxHeight: \"\",\n                        overflow: \"\"\n                      });\n                    }\n\n                    li.data(ZINDEX, li.css(ZINDEX));\n                    var nextZindex = that.nextItemZIndex++;\n                    li.css(ZINDEX, nextZindex);\n\n                    if (that.options.scrollable) {\n                      li.parent().siblings(scrollButtonSelector).css({\n                        zIndex: ++nextZindex\n                      });\n                    }\n\n                    popup = ul.data(KENDOPOPUP);\n                    var root = li.parent().hasClass(MENU),\n                        parentHorizontal = root && horizontal,\n                        directions = parseDirection(direction, root, isRtl),\n                        effects = options.animation.open.effects,\n                        openEffects = effects !== undefined ? effects : \"slideIn:\" + getEffectDirection(direction, root);\n\n                    if (!popup) {\n                      popup = ul.kendoPopup({\n                        activate: function () {\n                          that._triggerEvent({\n                            item: this.wrapper.parent(),\n                            type: ACTIVATE\n                          });\n                        },\n                        deactivate: function (e) {\n                          that._closing = false;\n                          e.sender.element // Restore opacity after fade.\n                          .removeData(\"targetTransform\").css({\n                            opacity: \"\"\n                          });\n\n                          that._triggerEvent({\n                            item: this.wrapper.parent(),\n                            type: DEACTIVATE\n                          });\n                        },\n                        origin: directions.origin,\n                        position: directions.position,\n                        collision: options.popupCollision !== undefined ? options.popupCollision : parentHorizontal ? \"fit\" : \"fit flip\",\n                        anchor: li,\n                        appendTo: overflowWrapper || li,\n                        animation: {\n                          open: extend(true, {\n                            effects: openEffects\n                          }, options.animation.open),\n                          close: options.animation.close\n                        },\n                        open: that._popupOpen.bind(that),\n                        close: function (e) {\n                          that._closing = e.sender.element;\n                          var li = e.sender.wrapper.parent();\n\n                          if (overflowWrapper) {\n                            var popupId = e.sender.element.data(POPUP_ID_ATTR);\n\n                            if (popupId) {\n                              li = (overflowWrapper || that.element).find(popupOpenerSelector(popupId));\n                            }\n\n                            e.sender.wrapper.children(scrollButtonSelector).hide();\n                          }\n\n                          if (!that._triggerEvent({\n                            item: li[0],\n                            type: CLOSE\n                          })) {\n                            li.css(ZINDEX, li.data(ZINDEX));\n                            li.removeData(ZINDEX);\n\n                            if (that.options.scrollable) {\n                              li.parent().siblings(scrollButtonSelector).css({\n                                zIndex: \"\"\n                              });\n                            }\n\n                            if (touch || allPointers || kendo.support.mouseAndTouchPresent) {\n                              li.removeClass(HOVERSTATE);\n\n                              that._removeHoverItem();\n                            }\n                          } else {\n                            e.preventDefault();\n                          }\n                        }\n                      }).data(KENDOPOPUP);\n                      ul.closest(animationContainerSelector).removeAttr(ROLE);\n                    } else {\n                      popup = ul.data(KENDOPOPUP);\n                      popup.options.origin = directions.origin;\n                      popup.options.position = directions.position;\n                      popup.options.animation.open.effects = openEffects;\n                    }\n\n                    ul.removeAttr(\"aria-hidden\");\n                    li.attr(ARIA_EXPANDED, true);\n\n                    that._configurePopupOverflow(popup, li);\n\n                    popup._hovered = true;\n                    popup.open();\n\n                    that._initPopupScrolling(popup);\n                  }\n                }, that.options.hoverDelay));\n              });\n              return that;\n            },\n            _configurePopupOverflow: function (popup, popupOpener) {\n              var that = this;\n\n              if (that.options.scrollable) {\n                that._wrapPopupElement(popup);\n\n                if (!popupOpener.attr(\"data-groupparent\")) {\n                  var groupId = new Date().getTime();\n                  popupOpener.attr(\"data-groupparent\", groupId);\n                  popup.element.attr(\"data-group\", groupId);\n                }\n              }\n            },\n            _wrapPopupElement: function (popup) {\n              if (!popup.element.parent().is(animationContainerSelector)) {\n                popup.wrapper = kendo.wrap(popup.element, popup.options.autosize).css({\n                  overflow: \"hidden\",\n                  display: \"block\",\n                  position: \"absolute\"\n                });\n              }\n            },\n            _initPopupScrolling: function (popup, isHorizontal, skipMouseEvents) {\n              var that = this;\n\n              if (that.options.scrollable && popup.element[0].scrollHeight > popup.element[0].offsetHeight) {\n                that._initPopupScrollButtons(popup, isHorizontal, skipMouseEvents);\n              }\n            },\n            _initPopupScrollButtons: function (popup, isHorizontal, skipMouseEvents) {\n              var that = this;\n              var scrollButtons = popup.wrapper.children(scrollButtonSelector);\n              var animation = that.options.animation;\n              var timeout = (animation && animation.open && animation.open.duration || 0) + DELAY;\n              setTimeout(function () {\n                if (!scrollButtons.length) {\n                  var backwardBtn = $(that.templates.scrollButton({\n                    direction: isHorizontal ? \"left\" : \"up\"\n                  }));\n                  var forwardBtn = $(that.templates.scrollButton({\n                    direction: isHorizontal ? \"right\" : \"down\"\n                  }));\n                  scrollButtons = backwardBtn.add(forwardBtn).appendTo(popup.wrapper);\n\n                  that._initScrolling(popup.element, backwardBtn, forwardBtn, isHorizontal);\n\n                  if (!skipMouseEvents) {\n                    scrollButtons.on(MOUSEENTER + NS, function () {\n                      var overflowWrapper = that._overflowWrapper();\n\n                      $(getChildPopups(popup.element, overflowWrapper)).each(function (i, p) {\n                        var popupOpener = overflowWrapper.find(popupOpenerSelector(p.data(POPUP_ID_ATTR)));\n                        that.close(popupOpener);\n                      });\n                    }).on(MOUSELEAVE + NS, function () {\n                      setTimeout(function () {\n                        if ($.isEmptyObject(that._openedPopups)) {\n                          that._closeParentPopups(popup.element);\n                        }\n                      }, DELAY);\n                    });\n                  }\n                }\n\n                that._toggleScrollButtons(popup.element, scrollButtons.first(), scrollButtons.last(), isHorizontal);\n              }, timeout);\n            },\n            _popupOpen: function (e) {\n              if (!this._keyTriggered) {\n                e.sender.element.children(\".\" + FOCUSEDSTATE).removeClass(FOCUSEDSTATE);\n              }\n\n              if (this.options.scrollable) {\n                this._setPopupHeight(e.sender);\n              }\n            },\n            _setPopupHeight: function (popup, isFixed) {\n              var popupElement = popup.element;\n              var popups = popupElement.add(popupElement.parent(animationContainerSelector));\n              popups.height(popupElement.hasClass(MENU) && this._initialHeight || \"\");\n\n              var location = popup._location(isFixed);\n\n              var windowHeight = $(window).height();\n              var popupOuterHeight = location.height;\n              var popupOffsetTop = isFixed ? 0 : Math.max(location.top, 0);\n              var scrollTop = isFixed ? 0 : parentsScroll(this._overflowWrapper()[0], \"scrollTop\");\n              var bottomScrollbar = window.innerHeight - windowHeight;\n              var maxHeight = windowHeight - kendo.getShadows(popupElement).bottom + bottomScrollbar;\n              var canFit = maxHeight + scrollTop > popupOuterHeight + popupOffsetTop;\n\n              if (!canFit) {\n                var height = Math.min(maxHeight, maxHeight - popupOffsetTop + scrollTop);\n                popups.css({\n                  overflow: \"hidden\",\n                  height: height + \"px\"\n                });\n              }\n            },\n            close: function (items, dontClearClose) {\n              var that = this;\n\n              var overflowWrapper = that._overflowWrapper();\n\n              var element = overflowWrapper || that.element;\n              items = element.find(items);\n\n              if (!items.length) {\n                items = element.find(\">.k-item\");\n              }\n\n              var hasChildPopupsHovered = function (currentPopup) {\n                var result = false;\n\n                if ($.isEmptyObject(that._openedPopups)) {\n                  return result;\n                }\n\n                $(getChildPopups(currentPopup, overflowWrapper)).each(function (i, popup) {\n                  result = !!that._openedPopups[popup.data(POPUP_ID_ATTR).toString()];\n                  return !result;\n                });\n                return result;\n              };\n\n              var isPopupMouseLeaved = function (opener) {\n                var groupId = opener.data(POPUP_OPENER_ATTR);\n                return !overflowWrapper || !groupId || !that._openedPopups[groupId.toString()];\n              };\n\n              items.each(function () {\n                var li = $(this);\n                li.attr(ARIA_EXPANDED, false);\n\n                if (!dontClearClose && that._isRootItem(li)) {\n                  that.clicked = false;\n                }\n\n                clearTimeout(li.data(TIMER));\n                li.data(TIMER, setTimeout(function () {\n                  var popup = that._getPopup(li);\n\n                  if (popup && (isPopupMouseLeaved(li) || that._forceClose)) {\n                    if (!that._forceClose && hasChildPopupsHovered(popup.element)) {\n                      return;\n                    }\n\n                    popup.close();\n                    popup.element.attr(\"aria-hidden\", true);\n\n                    if (overflowWrapper) {\n                      if (that._forceClose && items.last().is(li[0])) {\n                        delete that._forceClose;\n                      }\n                    }\n                  }\n                }, that.options.hoverDelay));\n              });\n              return that;\n            },\n            _getPopup: function (li) {\n              var that = this;\n              var popup = li.find(\".k-menu-group:not(.k-list-container):not(.k-calendar-container):visible\").first().data(KENDOPOPUP);\n\n              var overflowWrapper = that._overflowWrapper();\n\n              if (!popup && overflowWrapper) {\n                var groupId = li.data(POPUP_OPENER_ATTR);\n\n                if (groupId) {\n                  var popupElement = overflowWrapper.find(popupGroupSelector(groupId));\n                  popup = popupElement.data(KENDOPOPUP);\n                }\n              }\n\n              return popup;\n            },\n            _toggleDisabled: function (items, enable) {\n              this.element.find(items).each(function () {\n                $(this).toggleClass(DISABLEDSTATE, !enable).attr(\"aria-disabled\", !enable);\n              });\n            },\n            _toggleHover: function (e) {\n              var target = $(kendo.eventTarget(e) || e.target).closest(allItemsSelector),\n                  isEnter = e.type == MOUSEENTER || MOUSEDOWN.indexOf(e.type) !== -1;\n              target.siblings().removeClass(HOVERSTATE);\n\n              if (!target.parents(\"li.\" + DISABLEDSTATE).length) {\n                target.toggleClass(HOVERSTATE, isEnter || e.type == \"mousedown\" || e.type == \"pointerover\" || e.type == TOUCHSTART);\n              }\n\n              this._removeHoverItem();\n            },\n            _preventClose: function () {\n              if (!this.options.closeOnClick) {\n                this._closurePrevented = true;\n              }\n            },\n            _checkActiveElement: function (e) {\n              var that = this,\n                  hoverItem = $(e ? e.currentTarget : this._hoverItem()),\n                  target = that._findRootParent(hoverItem)[0];\n\n              if (!this._closurePrevented) {\n                setTimeout(function () {\n                  if (!document.hasFocus() || !contains(target, kendo._activeElement()) && e && !contains(target, e.currentTarget)) {\n                    that.close(target);\n                  }\n                }, 0);\n              }\n\n              this._closurePrevented = false;\n            },\n            _removeHoverItem: function () {\n              var oldHoverItem = this._hoverItem();\n\n              if (oldHoverItem && oldHoverItem.hasClass(FOCUSEDSTATE)) {\n                oldHoverItem.removeClass(FOCUSEDSTATE);\n                this._oldHoverItem = null;\n              }\n            },\n            _updateClasses: function () {\n              var element = this.element,\n                  nonContentGroupsSelector = \".k-menu-init div ul\",\n                  items;\n              element.removeClass(\"k-menu-horizontal k-menu-vertical\");\n              element.addClass(\"k-widget k-reset k-menu-init \" + MENU).addClass(MENU + \"-\" + this.options.orientation);\n\n              if (this.options.orientation === \"vertical\") {\n                element.attr(\"aria-orientation\", \"vertical\");\n              } else {\n                element.attr(\"aria-orientation\", \"horizontal\");\n              }\n\n              element.find(\"li > ul\").filter(function () {\n                return !kendo.support.matchesSelector.call(this, nonContentGroupsSelector);\n              }).addClass(\"k-group k-menu-group k-menu-group-md\").attr(ROLE, \"menu\").hide().attr(\"aria-hidden\", element.is(\":visible\")).parent(\"li\").attr(\"aria-haspopup\", \"true\").end().find(\"li > div\").addClass(\"k-content\").attr(\"tabindex\", \"-1\"); // Capture the focus before the Menu\n\n              element.find(\"li[aria-haspopup]\").attr(ARIA_EXPANDED, false);\n              items = element.find(\"> li,.k-menu-group > li\");\n              element.removeClass(\"k-menu-init\");\n              items.each(function () {\n                updateItemClasses(this);\n              });\n            },\n            _mouseenter: function (e) {\n              var that = this;\n              var element = $(e.currentTarget);\n\n              var hasChildren = that._itemHasChildren(element);\n\n              var popupId = element.data(POPUP_OPENER_ATTR) || element.parent().data(POPUP_ID_ATTR);\n              var pointerTouch = isPointerTouch(e);\n              var isParentClosing = false;\n\n              if (popupId) {\n                that._openedPopups[popupId.toString()] = true;\n              }\n\n              if (that._closing) {\n                isParentClosing = !!that._closing.find(element).length;\n              }\n\n              if (isParentClosing || e.delegateTarget != element.parents(menuSelector)[0] && e.delegateTarget != element.parents(\".k-menu-scroll-wrapper,.k-popups-wrapper\")[0]) {\n                return;\n              }\n\n              that._keyTriggered = false;\n\n              if (that.options.openOnClick.rootMenuItems && that._isRootItem(element.closest(allItemsSelector)) || that.options.openOnClick.subMenuItems && !that._isRootItem(element.closest(allItemsSelector))) {\n                return;\n              }\n\n              if ((that.options.openOnClick === false || that.options.openOnClick.rootMenuItems === false && that._isRootItem(element.closest(allItemsSelector)) || that.options.openOnClick.subMenuItems === false && !that._isRootItem(element.closest(allItemsSelector)) || that.clicked) && !touch && !(pointerTouch && that._isRootItem(element.closest(allItemsSelector)))) {\n                if (!contains(e.currentTarget, e.relatedTarget) && hasChildren) {\n                  that.open(element);\n                }\n              }\n\n              if (that.options.openOnClick === true && that.clicked || touch) {\n                element.siblings().each(function (_, sibling) {\n                  that.close(sibling, true);\n                });\n              }\n            },\n            _mousedown: function (e) {\n              var that = this;\n              var element = $(e.currentTarget); // needs to close subMenuItems\n\n              if (that.options.openOnClick.subMenuItems && !that._isRootItem(element) || touch) {\n                element.siblings().each(function (_, sibling) {\n                  that.close(sibling, true);\n                });\n              }\n            },\n            _mouseleave: function (e) {\n              var that = this;\n              var element = $(e.currentTarget);\n              var popupOpener = element.data(POPUP_OPENER_ATTR);\n              var hasChildren = element.children(animationContainerSelector).length || element.children(groupSelector).length || popupOpener;\n              var $window = $(window);\n\n              if (popupOpener) {\n                delete that._openedPopups[popupOpener.toString()];\n              }\n\n              if (element.parentsUntil(animationContainerSelector, \".k-list-container,.k-calendar-container\")[0]) {\n                e.stopImmediatePropagation();\n                return;\n              }\n\n              if ((that.options.openOnClick === false || !that.options.openOnClick.rootMenuItems && that._isRootItem(element) || !that.options.openOnClick.subMenuItems && !that._isRootItem(element)) && !touch && !isPointerTouch(e) && !contains(e.currentTarget, e.relatedTarget || e.target) && hasChildren && !contains(e.currentTarget, kendo._activeElement())) {\n                that.close(element, true);\n                that._loading = false;\n                return;\n              } // Detect if cursor goes outside the viewport of the browser\n\n\n              if (kendo.support.browser.msie && !e.toElement && !e.relatedTarget && !isPointerTouch(e) || e.clientX < 0 || e.clientY < 0 || e.clientY > $window.height() || e.clientX > $window.width()) {\n                that.close(element);\n              }\n            },\n            _mouseenterPopup: function (e) {\n              var that = this;\n              var popupElement = $(e.currentTarget);\n\n              if (popupElement.parent().is(animationContainerSelector)) {\n                return;\n              }\n\n              popupElement = popupElement.children(\"ul\");\n              var popupId = popupElement.data(POPUP_ID_ATTR);\n\n              if (popupId) {\n                that._openedPopups[popupId.toString()] = true;\n              }\n            },\n            _mouseleavePopup: function (e) {\n              var that = this;\n              var popupElement = $(e.currentTarget);\n\n              if (!isPointerTouch(e) && popupElement.is(animationContainerSelector)) {\n                that._closePopups(popupElement.children(\"ul\"));\n              }\n            },\n            _closePopups: function (rootPopup) {\n              var that = this;\n\n              var overflowWrapper = that._overflowWrapper();\n\n              var popupId = rootPopup.data(POPUP_ID_ATTR);\n\n              if (popupId) {\n                delete that._openedPopups[popupId.toString()];\n                var groupParent = overflowWrapper.find(popupOpenerSelector(popupId));\n                setTimeout(function () {\n                  if (that.options.openOnClick) {\n                    that._closeChildPopups(rootPopup);\n                  } else {\n                    if ($.isEmptyObject(that._openedPopups)) {\n                      var innerPopup = that._innerPopup(rootPopup);\n\n                      that._closeParentPopups(innerPopup);\n                    } else {\n                      that.close(groupParent, true);\n                    }\n                  }\n                }, 0);\n              }\n            },\n            _closeChildPopups: function (current) {\n              var that = this;\n\n              var overflowWrapper = that._overflowWrapper();\n\n              $(getChildPopups(current, overflowWrapper)).each(function () {\n                var popupOpener = overflowWrapper.find(popupOpenerSelector(this.data(POPUP_ID_ATTR)));\n                that.close(popupOpener, true);\n              });\n            },\n            _innerPopup: function (current) {\n              var overflowWrapper = this._overflowWrapper();\n\n              var popups = getChildPopups(current, overflowWrapper);\n              return popups[popups.length - 1] || current;\n            },\n            _closeParentPopups: function (current) {\n              var that = this;\n\n              var overflowWrapper = that._overflowWrapper();\n\n              var popupId = current.data(POPUP_ID_ATTR);\n              var popupOpener = overflowWrapper.find(popupOpenerSelector(popupId));\n              popupId = popupOpener.parent().data(POPUP_ID_ATTR);\n              that.close(popupOpener, true);\n\n              while (popupId && !that._openedPopups[popupId]) {\n                if (popupOpener.parent().is(menuSelector)) {\n                  break;\n                }\n\n                popupOpener = overflowWrapper.find(popupOpenerSelector(popupId));\n                that.close(popupOpener, true);\n                popupId = popupOpener.parent().data(POPUP_ID_ATTR);\n              }\n            },\n            _click: function (e) {\n              var that = this,\n                  openHandle,\n                  options = that.options,\n                  target = $(kendo.eventTarget(e)),\n                  targetElement = target[0],\n                  nodeName = target[0] ? target[0].nodeName.toUpperCase() : \"\",\n                  formNode = nodeName == \"INPUT\" || nodeName == \"SELECT\" || nodeName == \"BUTTON\" || nodeName == \"LABEL\",\n                  link = target.closest(LINK_SELECTOR),\n                  element = target.closest(allItemsSelector),\n                  itemElement = element[0],\n                  href = link.attr(\"href\"),\n                  childGroup,\n                  childGroupVisible,\n                  targetHref = target.attr(\"href\"),\n                  sampleHref = $(\"<a href='#' />\").attr(\"href\"),\n                  isLink = !!href && href !== sampleHref,\n                  isLocalLink = isLink && !!href.match(/^#/),\n                  isTargetLink = !!targetHref && targetHref !== sampleHref,\n                  overflowWrapper = that._overflowWrapper(),\n                  shouldCloseTheRootItem;\n\n              if (targetElement && (!targetElement.parentNode || !itemElement)) {\n                return;\n              }\n\n              if ($(target).hasClass('k-menu-expand-arrow-icon')) {\n                this._lastClickedElement = itemElement;\n              }\n\n              while (targetElement && targetElement.parentNode != itemElement) {\n                targetElement = targetElement.parentNode;\n              }\n\n              if ($(targetElement).is(templateSelector)) {\n                return;\n              }\n\n              if (element.hasClass(DISABLEDSTATE)) {\n                e.preventDefault();\n                return;\n              }\n\n              if (!e.handled && that._triggerSelect(target, itemElement) && !formNode) {\n                // We shouldn't stop propagation and shoudn't prevent form elements.\n                e.preventDefault();\n              }\n\n              e.handled = true;\n              childGroup = element.children(popupSelector);\n\n              if (overflowWrapper) {\n                var childPopupId = element.data(POPUP_OPENER_ATTR);\n\n                if (childPopupId) {\n                  childGroup = overflowWrapper.find(popupGroupSelector(childPopupId));\n                }\n              }\n\n              childGroupVisible = childGroup.is(\":visible\");\n              shouldCloseTheRootItem = options.openOnClick && childGroupVisible && that._isRootItem(element);\n\n              if (options.closeOnClick && (!isLink || isLocalLink) && (!childGroup.length || shouldCloseTheRootItem)) {\n                element.removeClass(HOVERSTATE).css(\"height\"); // Force refresh for Chrome\n\n                that._oldHoverItem = that._findRootParent(element);\n\n                var item = that._parentsUntil(link, that.element, allItemsSelector);\n\n                that._forceClose = !!overflowWrapper;\n                that.close(item);\n                that.clicked = false;\n\n                if (\"MSPointerUp\".indexOf(e.type) != -1) {\n                  e.preventDefault();\n                }\n\n                return;\n              }\n\n              if (isLink && e.enterKey) {\n                link[0].click();\n              }\n\n              if ((!that._isRootItem(element) || options.openOnClick === false) && !options.openOnClick.subMenuItems && !kendo.support.touch && !(isPointerTouch(e) && that._isRootItem(element.closest(allItemsSelector)))) {\n                return;\n              }\n\n              if (!isLink && !formNode && !isTargetLink) {\n                e.preventDefault();\n              }\n\n              that.clicked = true;\n              openHandle = childGroup.is(\":visible\") ? CLOSE : OPEN;\n\n              if (!options.closeOnClick && openHandle == CLOSE) {\n                return;\n              }\n\n              that[openHandle](element);\n            },\n            _parentsUntil: function (context, top, selector) {\n              var overflowWrapper = this._overflowWrapper();\n\n              if (!overflowWrapper) {\n                return context.parentsUntil(top, selector);\n              } else {\n                var parents = overflowMenuParents(context, overflowWrapper);\n                var result = [];\n                $(parents).each(function () {\n                  var parent = $(this);\n\n                  if (parent.is(top)) {\n                    return false;\n                  }\n\n                  if (parent.is(selector)) {\n                    result.push(this);\n                  }\n                });\n                return $(result);\n              }\n            },\n            _triggerSelect: function (target, itemElement) {\n              target = target.is(\".k-link\") ? target : target.closest(\".k-link\");\n              var selectHandler = target.data(\"selectHandler\"),\n                  itemSelectEventData;\n\n              if (selectHandler) {\n                itemSelectEventData = this._getEventData(target);\n                selectHandler.call(this, itemSelectEventData);\n              }\n\n              var isSelectItemDefaultPrevented = itemSelectEventData && itemSelectEventData.isDefaultPrevented();\n\n              var isSelectDefaultPrevented = this._triggerEvent({\n                item: itemElement,\n                type: SELECT\n              });\n\n              return isSelectItemDefaultPrevented || isSelectDefaultPrevented;\n            },\n            _getEventData: function (target) {\n              var eventData = {\n                sender: this,\n                target: target,\n                _defaultPrevented: false,\n                preventDefault: function () {\n                  this._defaultPrevented = true;\n                },\n                isDefaultPrevented: function () {\n                  return this._defaultPrevented;\n                }\n              };\n              return eventData;\n            },\n            _documentClick: function (e) {\n              var that = this;\n              var target = $(e.target).hasClass('k-menu-expand-arrow-icon') ? that._lastClickedElement : e.target;\n\n              if (contains((that._overflowWrapper() || that.element)[0], target)) {\n                that._lastClickedElement = undefined;\n                return;\n              }\n\n              that.clicked = false;\n            },\n            _focus: function (e) {\n              var that = this,\n                  target = e.target,\n                  hoverItem = that._hoverItem(),\n                  active = activeElement();\n\n              if (target != that.wrapper[0] && !$(target).is(\":kendoFocusable\")) {\n                e.stopPropagation();\n                $(target).closest(\".k-content\").closest(\".k-menu-group\").closest(\".k-item\").addClass(FOCUSEDSTATE);\n                that.wrapper.trigger(\"focus\");\n                return;\n              }\n\n              if (active === e.currentTarget) {\n                if (hoverItem.length) {\n                  that._moveHover([], hoverItem);\n                } else if (!that._oldHoverItem) {\n                  that._moveHover([], that.wrapper.children().first());\n                }\n              }\n            },\n            _keydown: function (e) {\n              var that = this,\n                  key = e.keyCode,\n                  hoverItem = that._oldHoverItem,\n                  target,\n                  belongsToVertical,\n                  hasChildren,\n                  isRtl = kendo.support.isRtl(that.wrapper);\n\n              if (e.target != e.currentTarget && key != keys.ESC) {\n                return;\n              }\n\n              if (!hoverItem) {\n                hoverItem = that._oldHoverItem = that._hoverItem();\n              }\n\n              belongsToVertical = that._itemBelongsToVertival(hoverItem);\n              hasChildren = that._itemHasChildren(hoverItem);\n              that._keyTriggered = true;\n\n              if (key == keys.RIGHT) {\n                target = that[isRtl ? \"_itemLeft\" : \"_itemRight\"](hoverItem, belongsToVertical, hasChildren);\n              } else if (key == keys.LEFT) {\n                target = that[isRtl ? \"_itemRight\" : \"_itemLeft\"](hoverItem, belongsToVertical, hasChildren);\n              } else if (key == keys.DOWN) {\n                target = that._itemDown(hoverItem, belongsToVertical, hasChildren);\n              } else if (key == keys.UP) {\n                target = that._itemUp(hoverItem, belongsToVertical, hasChildren);\n              } else if (key == keys.HOME) {\n                that._moveHover(hoverItem, hoverItem.parent().children().first());\n\n                e.preventDefault();\n              } else if (key == keys.END) {\n                that._moveHover(hoverItem, hoverItem.parent().children().last());\n\n                e.preventDefault();\n              } else if (key == keys.ESC) {\n                target = that._itemEsc(hoverItem, belongsToVertical);\n              } else if (key == keys.ENTER || key == keys.SPACEBAR) {\n                target = hoverItem.children(\".k-link\");\n\n                if (target.length > 0) {\n                  that._click({\n                    target: target[0],\n                    preventDefault: function () {},\n                    enterKey: true\n                  });\n\n                  if (hasChildren && !hoverItem.hasClass(DISABLEDSTATE)) {\n                    that.open(hoverItem);\n\n                    that._moveHover(hoverItem, that._childPopupElement(hoverItem).children().first());\n                  } else if (hoverItem.is(\"li\") && hoverItem.attr(\"role\") === \"menuitemcheckbox\") {\n                    hoverItem.find(\".k-checkbox\").attr(\"checked\", true);\n                  } else {\n                    that._moveHoverToRoot(hoverItem, that._findRootParent(hoverItem));\n                  }\n                }\n              } else if (key == keys.TAB) {\n                target = that._findRootParent(hoverItem);\n\n                that._moveHover(hoverItem, target);\n\n                that._checkActiveElement();\n\n                return;\n              }\n\n              if (target && target[0]) {\n                e.preventDefault();\n                e.stopPropagation(); // needed to handle ESC in column menu only when a root item is focused\n              }\n            },\n            _hoverItem: function () {\n              return this.wrapper.find(\".k-item.k-hover,.k-item.k-focus\").filter(\":visible\");\n            },\n            _itemBelongsToVertival: function (item) {\n              var menuIsVertical = this.wrapper.hasClass(\"k-menu-vertical\");\n\n              if (!item.length) {\n                return menuIsVertical;\n              }\n\n              return item.parent().hasClass(\"k-menu-group\") || menuIsVertical;\n            },\n            _itemHasChildren: function (item) {\n              if (!item || !item.length || !item[0].nodeType) {\n                return false;\n              }\n\n              return item.children(\".k-menu-group, div.k-animation-container\").length > 0 || !!item.data(POPUP_OPENER_ATTR) && !!this._overflowWrapper().children(popupGroupSelector(item.data(POPUP_OPENER_ATTR)));\n            },\n            _moveHover: function (item, nextItem) {\n              var that = this,\n                  id = that._ariaId;\n\n              if (item.length && nextItem.length) {\n                item.removeClass(FOCUSEDSTATE);\n              }\n\n              if (nextItem.length) {\n                if (nextItem[0].id) {\n                  id = nextItem[0].id;\n                }\n\n                nextItem.addClass(FOCUSEDSTATE);\n                that._oldHoverItem = nextItem;\n\n                if (id) {\n                  that.element.removeAttr(\"aria-activedescendant\");\n                  $(\"#\" + id).removeAttr(\"id\");\n                  nextItem.attr(\"id\", id);\n                  that.element.attr(\"aria-activedescendant\", id);\n                }\n\n                that._scrollToItem(nextItem);\n              }\n            },\n            _moveHoverToRoot: function (item, nextItem) {\n              this._moveHover(item, nextItem);\n            },\n            _findRootParent: function (item) {\n              if (this._isRootItem(item)) {\n                return item;\n              } else {\n                return this._parentsUntil(item, menuSelector, \"li.k-item\").last();\n              }\n            },\n            _isRootItem: function (item) {\n              return item.parent().hasClass(MENU);\n            },\n            _itemRight: function (item, belongsToVertical, hasChildren) {\n              var that = this,\n                  nextItem,\n                  parentItem,\n                  overflowWrapper;\n\n              if (!belongsToVertical) {\n                nextItem = item.nextAll(itemSelector + exclusionSelector).eq(0);\n\n                if (!nextItem.length) {\n                  nextItem = item.prevAll(itemSelector + exclusionSelector).last();\n                }\n\n                that.close(item);\n              } else if (hasChildren && !item.hasClass(DISABLEDSTATE)) {\n                that.open(item);\n                nextItem = that._childPopupElement(item).children().first();\n              } else if (that.options.orientation == \"horizontal\") {\n                parentItem = that._findRootParent(item);\n                overflowWrapper = that._overflowWrapper();\n\n                if (overflowWrapper) {\n                  var rootPopup = itemPopup(parentItem, overflowWrapper);\n\n                  that._closeChildPopups(rootPopup);\n                }\n\n                that.close(parentItem);\n                nextItem = parentItem.nextAll(itemSelector + exclusionSelector).eq(0);\n              }\n\n              if (nextItem && !nextItem.length) {\n                nextItem = that.wrapper.children(\".k-item\").first();\n              } else if (!nextItem) {\n                nextItem = [];\n              }\n\n              that._moveHover(item, nextItem);\n\n              return nextItem;\n            },\n            _itemLeft: function (item, belongsToVertical) {\n              var that = this,\n                  nextItem,\n                  overflowWrapper;\n\n              if (!belongsToVertical) {\n                nextItem = item.prevAll(itemSelector + exclusionSelector).eq(0);\n\n                if (!nextItem.length) {\n                  nextItem = item.nextAll(itemSelector + exclusionSelector).last();\n                }\n\n                that.close(item);\n              } else {\n                nextItem = item.parent().closest(\".k-item\");\n                overflowWrapper = that._overflowWrapper();\n\n                if (!nextItem.length && overflowWrapper) {\n                  nextItem = popupParentItem(item.parent(), overflowWrapper);\n                }\n\n                that.close(nextItem);\n\n                if (that._isRootItem(nextItem) && that.options.orientation == \"horizontal\") {\n                  nextItem = nextItem.prevAll(itemSelector + exclusionSelector).eq(0);\n                }\n              }\n\n              if (!nextItem.length) {\n                nextItem = that.wrapper.children(\".k-item\").last();\n              }\n\n              that._moveHover(item, nextItem);\n\n              return nextItem;\n            },\n            _itemDown: function (item, belongsToVertical, hasChildren) {\n              var that = this,\n                  nextItem;\n\n              if (!belongsToVertical) {\n                if (!hasChildren || item.hasClass(DISABLEDSTATE)) {\n                  return;\n                } else {\n                  that.open(item);\n                  nextItem = that._childPopupElement(item).children().first();\n                }\n              } else {\n                nextItem = item.nextAll(itemSelector + exclusionSelector).eq(0);\n              }\n\n              if (!nextItem.length && item.length) {\n                nextItem = item.parent().children().first();\n              } else if (!item.length) {\n                nextItem = that.wrapper.children(\".k-item\").first();\n              }\n\n              that._moveHover(item, nextItem);\n\n              return nextItem;\n            },\n            _itemUp: function (item, belongsToVertical) {\n              var that = this,\n                  nextItem;\n\n              if (!belongsToVertical) {\n                return;\n              } else {\n                nextItem = item.prevAll(itemSelector + exclusionSelector).eq(0);\n              }\n\n              if (!nextItem.length && item.length) {\n                nextItem = item.parent().children().last();\n              } else if (!item.length) {\n                nextItem = that.wrapper.children(\".k-item\").last();\n              }\n\n              that._moveHover(item, nextItem);\n\n              return nextItem;\n            },\n            _scrollToItem: function (item) {\n              var that = this;\n\n              if (that.options.scrollable && item && item.length) {\n                var ul = item.parent();\n                var isHorizontal = ul.hasClass(MENU) ? that.options.orientation == \"horizontal\" : false;\n                var scrollDir = isHorizontal ? \"scrollLeft\" : \"scrollTop\";\n                var getSize = isHorizontal ? kendo._outerWidth : kendo._outerHeight;\n                var currentScrollOffset = ul[scrollDir]();\n                var itemSize = getSize(item);\n                var itemOffset = item[0][isHorizontal ? \"offsetLeft\" : \"offsetTop\"];\n                var ulSize = getSize(ul);\n                var scrollButtons = ul.siblings(scrollButtonSelector);\n                var scrollButtonSize = scrollButtons.length ? getSize(scrollButtons.first()) : 0;\n                var itemPosition;\n\n                if (currentScrollOffset + ulSize < itemOffset + itemSize + scrollButtonSize) {\n                  itemPosition = itemOffset + itemSize - ulSize + scrollButtonSize;\n                } else if (currentScrollOffset > itemOffset - scrollButtonSize) {\n                  itemPosition = itemOffset - scrollButtonSize;\n                }\n\n                if (!isNaN(itemPosition)) {\n                  var scrolling = {};\n                  scrolling[scrollDir] = itemPosition;\n                  ul.finish().animate(scrolling, \"fast\", \"linear\", function () {\n                    that._toggleScrollButtons(ul, scrollButtons.first(), scrollButtons.last(), isHorizontal);\n                  });\n                }\n              }\n            },\n            _itemEsc: function (item, belongsToVertical) {\n              var that = this,\n                  nextItem,\n                  groupId;\n\n              if (!belongsToVertical) {\n                return item;\n              } else {\n                nextItem = item.parent().closest(\".k-item\");\n\n                if (nextItem.length === 0) {\n                  groupId = item.closest(\".k-group\").data(\"group\");\n                  nextItem = that.wrapper.find(\".k-item[data-groupparent='\" + groupId + \"']\");\n                }\n\n                that.close(nextItem);\n\n                that._moveHover(item, nextItem);\n              }\n\n              return nextItem;\n            },\n            _childPopupElement: function (item) {\n              var popupElement = item.find(\".k-menu-group\");\n\n              var wrapper = this._overflowWrapper();\n\n              if (!popupElement.length && wrapper) {\n                popupElement = itemPopup(item, wrapper);\n              }\n\n              return popupElement;\n            },\n            _triggerEvent: function (e) {\n              var that = this;\n              return that.trigger(e.type, {\n                type: e.type,\n                item: e.item\n              });\n            },\n            _focusHandler: function (e) {\n              var that = this,\n                  item = $(kendo.eventTarget(e)).closest(allItemsSelector);\n\n              if (item.hasClass(DISABLEDSTATE)) {\n                return;\n              }\n\n              setTimeout(function () {\n                that._moveHover([], item);\n\n                if (item.children(\".k-content\")[0]) {\n                  item.parent().closest(\".k-item\").removeClass(FOCUSEDSTATE);\n                }\n              }, 200);\n            },\n            _animations: function (options) {\n              if (options && \"animation\" in options && !options.animation) {\n                options.animation = {\n                  open: {\n                    effects: {}\n                  },\n                  close: {\n                    hide: true,\n                    effects: {}\n                  }\n                };\n              }\n            },\n            _dataSource: function (options) {\n              var that = this,\n                  dataSource = options ? options.dataSource : that.options.dataSource;\n\n              if (!dataSource) {\n                return;\n              }\n\n              dataSource = isArray(dataSource) ? {\n                data: dataSource\n              } : dataSource;\n\n              that._unbindDataSource();\n\n              if (!dataSource.fields) {\n                dataSource.fields = [{\n                  field: \"uid\"\n                }, {\n                  field: \"text\"\n                }, {\n                  field: \"url\"\n                }, {\n                  field: \"cssClass\"\n                }, {\n                  field: \"spriteCssClass\"\n                }, {\n                  field: \"imageUrl\"\n                }, {\n                  field: \"imageAttr\"\n                }, {\n                  field: \"attr\"\n                }, {\n                  field: \"contentAttr\"\n                }, {\n                  field: \"content\"\n                }, {\n                  field: \"encoded\"\n                }, {\n                  field: \"items\"\n                }, {\n                  field: \"select\"\n                }];\n              }\n\n              that.dataSource = HierarchicalDataSource.create(dataSource);\n\n              that._bindDataSource();\n\n              that.dataSource.fetch();\n            },\n            _bindDataSource: function () {\n              this._refreshHandler = this.refresh.bind(this);\n              this._errorHandler = this._error.bind(this);\n              this.dataSource.bind(CHANGE, this._refreshHandler);\n              this.dataSource.bind(ERROR, this._errorHandler);\n            },\n            _unbindDataSource: function () {\n              var dataSource = this.dataSource;\n\n              if (dataSource) {\n                dataSource.unbind(CHANGE, this._refreshHandler);\n                dataSource.unbind(ERROR, this._errorHandler);\n              }\n            },\n            _error: function () {},\n            findByUid: function (uid) {\n              var wrapperElement = this._overflowWrapper() || this.element;\n              return wrapperElement.find(\"[\" + kendo.attr(\"uid\") + \"=\" + uid + \"]\");\n            },\n            refresh: function (ev) {\n              var that = this;\n              var node = ev.node;\n              var action = ev.action;\n              var parentElement = node ? that.findByUid(node.uid) : that.element;\n              var itemsToUpdate = ev.items;\n              var index = ev.index;\n\n              var updateProxy = that._updateItem.bind(that);\n\n              var removeProxy = that._removeItem.bind(that);\n\n              if (action == \"add\") {\n                that._appendItems(itemsToUpdate, index, parentElement);\n              } else if (action == \"remove\") {\n                itemsToUpdate.forEach(removeProxy);\n              } else if (action == \"itemchange\") {\n                itemsToUpdate.forEach(updateProxy);\n              } else if (action === \"itemloaded\") {\n                that.append(ev.items, parentElement);\n              } else {\n                this._initData();\n              }\n\n              this.trigger(DATABOUND, {\n                item: parentElement,\n                dataItem: node\n              });\n            },\n            _appendItems: function (items, index, parent) {\n              var that = this;\n              var referenceItem = parent.find(itemSelector).eq(index);\n\n              if (referenceItem.length) {\n                that.insertBefore(items, referenceItem);\n              } else {\n                that.append(items, parent);\n              }\n            },\n            _removeItem: function (item) {\n              var that = this;\n              var element = that.findByUid(item.uid);\n              that.remove(element);\n            },\n            _updateItem: function (item) {\n              var that = this;\n              var element = that.findByUid(item.uid);\n              var nextElement = element.next();\n              var parentNode = item.parentNode();\n              that.remove(element);\n\n              if (nextElement.length) {\n                that.insertBefore(item, nextElement);\n              } else {\n                that.append(item, parentNode && that.findByUid(parentNode.uid));\n              }\n            },\n            _accessors: function () {\n              var that = this,\n                  options = that.options,\n                  i,\n                  field,\n                  textField,\n                  element = that.element;\n\n              for (i in bindings) {\n                field = options[bindings[i]];\n                textField = element.attr(kendo.attr(i + \"-field\"));\n\n                if (!field && textField) {\n                  field = textField;\n                }\n\n                if (!field) {\n                  field = i;\n                }\n\n                if (!isArray(field)) {\n                  field = [field];\n                }\n\n                options[bindings[i]] = field;\n              }\n            },\n            _fieldAccessor: function (fieldName) {\n              var fieldBindings = this.options[bindings[fieldName]] || [],\n                  count = fieldBindings.length,\n                  result = \"(function(item) {\";\n\n              if (count === 0) {\n                result += \"return item['\" + fieldName + \"'];\";\n              } else {\n                result += \"var levels = [\" + $.map(fieldBindings, function (x) {\n                  return \"function(d){ return \" + kendo.expr(x) + \"}\";\n                }).join(\",\") + \"];\";\n                result += \"if(item.level){return levels[Math.min(item.level(), \" + count + \"-1)](item);}else\";\n                result += \"{return levels[\" + count + \"-1](item)}\";\n              }\n\n              result += \"})\";\n              return result;\n            },\n            _templates: function () {\n              var that = this,\n                  options = that.options,\n                  fieldAccessor = that._fieldAccessor.bind(that);\n\n              if (options.template && typeof options.template == STRING) {\n                options.template = template(options.template);\n              } else if (!options.template) {\n                options.template = template(\"<span class='k-menu-link-text'>\" + \"# var text = \" + fieldAccessor(\"text\") + \"(data.item); #\" + \"# if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {#\" + \"#= text #\" + \"# } else { #\" + \"#: text #\" + \"# } #</span>\");\n              }\n\n              that.templates = {\n                content: template(\"#var contentHtml = \" + fieldAccessor(\"content\") + \"(item);#\" + \"<div #= contentCssAttributes(item.toJSON ? item.toJSON() : item) # tabindex='-1'>#= contentHtml || '' #</div>\"),\n                group: template(\"<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>\" + \"#= renderItems(data) #\" + \"</ul>\"),\n                itemWrapper: template(\"# var url = \" + fieldAccessor(\"url\") + \"(item); #\" + \"# var imageUrl = \" + fieldAccessor(\"imageUrl\") + \"(item); #\" + \"# var imgAttributes = \" + fieldAccessor(\"imageAttr\") + \"(item);#\" + \"# var tag = url ? 'a' : 'span' #\" + \"<#= tag # class='#= textClass(item) #' #if(url){#href='#= url #'#}#>\" + \"# if (imageUrl) { #\" + \"<img #= imageCssAttributes(imgAttributes) #  alt='' src='#= imageUrl #' />\" + \"# } #\" + \"#= sprite(item) #\" + \"#= data.menu.options.template(data) #\" + \"#= arrow(data) #\" + \"</#= tag #>\"),\n                item: template(\"#var contentHtml = \" + fieldAccessor(\"content\") + \"(item);#\" + \"<li class='#= wrapperCssClass(group, item) #' #= itemCssAttributes(item.toJSON ? item.toJSON() : item) # role='menuitem'  #=item.items ? \\\"aria-haspopup='true'\\\": \\\"\\\"#\" + \"#=item.enabled === false ? \\\"aria-disabled='true'\\\" : ''#\" + kendo.attr(\"uid\") + \"='#= item.uid #' \" + \"# if(item.items && item.items.length > 0) { # \" + \"# if(item.expanded) { # \" + \" aria-expanded='true'\" + \"# } else { #\" + \" aria-expanded='false'\" + \"# } #\" + \"# } #\" + \">\" + \"#= itemWrapper(data) #\" + \"#if (item.hasChildren || item.items) { #\" + \"#= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) #\" + \"# } else if (item.content || item.contentUrl || contentHtml) { #\" + \"#= renderContent(data) #\" + \"# } #\" + \"</li>\"),\n                scrollButton: template(\"<span class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-menu-scroll-button k-scroll-#= direction #' unselectable='on'>\" + \"<span class='k-button-icon k-icon k-i-arrow-60-#= direction #'></span>\" + \"</span>\"),\n                arrow: template(\"<span class='k-menu-expand-arrow'><span class='#= arrowClass(item, group) #'></span></span>\"),\n                sprite: template(\"# var spriteCssClass = \" + fieldAccessor(\"spriteCssClass\") + \"(data); if(spriteCssClass) {#<span class='k-sprite #= spriteCssClass #'></span>#}#\"),\n                empty: template(\"\")\n              };\n            },\n            renderItem: function (options) {\n              var that = this;\n              options = extend({\n                menu: that,\n                group: {}\n              }, options);\n              var empty = that.templates.empty,\n                  item = options.item;\n              return that.templates.item(extend(options, {\n                sprite: that.templates.sprite,\n                itemWrapper: that.templates.itemWrapper,\n                renderContent: that.renderContent,\n                arrow: item.items || item.content || item[that.options.dataContentField[0]] ? that.templates.arrow : empty,\n                subGroup: that.renderGroup\n              }, rendering));\n            },\n            renderGroup: function (options) {\n              var that = this;\n              var templates = that.templates || options.menu.templates;\n              return templates.group(extend({\n                renderItems: function (options) {\n                  var html = \"\",\n                      i = 0,\n                      items = options.items,\n                      len = items ? items.length : 0,\n                      group = extend({\n                    length: len\n                  }, options.group);\n\n                  for (; i < len; i++) {\n                    html += options.menu.renderItem(extend(options, {\n                      group: group,\n                      item: extend({\n                        index: i\n                      }, items[i])\n                    }));\n                  }\n\n                  return html;\n                }\n              }, options, rendering));\n            },\n            renderContent: function (options) {\n              return options.menu.templates.content(extend(options, rendering));\n            }\n          });\n          var ContextMenu = Menu.extend({\n            init: function (element, options) {\n              var that = this;\n              Menu.fn.init.call(that, element, options);\n              that.element.attr(ROLE, \"menu\");\n              that._marker = kendo.guid().substring(0, 8);\n              that.target = $(that.options.target);\n\n              that._popup();\n\n              that._wire();\n            },\n            _initOverflow: function (options) {\n              var that = this;\n\n              if (options.scrollable && !that._overflowWrapper()) {\n                that._openedPopups = {};\n                that._popupsWrapper = (that.element.parent().is(animationContainerSelector) ? that.element.parent() : that.element).wrap(\"<div class='k-popups-wrapper \" + options.orientation + \"'></div>\").parent();\n\n                if (that.options.orientation == \"horizontal\") {\n                  removeSpacesBetweenItems(that.element);\n                }\n\n                if (options.appendTo) {\n                  options.appendTo = $(options.appendTo);\n                  options.appendTo.append(that._popupsWrapper);\n                }\n\n                that._initialHeight = that.element[0].style.height;\n                that._initialWidth = that.element[0].style.width;\n              }\n            },\n            options: {\n              name: \"ContextMenu\",\n              filter: null,\n              showOn: \"contextmenu\",\n              orientation: \"vertical\",\n              alignToAnchor: false,\n              copyAnchorStyles: true,\n              target: \"body\"\n            },\n            events: [OPEN, CLOSE, ACTIVATE, DEACTIVATE, SELECT],\n            setOptions: function (options) {\n              var that = this;\n              Menu.fn.setOptions.call(that, options);\n              that.target.off(that.showOn + NS + that._marker, that._showProxy);\n\n              if (that.userEvents) {\n                that.userEvents.destroy();\n              }\n\n              that.target = $(that.options.target);\n\n              if (options.orientation && that.popup.wrapper[0]) {\n                that.popup.element.unwrap();\n              }\n\n              that._wire();\n\n              Menu.fn.setOptions.call(this, options);\n            },\n            destroy: function () {\n              var that = this;\n              that.target.off(that.options.showOn + NS + that._marker);\n              DOCUMENT_ELEMENT.off(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n\n              if (that.userEvents) {\n                that.userEvents.destroy();\n              }\n\n              Menu.fn.destroy.call(that);\n            },\n            open: function (x, y) {\n              var that = this;\n              x = $(x)[0];\n\n              if (contains(that.element[0], $(x)[0]) || that._itemHasChildren($(x))) {\n                // call parent open for children elements\n                Menu.fn.open.call(that, x);\n              } else {\n                if (that._triggerEvent({\n                  item: that.element,\n                  type: OPEN\n                }) === false) {\n                  if (that.popup.visible() && that.options.filter) {\n                    that.popup.close(true);\n                    that.popup.element.kendoStop(true);\n                  }\n\n                  if (y !== undefined) {\n                    var overflowWrapper = that._overflowWrapper();\n\n                    if (overflowWrapper) {\n                      var offset = overflowWrapper.offset();\n                      x -= offset.left;\n                      y -= offset.top;\n                    }\n\n                    that.popup.wrapper.hide();\n\n                    that._configurePopupScrolling(x, y);\n\n                    that.popup.open(x, y);\n                  } else {\n                    that.popup.options.anchor = (x ? x : that.popup.anchor) || that.target;\n                    that.popup.element.kendoStop(true);\n\n                    that._configurePopupScrolling();\n\n                    that.popup.open();\n                  }\n\n                  DOCUMENT_ELEMENT.off(that.popup.downEvent, that.popup._mousedownProxy);\n                  DOCUMENT_ELEMENT.on(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n                  that.element.trigger(\"focus\");\n                }\n              }\n\n              return that;\n            },\n            _configurePopupScrolling: function (x, y) {\n              var that = this;\n              var popup = that.popup;\n              var isHorizontal = that.options.orientation == \"horizontal\";\n\n              if (that.options.scrollable) {\n                that._wrapPopupElement(popup);\n\n                popup.element.parent().css({\n                  position: \"\",\n                  height: \"\"\n                });\n                popup.element.css({\n                  visibility: \"hidden\",\n                  display: \"\",\n                  position: \"\"\n                });\n\n                if (isHorizontal) {\n                  that._setPopupWidth(popup, isNaN(x) ? undefined : {\n                    isFixed: true,\n                    x: x,\n                    y: y\n                  });\n                } else {\n                  that._setPopupHeight(popup, isNaN(x) ? undefined : {\n                    isFixed: true,\n                    x: x,\n                    y: y\n                  });\n                }\n\n                popup.element.css({\n                  visibility: \"\",\n                  display: \"none\",\n                  position: \"absolute\"\n                });\n\n                that._initPopupScrollButtons(popup, isHorizontal, true);\n\n                popup.element.siblings(scrollButtonSelector).hide();\n              }\n            },\n            _setPopupWidth: function (popup, isFixed) {\n              var popupElement = popup.element;\n              var popups = popupElement.add(popupElement.parent(animationContainerSelector));\n              popups.width(this._initialWidth || \"\");\n\n              var location = popup._location(isFixed);\n\n              var windowWidth = $(window).width();\n              var popupOuterWidth = location.width;\n              var popupOffsetLeft = Math.max(location.left, 0);\n              var scrollLeft = isFixed ? 0 : parentsScroll(this._overflowWrapper()[0], \"scrollLeft\");\n              var shadow = kendo.getShadows(popupElement);\n              var maxWidth = windowWidth - shadow.left - shadow.right;\n              var canFit = maxWidth + scrollLeft > popupOuterWidth + popupOffsetLeft;\n\n              if (!canFit) {\n                popups.css({\n                  overflow: \"hidden\",\n                  width: maxWidth - popupOffsetLeft + scrollLeft + \"px\"\n                });\n              }\n            },\n            close: function () {\n              var that = this;\n\n              if (contains(that.element[0], $(arguments[0])[0]) || that._itemHasChildren(arguments[0])) {\n                Menu.fn.close.call(that, arguments[0]);\n              } else {\n                if (that.popup.visible()) {\n                  if (that._triggerEvent({\n                    item: that.element,\n                    type: CLOSE\n                  }) === false) {\n                    that._removeHoverItem();\n\n                    that.element.find(\"#\" + that._ariaId).removeAttr(\"id\");\n                    that.popup.close();\n                    DOCUMENT_ELEMENT.off(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n                    that.unbind(SELECT, that._closeTimeoutProxy);\n                    that.popup.options.anchor.focus();\n                  }\n                }\n              }\n            },\n            _showHandler: function (e) {\n              var ev = e,\n                  offset,\n                  that = this,\n                  options = that.options,\n                  target = kendo.support.mobileOS ? $(ev.target) : $(ev.currentTarget);\n\n              if (e.event) {\n                ev = e.event;\n                ev.pageX = e.x.location;\n                ev.pageY = e.y.location;\n              }\n\n              if (contains(that.element[0], e.relatedTarget || e.target)) {\n                return;\n              }\n\n              that._eventOrigin = ev;\n              ev.preventDefault();\n              ev.stopImmediatePropagation();\n              that.element.find(\".\" + FOCUSEDSTATE).removeClass(FOCUSEDSTATE);\n\n              if (options.filter && target.is(options.filter) || !options.filter) {\n                if (options.alignToAnchor) {\n                  that.popup.options.anchor = ev.currentTarget;\n                  that.open(ev.currentTarget);\n                } else {\n                  that.popup.options.anchor = ev.currentTarget;\n\n                  if (that._targetChild) {\n                    offset = that.target.offset();\n                    that.open(ev.pageX - offset.left, ev.pageY - offset.top);\n                  } else {\n                    that.open(ev.pageX, ev.pageY);\n                  }\n                }\n              }\n            },\n            _closeHandler: function (e) {\n              var that = this,\n                  target = $(e.relatedTarget || e.target),\n                  sameTarget = target.closest(that.target.selector)[0] == that.target[0],\n                  item = target.closest(itemSelector),\n                  children = that._itemHasChildren(item),\n                  overflowWrapper = that._overflowWrapper(),\n                  containment = contains(that.element[0], target[0]) || overflowWrapper && contains(overflowWrapper[0], target[0]);\n\n              that._eventOrigin = e;\n              var normalClick = e.which !== 3;\n\n              if (that.popup.visible() && (normalClick && sameTarget || !sameTarget) && (that.options.closeOnClick && !children && containment || !containment)) {\n                if (containment) {\n                  this.unbind(SELECT, this._closeTimeoutProxy);\n                  that.bind(SELECT, that._closeTimeoutProxy);\n                } else {\n                  that.close();\n                }\n              }\n            },\n            _wire: function () {\n              var that = this,\n                  options = that.options,\n                  target = that.target;\n              that._preventProxy = null;\n              that._showProxy = that._showHandler.bind(that);\n              that._closeProxy = that._closeHandler.bind(that);\n              that._closeTimeoutProxy = that.close.bind(that);\n\n              if (target[0]) {\n                if (kendo.support.mobileOS && options.showOn == \"contextmenu\") {\n                  that.userEvents = new kendo.UserEvents(target, {\n                    filter: options.filter,\n                    allowSelection: false\n                  });\n\n                  that._preventProxy = function () {\n                    return false;\n                  };\n\n                  that.userEvents.bind(\"hold\", that._showProxy);\n                }\n\n                if (options.filter) {\n                  target.on(options.showOn + NS + that._marker, options.filter, that._preventProxy || that._showProxy);\n                } else {\n                  target.on(options.showOn + NS + that._marker, that._preventProxy || that._showProxy);\n                }\n              }\n            },\n            _triggerEvent: function (e) {\n              var that = this,\n                  anchor = $(that.popup.options.anchor)[0],\n                  origin = that._eventOrigin;\n              that._eventOrigin = undefined;\n              return that.trigger(e.type, extend({\n                type: e.type,\n                item: e.item || this.element[0],\n                target: anchor\n              }, origin ? {\n                event: origin\n              } : {}));\n            },\n            _popup: function () {\n              var that = this;\n\n              var overflowWrapper = that._overflowWrapper();\n\n              that._triggerProxy = that._triggerEvent.bind(that);\n              that.popup = that.element.addClass(\"k-context-menu\").kendoPopup({\n                autosize: that.options.orientation === \"horizontal\",\n                anchor: that.target || \"body\",\n                copyAnchorStyles: that.options.copyAnchorStyles,\n                collision: that.options.popupCollision || \"fit\",\n                animation: that.options.animation,\n                activate: that._triggerProxy,\n                deactivate: that._triggerProxy,\n                appendTo: overflowWrapper || that.options.appendTo,\n                close: !overflowWrapper ? $.noop : function (e) {\n                  $(getChildPopups(e.sender.element, overflowWrapper)).each(function (i, p) {\n                    var popup = p.data(KENDOPOPUP);\n\n                    if (popup) {\n                      popup.close(true);\n                    }\n                  });\n                }\n              }).data(KENDOPOPUP);\n              that._targetChild = contains(that.target[0], that.popup.element[0]);\n            },\n            _moveHoverToRoot: function (item, nextItem) {\n              this._moveHover(item, nextItem);\n\n              this.close();\n            },\n            _focus: function (e) {\n              var hoverItem = this._oldHoverItem = this._hoverItem() || [];\n\n              Menu.fn._focus.call(this, e);\n\n              if (activeElement() === e.currentTarget) {\n                this._moveHover(hoverItem, this.wrapper.children().first());\n              }\n            }\n          });\n          ui.plugin(Menu);\n          ui.plugin(ContextMenu);\n        })(window.kendo.jQuery);\n\n        return window.kendo;\n      }, __webpack_require__.amdD);\n      /***/\n\n    },\n\n    /***/\n    36765:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./kendo.data\");\n      /***/\n    },\n\n    /***/\n    79425:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./kendo.popup\");\n      /***/\n    }\n    /******/\n\n  };\n  /************************************************************************/\n\n  /******/\n  // The module cache\n\n  /******/\n\n  var __webpack_module_cache__ = {};\n  /******/\n\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n    // Check if module is in cache\n\n    /******/\n    var cachedModule = __webpack_module_cache__[moduleId];\n    /******/\n\n    if (cachedModule !== undefined) {\n      /******/\n      return cachedModule.exports;\n      /******/\n    }\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n\n    var module = __webpack_module_cache__[moduleId] = {\n      /******/\n      // no module.id needed\n\n      /******/\n      // no module.loaded needed\n\n      /******/\n      exports: {}\n      /******/\n\n    };\n    /******/\n\n    /******/\n    // Execute the module function\n\n    /******/\n\n    __webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n    /******/\n\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n\n    return module.exports;\n    /******/\n  }\n  /******/\n\n  /************************************************************************/\n\n  /******/\n\n  /* webpack/runtime/amd define */\n\n  /******/\n\n\n  !function () {\n    /******/\n    __webpack_require__.amdD = function () {\n      /******/\n      throw new Error('define cannot be used indirect');\n      /******/\n    };\n    /******/\n\n  }();\n  /******/\n\n  /************************************************************************/\n\n  /******/\n\n  /******/\n  // startup\n\n  /******/\n  // Load entry module and return exports\n\n  /******/\n  // This entry module used 'module' so it can't be inlined\n\n  /******/\n\n  var __webpack_exports__ = __webpack_require__(50535);\n  /******/\n\n\n  module.exports = __webpack_exports__;\n  /******/\n\n  /******/\n})();","map":{"version":3,"names":["__webpack_modules__","module","exports","__webpack_require__","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","f","define","apply","undefined","__meta__","id","name","category","description","depends","$","kendo","window","ui","activeElement","_activeElement","touch","support","mobileOS","isArray","Array","HierarchicalDataSource","data","MOUSEDOWN","CLICK","DELAY","SCROLLSPEED","extend","each","template","keys","Widget","excludedNodesRegExp","NS","IMG","OPEN","MENU","LINK","LINK_SELECTOR","ICON_SELECTOR","LAST","CLOSE","TIMER","FIRST","IMAGE","SELECT","ZINDEX","ACTIVATE","DEACTIVATE","POINTERDOWN","pointers","msPointers","allPointers","CHANGE","ERROR","TOUCHSTART","MOUSEENTER","MOUSELEAVE","MOUSEWHEEL","RESIZE","resize","SCROLLWIDTH","SCROLLHEIGHT","OFFSETWIDTH","OFFSETHEIGHT","POPUP_ID_ATTR","POPUP_OPENER_ATTR","DOCUMENT_ELEMENT","document","documentElement","KENDOPOPUP","HOVERSTATE","FOCUSEDSTATE","DISABLEDSTATE","SELECTEDSTATE","menuSelector","groupSelector","animationContainerSelector","popupSelector","allItemsSelector","disabledSelector","itemSelector","availableItemsSelector","linkSelector","exclusionSelector","templateSelector","scrollButtonSelector","touchPointerTypes","STRING","DATABOUND","ARIA_EXPANDED","ROLE","bindings","text","url","spriteCssClass","imageUrl","imageAttr","content","rendering","wrapperCssClass","group","item","result","index","enabled","firstLevel","length","cssClass","attr","hasOwnProperty","selected","itemCssAttributes","attributes","imageCssAttributes","imgAttributes","toJSON","contentCssAttributes","contentAttr","defaultClasses","textClass","arrowClass","horizontal","groupAttributes","expanded","groupCssClass","getEffectDirection","direction","root","split","replace","parseDirection","isRtl","output","origin","position","test","directions","reverse","join","contains","parent","child","e","updateItemClasses","omitWrap","addClass","children","filter","removeClass","empty","append","prop","contents","nodeName","match","nodeType","trim","nodeValue","wrapAll","idx","elm","wrap","updateArrow","updateFirstLast","find","remove","arrowCssClass","getArrowCssClass","hasClass","updateHasAriaPopup","parents","parentLi","eq","removeAttr","getParentLiItems","parentsUntil","storeItemSelectEventHandler","element","options","selectHandler","getItemSelectEventHandler","setItemData","items","i","select","isFunction","popupOpenerSelector","popupGroupSelector","selector","getChildPopups","currentPopup","overflowWrapper","childPopupOpener","opener","popupId","popup","push","popupParentItem","popupElement","itemPopup","overflowMenuParents","current","getParents","parentNode","is","elem","last","mousewheelDelta","delta","wheelDelta","Math","ceil","floor","detail","round","parentsScroll","scrollDirection","scroll","isNaN","isPointerTouch","originalEvent","pointerType","isTouch","ev","type","removeSpacesBetweenItems","ul","Menu","DataBoundWidget","init","that","fn","call","wrapper","_accessors","_templates","_dataSource","_updateClasses","_animations","nextItemZIndex","_tabindex","_initOverflow","_attachMenuEventsHandlers","openOnClick","clicked","_ariaId","format","notify","events","animation","open","duration","close","orientation","closeOnClick","hoverDelay","scrollable","popupCollision","_initData","dataSource","angular","elements","view","_overflowWrapper","_checkActiveProxy","_checkActiveElement","bind","on","_focusHandler","_click","_preventClose","_mouseenter","_mouseleave","_mousedown","_toggleHover","_keydown","_focus","_removeHoverItem","_mouseleavePopup","_mouseenterPopup","_documentClickHandler","_documentClick","_detachMenuEventsHandlers","off","isHorizontal","backwardBtn","forwardBtn","_openedPopups","_scrollWrapper","templates","scrollButton","add","appendTo","_initScrolling","initialWidth","outerWidth","initialCssWidth","style","width","setTimeout","_setOverflowWrapperWidth","_toggleScrollButtons","_popupsWrapper","wrapperCssWidth","css","wrapperWidth","menuWidth","borders","offsetWidth","clientWidth","min","_reinitOverflow","overflowChanged","distance","_destroyOverflow","popupWrapper","popupParentLi","unwrap","scrollElement","isNumeric","mouseWheelDistance","backward","forward","backwardDouble","forwardDouble","scrolling","touchEvents","value","scrollValue","finish","animate","mouseenterHandler","mousedownHandler","stop","currentTarget","trigger","stopPropagation","preventDefault","eventMap","down","ctrlKey","shiftKey","altKey","scrollSpeed","abs","_closeChildPopups","n","parseFloat","isFinite","currentScroll","scrollLeft","scrollTop","scrollSize","offset","toggle","setOptions","destroy","enable","_toggleDisabled","disable","attemptGetItem","candidate","referenceItem","inserted","_insert","_childPopupElement","insertBefore","before","insertAfter","after","groups","plain","isPlainObject","ObservableObject","groupData","renderGroup","ObservableArray","map","get","renderItem","charAt","parentItems","container","_openAfterLoad","dataItem","loaded","_loading","one","getByUid","ns","hasChildren","load","visiblePopups","closePopup","closest","siblings","li","clearTimeout","first","overflowPopup","_getPopup","_triggerEvent","windowHeight","height","setScrolling","maxHeight","_outerHeight","getShadows","bottom","overflow","nextZindex","zIndex","parentHorizontal","effects","openEffects","kendoPopup","activate","deactivate","_closing","sender","removeData","opacity","collision","anchor","_popupOpen","hide","mouseAndTouchPresent","_configurePopupOverflow","_hovered","_initPopupScrolling","popupOpener","_wrapPopupElement","groupId","Date","getTime","autosize","display","skipMouseEvents","scrollHeight","offsetHeight","_initPopupScrollButtons","scrollButtons","timeout","p","isEmptyObject","_closeParentPopups","_keyTriggered","_setPopupHeight","isFixed","popups","_initialHeight","location","_location","popupOuterHeight","popupOffsetTop","max","top","bottomScrollbar","innerHeight","canFit","dontClearClose","hasChildPopupsHovered","toString","isPopupMouseLeaved","_isRootItem","_forceClose","toggleClass","target","eventTarget","isEnter","indexOf","_closurePrevented","hoverItem","_hoverItem","_findRootParent","hasFocus","oldHoverItem","_oldHoverItem","nonContentGroupsSelector","matchesSelector","end","_itemHasChildren","pointerTouch","isParentClosing","delegateTarget","rootMenuItems","subMenuItems","relatedTarget","_","sibling","$window","stopImmediatePropagation","browser","msie","toElement","clientX","clientY","_closePopups","rootPopup","groupParent","innerPopup","_innerPopup","openHandle","targetElement","toUpperCase","formNode","link","itemElement","href","childGroup","childGroupVisible","targetHref","sampleHref","isLink","isLocalLink","isTargetLink","shouldCloseTheRootItem","_lastClickedElement","handled","_triggerSelect","childPopupId","_parentsUntil","enterKey","click","context","itemSelectEventData","_getEventData","isSelectItemDefaultPrevented","isDefaultPrevented","isSelectDefaultPrevented","eventData","_defaultPrevented","active","_moveHover","key","keyCode","belongsToVertical","ESC","_itemBelongsToVertival","RIGHT","LEFT","DOWN","_itemDown","UP","_itemUp","HOME","END","_itemEsc","ENTER","SPACEBAR","_moveHoverToRoot","TAB","menuIsVertical","nextItem","_scrollToItem","_itemRight","parentItem","nextAll","prevAll","_itemLeft","scrollDir","getSize","_outerWidth","currentScrollOffset","itemSize","itemOffset","ulSize","scrollButtonSize","itemPosition","_unbindDataSource","fields","field","create","_bindDataSource","fetch","_refreshHandler","refresh","_errorHandler","_error","unbind","findByUid","uid","wrapperElement","node","action","parentElement","itemsToUpdate","updateProxy","_updateItem","removeProxy","_removeItem","_appendItems","forEach","nextElement","next","textField","_fieldAccessor","fieldName","fieldBindings","count","x","expr","fieldAccessor","itemWrapper","arrow","sprite","menu","renderContent","dataContentField","subGroup","renderItems","html","len","ContextMenu","_marker","guid","substring","_popup","_wire","_initialWidth","showOn","alignToAnchor","copyAnchorStyles","_showProxy","userEvents","mousedown","_closeProxy","y","visible","kendoStop","left","_configurePopupScrolling","downEvent","_mousedownProxy","visibility","_setPopupWidth","windowWidth","popupOuterWidth","popupOffsetLeft","shadow","maxWidth","right","arguments","_closeTimeoutProxy","focus","_showHandler","event","pageX","pageY","_eventOrigin","_targetChild","_closeHandler","sameTarget","containment","normalClick","which","_preventProxy","UserEvents","allowSelection","_triggerProxy","noop","plugin","jQuery","amdD","require","__webpack_module_cache__","moduleId","cachedModule","Error","__webpack_exports__"],"sources":["C:/Users/abodean/restapi-nodejs/client/app-router/node_modules/@progress/kendo-ui/js/kendo.menu.js"],"sourcesContent":["/******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 50535:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(f, define) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(79425), __webpack_require__(36765) ], __WEBPACK_AMD_DEFINE_FACTORY__ = (f),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n})(function() {\n\nvar __meta__ = {\n    id: \"menu\",\n    name: \"Menu\",\n    category: \"web\",\n    description: \"The Menu widget displays hierarchical data as a multi-level menu.\",\n    depends: [ \"popup\", \"data\", \"data.odata\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        activeElement = kendo._activeElement,\n        touch = (kendo.support.touch && kendo.support.mobileOS),\n        isArray = Array.isArray,\n        HierarchicalDataSource = kendo.data.HierarchicalDataSource,\n        MOUSEDOWN = \"mousedown\",\n        CLICK = \"click\",\n        DELAY = 30,\n        SCROLLSPEED = 50,\n        extend = $.extend,\n        each = $.each,\n        template = kendo.template,\n        keys = kendo.keys,\n        Widget = ui.Widget,\n        excludedNodesRegExp = /^(ul|a|div)$/i,\n        NS = \".kendoMenu\",\n        IMG = \"img\",\n        OPEN = \"open\",\n        MENU = \"k-menu\",\n        LINK = \"k-link k-menu-link\",\n        LINK_SELECTOR = \".k-link\",\n        ICON_SELECTOR = \".k-menu-expand-arrow-icon\",\n        LAST = \"k-last\",\n        CLOSE = \"close\",\n        TIMER = \"timer\",\n        FIRST = \"k-first\",\n        IMAGE = \"k-image\",\n        SELECT = \"select\",\n        ZINDEX = \"zIndex\",\n        ACTIVATE = \"activate\",\n        DEACTIVATE = \"deactivate\",\n        POINTERDOWN = \"touchstart\" + NS + \" MSPointerDown\" + NS + \" pointerdown\" + NS,\n        pointers = kendo.support.pointers,\n        msPointers = kendo.support.msPointers,\n        allPointers = msPointers || pointers,\n        CHANGE = \"change\",\n        ERROR = \"error\",\n        TOUCHSTART = kendo.support.touch ? \"touchstart\" : \"\",\n        MOUSEENTER = pointers ? \"pointerover\" : (msPointers ? \"MSPointerOver\" : \"mouseenter\"),\n        MOUSELEAVE = pointers ? \"pointerout\" : (msPointers ? \"MSPointerOut\" : \"mouseleave\"),\n        MOUSEWHEEL = \"DOMMouseScroll\" + NS + \" mousewheel\" + NS,\n        RESIZE = kendo.support.resize + NS,\n        SCROLLWIDTH = \"scrollWidth\",\n        SCROLLHEIGHT = \"scrollHeight\",\n        OFFSETWIDTH = \"offsetWidth\",\n        OFFSETHEIGHT = \"offsetHeight\",\n        POPUP_ID_ATTR = \"group\",\n        POPUP_OPENER_ATTR = \"groupparent\",\n        DOCUMENT_ELEMENT = $(document.documentElement),\n        KENDOPOPUP = \"kendoPopup\",\n        HOVERSTATE = \"k-hover\",\n        FOCUSEDSTATE = \"k-focus\",\n        DISABLEDSTATE = \"k-disabled\",\n        SELECTEDSTATE = \"k-selected\",\n        menuSelector = \".k-menu\",\n        groupSelector = \".k-menu-group\",\n        animationContainerSelector = \".k-animation-container\",\n        popupSelector = groupSelector + \",\" + animationContainerSelector,\n        allItemsSelector = \":not(.k-list) > .k-item:not([role='treeitem'])\",\n        disabledSelector = \".k-item.k-disabled\",\n        itemSelector = \".k-item\",\n        availableItemsSelector = \".k-item:not(.k-disabled)\",\n        linkSelector = \".k-item:not(.k-disabled) > .k-link\",\n        exclusionSelector = \":not(.k-item.k-separator)\",\n        templateSelector = \"div:not(.k-animation-container,.k-list-container)\",\n        scrollButtonSelector = \".k-menu-scroll-button\",\n        touchPointerTypes = { \"2\": 1, \"touch\": 1 },\n        STRING = \"string\",\n        DATABOUND = \"dataBound\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ROLE = \"role\",\n\n        bindings = {\n            text: \"dataTextField\",\n            url: \"dataUrlField\",\n            spriteCssClass: \"dataSpriteCssClassField\",\n            imageUrl: \"dataImageUrlField\",\n            imageAttr: \"dataImageAttrField\",\n            content: \"dataContentField\"\n        },\n\n        rendering = {\n            wrapperCssClass: function(group, item) {\n                var result = \"k-item k-menu-item\",\n                    index = item.index;\n\n                if (item.enabled === false) {\n                    result += \" k-disabled\";\n                }\n\n                if (group.firstLevel && index === 0) {\n                    result += \" k-first\";\n                }\n\n                if (index == group.length - 1) {\n                    result += \" k-last\";\n                }\n\n                if (item.cssClass) {\n                    result += \" \" + item.cssClass;\n                }\n\n                if (item.attr && item.attr.hasOwnProperty(\"class\")) {\n                    result += \" \" + item.attr[\"class\"];\n                }\n\n                if (item.selected) {\n                    result += \" \" + SELECTEDSTATE;\n                }\n\n                return result;\n            },\n\n            itemCssAttributes: function(item) {\n                var result = \"\";\n                var attributes = item.attr || {};\n\n                for (var attr in attributes) {\n                    if (attributes.hasOwnProperty(attr) && attr !== \"class\") {\n                        result += attr + \"=\\\"\" + attributes[attr] + \"\\\" \";\n                    }\n                }\n\n                return result;\n            },\n\n            imageCssAttributes: function(imgAttributes) {\n                var result = \"\";\n                var attributes = imgAttributes && imgAttributes.toJSON ? imgAttributes.toJSON() : {};\n\n                if (!attributes['class']) {\n                    attributes['class'] = IMAGE;\n                } else {\n                    attributes['class'] += \" \" + IMAGE;\n                }\n\n                for (var attr in attributes) {\n                    if (attributes.hasOwnProperty(attr)) {\n                        result += attr + \"=\\\"\" + attributes[attr] + \"\\\" \";\n                    }\n                }\n\n                return result;\n            },\n\n            contentCssAttributes: function(item) {\n                var result = \"\";\n                var attributes = item.contentAttr || {};\n                var defaultClasses = \"k-content k-group k-menu-group k-menu-group-md\";\n\n                if (!attributes['class']) {\n                    attributes['class'] = defaultClasses;\n                } else {\n                    attributes['class'] += \" \" + defaultClasses;\n                }\n\n                for (var attr in attributes) {\n                    if (attributes.hasOwnProperty(attr)) {\n                        result += attr + \"=\\\"\" + attributes[attr] + \"\\\" \";\n                    }\n                }\n\n                return result;\n            },\n\n            textClass: function() {\n                return LINK;\n            },\n\n            arrowClass: function(item, group) {\n                var result = \"k-menu-expand-arrow-icon k-icon\";\n\n                if (group.horizontal) {\n                    result += \" k-i-arrow-s\";\n                } else {\n                    result += \" k-i-arrow-e\";\n                }\n\n                return result;\n            },\n\n            groupAttributes: function(group) {\n                return group.expanded !== true ? \" style='display:none'\" : \"\";\n            },\n\n            groupCssClass: function() {\n                return \"k-group k-menu-group k-menu-group-md\";\n            },\n\n            content: function(item) {\n                return item.content ? item.content : \"&nbsp;\";\n            }\n    };\n\n    function getEffectDirection(direction, root) {\n        direction = direction.split(\" \")[!root + 0] || direction;\n        return direction.replace(\"top\", \"up\").replace(\"bottom\", \"down\");\n    }\n\n    function parseDirection(direction, root, isRtl) {\n        direction = direction.split(\" \")[!root + 0] || direction;\n        var output = { origin: [\"bottom\", (isRtl ? \"right\" : \"left\")], position: [\"top\", (isRtl ? \"right\" : \"left\")] },\n            horizontal = /left|right/.test(direction);\n\n        if (horizontal) {\n            output.origin = [ \"top\", direction ];\n            output.position[1] = kendo.directions[direction].reverse;\n        } else {\n            output.origin[0] = direction;\n            output.position[0] = kendo.directions[direction].reverse;\n        }\n\n        output.origin = output.origin.join(\" \");\n        output.position = output.position.join(\" \");\n\n        return output;\n    }\n\n    function contains(parent, child) {\n        try {\n            return $.contains(parent, child);\n        } catch (e) {\n            return false;\n        }\n    }\n\n    function updateItemClasses(item) {\n        item = $(item);\n        var omitWrap = item.attr(kendo.attr(\"omit-wrap\"));\n\n        if (omitWrap) {\n            return;\n        }\n\n        item.addClass(\"k-item k-menu-item\")\n            .children(IMG)\n            .addClass(IMAGE);\n\n        item\n            .children(\"a\")\n            .addClass(LINK)\n            .children(IMG)\n            .addClass(IMAGE);\n\n        item\n            .filter(\":not([disabled])\");\n\n        item\n            .filter(\".k-separator\")\n            .removeClass(\"k-menu-item\")\n            .addClass(\"k-menu-separator\")\n            .empty()\n            .append(\"&nbsp;\");\n\n        item\n            .filter(\"li[disabled]\")\n            .addClass(DISABLEDSTATE)\n            .prop(\"disabled\", false)\n            .attr(\"aria-disabled\", true);\n\n        if (!item.filter(\"[role]\").length) {\n            item.attr(ROLE, \"menuitem\");\n        }\n\n        if (!item.children(LINK_SELECTOR).length) {\n            item.contents() // exclude groups, real links, templates and empty text nodes\n                .filter(function() { return (!this.nodeName.match(excludedNodesRegExp) && !(this.nodeType === 3 && !kendo.trim(this.nodeValue))); })\n                .wrapAll(\"<span class='\" + LINK + \"'></span>\")\n                .filter(function(idx, elm) { return elm.nodeType === 3; })\n                .wrap(\"<span class='k-menu-link-text'></span>\");\n        }\n\n        updateArrow(item);\n        updateFirstLast(item);\n    }\n\n    function updateArrow(item) {\n        item = $(item);\n\n        item.find(\"> .k-link > .k-menu-expand-arrow > [class*=k-i-arrow]:not(.k-sprite)\").parent().remove();\n\n        item.filter(\":has(.k-menu-group)\")\n            .children(\".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))\")\n            .each(function() {\n                var item = $(this),\n                    arrowCssClass = getArrowCssClass(item);\n\n                item.append(\"<span class='k-menu-expand-arrow'><span class='k-menu-expand-arrow-icon k-icon \" + arrowCssClass + \"'></span></span>\");\n            });\n    }\n\n    function getArrowCssClass(item) {\n        var arrowCssClass,\n            parent = item.parent().parent(),\n            isRtl = kendo.support.isRtl(parent);\n\n        if (parent.hasClass(MENU + \"-horizontal\")) {\n            arrowCssClass = \"k-i-arrow-s\";\n        } else {\n            if (isRtl) {\n                arrowCssClass = \"k-i-arrow-w\";\n            }\n            else {\n                arrowCssClass = \"k-i-arrow-e\";\n            }\n        }\n        return arrowCssClass;\n    }\n\n    function updateFirstLast(item) {\n        item = $(item);\n\n        item.filter(\".k-first:not(:first-child)\").removeClass(FIRST);\n        item.filter(\".k-last:not(:last-child)\").removeClass(LAST);\n        item.filter(\":first-child\").addClass(FIRST);\n        item.filter(\":last-child\").addClass(LAST);\n    }\n\n    function updateHasAriaPopup(parents) {\n        if (parents && parents.length) {\n            for (var index in parents) {\n                var parentLi = parents.eq(index);\n                if (parentLi.find(\"ul\").length) {\n                    parentLi.attr(\"aria-haspopup\", true);\n                } else {\n                    parentLi.removeAttr(\"aria-haspopup\");\n                }\n            }\n        }\n    }\n\n    function getParentLiItems(group) {\n        if (!group.hasClass(MENU)) {\n            return group.parentsUntil(\".\" + MENU, \"li\");\n        }\n    }\n\n    function storeItemSelectEventHandler(element, options) {\n        var selectHandler = getItemSelectEventHandler(options);\n        if (selectHandler) {\n            setItemData(element, selectHandler);\n        }\n\n        if (options.items) {\n            $(element).children(\"ul\").children(\"li\").each(function(i) {\n                storeItemSelectEventHandler(this, options.items[i]);\n            });\n        }\n    }\n\n    function setItemData(element, selectHandler) {\n        $(element).children(\".k-link\").data({\n            selectHandler: selectHandler\n        });\n    }\n\n    function getItemSelectEventHandler(options) {\n        var selectHandler = options.select,\n            isFunction = kendo.isFunction;\n\n        if (selectHandler && isFunction(selectHandler)) {\n            return selectHandler;\n        }\n        return null;\n    }\n\n    function popupOpenerSelector(id) {\n        return id ? \"li[data-groupparent='\" + id + \"']\" : \"li[data-groupparent]\";\n    }\n    function popupGroupSelector(id) {\n        var selector = id ? \"[data-group='\" + id + \"']\" : \"[data-group]\";\n        return \"ul\" + selector + \",div\" + selector;\n    }\n    function getChildPopups(currentPopup, overflowWrapper) {\n        var childPopupOpener = currentPopup.find(popupOpenerSelector());\n        var result = [];\n        childPopupOpener.each(function(i, opener) {\n            opener = $(opener);\n            var popupId = opener.data(POPUP_OPENER_ATTR);\n            var popup = currentPopup;\n            while (popupId) {\n                popup = overflowWrapper.find(popupGroupSelector(popupId) + \":visible\");\n                if (popup.length) {\n                    result.push(popup);\n                }\n                opener = popup.find(popupOpenerSelector());\n                popupId = opener.data(POPUP_OPENER_ATTR);\n            }\n        });\n\n        return result;\n    }\n\n    function popupParentItem(popupElement, overflowWrapper) {\n        var popupId = popupElement.data(POPUP_ID_ATTR);\n        return popupId ? overflowWrapper.find(popupOpenerSelector(popupId)) : $([]);\n    }\n\n    function itemPopup(item, overflowWrapper) {\n        var popupId = item.data(POPUP_OPENER_ATTR);\n        return popupId ? overflowWrapper.children(animationContainerSelector).children(popupGroupSelector(popupId)) : $([]);\n    }\n\n    function overflowMenuParents(current, overflowWrapper) {\n        var parents = [];\n        var getParents = function(item) {\n            while (item.parentNode && !overflowWrapper.is(item.parentNode)) {\n                parents.push(item.parentNode);\n                item = item.parentNode;\n            }\n        };\n        var elem = current[0] || current;\n        getParents(elem);\n        var last = parents[parents.length - 1];\n        while ($(last).is(animationContainerSelector)) {\n            var popupElement = $(last).children(\"ul\");\n            elem = popupParentItem(popupElement, overflowWrapper)[0];\n            if (!elem) {\n                break;\n            }\n            parents.push(elem);\n            getParents(elem);\n            last = parents[parents.length - 1];\n        }\n        return parents;\n    }\n\n    function mousewheelDelta(e) {\n        var delta = 0;\n\n        if (e.wheelDelta) {\n            delta = -e.wheelDelta / 120;\n            delta = delta > 0 ? Math.ceil(delta) : Math.floor(delta);\n        }\n\n        if (e.detail) {\n            delta = Math.round(e.detail / 3);\n        }\n\n        return delta;\n    }\n\n    function parentsScroll(current, scrollDirection) {\n        var scroll = 0;\n        var parent = current.parentNode;\n        while (parent && !isNaN(parent[scrollDirection])) {\n            scroll += parent[scrollDirection];\n            parent = parent.parentNode;\n        }\n        return scroll;\n    }\n\n    function isPointerTouch(e) {\n        return allPointers && e.originalEvent && e.originalEvent.pointerType in touchPointerTypes;\n    }\n\n    function isTouch(e) {\n        var ev = e.originalEvent;\n        return touch && /touch/i.test(ev.type || \"\");\n    }\n\n    function removeSpacesBetweenItems(ul) {\n        ul.contents().filter(function() { return this.nodeName != \"LI\"; }).remove();\n    }\n\n    var Menu = kendo.ui.DataBoundWidget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.wrapper = that.element;\n            options = that.options;\n            that._accessors();\n            that._templates();\n            that._dataSource();\n\n            that._updateClasses();\n\n            that._animations(options);\n\n            that.nextItemZIndex = 100;\n\n            that._tabindex();\n\n            that._initOverflow(options);\n\n            that._attachMenuEventsHandlers();\n\n            if (options.openOnClick) {\n                that.clicked = false;\n            }\n\n            element.attr(ROLE, \"menubar\");\n\n            if (element[0].id) {\n                that._ariaId = kendo.format(\"{0}_mn_active\", element[0].id);\n            }\n\n            kendo.notify(that);\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            ACTIVATE,\n            DEACTIVATE,\n            SELECT,\n            DATABOUND\n        ],\n\n        options: {\n            name: \"Menu\",\n            animation: {\n                open: {\n                    duration: 200\n                },\n                close: { // if close animation effects are defined, they will be used instead of open.reverse\n                    duration: 100\n                }\n            },\n            orientation: \"horizontal\",\n            direction: \"default\",\n            openOnClick: false,\n            closeOnClick: true,\n            hoverDelay: 100,\n            scrollable: false,\n            popupCollision: undefined\n        },\n\n        _initData: function() {\n            var that = this;\n\n            if (that.dataSource) {\n                that.angular(\"cleanup\", function() {\n                    return {\n                        elements: that.element.children()\n                    };\n                });\n                that.element.empty();\n\n                that.append(that.dataSource.view(), that.element);\n                that.angular(\"compile\", function() {\n                    return {\n                        elements: that.element.children()\n                    };\n                });\n            }\n        },\n\n        _attachMenuEventsHandlers: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var overflowWrapper = that._overflowWrapper();\n\n            that._checkActiveProxy = that._checkActiveElement.bind(that);\n\n            (overflowWrapper || element).on(POINTERDOWN, itemSelector, that._focusHandler.bind(that))\n                   .on(CLICK + NS, disabledSelector, false)\n                   .on(CLICK + NS, itemSelector, that._click.bind(that))\n                   .on(POINTERDOWN + \" \" + MOUSEDOWN + NS, \".k-content\", that._preventClose.bind(that))\n                   .on(MOUSEENTER + NS, availableItemsSelector, that._mouseenter.bind(that))\n                   .on(MOUSELEAVE + NS, availableItemsSelector, that._mouseleave.bind(that))\n                   .on(MOUSEDOWN + NS, availableItemsSelector, that._mousedown.bind(that))\n                   .on(TOUCHSTART + NS + \" \" + MOUSEENTER + NS + \" \" + MOUSELEAVE + NS + \" \" +\n                       MOUSEDOWN + NS + \" \" + CLICK + NS, linkSelector, that._toggleHover.bind(that));\n\n            element.on(\"keydown\" + NS, that._keydown.bind(that))\n                   .on(\"focus\" + NS, that._focus.bind(that))\n                   .on(\"focus\" + NS, \".k-content\", that._focus.bind(that))\n                   .on(\"blur\" + NS, that._removeHoverItem.bind(that))\n                   .on(\"blur\" + NS, \"[tabindex]\", that._checkActiveProxy);\n\n            if (overflowWrapper) {\n                overflowWrapper\n                    .on(MOUSELEAVE + NS, popupSelector, that._mouseleavePopup.bind(that))\n                    .on(MOUSEENTER + NS, popupSelector, that._mouseenterPopup.bind(that));\n            }\n\n            if (options.openOnClick) {\n                that._documentClickHandler = that._documentClick.bind(that);\n                $(document).on(\"click\", that._documentClickHandler);\n            }\n        },\n\n        _detachMenuEventsHandlers: function() {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n\n            if (overflowWrapper) {\n                overflowWrapper.off(NS);\n            }\n\n            that.element.off(NS);\n\n            if (that._documentClickHandler) {\n                $(document).off(\"click\", that._documentClickHandler);\n            }\n        },\n\n        _initOverflow: function(options) {\n            var that = this;\n            var isHorizontal = options.orientation == \"horizontal\";\n            var backwardBtn, forwardBtn;\n\n            if (options.scrollable) {\n                that._openedPopups = {};\n                that._scrollWrapper = that.element.wrap(\"<div class='k-menu-scroll-wrapper k-\" + options.orientation + \"'></div>\").parent();\n                if (isHorizontal) {\n                    removeSpacesBetweenItems(that.element);\n                }\n\n                backwardBtn = $(that.templates.scrollButton({ direction: isHorizontal ? \"left\" : \"up\" }));\n                forwardBtn = $(that.templates.scrollButton({ direction: isHorizontal ? \"right\" : \"down\" }));\n                backwardBtn.add(forwardBtn).appendTo(that._scrollWrapper);\n\n                that._initScrolling(that.element, backwardBtn, forwardBtn, isHorizontal);\n\n                var initialWidth = that.element.outerWidth();\n                var initialCssWidth = that.element[0].style.width;\n                initialCssWidth = initialCssWidth === \"auto\" ? \"\" : initialCssWidth;\n\n                if (isHorizontal) {\n                    $(window).on(RESIZE, function() {\n                        setTimeout(function() {\n                            that._setOverflowWrapperWidth(initialWidth, initialCssWidth);\n                            that._toggleScrollButtons(that.element, backwardBtn, forwardBtn, isHorizontal);\n                        }, 300);\n                    });\n                }\n\n                that._setOverflowWrapperWidth(initialWidth, initialCssWidth);\n                that._toggleScrollButtons(that.element, backwardBtn, forwardBtn, isHorizontal);\n            }\n        },\n\n        _overflowWrapper: function() {\n            return this._scrollWrapper || this._popupsWrapper;\n        },\n\n        _setOverflowWrapperWidth: function(initialWidth, initialCssWidth) {\n            var that = this;\n            var wrapperCssWidth = that._scrollWrapper.css(\"width\");\n\n            that._scrollWrapper.css({ width: \"\" });\n            var wrapperWidth = that._scrollWrapper.outerWidth();\n            that._scrollWrapper.css({ width: wrapperCssWidth });\n\n            var menuWidth = that.element.outerWidth();\n            var borders = that.element[0].offsetWidth - that.element[0].clientWidth;\n\n            if (menuWidth != wrapperWidth && wrapperWidth > 0) {\n                var width = initialCssWidth ? Math.min(initialWidth, wrapperWidth) : wrapperWidth;\n                that.element.width(width - borders);\n                that._scrollWrapper.width(width);\n            }\n        },\n\n        _reinitOverflow: function(options) {\n            var that = this;\n            var overflowChanged = ((options.scrollable && !that.options.scrollable) || (!options.scrollable && that.options.scrollable)) ||\n                (options.scrollable && that.options.scrollable && options.scrollable.distance != that.options.scrollable.distance) ||\n                options.orientation != that.options.orientation;\n\n            if (overflowChanged) {\n                that._detachMenuEventsHandlers();\n                that._destroyOverflow();\n                that._initOverflow(options);\n                that._attachMenuEventsHandlers();\n            }\n        },\n\n        _destroyOverflow: function() {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            if (overflowWrapper) {\n                overflowWrapper.off(NS);\n                overflowWrapper.find(scrollButtonSelector).off(NS).remove();\n                overflowWrapper.children(animationContainerSelector).each(function(i, popupWrapper) {\n                    var ul = $(popupWrapper).children(groupSelector);\n                    ul.off(MOUSEWHEEL);\n                    var popupParentLi = popupParentItem(ul, overflowWrapper);\n                    if (popupParentLi.length) {\n                        popupParentLi.append(popupWrapper);\n                    }\n                });\n\n                overflowWrapper.find(popupOpenerSelector()).removeAttr(\"data-groupparent\");\n                overflowWrapper.find(popupGroupSelector()).removeAttr(\"data-group\");\n                that.element.off(MOUSEWHEEL);\n                $(window).off(RESIZE);\n                overflowWrapper.contents().unwrap();\n\n                that._scrollWrapper = that._popupsWrapper = that._openedPopups = undefined;\n            }\n        },\n\n        _initScrolling: function(scrollElement, backwardBtn, forwardBtn, isHorizontal) {\n            var that = this;\n            var scrollable = that.options.scrollable;\n            var distance = that.isNumeric(scrollable.distance) ? scrollable.distance : SCROLLSPEED;\n            var mouseWheelDistance = distance / 2;\n            var backward = \"-=\" + distance;\n            var forward = \"+=\" + distance;\n            var backwardDouble = \"-=\" + distance * 2;\n            var forwardDouble = \"+=\" + distance * 2;\n            var scrolling = false;\n            var touchEvents = false;\n\n            var scroll = function(value) {\n                var scrollValue = isHorizontal ? { \"scrollLeft\": value } : { \"scrollTop\": value };\n                scrollElement.finish().animate(scrollValue, \"fast\", \"linear\", function() {\n                    if (scrolling) {\n                        scroll(value);\n                    }\n                });\n                that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n            };\n\n            var mouseenterHandler = function(e) {\n                if (!scrolling && !touchEvents) {\n                    scroll(e.data.direction);\n                    scrolling = true;\n                }\n            };\n\n            var mousedownHandler = function(e) {\n                var scrollValue = isHorizontal ? { \"scrollLeft\": e.data.direction } : { \"scrollTop\": e.data.direction };\n                touchEvents = isTouch(e) || isPointerTouch(e);\n                scrollElement.stop().animate(scrollValue, \"fast\", \"linear\", function() {\n                    if (!touchEvents) {\n                        $(e.currentTarget).trigger(MOUSEENTER);\n                    } else {\n                         that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n                         scrolling = true;\n                    }\n                });\n                scrolling = false;\n\n                e.stopPropagation();\n                e.preventDefault();\n            };\n\n            backwardBtn.on(MOUSEENTER + NS, { direction: backward }, mouseenterHandler)\n                .on(kendo.eventMap.down + NS, { direction: backwardDouble }, mousedownHandler);\n\n            forwardBtn.on(MOUSEENTER + NS, { direction: forward }, mouseenterHandler)\n                .on(kendo.eventMap.down + NS, { direction: forwardDouble }, mousedownHandler);\n\n            backwardBtn.add(forwardBtn)\n                .on(MOUSELEAVE + NS, function() {\n                    scrollElement.stop();\n                    scrolling = false;\n                    that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n                });\n\n            scrollElement.on(MOUSEWHEEL, function(e) {\n                if (!e.ctrlKey && !e.shiftKey && !e.altKey) {\n                    var wheelDelta = mousewheelDelta(e.originalEvent);\n                    var scrollSpeed = Math.abs(wheelDelta) * mouseWheelDistance;\n                    var value = (wheelDelta > 0 ? \"+=\" : \"-=\") + scrollSpeed;\n                    var scrollValue = isHorizontal ? { \"scrollLeft\": value } : { \"scrollTop\": value };\n\n                    that._closeChildPopups(scrollElement);\n\n                    scrollElement.finish().animate(scrollValue, \"fast\", \"linear\", function() {\n                        that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n                    });\n                    e.preventDefault();\n                }\n            });\n        },\n\n        isNumeric: function(n) {\n            return !isNaN(parseFloat(n)) && isFinite(n);\n        },\n\n        _toggleScrollButtons: function(scrollElement, backwardBtn, forwardBtn, horizontal) {\n            var currentScroll = horizontal ? kendo.scrollLeft(scrollElement) : scrollElement.scrollTop();\n            var scrollSize = horizontal ? SCROLLWIDTH : SCROLLHEIGHT;\n            var offset = horizontal ? OFFSETWIDTH : OFFSETHEIGHT;\n\n            backwardBtn.toggle(currentScroll !== 0);\n            forwardBtn.toggle(currentScroll < scrollElement[0][scrollSize] - scrollElement[0][offset] - 1);\n        },\n\n        setOptions: function(options) {\n            var animation = this.options.animation;\n\n            this._animations(options);\n\n            options.animation = extend(true, animation, options.animation);\n\n            if (\"dataSource\" in options) {\n                this._dataSource(options);\n            }\n\n            this._updateClasses();\n            this._reinitOverflow(options);\n\n            Widget.fn.setOptions.call(this, options);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that._detachMenuEventsHandlers();\n\n            that._destroyOverflow();\n\n            kendo.destroy(that.element);\n        },\n\n        enable: function(element, enable) {\n            this._toggleDisabled(element, enable !== false);\n\n            return this;\n        },\n\n        disable: function(element) {\n            this._toggleDisabled(element, false);\n\n            return this;\n        },\n\n        attemptGetItem: function(candidate) {\n            candidate = candidate || this.element;\n            var item = this.element.find(candidate);\n            var overflowWrapper = this._overflowWrapper();\n\n            if (item.length || candidate === this.element) {\n                return item;\n            } else if (overflowWrapper) {\n                return overflowWrapper.find(candidate);\n            } else {\n                return $();\n            }\n        },\n\n        append: function(item, referenceItem) {\n            referenceItem = this.attemptGetItem(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.length ? this._childPopupElement(referenceItem) : null);\n\n            each(inserted.items, function(i) {\n                inserted.group.append(this);\n                updateArrow(this);\n                storeItemSelectEventHandler(this, item[i] || item);\n            });\n\n            updateArrow(referenceItem);\n            updateFirstLast(inserted.group.find(\".k-first, .k-last\").add(inserted.items));\n            updateHasAriaPopup(getParentLiItems(inserted.group));\n\n            return this;\n        },\n\n        insertBefore: function(item, referenceItem) {\n            referenceItem = this.attemptGetItem(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.parent());\n\n            each(inserted.items, function(i) {\n                referenceItem.before(this);\n                updateArrow(this);\n                updateFirstLast(this);\n                storeItemSelectEventHandler(this, item[i] || item);\n            });\n\n            updateFirstLast(referenceItem);\n\n            return this;\n        },\n\n        insertAfter: function(item, referenceItem) {\n            referenceItem = this.attemptGetItem(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.parent());\n\n            each(inserted.items, function(i) {\n                referenceItem.after(this);\n                updateArrow(this);\n                updateFirstLast(this);\n                storeItemSelectEventHandler(this, item[i] || item);\n            });\n\n            updateFirstLast(referenceItem);\n\n            return this;\n        },\n\n        _insert: function(item, referenceItem, parent) {\n            var that = this,\n                items, groups;\n\n            if (!referenceItem || !referenceItem.length) {\n                parent = that.element;\n            }\n\n            var plain = $.isPlainObject(item) || item instanceof kendo.data.ObservableObject,\n                groupData = {\n                    firstLevel: parent.hasClass(MENU),\n                    horizontal: parent.hasClass(MENU + \"-horizontal\"),\n                    expanded: true,\n                    length: parent.children().length\n                };\n\n            if (referenceItem && !parent.length) {\n                parent = $(that.renderGroup({ group: groupData, options: that.options })).appendTo(referenceItem);\n            }\n\n            if (plain || isArray(item) || item instanceof kendo.data.ObservableArray) { // is JSON\n                items = $($.map(plain ? [ item ] : item, function(value, idx) {\n                            if (typeof value === \"string\") {\n                                return $(value).get();\n                            } else {\n                                return $(that.renderItem({\n                                    group: groupData,\n                                    item: extend(value, { index: idx })\n                                })).get();\n                            }\n                        }));\n            } else {\n                if (typeof item == \"string\" && item.charAt(0) != \"<\") {\n                    items = that.element.find(item);\n                } else {\n                    items = $(item);\n                }\n\n                groups = items.find(\"> ul\")\n                                .addClass(\"k-menu-group k-menu-group-md\")\n                                .attr(ROLE, \"menu\");\n\n                items = items.filter(\"li\");\n\n                items.add(groups.find(\"> li\")).each(function() {\n                    updateItemClasses(this);\n                });\n            }\n\n            return { items: items, group: parent };\n        },\n\n        remove: function(element) {\n            element = this.attemptGetItem(element);\n\n            var that = this,\n                parent = element.parentsUntil(that.element, allItemsSelector),\n                group = element.parent(\"ul:not(.k-menu)\");\n\n            element.remove();\n\n            if (group && !group.children(allItemsSelector).length) {\n                var parentItems = getParentLiItems(group);\n\n                var container = group.parent(animationContainerSelector);\n\n                if (container.length) {\n                    container.remove();\n                } else {\n                    group.remove();\n                }\n\n                updateHasAriaPopup(parentItems);\n            }\n\n            if (parent.length) {\n                parent = parent.eq(0);\n\n                updateArrow(parent);\n                updateFirstLast(parent);\n            }\n\n            return that;\n        },\n\n        _openAfterLoad: function(element, dataItem) {\n            var that = this;\n            if (dataItem.loaded()) {\n                that.open(element);\n                that._loading = false;\n            } else {\n                dataItem.one(CHANGE, function() {\n                    element.find(ICON_SELECTOR).removeClass(\"k-i-loading\");\n                    if (that._loading) {\n                        that.open(element);\n                        that._loading = false;\n                    }\n                });\n            }\n        },\n\n        open: function(element) {\n            var that = this;\n            var options = that.options;\n            var horizontal = options.orientation == \"horizontal\";\n            var direction = options.direction;\n            var isRtl = kendo.support.isRtl(that.wrapper);\n            var overflowWrapper = that._overflowWrapper();\n            element = (overflowWrapper || that.element).find(element);\n\n            var dataItem = that.dataSource && that.dataSource.getByUid(element.data(kendo.ns + \"uid\"));\n\n            if (dataItem && dataItem.hasChildren && !dataItem.loaded() && !that._loading) {\n                that._loading = true;\n                element.find(ICON_SELECTOR).addClass(\"k-i-loading\");\n                dataItem.load();\n                that._openAfterLoad(element, dataItem);\n                return;\n            }\n\n            if (/^(top|bottom|default)$/.test(direction)) {\n                if (isRtl) {\n                    direction = horizontal ? (direction + \" left\").replace(\"default\", \"bottom\") : \"left\";\n                } else {\n                    direction = horizontal ? (direction + \" right\").replace(\"default\", \"bottom\") : \"right\";\n                }\n            }\n\n            var visiblePopups = \">.k-popup:visible,>.k-animation-container>.k-popup:visible\";\n            var closePopup = function() {\n                var popup = $(this).data(KENDOPOPUP);\n                if (popup) {\n                    // Use the built-in close method to play the hoverDelay from the options\n                    that.close($(this).closest(\"li.k-item\"), true);\n                }\n            };\n\n            element.siblings()\n                   .find(visiblePopups)\n                   .each(closePopup);\n\n            if (overflowWrapper) {\n                element.find(visiblePopups).each(closePopup);\n            }\n\n            if (that.options.openOnClick) {\n                that.clicked = true;\n            }\n\n            element.each(function() {\n                var li = $(this);\n\n                clearTimeout(li.data(TIMER));\n\n                li.data(TIMER, setTimeout(function() {\n                    var ul = li.find(\"> .k-menu-group, > .k-animation-container > .k-menu-group\").filter(\":hidden\").first();\n                    var popup;\n                    var overflowPopup;\n\n                    if (!ul[0] && overflowWrapper) {\n                        overflowPopup = that._getPopup(li);\n                        ul = overflowPopup && overflowPopup.element;\n                    }\n                    if (ul.is(\":visible\")) {\n                        return;\n                    }\n\n                    if (ul[0] && that._triggerEvent({ item: li[0], type: OPEN }) === false) {\n\n                        if (!ul.find(\".k-menu-group\")[0] && ul.children(\".k-item\").length > 1) {\n                            var windowHeight = $(window).height(),\n                                setScrolling = function() {\n                                    ul.css({ maxHeight: windowHeight - (kendo._outerHeight(ul) - ul.height()) - kendo.getShadows(ul).bottom, overflow: \"auto\" });\n                                };\n\n                            setScrolling();\n                        } else {\n                            ul.css({ maxHeight: \"\", overflow: \"\" });\n                        }\n\n                        li.data(ZINDEX, li.css(ZINDEX));\n                        var nextZindex = that.nextItemZIndex++;\n                        li.css(ZINDEX, nextZindex);\n\n                        if (that.options.scrollable) {\n                            li.parent().siblings(scrollButtonSelector).css({ zIndex: ++nextZindex });\n                        }\n\n                        popup = ul.data(KENDOPOPUP);\n                        var root = li.parent().hasClass(MENU),\n                            parentHorizontal = root && horizontal,\n                            directions = parseDirection(direction, root, isRtl),\n                            effects = options.animation.open.effects,\n                            openEffects = effects !== undefined ? effects : \"slideIn:\" + getEffectDirection(direction, root);\n\n                        if (!popup) {\n                            popup = ul.kendoPopup({\n                                activate: function() { that._triggerEvent({ item: this.wrapper.parent(), type: ACTIVATE }); },\n                                deactivate: function(e) {\n                                    that._closing = false;\n                                    e.sender.element // Restore opacity after fade.\n                                        .removeData(\"targetTransform\")\n                                        .css({ opacity: \"\" });\n                                    that._triggerEvent({ item: this.wrapper.parent(), type: DEACTIVATE });\n                                },\n                                origin: directions.origin,\n                                position: directions.position,\n                                collision: options.popupCollision !== undefined ? options.popupCollision : (parentHorizontal ? \"fit\" : \"fit flip\"),\n                                anchor: li,\n                                appendTo: overflowWrapper || li,\n                                animation: {\n                                    open: extend(true, { effects: openEffects }, options.animation.open),\n                                    close: options.animation.close\n                                },\n                                open: that._popupOpen.bind(that),\n                                close: function(e) {\n                                    that._closing = e.sender.element;\n                                    var li = e.sender.wrapper.parent();\n\n                                    if (overflowWrapper) {\n                                        var popupId = e.sender.element.data(POPUP_ID_ATTR);\n                                        if (popupId) {\n                                            li = (overflowWrapper || that.element).find(popupOpenerSelector(popupId));\n                                        }\n                                        e.sender.wrapper.children(scrollButtonSelector).hide();\n                                    }\n\n                                    if (!that._triggerEvent({ item: li[0], type: CLOSE })) {\n                                        li.css(ZINDEX, li.data(ZINDEX));\n                                        li.removeData(ZINDEX);\n\n                                        if (that.options.scrollable) {\n                                            li.parent().siblings(scrollButtonSelector).css({ zIndex: \"\" });\n                                        }\n\n                                        if (touch || allPointers || kendo.support.mouseAndTouchPresent) {\n                                            li.removeClass(HOVERSTATE);\n                                            that._removeHoverItem();\n                                        }\n                                    } else {\n                                        e.preventDefault();\n                                    }\n                                }\n                            }).data(KENDOPOPUP);\n\n                            ul.closest(animationContainerSelector).removeAttr(ROLE);\n                        } else {\n                            popup = ul.data(KENDOPOPUP);\n                            popup.options.origin = directions.origin;\n                            popup.options.position = directions.position;\n                            popup.options.animation.open.effects = openEffects;\n                        }\n                        ul.removeAttr(\"aria-hidden\");\n                        li.attr(ARIA_EXPANDED, true);\n\n                        that._configurePopupOverflow(popup, li);\n\n                        popup._hovered = true;\n                        popup.open();\n\n                        that._initPopupScrolling(popup);\n                    }\n\n                }, that.options.hoverDelay));\n            });\n\n            return that;\n        },\n\n        _configurePopupOverflow: function(popup, popupOpener) {\n            var that = this;\n           if (that.options.scrollable) {\n                that._wrapPopupElement(popup);\n                if (!popupOpener.attr(\"data-groupparent\")) {\n                    var groupId = new Date().getTime();\n                    popupOpener.attr(\"data-groupparent\", groupId);\n                    popup.element.attr(\"data-group\", groupId);\n                }\n           }\n        },\n\n        _wrapPopupElement: function(popup) {\n            if (!popup.element.parent().is(animationContainerSelector)) {\n                popup.wrapper = kendo.wrap(popup.element, popup.options.autosize)\n                    .css({\n                        overflow: \"hidden\",\n                        display: \"block\",\n                        position: \"absolute\"\n                    });\n            }\n        },\n\n        _initPopupScrolling: function(popup, isHorizontal, skipMouseEvents) {\n            var that = this;\n\n            if (that.options.scrollable && popup.element[0].scrollHeight > popup.element[0].offsetHeight) {\n                that._initPopupScrollButtons(popup, isHorizontal, skipMouseEvents);\n            }\n        },\n\n        _initPopupScrollButtons: function(popup, isHorizontal, skipMouseEvents) {\n            var that = this;\n            var scrollButtons = popup.wrapper.children(scrollButtonSelector);\n            var animation = that.options.animation;\n            var timeout = ((animation && animation.open && animation.open.duration) || 0) + DELAY;\n            setTimeout(function() {\n                if (!scrollButtons.length) {\n                    var backwardBtn = $(that.templates.scrollButton({ direction: isHorizontal ? \"left\" : \"up\" }));\n                    var forwardBtn = $(that.templates.scrollButton({ direction: isHorizontal ? \"right\" : \"down\" }));\n\n                    scrollButtons = backwardBtn.add(forwardBtn).appendTo(popup.wrapper);\n\n                    that._initScrolling(popup.element, backwardBtn, forwardBtn, isHorizontal);\n                    if (!skipMouseEvents) {\n                        scrollButtons.on(MOUSEENTER + NS, function() {\n                            var overflowWrapper = that._overflowWrapper();\n                            $(getChildPopups(popup.element, overflowWrapper)).each(function(i, p) {\n                                var popupOpener = overflowWrapper.find(popupOpenerSelector(p.data(POPUP_ID_ATTR)));\n                                that.close(popupOpener);\n                            });\n                        })\n                        .on(MOUSELEAVE + NS, function() {\n                            setTimeout(function() {\n                                if ($.isEmptyObject(that._openedPopups)) {\n                                    that._closeParentPopups(popup.element);\n                                }\n                            }, DELAY);\n                        });\n                    }\n                }\n                that._toggleScrollButtons(popup.element, scrollButtons.first(), scrollButtons.last(), isHorizontal);\n            }, timeout);\n        },\n\n        _popupOpen: function(e) {\n            if (!this._keyTriggered) {\n                e.sender.element.children(\".\" + FOCUSEDSTATE).removeClass(FOCUSEDSTATE);\n            }\n            if (this.options.scrollable) {\n                this._setPopupHeight(e.sender);\n            }\n        },\n\n        _setPopupHeight: function(popup, isFixed) {\n            var popupElement = popup.element;\n            var popups = popupElement.add(popupElement.parent(animationContainerSelector));\n\n            popups.height((popupElement.hasClass(MENU) && this._initialHeight) || \"\");\n\n            var location = popup._location(isFixed);\n            var windowHeight = $(window).height();\n            var popupOuterHeight = location.height;\n            var popupOffsetTop = isFixed ? 0 : Math.max(location.top, 0);\n            var scrollTop = isFixed ? 0 : parentsScroll(this._overflowWrapper()[0], \"scrollTop\");\n            var bottomScrollbar = window.innerHeight - windowHeight;\n            var maxHeight = windowHeight - kendo.getShadows(popupElement).bottom + bottomScrollbar;\n            var canFit = maxHeight + scrollTop > popupOuterHeight + popupOffsetTop;\n\n            if (!canFit) {\n                var height = Math.min(maxHeight, maxHeight - popupOffsetTop + scrollTop);\n                popups.css({ overflow: \"hidden\", height: height + \"px\" });\n            }\n        },\n\n        close: function(items, dontClearClose) {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            var element = (overflowWrapper || that.element);\n\n            items = element.find(items);\n\n            if (!items.length) {\n                items = element.find(\">.k-item\");\n            }\n\n            var hasChildPopupsHovered = function(currentPopup) {\n                var result = false;\n                if ($.isEmptyObject(that._openedPopups)) {\n                    return result;\n                }\n                $(getChildPopups(currentPopup, overflowWrapper)).each(function(i, popup) {\n                    result = !!that._openedPopups[popup.data(POPUP_ID_ATTR).toString()];\n                    return !result;\n                });\n                return result;\n            };\n\n            var isPopupMouseLeaved = function(opener) {\n                var groupId = opener.data(POPUP_OPENER_ATTR);\n                return (!overflowWrapper || !groupId || !that._openedPopups[groupId.toString()]);\n            };\n\n            items.each(function() {\n                var li = $(this);\n\n                li.attr(ARIA_EXPANDED, false);\n\n                if (!dontClearClose && that._isRootItem(li)) {\n                    that.clicked = false;\n                }\n\n                clearTimeout(li.data(TIMER));\n\n                li.data(TIMER, setTimeout(function() {\n                    var popup = that._getPopup(li);\n                    if (popup && (isPopupMouseLeaved(li) || that._forceClose)) {\n                        if (!that._forceClose && hasChildPopupsHovered(popup.element)) {\n                            return;\n                        }\n\n                        popup.close();\n                        popup.element.attr(\"aria-hidden\", true);\n\n                        if (overflowWrapper) {\n                            if (that._forceClose && items.last().is(li[0])) {\n                                delete that._forceClose;\n                            }\n                        }\n                    }\n                }, that.options.hoverDelay));\n            });\n\n            return that;\n        },\n\n        _getPopup: function(li) {\n            var that = this;\n            var popup = li.find(\".k-menu-group:not(.k-list-container):not(.k-calendar-container):visible\").first().data(KENDOPOPUP);\n            var overflowWrapper = that._overflowWrapper();\n\n            if (!popup && overflowWrapper) {\n                var groupId = li.data(POPUP_OPENER_ATTR);\n                if (groupId) {\n                    var popupElement = overflowWrapper.find(popupGroupSelector(groupId));\n                    popup = popupElement.data(KENDOPOPUP);\n                }\n            }\n            return popup;\n        },\n\n        _toggleDisabled: function(items, enable) {\n            this.element.find(items).each(function() {\n                $(this)\n                    .toggleClass(DISABLEDSTATE, !enable)\n                    .attr(\"aria-disabled\", !enable);\n            });\n        },\n\n        _toggleHover: function(e) {\n            var target = $(kendo.eventTarget(e) || e.target).closest(allItemsSelector),\n                isEnter = e.type == MOUSEENTER || MOUSEDOWN.indexOf(e.type) !== -1;\n\n            target.siblings().removeClass(HOVERSTATE);\n\n            if (!target.parents(\"li.\" + DISABLEDSTATE).length) {\n                target.toggleClass(HOVERSTATE, isEnter || e.type == \"mousedown\" || e.type == \"pointerover\" || e.type == TOUCHSTART);\n            }\n\n            this._removeHoverItem();\n        },\n\n        _preventClose: function() {\n            if (!this.options.closeOnClick) {\n                this._closurePrevented = true;\n            }\n        },\n\n        _checkActiveElement: function(e) {\n            var that = this,\n                hoverItem = $(e ? e.currentTarget : this._hoverItem()),\n                target = that._findRootParent(hoverItem)[0];\n\n            if (!this._closurePrevented) {\n                setTimeout(function() {\n                    if (!document.hasFocus() || (!contains(target, kendo._activeElement()) && e && !contains(target, e.currentTarget))) {\n                        that.close(target);\n                    }\n                }, 0);\n            }\n\n            this._closurePrevented = false;\n        },\n\n        _removeHoverItem: function() {\n            var oldHoverItem = this._hoverItem();\n\n            if (oldHoverItem && oldHoverItem.hasClass(FOCUSEDSTATE)) {\n                oldHoverItem.removeClass(FOCUSEDSTATE);\n                this._oldHoverItem = null;\n            }\n        },\n\n        _updateClasses: function() {\n            var element = this.element,\n                nonContentGroupsSelector = \".k-menu-init div ul\",\n                items;\n\n            element.removeClass(\"k-menu-horizontal k-menu-vertical\");\n            element.addClass(\"k-widget k-reset k-menu-init \" + MENU).addClass(MENU + \"-\" + this.options.orientation);\n\n            if (this.options.orientation === \"vertical\") {\n                element.attr(\"aria-orientation\", \"vertical\");\n            } else {\n                element.attr(\"aria-orientation\", \"horizontal\");\n            }\n\n            element.find(\"li > ul\")\n                   .filter(function() {\n                       return !kendo.support.matchesSelector.call(this, nonContentGroupsSelector);\n                   })\n                   .addClass(\"k-group k-menu-group k-menu-group-md\")\n                   .attr(ROLE, \"menu\")\n                   .hide()\n                   .attr(\"aria-hidden\", element.is(\":visible\"))\n                   .parent(\"li\")\n                   .attr(\"aria-haspopup\", \"true\")\n                   .end()\n                   .find(\"li > div\")\n                   .addClass(\"k-content\")\n                   .attr(\"tabindex\", \"-1\"); // Capture the focus before the Menu\n\n            element.find(\"li[aria-haspopup]\").attr(ARIA_EXPANDED, false);\n\n            items = element.find(\"> li,.k-menu-group > li\");\n\n            element.removeClass(\"k-menu-init\");\n\n            items.each(function() {\n                updateItemClasses(this);\n            });\n        },\n\n        _mouseenter: function(e) {\n            var that = this;\n            var element = $(e.currentTarget);\n            var hasChildren = that._itemHasChildren(element);\n            var popupId = element.data(POPUP_OPENER_ATTR) || element.parent().data(POPUP_ID_ATTR);\n            var pointerTouch = isPointerTouch(e);\n            var isParentClosing = false;\n\n            if (popupId) {\n                that._openedPopups[popupId.toString()] = true;\n            }\n\n            if (that._closing) {\n                isParentClosing = !!that._closing.find(element).length;\n            }\n\n            if (isParentClosing || (e.delegateTarget != element.parents(menuSelector)[0] && e.delegateTarget != element.parents(\".k-menu-scroll-wrapper,.k-popups-wrapper\")[0])) {\n                return;\n            }\n\n            that._keyTriggered = false;\n\n            if ((that.options.openOnClick.rootMenuItems && that._isRootItem(element.closest(allItemsSelector))) ||\n                (that.options.openOnClick.subMenuItems && !that._isRootItem(element.closest(allItemsSelector)))) {\n                return;\n            }\n\n            if ((that.options.openOnClick === false ||\n                (that.options.openOnClick.rootMenuItems === false && that._isRootItem(element.closest(allItemsSelector))) ||\n                (that.options.openOnClick.subMenuItems === false && !that._isRootItem(element.closest(allItemsSelector))) || that.clicked) && !touch &&\n                !(pointerTouch && that._isRootItem(element.closest(allItemsSelector)))) {\n\n                if (!contains(e.currentTarget, e.relatedTarget) && hasChildren) {\n                    that.open(element);\n                }\n            }\n\n            if (that.options.openOnClick === true && that.clicked || touch) {\n                element.siblings().each(function(_, sibling) {\n                    that.close(sibling, true);\n                });\n            }\n        },\n\n        _mousedown: function(e) {\n            var that = this;\n            var element = $(e.currentTarget);\n            // needs to close subMenuItems\n            if (that.options.openOnClick.subMenuItems && !that._isRootItem(element) || touch) {\n                element.siblings().each(function(_, sibling) {\n                    that.close(sibling, true);\n                });\n            }\n        },\n\n        _mouseleave: function(e) {\n            var that = this;\n            var element = $(e.currentTarget);\n            var popupOpener = element.data(POPUP_OPENER_ATTR);\n            var hasChildren = (element.children(animationContainerSelector).length || element.children(groupSelector).length) || popupOpener;\n            var $window = $(window);\n\n            if (popupOpener) {\n                delete that._openedPopups[popupOpener.toString()];\n            }\n\n            if (element.parentsUntil(animationContainerSelector, \".k-list-container,.k-calendar-container\")[0]) {\n                e.stopImmediatePropagation();\n                return;\n            }\n\n            if ((that.options.openOnClick === false || (!that.options.openOnClick.rootMenuItems && that._isRootItem(element)) ||\n                (!that.options.openOnClick.subMenuItems && !that._isRootItem(element))) && !touch && !isPointerTouch(e) &&\n                !contains(e.currentTarget, e.relatedTarget || e.target) && hasChildren &&\n                !contains(e.currentTarget, kendo._activeElement())) {\n                    that.close(element, true);\n                    that._loading = false;\n                    return;\n            }\n\n            // Detect if cursor goes outside the viewport of the browser\n            if ( (kendo.support.browser.msie && !e.toElement && !e.relatedTarget && !isPointerTouch(e)) ||\n                e.clientX < 0 || e.clientY < 0 ||\n                e.clientY > $window.height() ||\n                e.clientX > $window.width()) {\n                that.close(element);\n            }\n        },\n\n        _mouseenterPopup: function(e) {\n            var that = this;\n            var popupElement = $(e.currentTarget);\n\n            if (popupElement.parent().is(animationContainerSelector)) {\n                 return;\n            }\n\n            popupElement = popupElement.children(\"ul\");\n            var popupId = popupElement.data(POPUP_ID_ATTR);\n\n            if (popupId) {\n                that._openedPopups[popupId.toString()] = true;\n            }\n        },\n\n        _mouseleavePopup: function(e) {\n            var that = this;\n            var popupElement = $(e.currentTarget);\n\n            if (!isPointerTouch(e) && popupElement.is(animationContainerSelector)) {\n                that._closePopups(popupElement.children(\"ul\"));\n            }\n        },\n\n        _closePopups: function(rootPopup) {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            var popupId = rootPopup.data(POPUP_ID_ATTR);\n\n            if (popupId) {\n                delete that._openedPopups[popupId.toString()];\n                var groupParent = overflowWrapper.find(popupOpenerSelector(popupId));\n\n                setTimeout(function() {\n                    if (that.options.openOnClick) {\n                        that._closeChildPopups(rootPopup);\n                    } else {\n                        if ($.isEmptyObject(that._openedPopups)) {\n                            var innerPopup = that._innerPopup(rootPopup);\n                            that._closeParentPopups(innerPopup);\n                        } else {\n                            that.close(groupParent, true);\n                        }\n                    }\n                }, 0);\n            }\n        },\n\n        _closeChildPopups: function(current) {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            $(getChildPopups(current, overflowWrapper)).each(function() {\n                var popupOpener = overflowWrapper.find(popupOpenerSelector(this.data(POPUP_ID_ATTR)));\n                that.close(popupOpener, true);\n            });\n        },\n\n        _innerPopup: function(current) {\n            var overflowWrapper = this._overflowWrapper();\n            var popups = getChildPopups(current, overflowWrapper);\n            return popups[popups.length - 1] || current;\n        },\n\n        _closeParentPopups: function(current) {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            var popupId = current.data(POPUP_ID_ATTR);\n            var popupOpener = overflowWrapper.find(popupOpenerSelector(popupId));\n            popupId = popupOpener.parent().data(POPUP_ID_ATTR);\n            that.close(popupOpener, true);\n            while (popupId && !that._openedPopups[popupId]) {\n                if (popupOpener.parent().is(menuSelector)) {\n                    break;\n                }\n                popupOpener = overflowWrapper.find(popupOpenerSelector(popupId));\n                that.close(popupOpener, true);\n                popupId = popupOpener.parent().data(POPUP_ID_ATTR);\n            }\n        },\n\n        _click: function(e) {\n            var that = this, openHandle,\n                options = that.options,\n                target = $(kendo.eventTarget(e)),\n                targetElement = target[0],\n                nodeName = target[0] ? target[0].nodeName.toUpperCase() : \"\",\n                formNode = (nodeName == \"INPUT\" || nodeName == \"SELECT\" || nodeName == \"BUTTON\" || nodeName == \"LABEL\"),\n                link = target.closest(LINK_SELECTOR),\n                element = target.closest(allItemsSelector),\n                itemElement = element[0],\n                href = link.attr(\"href\"), childGroup, childGroupVisible,\n                targetHref = target.attr(\"href\"),\n                sampleHref = $(\"<a href='#' />\").attr(\"href\"),\n                isLink = (!!href && href !== sampleHref),\n                isLocalLink = isLink && !!href.match(/^#/),\n                isTargetLink = (!!targetHref && targetHref !== sampleHref),\n                overflowWrapper = that._overflowWrapper(),\n                shouldCloseTheRootItem;\n\n            if (targetElement && (!targetElement.parentNode || !itemElement)) {\n                return;\n            }\n\n            if ($(target).hasClass('k-menu-expand-arrow-icon')) {\n                this._lastClickedElement = itemElement;\n            }\n\n            while (targetElement && targetElement.parentNode != itemElement) {\n                targetElement = targetElement.parentNode;\n            }\n\n            if ($(targetElement).is(templateSelector)) {\n                return;\n            }\n\n            if (element.hasClass(DISABLEDSTATE)) {\n                e.preventDefault();\n                return;\n            }\n\n            if (!e.handled && that._triggerSelect(target, itemElement) && !formNode) { // We shouldn't stop propagation and shoudn't prevent form elements.\n                e.preventDefault();\n            }\n\n            e.handled = true;\n\n            childGroup = element.children(popupSelector);\n            if (overflowWrapper) {\n                var childPopupId = element.data(POPUP_OPENER_ATTR);\n                if (childPopupId) {\n                    childGroup = overflowWrapper.find(popupGroupSelector(childPopupId));\n                }\n            }\n            childGroupVisible = childGroup.is(\":visible\");\n            shouldCloseTheRootItem = options.openOnClick && childGroupVisible && that._isRootItem(element);\n\n            if (options.closeOnClick && (!isLink || isLocalLink) && (!childGroup.length || shouldCloseTheRootItem)) {\n                element.removeClass(HOVERSTATE).css(\"height\"); // Force refresh for Chrome\n                that._oldHoverItem = that._findRootParent(element);\n                var item = that._parentsUntil(link, that.element, allItemsSelector);\n                that._forceClose = !!overflowWrapper;\n                that.close(item);\n                that.clicked = false;\n                if (\"MSPointerUp\".indexOf(e.type) != -1) {\n                    e.preventDefault();\n                }\n                return;\n            }\n\n            if (isLink && e.enterKey) {\n                link[0].click();\n            }\n\n            if (((!that._isRootItem(element) || options.openOnClick === false) && !options.openOnClick.subMenuItems) && !kendo.support.touch && !(isPointerTouch(e) && that._isRootItem(element.closest(allItemsSelector)))) {\n                return;\n            }\n\n            if (!isLink && !formNode && !isTargetLink) {\n                e.preventDefault();\n            }\n\n            that.clicked = true;\n            openHandle = childGroup.is(\":visible\") ? CLOSE : OPEN;\n            if (!options.closeOnClick && openHandle == CLOSE) {\n                return;\n            }\n            that[openHandle](element);\n        },\n\n        _parentsUntil: function(context, top, selector) {\n            var overflowWrapper = this._overflowWrapper();\n            if (!overflowWrapper) {\n                return context.parentsUntil(top, selector);\n            } else {\n                var parents = overflowMenuParents(context, overflowWrapper);\n                var result = [];\n                $(parents).each(function() {\n                    var parent = $(this);\n                    if (parent.is(top)) {\n                        return false;\n                    }\n                    if (parent.is(selector)) {\n                        result.push(this);\n                    }\n                });\n                return $(result);\n            }\n        },\n\n        _triggerSelect: function(target, itemElement) {\n            target = target.is(\".k-link\") ? target : target.closest(\".k-link\");\n\n            var selectHandler = target.data(\"selectHandler\"),\n                itemSelectEventData;\n\n            if (selectHandler) {\n                itemSelectEventData = this._getEventData(target);\n                selectHandler.call(this, itemSelectEventData);\n            }\n\n            var isSelectItemDefaultPrevented = itemSelectEventData && itemSelectEventData.isDefaultPrevented();\n            var isSelectDefaultPrevented = this._triggerEvent({ item: itemElement, type: SELECT });\n            return isSelectItemDefaultPrevented || isSelectDefaultPrevented;\n        },\n\n        _getEventData: function(target) {\n            var eventData = {\n                sender: this,\n                target: target,\n                _defaultPrevented: false,\n                preventDefault: function() {\n                    this._defaultPrevented = true;\n                },\n                isDefaultPrevented: function() {\n                    return this._defaultPrevented;\n                }\n            };\n            return eventData;\n        },\n\n        _documentClick: function(e) {\n            var that = this;\n            var target = $(e.target).hasClass('k-menu-expand-arrow-icon') ? that._lastClickedElement : e.target;\n\n            if (contains((that._overflowWrapper() || that.element)[0], target)) {\n                that._lastClickedElement = undefined;\n                return;\n            }\n\n            that.clicked = false;\n        },\n\n        _focus: function(e) {\n            var that = this,\n                target = e.target,\n                hoverItem = that._hoverItem(),\n                active = activeElement();\n\n            if (target != that.wrapper[0] && !$(target).is(\":kendoFocusable\")) {\n                e.stopPropagation();\n                $(target).closest(\".k-content\").closest(\".k-menu-group\").closest(\".k-item\").addClass(FOCUSEDSTATE);\n                that.wrapper.trigger(\"focus\");\n                return;\n            }\n\n            if (active === e.currentTarget) {\n                if (hoverItem.length) {\n                    that._moveHover([], hoverItem);\n                } else if (!that._oldHoverItem) {\n                    that._moveHover([], that.wrapper.children().first());\n                }\n            }\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode,\n                hoverItem = that._oldHoverItem,\n                target,\n                belongsToVertical,\n                hasChildren,\n                isRtl = kendo.support.isRtl(that.wrapper);\n\n            if (e.target != e.currentTarget && key != keys.ESC) {\n                return;\n            }\n\n            if (!hoverItem) {\n                hoverItem = that._oldHoverItem = that._hoverItem();\n            }\n\n            belongsToVertical = that._itemBelongsToVertival(hoverItem);\n            hasChildren = that._itemHasChildren(hoverItem);\n            that._keyTriggered = true;\n\n            if (key == keys.RIGHT) {\n                target = that[isRtl ? \"_itemLeft\" : \"_itemRight\"](hoverItem, belongsToVertical, hasChildren);\n            } else if (key == keys.LEFT) {\n                target = that[isRtl ? \"_itemRight\" : \"_itemLeft\"](hoverItem, belongsToVertical, hasChildren);\n            } else if (key == keys.DOWN) {\n                target = that._itemDown(hoverItem, belongsToVertical, hasChildren);\n            } else if (key == keys.UP) {\n                target = that._itemUp(hoverItem, belongsToVertical, hasChildren);\n            } else if (key == keys.HOME) {\n                that._moveHover(hoverItem, hoverItem.parent().children().first());\n                e.preventDefault();\n            } else if (key == keys.END) {\n                that._moveHover(hoverItem, hoverItem.parent().children().last());\n                e.preventDefault();\n            } else if (key == keys.ESC) {\n                target = that._itemEsc(hoverItem, belongsToVertical);\n            } else if (key == keys.ENTER || key == keys.SPACEBAR) {\n                target = hoverItem.children(\".k-link\");\n                if (target.length > 0) {\n                    that._click({ target: target[0], preventDefault: function() {}, enterKey: true });\n                    if (hasChildren && !hoverItem.hasClass(DISABLEDSTATE)) {\n                        that.open(hoverItem);\n                        that._moveHover(hoverItem, that._childPopupElement(hoverItem).children().first());\n                    } else if (hoverItem.is(\"li\") && hoverItem.attr(\"role\") === \"menuitemcheckbox\") {\n                        hoverItem.find(\".k-checkbox\").attr(\"checked\", true);\n                    } else {\n                        that._moveHoverToRoot(hoverItem, that._findRootParent(hoverItem));\n                    }\n                }\n            } else if (key == keys.TAB) {\n                target = that._findRootParent(hoverItem);\n                that._moveHover(hoverItem, target);\n                that._checkActiveElement();\n                return;\n            }\n\n            if (target && target[0]) {\n                e.preventDefault();\n                e.stopPropagation(); // needed to handle ESC in column menu only when a root item is focused\n            }\n        },\n\n        _hoverItem: function() {\n            return this.wrapper.find(\".k-item.k-hover,.k-item.k-focus\").filter(\":visible\");\n        },\n\n        _itemBelongsToVertival: function(item) {\n            var menuIsVertical = this.wrapper.hasClass(\"k-menu-vertical\");\n\n            if (!item.length) {\n                return menuIsVertical;\n            }\n            return item.parent().hasClass(\"k-menu-group\") || menuIsVertical;\n        },\n\n        _itemHasChildren: function(item) {\n            if (!item || !item.length || !item[0].nodeType) {\n                return false;\n            }\n            return item.children(\".k-menu-group, div.k-animation-container\").length > 0 ||\n                (!!item.data(POPUP_OPENER_ATTR) && !!this._overflowWrapper().children(popupGroupSelector(item.data(POPUP_OPENER_ATTR))));\n        },\n\n        _moveHover: function(item, nextItem) {\n            var that = this,\n                id = that._ariaId;\n\n            if (item.length && nextItem.length) {\n                item.removeClass(FOCUSEDSTATE);\n            }\n\n            if (nextItem.length) {\n                if (nextItem[0].id) {\n                    id = nextItem[0].id;\n                }\n\n                nextItem.addClass(FOCUSEDSTATE);\n                that._oldHoverItem = nextItem;\n\n                if (id) {\n                    that.element.removeAttr(\"aria-activedescendant\");\n                    $(\"#\" + id).removeAttr(\"id\");\n                    nextItem.attr(\"id\", id);\n                    that.element.attr(\"aria-activedescendant\", id);\n                }\n                that._scrollToItem(nextItem);\n            }\n        },\n\n        _moveHoverToRoot: function(item, nextItem) {\n            this._moveHover(item, nextItem);\n        },\n\n        _findRootParent: function(item) {\n            if (this._isRootItem(item)) {\n                return item;\n            } else {\n                return this._parentsUntil(item, menuSelector, \"li.k-item\").last();\n            }\n        },\n\n        _isRootItem: function(item) {\n            return item.parent().hasClass(MENU);\n        },\n\n        _itemRight: function(item, belongsToVertical, hasChildren) {\n            var that = this,\n                nextItem,\n                parentItem,\n                overflowWrapper;\n\n            if (!belongsToVertical) {\n                nextItem = item.nextAll(itemSelector + exclusionSelector).eq(0);\n                if (!nextItem.length) {\n                    nextItem = item.prevAll(itemSelector + exclusionSelector).last();\n                }\n                that.close(item);\n            } else if (hasChildren && !item.hasClass(DISABLEDSTATE)) {\n                that.open(item);\n                nextItem = that._childPopupElement(item).children().first();\n            } else if (that.options.orientation == \"horizontal\") {\n                parentItem = that._findRootParent(item);\n                overflowWrapper = that._overflowWrapper();\n                if (overflowWrapper) {\n                    var rootPopup = itemPopup(parentItem, overflowWrapper);\n                    that._closeChildPopups(rootPopup);\n                }\n                that.close(parentItem);\n                nextItem = parentItem.nextAll(itemSelector + exclusionSelector).eq(0);\n            }\n\n            if (nextItem && !nextItem.length) {\n                nextItem = that.wrapper.children(\".k-item\").first();\n            } else if (!nextItem) {\n                nextItem = [];\n            }\n\n            that._moveHover(item, nextItem);\n            return nextItem;\n        },\n\n        _itemLeft: function(item, belongsToVertical) {\n            var that = this,\n                nextItem,\n                overflowWrapper;\n\n            if (!belongsToVertical) {\n                nextItem = item.prevAll(itemSelector + exclusionSelector).eq(0);\n                if (!nextItem.length) {\n                    nextItem = item.nextAll(itemSelector + exclusionSelector).last();\n                }\n                that.close(item);\n            } else {\n                nextItem = item.parent().closest(\".k-item\");\n                overflowWrapper = that._overflowWrapper();\n                if (!nextItem.length && overflowWrapper) {\n                    nextItem = popupParentItem(item.parent(), overflowWrapper);\n                }\n                that.close(nextItem);\n                if (that._isRootItem(nextItem) && that.options.orientation == \"horizontal\") {\n                    nextItem = nextItem.prevAll(itemSelector + exclusionSelector).eq(0);\n                }\n            }\n\n            if (!nextItem.length) {\n                nextItem = that.wrapper.children(\".k-item\").last();\n            }\n\n            that._moveHover(item, nextItem);\n            return nextItem;\n        },\n\n        _itemDown: function(item, belongsToVertical, hasChildren) {\n            var that = this,\n                nextItem;\n\n            if (!belongsToVertical) {\n                if (!hasChildren || item.hasClass(DISABLEDSTATE)) {\n                    return;\n                } else {\n                    that.open(item);\n                    nextItem = that._childPopupElement(item).children().first();\n                }\n            } else {\n                nextItem = item.nextAll(itemSelector + exclusionSelector).eq(0);\n            }\n\n            if (!nextItem.length && item.length) {\n                nextItem = item.parent().children().first();\n            } else if (!item.length) {\n                nextItem = that.wrapper.children(\".k-item\").first();\n            }\n\n            that._moveHover(item, nextItem);\n            return nextItem;\n        },\n\n        _itemUp: function(item, belongsToVertical) {\n            var that = this,\n                nextItem;\n\n            if (!belongsToVertical) {\n                return;\n            } else {\n                nextItem = item.prevAll(itemSelector + exclusionSelector).eq(0);\n            }\n\n            if (!nextItem.length && item.length) {\n                nextItem = item.parent().children().last();\n            } else if (!item.length) {\n                nextItem = that.wrapper.children(\".k-item\").last();\n            }\n\n            that._moveHover(item, nextItem);\n            return nextItem;\n        },\n\n        _scrollToItem: function(item) {\n            var that = this;\n            if (that.options.scrollable && item && item.length) {\n                var ul = item.parent();\n                var isHorizontal = ul.hasClass(MENU) ? that.options.orientation == \"horizontal\" : false;\n                var scrollDir = isHorizontal ? \"scrollLeft\" : \"scrollTop\";\n                var getSize = isHorizontal ? kendo._outerWidth : kendo._outerHeight;\n                var currentScrollOffset = ul[scrollDir]();\n                var itemSize = getSize(item);\n                var itemOffset = item[0][isHorizontal ? \"offsetLeft\" : \"offsetTop\"];\n                var ulSize = getSize(ul);\n                var scrollButtons = ul.siblings(scrollButtonSelector);\n                var scrollButtonSize = scrollButtons.length ? getSize(scrollButtons.first()) : 0;\n                var itemPosition;\n\n                if (currentScrollOffset + ulSize < itemOffset + itemSize + scrollButtonSize) {\n                    itemPosition = itemOffset + itemSize - ulSize + scrollButtonSize;\n                } else if (currentScrollOffset > itemOffset - scrollButtonSize) {\n                    itemPosition = itemOffset - scrollButtonSize;\n                }\n\n                if (!isNaN(itemPosition)) {\n                    var scrolling = {};\n                    scrolling[scrollDir] = itemPosition;\n                    ul.finish().animate(scrolling, \"fast\", \"linear\", function() {\n                        that._toggleScrollButtons(ul, scrollButtons.first(), scrollButtons.last(), isHorizontal);\n                    });\n                }\n            }\n        },\n\n        _itemEsc: function(item, belongsToVertical) {\n            var that = this,\n                nextItem, groupId;\n\n            if (!belongsToVertical) {\n                return item;\n            } else {\n                nextItem = item.parent().closest(\".k-item\");\n\n                if (nextItem.length === 0) {\n                    groupId = item.closest(\".k-group\").data(\"group\");\n                    nextItem = that.wrapper.find(\".k-item[data-groupparent='\" + groupId + \"']\");\n                }\n\n                that.close(nextItem);\n                that._moveHover(item, nextItem);\n            }\n\n            return nextItem;\n        },\n\n        _childPopupElement: function(item) {\n            var popupElement = item.find(\".k-menu-group\");\n            var wrapper = this._overflowWrapper();\n            if (!popupElement.length && wrapper) {\n                popupElement = itemPopup(item, wrapper);\n            }\n            return popupElement;\n        },\n\n        _triggerEvent: function(e) {\n            var that = this;\n\n            return that.trigger(e.type, { type: e.type, item: e.item });\n        },\n\n        _focusHandler: function(e) {\n            var that = this,\n                item = $(kendo.eventTarget(e)).closest(allItemsSelector);\n\n            if (item.hasClass(DISABLEDSTATE)) {\n                return;\n            }\n\n            setTimeout(function() {\n                that._moveHover([], item);\n                if (item.children(\".k-content\")[0]) {\n                    item.parent().closest(\".k-item\").removeClass(FOCUSEDSTATE);\n                }\n            }, 200);\n        },\n\n        _animations: function(options) {\n            if (options && (\"animation\" in options) && !options.animation) {\n                options.animation = { open: { effects: {} }, close: { hide: true, effects: {} } };\n            }\n        },\n        _dataSource: function(options) {\n            var that = this,\n                dataSource = options ? options.dataSource : that.options.dataSource;\n\n            if (!dataSource) {\n                return;\n            }\n\n            dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n\n            that._unbindDataSource();\n\n            if (!dataSource.fields) {\n                dataSource.fields = [\n                    { field: \"uid\" },\n                    { field: \"text\" },\n                    { field: \"url\" },\n                    { field: \"cssClass\" },\n                    { field: \"spriteCssClass\" },\n                    { field: \"imageUrl\" },\n                    { field: \"imageAttr\" },\n                    { field: \"attr\" },\n                    { field: \"contentAttr\" },\n                    { field: \"content\" },\n                    { field: \"encoded\" },\n                    { field: \"items\" },\n                    { field: \"select\" }\n                ];\n            }\n\n            that.dataSource = HierarchicalDataSource.create(dataSource);\n\n            that._bindDataSource();\n\n            that.dataSource.fetch();\n        },\n\n        _bindDataSource: function() {\n            this._refreshHandler = this.refresh.bind(this);\n            this._errorHandler = this._error.bind(this);\n\n            this.dataSource.bind(CHANGE, this._refreshHandler);\n            this.dataSource.bind(ERROR, this._errorHandler);\n        },\n\n        _unbindDataSource: function() {\n            var dataSource = this.dataSource;\n\n            if (dataSource) {\n                dataSource.unbind(CHANGE, this._refreshHandler);\n                dataSource.unbind(ERROR, this._errorHandler);\n            }\n        },\n\n        _error: function() {\n\n        },\n\n        findByUid: function(uid) {\n            var wrapperElement = this._overflowWrapper() || this.element;\n            return wrapperElement.find(\"[\" + kendo.attr(\"uid\") + \"=\" + uid + \"]\");\n        },\n\n        refresh: function(ev) {\n            var that = this;\n            var node = ev.node;\n            var action = ev.action;\n            var parentElement = node ? that.findByUid(node.uid) : that.element;\n            var itemsToUpdate = ev.items;\n            var index = ev.index;\n            var updateProxy = that._updateItem.bind(that);\n            var removeProxy = that._removeItem.bind(that);\n\n            if (action == \"add\") {\n                that._appendItems(itemsToUpdate, index, parentElement);\n            } else if (action == \"remove\") {\n                itemsToUpdate.forEach(removeProxy);\n            } else if (action == \"itemchange\") {\n                itemsToUpdate.forEach(updateProxy);\n            } else if (action === \"itemloaded\") {\n                that.append(ev.items, parentElement);\n            } else {\n                this._initData();\n            }\n\n            this.trigger(DATABOUND, { item: parentElement, dataItem: node });\n        },\n\n        _appendItems: function(items, index, parent) {\n            var that = this;\n            var referenceItem = parent.find(itemSelector).eq(index);\n\n            if (referenceItem.length) {\n                that.insertBefore(items, referenceItem);\n            } else {\n                that.append(items, parent);\n            }\n        },\n\n        _removeItem: function(item) {\n            var that = this;\n            var element = that.findByUid(item.uid);\n            that.remove(element);\n        },\n\n        _updateItem: function(item) {\n            var that = this;\n            var element = that.findByUid(item.uid);\n            var nextElement = element.next();\n            var parentNode = item.parentNode();\n\n            that.remove(element);\n\n            if (nextElement.length) {\n                that.insertBefore(item, nextElement);\n            } else {\n                that.append(item, parentNode && that.findByUid(parentNode.uid));\n            }\n        },\n\n        _accessors: function() {\n            var that = this,\n                options = that.options,\n                i, field, textField,\n                element = that.element;\n\n            for (i in bindings) {\n                field = options[bindings[i]];\n                textField = element.attr(kendo.attr(i + \"-field\"));\n\n                if (!field && textField) {\n                    field = textField;\n                }\n\n                if (!field) {\n                    field = i;\n                }\n\n                if (!isArray(field)) {\n                    field = [field];\n                }\n\n                options[bindings[i]] = field;\n            }\n        },\n\n        _fieldAccessor: function(fieldName) {\n            var fieldBindings = this.options[bindings[fieldName]] || [],\n                count = fieldBindings.length,\n                result = \"(function(item) {\";\n\n            if (count === 0) {\n                result += \"return item['\" + fieldName + \"'];\";\n            } else {\n                result += \"var levels = [\" +\n                            $.map(fieldBindings, function(x) {\n                                return \"function(d){ return \" + kendo.expr(x) + \"}\";\n                            }).join(\",\") + \"];\";\n                result += \"if(item.level){return levels[Math.min(item.level(), \" + count + \"-1)](item);}else\";\n                result += \"{return levels[\" + count + \"-1](item)}\";\n            }\n\n            result += \"})\";\n\n            return result;\n        },\n\n        _templates: function() {\n            var that = this,\n                options = that.options,\n                fieldAccessor = that._fieldAccessor.bind(that);\n\n            if (options.template && typeof options.template == STRING) {\n                    options.template = template(options.template);\n            } else if (!options.template) {\n                    options.template = template(\n                    \"<span class='k-menu-link-text'>\" +\n                    \"# var text = \" + fieldAccessor(\"text\") + \"(data.item); #\" +\n                    \"# if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {#\" +\n                        \"#= text #\" +\n                    \"# } else { #\" +\n                        \"#: text #\" +\n                    \"# } #</span>\"\n                );\n            }\n\n            that.templates = {\n                content: template(\n                    \"#var contentHtml = \" + fieldAccessor(\"content\") + \"(item);#\" +\n                    \"<div #= contentCssAttributes(item.toJSON ? item.toJSON() : item) # tabindex='-1'>#= contentHtml || '' #</div>\"\n                ),\n                group: template(\n                    \"<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>\" +\n                        \"#= renderItems(data) #\" +\n                    \"</ul>\"\n                ),\n                itemWrapper: template(\n                    \"# var url = \" + fieldAccessor(\"url\") + \"(item); #\" +\n                    \"# var imageUrl = \" + fieldAccessor(\"imageUrl\") + \"(item); #\" +\n                    \"# var imgAttributes = \" + fieldAccessor(\"imageAttr\") + \"(item);#\" +\n                    \"# var tag = url ? 'a' : 'span' #\" +\n                    \"<#= tag # class='#= textClass(item) #' #if(url){#href='#= url #'#}#>\" +\n\n                    \"# if (imageUrl) { #\" +\n                              \"<img #= imageCssAttributes(imgAttributes) #  alt='' src='#= imageUrl #' />\" +\n                    \"# } #\" +\n\n                    \"#= sprite(item) #\" +\n                    \"#= data.menu.options.template(data) #\" +\n                    \"#= arrow(data) #\" +\n                    \"</#= tag #>\"\n                ),\n                item: template(\n                    \"#var contentHtml = \" + fieldAccessor(\"content\") + \"(item);#\" +\n                    \"<li class='#= wrapperCssClass(group, item) #' #= itemCssAttributes(item.toJSON ? item.toJSON() : item) # role='menuitem'  #=item.items ? \\\"aria-haspopup='true'\\\": \\\"\\\"#\" +\n                        \"#=item.enabled === false ? \\\"aria-disabled='true'\\\" : ''#\" +\n                        kendo.attr(\"uid\") + \"='#= item.uid #' \" +\n                        \"# if(item.items && item.items.length > 0) { # \" +\n                            \"# if(item.expanded) { # \" +\n                                \" aria-expanded='true'\" +\n                            \"# } else { #\" +\n                                \" aria-expanded='false'\" +\n                            \"# } #\" +\n                        \"# } #\" +\n                    \">\" +\n                        \"#= itemWrapper(data) #\" +\n                        \"#if (item.hasChildren || item.items) { #\" +\n                            \"#= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) #\" +\n                        \"# } else if (item.content || item.contentUrl || contentHtml) { #\" +\n                            \"#= renderContent(data) #\" +\n                        \"# } #\" +\n                    \"</li>\"\n                ),\n                scrollButton: template(\n                    \"<span class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-menu-scroll-button k-scroll-#= direction #' unselectable='on'>\" +\n                        \"<span class='k-button-icon k-icon k-i-arrow-60-#= direction #'></span>\" +\n                    \"</span>\"\n                ),\n                arrow: template(\"<span class='k-menu-expand-arrow'><span class='#= arrowClass(item, group) #'></span></span>\"),\n                sprite: template(\"# var spriteCssClass = \" + fieldAccessor(\"spriteCssClass\") + \"(data); if(spriteCssClass) {#<span class='k-sprite #= spriteCssClass #'></span>#}#\"),\n                empty: template(\"\")\n            };\n        },\n\n        renderItem: function(options) {\n            var that = this;\n            options = extend({ menu: that, group: {} }, options);\n\n            var empty = that.templates.empty,\n                item = options.item;\n\n            return that.templates.item(extend(options, {\n                sprite: that.templates.sprite,\n                itemWrapper: that.templates.itemWrapper,\n                renderContent: that.renderContent,\n                arrow: item.items || item.content || item[that.options.dataContentField[0]] ? that.templates.arrow : empty,\n                subGroup: that.renderGroup\n            }, rendering));\n        },\n\n        renderGroup: function(options) {\n            var that = this;\n            var templates = that.templates || options.menu.templates;\n\n            return templates.group(extend({\n                renderItems: function(options) {\n                    var html = \"\",\n                        i = 0,\n                        items = options.items,\n                        len = items ? items.length : 0,\n                        group = extend({ length: len }, options.group);\n\n                    for (; i < len; i++) {\n                        html += options.menu.renderItem(extend(options, {\n                            group: group,\n                            item: extend({ index: i }, items[i])\n                        }));\n                    }\n\n                    return html;\n                }\n            }, options, rendering));\n        },\n\n        renderContent: function(options) {\n            return options.menu.templates.content(extend(options, rendering));\n        }\n    });\n\n    var ContextMenu = Menu.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Menu.fn.init.call(that, element, options);\n\n            that.element.attr(ROLE, \"menu\");\n\n            that._marker = kendo.guid().substring(0, 8);\n\n            that.target = $(that.options.target);\n\n            that._popup();\n            that._wire();\n        },\n\n        _initOverflow: function(options) {\n            var that = this;\n            if (options.scrollable && !that._overflowWrapper()) {\n                that._openedPopups = {};\n\n                that._popupsWrapper = (that.element.parent().is(animationContainerSelector) ? that.element.parent() : that.element)\n                    .wrap(\"<div class='k-popups-wrapper \" + options.orientation + \"'></div>\").parent();\n\n                if (that.options.orientation == \"horizontal\") {\n                    removeSpacesBetweenItems(that.element);\n                }\n\n                if (options.appendTo) {\n                    options.appendTo = $(options.appendTo);\n                    options.appendTo.append(that._popupsWrapper);\n                }\n\n                that._initialHeight = that.element[0].style.height;\n                that._initialWidth = that.element[0].style.width;\n            }\n        },\n\n        options: {\n            name: \"ContextMenu\",\n            filter: null,\n            showOn: \"contextmenu\",\n            orientation: \"vertical\",\n            alignToAnchor: false,\n            copyAnchorStyles: true,\n            target: \"body\"\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            ACTIVATE,\n            DEACTIVATE,\n            SELECT\n        ],\n\n        setOptions: function(options) {\n            var that = this;\n\n            Menu.fn.setOptions.call(that, options);\n\n            that.target.off(that.showOn + NS + that._marker, that._showProxy);\n\n            if (that.userEvents) {\n                that.userEvents.destroy();\n            }\n\n            that.target = $(that.options.target);\n            if (options.orientation && that.popup.wrapper[0]) {\n                that.popup.element.unwrap();\n            }\n\n            that._wire();\n\n            Menu.fn.setOptions.call(this, options);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.target.off(that.options.showOn + NS + that._marker);\n            DOCUMENT_ELEMENT.off(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n\n            if (that.userEvents) {\n                that.userEvents.destroy();\n            }\n\n            Menu.fn.destroy.call(that);\n        },\n\n        open: function(x, y) {\n            var that = this;\n\n            x = $(x)[0];\n\n            if (contains(that.element[0], $(x)[0]) || that._itemHasChildren($(x))) { // call parent open for children elements\n                Menu.fn.open.call(that, x);\n            } else {\n                if (that._triggerEvent({ item: that.element, type: OPEN }) === false) {\n                    if (that.popup.visible() && that.options.filter) {\n                        that.popup.close(true);\n                        that.popup.element.kendoStop(true);\n                    }\n\n                    if (y !== undefined) {\n                        var overflowWrapper = that._overflowWrapper();\n                        if (overflowWrapper) {\n                            var offset = overflowWrapper.offset();\n                            x -= offset.left;\n                            y -= offset.top;\n                        }\n                        that.popup.wrapper.hide();\n                        that._configurePopupScrolling(x, y);\n                        that.popup.open(x, y);\n                    } else {\n                        that.popup.options.anchor = (x ? x : that.popup.anchor) || that.target;\n                        that.popup.element.kendoStop(true);\n                        that._configurePopupScrolling();\n                        that.popup.open();\n                    }\n\n                    DOCUMENT_ELEMENT.off(that.popup.downEvent, that.popup._mousedownProxy);\n                    DOCUMENT_ELEMENT\n                        .on(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n\n                    that.element.trigger(\"focus\");\n                }\n            }\n\n            return that;\n        },\n\n        _configurePopupScrolling: function(x, y) {\n            var that = this;\n            var popup = that.popup;\n            var isHorizontal = that.options.orientation == \"horizontal\";\n\n            if (that.options.scrollable) {\n                that._wrapPopupElement(popup);\n\n                popup.element.parent().css({\n                    position: \"\",\n                    height: \"\"\n                });\n\n                popup.element.css({\n                    visibility: \"hidden\",\n                    display: \"\",\n                    position: \"\"\n                });\n\n                if (isHorizontal) {\n                    that._setPopupWidth(popup, isNaN(x) ? undefined : { isFixed: true, x: x, y: y });\n                } else {\n                    that._setPopupHeight(popup, isNaN(x) ? undefined : { isFixed: true, x: x, y: y });\n                }\n\n                popup.element.css({\n                    visibility: \"\",\n                    display: \"none\",\n                    position: \"absolute\"\n                });\n\n                that._initPopupScrollButtons(popup, isHorizontal, true);\n                popup.element.siblings(scrollButtonSelector).hide();\n            }\n        },\n\n        _setPopupWidth: function(popup, isFixed) {\n            var popupElement = popup.element;\n            var popups = popupElement.add(popupElement.parent(animationContainerSelector));\n\n            popups.width(this._initialWidth || \"\");\n\n            var location = popup._location(isFixed);\n            var windowWidth = $(window).width();\n            var popupOuterWidth = location.width;\n            var popupOffsetLeft = Math.max(location.left, 0);\n            var scrollLeft = isFixed ? 0 : parentsScroll(this._overflowWrapper()[0], \"scrollLeft\");\n            var shadow = kendo.getShadows(popupElement);\n            var maxWidth = windowWidth - shadow.left - shadow.right;\n            var canFit = maxWidth + scrollLeft > popupOuterWidth + popupOffsetLeft;\n\n            if (!canFit) {\n                popups.css({ overflow: \"hidden\", width: (maxWidth - popupOffsetLeft + scrollLeft) + \"px\" });\n            }\n        },\n\n        close: function() {\n            var that = this;\n\n            if (contains(that.element[0], $(arguments[0])[0]) || that._itemHasChildren(arguments[0])) {\n                Menu.fn.close.call(that, arguments[0]);\n            } else {\n                if (that.popup.visible()) {\n                    if (that._triggerEvent({ item: that.element, type: CLOSE }) === false) {\n                        that._removeHoverItem();\n                        that.element.find(\"#\" + that._ariaId).removeAttr(\"id\");\n                        that.popup.close();\n                        DOCUMENT_ELEMENT.off(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n                        that.unbind(SELECT, that._closeTimeoutProxy);\n                        that.popup.options.anchor.focus();\n                    }\n                }\n            }\n        },\n\n        _showHandler: function(e) {\n            var ev = e, offset,\n                that = this,\n                options = that.options,\n                target = kendo.support.mobileOS ? $(ev.target) : $(ev.currentTarget);\n\n            if (e.event) {\n                ev = e.event;\n                ev.pageX = e.x.location;\n                ev.pageY = e.y.location;\n            }\n\n            if (contains(that.element[0], e.relatedTarget || e.target)) {\n                return;\n            }\n\n            that._eventOrigin = ev;\n\n            ev.preventDefault();\n            ev.stopImmediatePropagation();\n\n            that.element.find(\".\" + FOCUSEDSTATE).removeClass(FOCUSEDSTATE);\n\n            if ((options.filter && target.is(options.filter)) || !options.filter) {\n                if (options.alignToAnchor) {\n                    that.popup.options.anchor = ev.currentTarget;\n                    that.open(ev.currentTarget);\n                } else {\n                    that.popup.options.anchor = ev.currentTarget;\n\n                    if (that._targetChild) {\n                        offset = that.target.offset();\n                        that.open(ev.pageX - offset.left, ev.pageY - offset.top);\n                    } else {\n                        that.open(ev.pageX, ev.pageY);\n                    }\n                }\n            }\n        },\n\n        _closeHandler: function(e) {\n            var that = this,\n                target = $(e.relatedTarget || e.target),\n                sameTarget = target.closest(that.target.selector)[0] == that.target[0],\n                item = target.closest(itemSelector),\n                children = that._itemHasChildren(item),\n                overflowWrapper = that._overflowWrapper(),\n                containment = contains(that.element[0], target[0]) || (overflowWrapper && contains(overflowWrapper[0], target[0]));\n\n            that._eventOrigin = e;\n\n            var normalClick = e.which !== 3;\n\n            if (that.popup.visible() && ((normalClick && sameTarget) || !sameTarget) && ((that.options.closeOnClick && !children && containment) || !containment)) {\n                if (containment) {\n                    this.unbind(SELECT, this._closeTimeoutProxy);\n                    that.bind(SELECT, that._closeTimeoutProxy);\n                } else {\n                    that.close();\n                }\n            }\n        },\n\n        _wire: function() {\n            var that = this,\n                options = that.options,\n                target = that.target;\n\n            that._preventProxy = null;\n            that._showProxy = that._showHandler.bind(that);\n            that._closeProxy = that._closeHandler.bind(that);\n            that._closeTimeoutProxy = that.close.bind(that);\n\n            if (target[0]) {\n                if (kendo.support.mobileOS && options.showOn == \"contextmenu\") {\n                    that.userEvents = new kendo.UserEvents(target, {\n                        filter: options.filter,\n                        allowSelection: false\n                    });\n\n                    that._preventProxy = function() { return false; };\n\n                    that.userEvents.bind(\"hold\", that._showProxy);\n                }\n\n                if (options.filter) {\n                    target.on(options.showOn + NS + that._marker, options.filter, that._preventProxy || that._showProxy);\n                } else {\n                    target.on(options.showOn + NS + that._marker, that._preventProxy || that._showProxy);\n                }\n            }\n        },\n\n        _triggerEvent: function(e) {\n            var that = this,\n                anchor = $(that.popup.options.anchor)[0],\n                origin = that._eventOrigin;\n\n            that._eventOrigin = undefined;\n\n            return that.trigger(e.type, extend({ type: e.type, item: e.item || this.element[0], target: anchor }, origin ? { event: origin } : {} ));\n        },\n\n        _popup: function() {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n\n            that._triggerProxy = that._triggerEvent.bind(that);\n\n            that.popup = that.element\n                            .addClass(\"k-context-menu\")\n                            .kendoPopup({\n                                autosize: that.options.orientation === \"horizontal\",\n                                anchor: that.target || \"body\",\n                                copyAnchorStyles: that.options.copyAnchorStyles,\n                                collision: that.options.popupCollision || \"fit\",\n                                animation: that.options.animation,\n                                activate: that._triggerProxy,\n                                deactivate: that._triggerProxy,\n                                appendTo: overflowWrapper || that.options.appendTo,\n                                close: !overflowWrapper ? $.noop : function(e) {\n                                    $(getChildPopups(e.sender.element, overflowWrapper)).each(function(i, p) {\n                                        var popup = p.data(KENDOPOPUP);\n                                        if (popup) {\n                                            popup.close(true);\n                                        }\n                                    });\n                                }\n                            }).data(KENDOPOPUP);\n\n            that._targetChild = contains(that.target[0], that.popup.element[0]);\n        },\n\n        _moveHoverToRoot: function(item, nextItem) {\n            this._moveHover(item, nextItem);\n            this.close();\n        },\n\n        _focus: function(e) {\n            var hoverItem = this._oldHoverItem = this._hoverItem() || [];\n\n            Menu.fn._focus.call(this, e);\n\n            if (activeElement() === e.currentTarget) {\n                this._moveHover(hoverItem, this.wrapper.children().first());\n            }\n        }\n    });\n\n    ui.plugin(Menu);\n    ui.plugin(ContextMenu);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, __webpack_require__.amdD);\n\n\n/***/ }),\n\n/***/ 36765:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./kendo.data\");\n\n/***/ }),\n\n/***/ 79425:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./kendo.popup\");\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/amd define */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.amdD = function () {\n/******/ \t\t\tthrow new Error('define cannot be used indirect');\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module used 'module' so it can't be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__(50535);\n/******/ \tmodule.exports = __webpack_exports__;\n/******/ \t\n/******/ })()\n;"],"mappings":"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"},"metadata":{},"sourceType":"script"}