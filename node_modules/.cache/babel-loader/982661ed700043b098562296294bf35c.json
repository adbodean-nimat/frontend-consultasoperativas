{"ast":null,"code":"require(\"core-js/modules/es.typed-array.at.js\");\n\nrequire(\"core-js/modules/es.typed-array.set.js\");\n\nrequire(\"core-js/modules/esnext.typed-array.find-last.js\");\n\nrequire(\"core-js/modules/esnext.typed-array.find-last-index.js\");\n\nrequire(\"core-js/modules/es.error.cause.js\");\n\n/******/\n(function () {\n  // webpackBootstrap\n\n  /******/\n  var __webpack_modules__ = {\n    /***/\n    19267:\n    /***/\n    function (module, exports, __webpack_require__) {\n      /* provided dependency */\n      var jQuery = __webpack_require__(72834);\n\n      var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n      (function (f, define) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(57949)], __WEBPACK_AMD_DEFINE_FACTORY__ = f, __WEBPACK_AMD_DEFINE_RESULT__ = typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n      })(function () {\n        var __meta__ = {\n          id: \"upload\",\n          name: \"Upload\",\n          category: \"web\",\n          description: \"The Upload widget uses progressive enhancement to deliver the best possible uploading experience to users.\",\n          depends: [\"core\"]\n        };\n\n        (function ($, undefined) {\n          var kendo = window.kendo,\n              Widget = kendo.ui.Widget,\n              antiForgeryTokens = kendo.antiForgeryTokens,\n              logToConsole = kendo.logToConsole,\n              rFileExtension = /\\.([^\\.]+)$/,\n              NS = \".kendoUpload\",\n              SELECT = \"select\",\n              UPLOAD = \"upload\",\n              SUCCESS = \"success\",\n              ERROR = \"error\",\n              COMPLETE = \"complete\",\n              CANCEL = \"cancel\",\n              CLEAR = \"clear\",\n              PAUSE = \"pause\",\n              RESUME = \"resume\",\n              PROGRESS = \"progress\",\n              REMOVE = \"remove\",\n              VALIDATIONERRORS = \"validationErrors\",\n              INVALIDMAXFILESIZE = \"invalidMaxFileSize\",\n              INVALIDMINFILESIZE = \"invalidMinFileSize\",\n              INVALIDFILEEXTENSION = \"invalidFileExtension\",\n              PROGRESSHIDEDELAY = 1000,\n              PROGRESSHIDEDURATION = 2000,\n              FOCUS_STATE = \"k-focus\",\n              TABINDEX = \"tabindex\";\n          var headerStatusIcon = {\n            loading: \"k-i-upload\",\n            warning: \"k-i-warning\",\n            success: \"k-i-check\"\n          };\n          var Upload = Widget.extend({\n            init: function (element, options) {\n              var that = this;\n              Widget.fn.init.call(that, element, options);\n              that.name = element.name;\n              that.multiple = that.options.multiple;\n              that.directory = that.options.directory;\n              that.localization = that.options.localization;\n              var activeInput = that.element;\n              that.wrapper = activeInput.closest(\".k-upload\");\n\n              if (that.wrapper.length === 0) {\n                that.wrapper = that._wrapInput(activeInput);\n              }\n\n              that._activeInput(activeInput);\n\n              that.toggle(that.options.enabled);\n              var ns = that._ns = NS + \"-\" + kendo.guid();\n              activeInput.closest(\"form\").on(\"submit\" + ns, that._onParentFormSubmit.bind(that)).on(\"reset\" + ns, that._onParentFormReset.bind(that));\n\n              that._initUploadModule();\n\n              that._toggleDropZone();\n\n              that.wrapper.on(\"click\", \".k-upload-action\", that._onFileAction.bind(that)).on(\"click\", \".k-clear-selected\", that._onClearSelected.bind(that)).on(\"click\", \".k-upload-selected\", that._onUploadSelected.bind(that)).on(\"keydown\", that._onKeyDown.bind(that)).on(\"focusout\", that._focusout.bind(that));\n\n              if (that.element.val()) {\n                that._onInputChange({\n                  target: that.element\n                });\n              }\n            },\n            events: [SELECT, UPLOAD, SUCCESS, ERROR, COMPLETE, CANCEL, CLEAR, PROGRESS, REMOVE, PAUSE, RESUME],\n            options: {\n              name: \"Upload\",\n              enabled: true,\n              multiple: true,\n              directory: false,\n              showFileList: true,\n              template: \"\",\n              files: [],\n              async: {\n                autoRetryAfter: 0,\n                bufferChunkSize: 10000000,\n                maxAutoRetries: 1,\n                removeVerb: \"POST\",\n                autoUpload: true,\n                withCredentials: true,\n                accept: \"*/*; q=0.5, application/json\",\n                useArrayBuffer: false\n              },\n              localization: {\n                \"select\": \"Select files...\",\n                \"cancel\": \"Cancel\",\n                \"retry\": \"Retry\",\n                \"remove\": \"Remove\",\n                \"pause\": \"Pause\",\n                \"resume\": \"Resume\",\n                \"clearSelectedFiles\": \"Clear\",\n                \"uploadSelectedFiles\": \"Upload\",\n                \"dropFilesHere\": \"Drop files here to upload\",\n                \"invalidFiles\": \"Invalid file(s). Please check file upload requirements.\",\n                \"statusUploading\": \"uploading\",\n                \"statusUploaded\": \"uploaded\",\n                \"statusWarning\": \"warning\",\n                \"statusFailed\": \"failed\",\n                \"headerStatusUploading\": \"Uploading...\",\n                \"headerStatusPaused\": \"Paused\",\n                \"headerStatusUploaded\": \"Done\",\n                \"uploadSuccess\": \"File(s) uploaded successfully.\",\n                \"uploadFail\": \"File(s) failed to upload.\",\n                \"invalidMaxFileSize\": \"File size too large.\",\n                \"invalidMinFileSize\": \"File size too small.\",\n                \"invalidFileExtension\": \"File type not allowed.\"\n              },\n              validation: {\n                allowedExtensions: [],\n                maxFileSize: 0,\n                minFileSize: 0\n              },\n              dropZone: \"\"\n            },\n            _initUploadModule: function () {\n              var that = this,\n                  options = that.options;\n\n              if (options.async.saveUrl) {\n                that._module = that._supportsFormData() ? new formDataUploadModule(that) : new iframeUploadModule(that);\n                that._async = true;\n                var initialFiles = options.files;\n\n                if (initialFiles.length > 0) {\n                  that._renderInitialFiles(initialFiles);\n                }\n              } else {\n                that._module = new syncUploadModule(that);\n              }\n            },\n            setOptions: function (options) {\n              var that = this,\n                  activeInput = that.element;\n              $(that.options.dropZone).off(that._ns);\n              Widget.fn.setOptions.call(that, options);\n              that.multiple = that.options.multiple;\n              that.directory = that.options.directory;\n              activeInput.attr(\"multiple\", that._supportsMultiple() ? that.multiple : false);\n\n              if (that.directory) {\n                activeInput.attr(\"webkitdirectory\", that.directory);\n                activeInput.attr(\"directory\", that.directory);\n              }\n\n              that.toggle(that.options.enabled);\n\n              that._initUploadModule();\n\n              that._toggleDropZone();\n            },\n            enable: function (enable) {\n              enable = typeof enable === \"undefined\" ? true : enable;\n              this.toggle(enable);\n            },\n            disable: function () {\n              this.toggle(false);\n            },\n            toggle: function (enable) {\n              enable = typeof enable === \"undefined\" ? enable : !enable;\n              this.wrapper.toggleClass(\"k-disabled\", enable);\n              this.element.prop(\"disabled\", enable);\n            },\n            focus: function () {\n              this.element.trigger(\"focus\");\n            },\n            destroy: function () {\n              var that = this;\n              var customDropZone = $(that.options.dropZone);\n              $(document).add($(\".k-dropzone\", that.wrapper)).add(that.wrapper.closest(\"form\")).off(that._ns);\n\n              if (customDropZone.length > 0) {\n                customDropZone.off(that._ns);\n              }\n\n              $(that.element).off(NS);\n              Widget.fn.destroy.call(that);\n            },\n            pause: function (fileEntry) {\n              this._module.onPause({\n                target: $(fileEntry, this.wrapper)\n              });\n\n              var pauseIcon = fileEntry.find(\".k-i-pause-sm\");\n              pauseIcon.removeClass(\"k-i-pause-sm\").addClass(\"k-i-play-sm\").attr(\"title\", this.localization.resume);\n              $(pauseIcon).parent().attr(\"aria-label\", this.localization.resume);\n            },\n            resume: function (fileEntry) {\n              this._module.onResume({\n                target: $(fileEntry, this.wrapper)\n              });\n\n              var playIcon = fileEntry.find(\".k-i-play-sm\");\n              playIcon.removeClass(\"k-i-play-sm\").addClass(\"k-i-pause-sm\").attr(\"title\", this.localization.pause);\n              $(playIcon).parent().attr(\"aria-label\", this.localization.pause);\n            },\n            upload: function () {\n              var that = this;\n\n              that._module.onSaveSelected();\n            },\n            getFiles: function () {\n              var that = this;\n              var filesData;\n              var allFiles = [];\n              var listItems = that.wrapper.find(\".k-file\");\n\n              for (var i = 0; i < listItems.length; i++) {\n                filesData = $(listItems[i]).data(\"fileNames\");\n\n                if (filesData) {\n                  for (var j = 0; j < filesData.length; j++) {\n                    allFiles.push(filesData[j]);\n                  }\n                }\n              }\n\n              return allFiles;\n            },\n            clearAllFiles: function () {\n              var that = this;\n              var files = that.wrapper.find(\".k-file\");\n              files.each(function (index, file) {\n                that._removeFileByDomElement(file, false);\n              });\n            },\n            removeAllFiles: function () {\n              var that = this;\n              var files = that.wrapper.find(\".k-file\");\n              files.each(function (index, file) {\n                that._removeFileByDomElement(file, true);\n              });\n            },\n            removeFileByUid: function (uid) {\n              this._removeFileByUid(uid, true);\n            },\n            clearFileByUid: function (uid) {\n              this._removeFileByUid(uid, false);\n            },\n            _removeFileByUid: function (uid, shouldSendRemoveRequest) {\n              var that = this;\n              var fileEntry;\n\n              if (typeof uid !== 'string') {\n                return;\n              }\n\n              fileEntry = $('.k-file[' + kendo.attr('uid') + '=\"' + uid + '\"]', that.wrapper);\n\n              if (fileEntry.length > 0) {\n                that._removeFileByDomElement(fileEntry, shouldSendRemoveRequest);\n              }\n            },\n            clearFile: function (callback) {\n              this._removeFile(callback, false);\n            },\n            removeFile: function (callback) {\n              this._removeFile(callback, true);\n            },\n            _removeFile: function (callback, shouldSendRemoveRequest) {\n              var that = this;\n              var files = that.wrapper.find(\".k-file\");\n              var fileData;\n\n              if (typeof callback === \"function\") {\n                files.each(function (index, file) {\n                  fileData = $(file).data(\"fileNames\");\n\n                  if (callback(fileData)) {\n                    that._removeFileByDomElement(file, shouldSendRemoveRequest);\n                  }\n                });\n              }\n            },\n            _removeFileByDomElement: function (fileEntry, shouldSendRemoveRequest) {\n              var that = this;\n              var fileData = {\n                target: $(fileEntry, that.wrapper)\n              };\n              var allFiles;\n\n              if (that.options.async.saveUrl) {\n                if ($(fileEntry).hasClass(\"k-file-progress\")) {\n                  that._module.onCancel(fileData);\n                } else {\n                  that._module.onRemove(fileData, {}, shouldSendRemoveRequest);\n                }\n\n                allFiles = $(\".k-file\", that.wrapper);\n\n                if (allFiles.length === 0) {\n                  that._hideHeaderUploadstatus();\n                } else {\n                  that._updateHeaderUploadStatus();\n                }\n              } else {\n                that._module.onRemove(fileData, {}, shouldSendRemoveRequest);\n              }\n            },\n            _addInput: function (sourceInput) {\n              //check if source input is a DOM element. Required for some unit tests\n              if (!sourceInput[0].nodeType) {\n                return;\n              }\n\n              var that = this,\n                  input = sourceInput.clone().val(\"\");\n              input.insertAfter(that.element).data(\"kendo\" + that.options.prefix + that.options.name, that);\n              $(that.element).hide().attr(TABINDEX, \"-1\").removeAttr(\"id\").off(NS);\n\n              that._activeInput(input);\n\n              that.element.trigger(\"focus\");\n            },\n            _activeInput: function (input) {\n              var that = this,\n                  wrapper = that.wrapper;\n              that.element = input;\n\n              if (that.directory) {\n                input.attr(\"webkitdirectory\", that.directory);\n                input.attr(\"directory\", that.directory);\n              }\n\n              input.attr(\"multiple\", that._supportsMultiple() ? that.multiple : false).attr(\"autocomplete\", \"off\").on(\"click\" + NS, function (e) {\n                if (wrapper.hasClass(\"k-disabled\")) {\n                  e.preventDefault();\n                }\n              }).on(\"focus\" + NS, function () {\n                $(this).parent().addClass(FOCUS_STATE);\n              }).on(\"blur\" + NS, function () {\n                $(this).parent().removeClass(FOCUS_STATE);\n              }).on(\"change\" + NS, that._onInputChange.bind(that));\n            },\n            _adjustFocusState: function (focusedItem, toFocus) {\n              focusedItem.removeClass(FOCUS_STATE);\n              focusedItem.attr(TABINDEX, -1);\n              toFocus.addClass(FOCUS_STATE);\n              toFocus.attr(TABINDEX, 0);\n            },\n            _arrowKeyNavigation: function (e, key, focusedItem) {\n              var that = this,\n                  kendoKeys = kendo.keys,\n                  toFocus;\n\n              if (key === kendoKeys.DOWN) {\n                e.preventDefault();\n                e.stopPropagation();\n                toFocus = that.wrapper.find(\".k-upload-files .k-file\").first();\n\n                if (focusedItem.length > 0) {\n                  if (focusedItem.hasClass(\"k-upload-action\")) {\n                    focusedItem.removeClass(FOCUS_STATE);\n                    focusedItem = focusedItem.closest(\".k-file\");\n                  }\n\n                  toFocus = focusedItem.next();\n                }\n\n                that._adjustFocusState(focusedItem, toFocus);\n\n                if (!toFocus || toFocus.length === 0) {\n                  toFocus = that.wrapper.find(\".k-clear-selected\");\n                }\n              } else if (key === kendoKeys.UP) {\n                e.preventDefault();\n                e.stopPropagation();\n                toFocus = that.wrapper.find(\".k-upload-files .k-file:last\");\n\n                if (focusedItem.length > 0) {\n                  if (focusedItem.hasClass(\"k-upload-action\")) {\n                    focusedItem.removeClass(FOCUS_STATE);\n                    focusedItem = focusedItem.closest(\".k-file\");\n                  }\n\n                  toFocus = focusedItem.prev();\n                }\n\n                that._adjustFocusState(focusedItem, toFocus);\n              } else if (key === kendoKeys.RIGHT) {\n                if (focusedItem.hasClass(\"k-upload-action\")) {\n                  toFocus = focusedItem.next(\".k-upload-action\");\n\n                  if (!toFocus || toFocus.length === 0) {\n                    toFocus = focusedItem.parent().find(\".k-upload-action:first\");\n                  }\n                } else if (focusedItem.length > 0) {\n                  toFocus = focusedItem.find(\".k-upload-action:first\");\n                }\n\n                if (toFocus && toFocus.length > 0) {\n                  focusedItem.removeClass(FOCUS_STATE);\n                  toFocus.addClass(FOCUS_STATE);\n                }\n              } else if (key === kendoKeys.LEFT) {\n                if (focusedItem.hasClass(\"k-upload-action\")) {\n                  toFocus = focusedItem.prev(\".k-upload-action\");\n\n                  if (!toFocus || toFocus.length === 0) {\n                    toFocus = focusedItem.parent().find(\".k-upload-action:last\");\n                  }\n                } else if (focusedItem.length > 0) {\n                  toFocus = focusedItem.find(\".k-upload-action:last\");\n                }\n\n                if (toFocus && toFocus.length > 0) {\n                  focusedItem.removeClass(FOCUS_STATE);\n                  toFocus.addClass(FOCUS_STATE);\n                }\n              }\n\n              if ((!toFocus || toFocus.length === 0) && (key === kendoKeys.UP || key === kendoKeys.DOWN)) {\n                toFocus = that.element;\n              }\n\n              if (toFocus && toFocus.length > 0) {\n                that._preventFocusRemove = true;\n                toFocus.trigger(\"focus\");\n              }\n            },\n            _asyncCommandKeyNavigation: function (key, focusedItem, eventArgs) {\n              var that = this,\n                  kendoKeys = kendo.keys,\n                  fileEntry = $(focusedItem, that.wrapper);\n              that._retryClicked = false;\n\n              if (key === kendoKeys.ESC && focusedItem.find(\".k-i-cancel\").length > 0) {\n                that.trigger(CANCEL, eventArgs);\n\n                that._module.onCancel({\n                  target: fileEntry\n                });\n\n                that._checkAllComplete();\n\n                that._updateHeaderUploadStatus();\n\n                that._preventFocusRemove = true;\n                that.element.trigger(\"focus\");\n              } else if (key === kendoKeys.SPACEBAR) {\n                if (focusedItem.find(\".k-i-pause-sm\").length > 0) {\n                  that.trigger(PAUSE, eventArgs);\n                  that.pause(focusedItem);\n\n                  that._updateHeaderUploadStatus();\n                } else if (focusedItem.find(\".k-i-play-sm\").length > 0) {\n                  that.trigger(RESUME, eventArgs);\n                  that.resume(focusedItem);\n                }\n              } else if (key === kendoKeys.ENTER && !focusedItem.is(\".k-file-progress, .k-file-success, .k-file-invalid\")) {\n                if (that.options.async.chunkSize && !that.options.async.concurrent && $('.k-file-progress', that.wrapper).length > 0) {\n                  return;\n                }\n\n                $(\".k-i-warning\", focusedItem).remove();\n                $(\".k-progressbar\", focusedItem).finish().show();\n\n                if (!that._module.metaData[fileEntry.data(\"uid\")]) {\n                  that._module.prepareChunk(fileEntry);\n                }\n\n                that._module.onRetry({\n                  target: fileEntry\n                });\n\n                that._retryClicked = true;\n              }\n            },\n            _commandKeyNavigation: function (key, focusedItem) {\n              var that = this,\n                  kendoKeys = kendo.keys,\n                  files = focusedItem.data(\"fileNames\"),\n                  hasValidationErrors = that._filesContainValidationErrors(files),\n                  eventArgs = {\n                files: files,\n                headers: {}\n              };\n\n              if (key === kendoKeys.DELETE) {\n                if (!that.trigger(REMOVE, eventArgs)) {\n                  that._module.onRemove({\n                    target: $(focusedItem, that.wrapper)\n                  }, eventArgs, !hasValidationErrors);\n\n                  that._preventFocusRemove = true;\n                  that.element.trigger(\"focus\");\n                }\n              } else if (key === kendoKeys.TAB) {\n                focusedItem.removeClass(FOCUS_STATE);\n                focusedItem.attr(TABINDEX, -1);\n              } else if (!!that.options.async.saveUrl) {\n                that._asyncCommandKeyNavigation(key, focusedItem, eventArgs);\n              }\n            },\n            _focusout: function () {\n              var focusedItem = this.wrapper.find(\".k-upload-files .k-file.\" + FOCUS_STATE);\n\n              if (!this._preventFocusRemove) {\n                focusedItem.removeClass(FOCUS_STATE);\n                focusedItem.attr(TABINDEX, -1);\n              } else {\n                this._preventFocusRemove = false;\n              }\n            },\n            _onKeyDown: function (e) {\n              var that = this,\n                  focusedItem = that.wrapper.find(\".k-upload-files .k-file.\" + FOCUS_STATE + \",\" + \".k-upload-action.\" + FOCUS_STATE),\n                  kendoKeys = kendo.keys,\n                  commandKeys = [kendoKeys.DELETE, kendoKeys.ESC, kendoKeys.ENTER, kendoKeys.SPACEBAR, kendoKeys.TAB],\n                  key = e.keyCode;\n\n              if (key === kendoKeys.DOWN || key === kendoKeys.UP || key === kendoKeys.LEFT || key === kendoKeys.RIGHT) {\n                that._arrowKeyNavigation(e, key, focusedItem);\n              } else if (focusedItem.length > 0 && focusedItem.hasClass(\"k-file\") && commandKeys.indexOf(key) > -1 && !that.wrapper.hasClass(\"k-disabled\")) {\n                if (key === kendoKeys.SPACEBAR) {\n                  e.preventDefault();\n                  e.stopPropagation();\n                }\n\n                that._commandKeyNavigation(key, focusedItem);\n              }\n            },\n            _onInputChange: function (e) {\n              var that = this;\n              var input = $(e.target);\n              var files = assignGuidToFiles(that._inputFiles(input), that._isAsyncNonBatch());\n              validateFiles(files, that.options.validation);\n              var prevented = that.trigger(SELECT, {\n                files: files\n              });\n\n              if (prevented) {\n                that._addInput(input);\n\n                input.remove();\n              } else {\n                that._module.onSelect({\n                  target: input\n                }, files);\n              }\n            },\n            _readDirectory: function (item) {\n              var deferred = new $.Deferred();\n              var dirReader = item.createReader();\n              var allFolderFiles = [];\n\n              var readEntries = function () {\n                dirReader.readEntries(function (entries) {\n                  if (!entries.length) {\n                    deferred.resolve(allFolderFiles);\n                  } else {\n                    allFolderFiles = allFolderFiles.concat(entries);\n                    readEntries();\n                  }\n                }, deferred.reject);\n              };\n\n              readEntries();\n              return deferred.promise();\n            },\n            _readFile: function (item) {\n              var that = this;\n              var fullpath = item.fullPath;\n              item.file(function (file) {\n                file.relativePath = fullpath.slice(1);\n                that.droppedFolderFiles.push(file);\n                that.droppedFolderCounter--;\n\n                if (that.droppedFolderCounter === 0) {\n                  setTimeout(function () {\n                    if (that.droppedFolderCounter === 0) {\n                      if (that.droppedFolderFiles.length) {\n                        that._proceedDroppedItems(that.droppedFolderFiles);\n\n                        that.droppedFolderFiles = [];\n                      }\n                    }\n                  }, 0);\n                }\n              }, function () {\n                logToConsole(\"File error.\");\n              });\n            },\n            _traverseFileTree: function (item, skipCounter) {\n              var that = this;\n\n              if (!skipCounter) {\n                that.droppedFolderCounter--;\n              }\n\n              this._readDirectory(item).then(function (items) {\n                that.droppedFolderCounter += items.length;\n\n                for (var i = 0; i < items.length; i++) {\n                  if (items[i].isFile) {\n                    that._readFile(items[i]);\n                  } else if (items[i].isDirectory) {\n                    that._traverseFileTree(items[i]);\n                  }\n                }\n              });\n            },\n            _onDrop: function (e) {\n              var dt = e.originalEvent.dataTransfer;\n              var that = this;\n              var droppedFiles = dt.files;\n              var length;\n              stopEvent(e);\n\n              if (that.options.directoryDrop && dt.items) {\n                length = dt.items.length;\n                that.droppedFolderCounter = 0;\n                that.droppedFolderFiles = [];\n\n                for (var i = 0; i < length; i++) {\n                  if (dt.items[i].webkitGetAsEntry) {\n                    var entry = dt.items[i].webkitGetAsEntry();\n\n                    if (entry.isDirectory) {\n                      that._traverseFileTree(entry, true);\n                    } else if (entry.isFile) {\n                      that.droppedFolderFiles.push(dt.files[i]);\n                    }\n                  } else {\n                    that._proceedDroppedItems(droppedFiles);\n                  }\n                }\n              } else {\n                that._proceedDroppedItems(droppedFiles);\n              }\n            },\n            _proceedDroppedItems: function (droppedFiles) {\n              var that = this;\n              var files = assignGuidToFiles(getAllFileInfo(droppedFiles), that._isAsyncNonBatch());\n\n              if (droppedFiles.length > 0 && !that.wrapper.hasClass(\"k-disabled\")) {\n                if (!that.multiple && files.length > 1) {\n                  files.splice(1, files.length - 1);\n                }\n\n                validateFiles(files, that.options.validation);\n                var prevented = that.trigger(SELECT, {\n                  files: files\n                });\n\n                if (!prevented) {\n                  that._module.onSelect({\n                    target: $(\".k-dropzone\", that.wrapper)\n                  }, files);\n                }\n              }\n            },\n            _filesContainValidationErrors: function (files) {\n              var hasErrors = false;\n              $(files).each(function (index, file) {\n                if (file[VALIDATIONERRORS] && file[VALIDATIONERRORS].length > 0) {\n                  hasErrors = true;\n                  return false;\n                }\n              });\n              return hasErrors;\n            },\n            _isAsyncNonBatch: function () {\n              return this._async && !this.options.async.batch || false;\n            },\n            _renderInitialFiles: function (files) {\n              var that = this;\n              var idx = 0;\n              files = assignGuidToFiles(files, true);\n\n              for (idx = 0; idx < files.length; idx++) {\n                var currentFile = files[idx];\n\n                var fileEntry = that._enqueueFile(currentFile.name, {\n                  fileNames: [currentFile]\n                });\n\n                fileEntry.addClass(\"k-file-success\").data(\"files\", [files[idx]]);\n\n                if (that._supportsRemove()) {\n                  that._fileAction(fileEntry, REMOVE);\n                }\n              }\n            },\n            _prepareTemplateData: function (name, data) {\n              var filesData = data.fileNames,\n                  templateData = {},\n                  totalSize = 0,\n                  idx = 0;\n\n              for (idx = 0; idx < filesData.length; idx++) {\n                totalSize += filesData[idx].size;\n              }\n\n              templateData.name = name;\n              templateData.size = totalSize;\n              templateData.files = data.fileNames;\n              return templateData;\n            },\n            _prepareDefaultSingleFileEntryTemplate: function (data) {\n              var that = this;\n              var file = data.fileNames[0];\n              var fileSize = getTotalFilesSizeMessage(data.fileNames);\n              var fileGroup = kendo.getFileGroup(file.extension, true);\n              var errors = file[VALIDATIONERRORS];\n              var template = \"\";\n\n              if (errors && errors.length > 0) {\n                template += \"<li class='k-file k-file-invalid'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div>\" + \"<span class='k-file-invalid-group-wrapper'>\" + \"<span class='k-file-group k-icon k-i-\" + fileGroup + \"'></span>\" + \"<span class='k-file-state'></span>\" + \"</span>\" + \"<span class='k-file-name-size-wrapper'>\" + \"<span class='k-file-name k-file-name-invalid' title='\" + file.name + \"'>\" + file.name + \"</span>\" + \"<span class='k-file-validation-message k-text-error'>\" + that.localization[errors[0]] + \"</span>\" + \"</span>\";\n              } else {\n                template += \"<li class='k-file'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div>\" + \"<span class='k-file-group-wrapper'>\" + \"<span class='k-file-group k-icon k-i-\" + fileGroup + \"'></span>\" + \"<span class='k-file-state'></span>\" + \"</span>\" + \"<span class='k-file-name-size-wrapper'><span class='k-file-name' title='\" + file.name + \"'>\" + file.name + \"</span>\" + \"<span class='k-file-size'>\" + fileSize + \"</span></span>\";\n              }\n\n              template += \"<strong class='k-upload-status'></strong>\";\n              return $(template);\n            },\n            _prepareDefaultMultipleFileEntriesTemplate: function (data) {\n              var that = this;\n              var files = data.fileNames;\n\n              var filesHaveValidationErrors = that._filesContainValidationErrors(files);\n\n              var totalFileSize = getTotalFilesSizeMessage(files);\n              var template = \"\";\n              var i, currentFile;\n\n              if (filesHaveValidationErrors) {\n                template += \"<li class='k-file k-file-invalid'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div>\" + \"<span class='k-multiple-files-invalid-group-wrapper'>\" + \"<span class='k-file-group k-icon k-i-files'></span>\";\n              } else {\n                template += \"<li class='k-file'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div>\" + \"<span class='k-multiple-files-group-wrapper'>\" + \"<span class='k-file-group k-icon k-i-files'></span>\";\n              }\n\n              template += \"<span class='k-file-state'></span></span>\";\n              files.sort(function (a, b) {\n                if (a[VALIDATIONERRORS]) {\n                  return -1;\n                }\n\n                if (b[VALIDATIONERRORS]) {\n                  return 1;\n                }\n\n                return 0;\n              });\n              template += \"<span class='k-multiple-files-wrapper'>\";\n\n              for (i = 0; i < files.length; i++) {\n                currentFile = files[i];\n                var fileSize = getTotalFilesSizeMessage([currentFile]);\n                template += \"<span class='k-file-name-size-wrapper'>\";\n\n                if (currentFile[VALIDATIONERRORS] && currentFile[VALIDATIONERRORS].length > 0) {\n                  template += \"<span class='k-file-name k-file-name-invalid' title='\" + currentFile.name + \"'>\" + currentFile.name + \"</span>\";\n                } else {\n                  template += \"<span class='k-file-name' title='\" + currentFile.name + \"'>\" + currentFile.name + \"</span>\";\n                }\n\n                template += \"<span class='k-file-size'>\" + fileSize + \"</span></span>\";\n              }\n\n              if (filesHaveValidationErrors) {\n                template += \"<span class='k-file-validation-message k-text-error'>\" + that.localization.invalidFiles + \"</span>\";\n              } else {\n                template += \"<span class='k-file-information'>Total: \" + files.length + \" files, \" + totalFileSize + \"</span>\";\n              }\n\n              template += \"</span><strong class='k-upload-status'></strong>\";\n              return $(template);\n            },\n            _enqueueFile: function (name, data) {\n              var that = this;\n              var existingFileEntries;\n              var fileEntry;\n              var fileUid = data.fileNames[0].uid;\n              var fileList = $(\".k-upload-files\", that.wrapper);\n              var options = that.options;\n              var template = options.template;\n              var templateData;\n              var removeEventArgs;\n\n              if (fileList.length === 0) {\n                fileList = $(\"<ul class='k-upload-files k-reset'></ul>\").appendTo(that.wrapper);\n\n                if (!that.options.showFileList) {\n                  fileList.hide();\n                }\n\n                that.wrapper.removeClass(\"k-upload-empty\");\n              }\n\n              existingFileEntries = $(\".k-file\", fileList);\n\n              if (!template) {\n                if (data.fileNames.length === 1) {\n                  fileEntry = that._prepareDefaultSingleFileEntryTemplate(data);\n                } else {\n                  fileEntry = that._prepareDefaultMultipleFileEntriesTemplate(data);\n                }\n              } else {\n                templateData = that._prepareTemplateData(name, data);\n                template = kendo.template(template);\n                fileEntry = $(\"<li class='k-file'>\" + template(templateData) + \"</li>\");\n                fileEntry.find(\".k-upload-action\").addClass(\"k-button k-icon-button k-button-md k-rounded-md k-button-flat k-button-flat-base\");\n                that.angular(\"compile\", function () {\n                  return {\n                    elements: fileEntry,\n                    data: [templateData]\n                  };\n                });\n              }\n\n              fileEntry.attr(kendo.attr(\"uid\"), fileUid).appendTo(fileList).data(data);\n\n              if (!that._async) {\n                $(\".k-progress\", fileEntry).width('100%');\n              }\n\n              if (!that.multiple && existingFileEntries.length > 0) {\n                removeEventArgs = {\n                  files: existingFileEntries.data(\"fileNames\"),\n                  headers: {}\n                };\n\n                if (!that.trigger(REMOVE, removeEventArgs)) {\n                  that._module.onRemove({\n                    target: $(existingFileEntries, that.wrapper)\n                  }, removeEventArgs);\n                }\n              }\n\n              return fileEntry;\n            },\n            _removeFileEntry: function (fileEntry) {\n              var that = this;\n              var fileList = fileEntry.closest(\".k-upload-files\");\n              var allFiles, allCompletedFiles, allInvalidFiles;\n              fileEntry.remove();\n              allFiles = $(\".k-file\", fileList);\n              allCompletedFiles = $(\".k-file-success, .k-file-error\", fileList);\n              allInvalidFiles = $(\".k-file-invalid\", fileList);\n\n              if (allCompletedFiles.length === allFiles.length || allInvalidFiles.length === allFiles.length) {\n                this._hideActionButtons();\n              }\n\n              if (allFiles.length === 0) {\n                fileList.remove();\n                that.wrapper.addClass(\"k-upload-empty\");\n\n                that._hideHeaderUploadstatus();\n              } else {\n                that._updateHeaderUploadStatus();\n              }\n            },\n            _fileAction: function (fileElement, actionKey, skipClear) {\n              var classDictionary = {\n                remove: \"k-i-x\",\n                cancel: \"k-i-cancel\",\n                retry: \"k-i-retry\",\n                pause: \"k-i-pause-sm\"\n              };\n              var iconsClassDictionary = {\n                remove: \"k-i-close\",\n                cancel: \"k-i-cancel\",\n                retry: \"k-i-reload-sm\",\n                pause: \"k-i-pause-sm\"\n              };\n              var firstActionButton;\n\n              if (!classDictionary.hasOwnProperty(actionKey)) {\n                return;\n              }\n\n              if (!skipClear) {\n                this._clearFileAction(fileElement);\n              }\n\n              if (!this.options.template) {\n                if (!skipClear) {\n                  fileElement.find(\".k-upload-status .k-upload-action\").remove();\n                }\n\n                fileElement.find(\".k-upload-status\").append(this._renderAction(classDictionary[actionKey], this.localization[actionKey], iconsClassDictionary[actionKey]));\n              } else {\n                firstActionButton = fileElement.find(\".k-upload-action\").first();\n\n                if (!firstActionButton.find(\".k-icon\").length) {\n                  firstActionButton.addClass(\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button\").append(\"<span class='k-button-icon k-icon \" + iconsClassDictionary[actionKey] + \" \" + classDictionary[actionKey] + \"' title='\" + this.localization[actionKey] + \"'\" + \"aria-label='\" + this.localization[actionKey] + \"'></span>\").show();\n                } else if (firstActionButton.next(\".k-upload-action\").length) {\n                  firstActionButton.next(\".k-upload-action\").addClass(\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button\").append(\"<span class='k-button-icon k-icon \" + iconsClassDictionary[actionKey] + \" \" + classDictionary[actionKey] + \"' title='\" + this.localization[actionKey] + \"'\" + \"aria-label='\" + this.localization[actionKey] + \"'></span>\").show();\n                }\n              }\n            },\n            _fileState: function (fileEntry, stateKey) {\n              var localization = this.localization,\n                  states = {\n                uploading: {\n                  text: localization.statusUploading\n                },\n                uploaded: {\n                  text: localization.statusUploaded\n                },\n                failed: {\n                  text: localization.statusFailed\n                }\n              },\n                  currentState = states[stateKey];\n\n              if (currentState) {\n                $(\"span.k-file-state\", fileEntry).text(currentState.text);\n              }\n            },\n            _renderAction: function (actionClass, actionText, iconClass) {\n              if (actionClass !== \"\") {\n                return $(\"<button type='button' class='k-button k-icon-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-upload-action' aria-label='\" + actionText + \"' tabindex='-1'>\" + \"<span class='k-button-icon k-icon \" + iconClass + \" \" + actionClass + \"' title='\" + actionText + \"'></span>\" + \"</button>\").on(\"focus\", function () {\n                  $(this).addClass(FOCUS_STATE);\n                }).on(\"blur\", function () {\n                  $(this).removeClass(FOCUS_STATE);\n                });\n              } else {\n                return $(\"<button type='button' class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base'>\" + '<span class=\"k-button-text\">' + actionText + '</span>' + \"</button>\");\n              }\n            },\n            _clearFileAction: function (fileElement) {\n              $(\".k-upload-action\", fileElement).empty().hide();\n            },\n            _onFileAction: function (e) {\n              var that = this;\n\n              if (!that.wrapper.hasClass(\"k-disabled\")) {\n                var button = $(e.target).closest(\".k-upload-action\");\n                var icon = button.find(\".k-icon\");\n                var fileEntry = button.closest(\".k-file\");\n                var files = fileEntry.data(\"fileNames\");\n\n                var hasValidationErrors = that._filesContainValidationErrors(files);\n\n                var eventArgs = {\n                  files: files,\n                  headers: {}\n                };\n                that._retryClicked = false;\n\n                if (icon.hasClass(\"k-i-x\")) {\n                  if (!that.trigger(REMOVE, eventArgs)) {\n                    that._module.onRemove({\n                      target: $(fileEntry, that.wrapper)\n                    }, eventArgs, !hasValidationErrors);\n\n                    that.element.trigger(\"focus\");\n                  }\n                } else if (icon.hasClass(\"k-i-cancel\")) {\n                  that.trigger(CANCEL, eventArgs);\n\n                  that._module.onCancel({\n                    target: $(fileEntry, that.wrapper)\n                  });\n\n                  that._checkAllComplete();\n\n                  that._updateHeaderUploadStatus();\n\n                  that.element.trigger(\"focus\");\n                } else if (icon.hasClass(\"k-i-pause-sm\")) {\n                  that.trigger(PAUSE, eventArgs);\n                  that.pause(fileEntry);\n\n                  that._updateHeaderUploadStatus();\n                } else if (icon.hasClass(\"k-i-play-sm\")) {\n                  that.trigger(RESUME, eventArgs);\n                  that.resume(fileEntry);\n                } else if (icon.hasClass(\"k-i-retry\")) {\n                  $(\".k-i-warning\", fileEntry).remove();\n                  $(\".k-progressbar\", fileEntry).finish().show();\n\n                  that._module.onRetry({\n                    target: $(fileEntry, that.wrapper)\n                  });\n\n                  that._retryClicked = true;\n                }\n\n                fileEntry.addClass(FOCUS_STATE);\n              }\n\n              return false;\n            },\n            _onUploadSelected: function () {\n              var that = this;\n              var wrapper = that.wrapper;\n\n              if (!wrapper.hasClass(\"k-disabled\")) {\n                this._module.onSaveSelected();\n              }\n\n              return false;\n            },\n            _onClearSelected: function () {\n              var that = this;\n              var wrapper = that.wrapper;\n              var clearEventArgs = {};\n\n              if (!wrapper.hasClass(\"k-disabled\") && !that.trigger(CLEAR, clearEventArgs)) {\n                that.clearAllFiles();\n              }\n\n              return false;\n            },\n            _onFileProgress: function (e, percentComplete) {\n              var progressPct;\n\n              if (percentComplete > 100) {\n                percentComplete = 100;\n              }\n\n              $(\".k-progressbar\", e.target).removeClass('k-hidden');\n\n              if (!this.options.template) {\n                progressPct = $(\".k-upload-pct\", e.target);\n\n                if (progressPct.length === 0) {\n                  $(\".k-upload-status\", e.target).prepend(\"<span class='k-upload-pct'></span>\");\n                }\n\n                if (percentComplete !== 100) {\n                  $(\".k-upload-pct\", e.target).text(percentComplete + \"%\");\n                } else {\n                  $(\".k-upload-pct\", e.target).remove();\n                }\n\n                $(\".k-progress\", e.target).width(percentComplete + \"%\");\n              } else {\n                $(\".k-progress\", e.target).width(percentComplete + \"%\");\n              }\n\n              this.trigger(PROGRESS, {\n                files: getFileEntry(e).data(\"fileNames\"),\n                percentComplete: percentComplete\n              });\n            },\n            _onUploadSuccess: function (e, response, xhr) {\n              var that = this;\n              var fileEntry = getFileEntry(e);\n              var files = fileEntry.data(\"fileNames\");\n              var fileInfo = fileEntry.find('.k-file-information');\n              var fileSize = fileEntry.find('.k-file-size');\n              var prevented = that.trigger(SUCCESS, {\n                files: fileEntry.data(\"fileNames\"),\n                response: response,\n                operation: \"upload\",\n                XMLHttpRequest: xhr\n              });\n\n              if (prevented) {\n                that._setUploadErrorState(fileEntry);\n              } else {\n                that._fileState(fileEntry, \"uploaded\");\n\n                fileEntry.removeClass('k-file-progress').addClass('k-file-success');\n\n                if (fileInfo.length > 0) {\n                  fileInfo.addClass('k-hidden').after('<span class=\"k-file-validation-message k-text-success\">' + files.length + ' ' + that.localization.uploadSuccess + '</span>');\n                } else if (fileSize.length > 0) {\n                  fileSize.addClass('k-hidden').after('<span class=\"k-file-validation-message k-text-success\">' + that.localization.uploadSuccess + '</span>');\n                }\n\n                that._updateHeaderUploadStatus();\n\n                if (that._supportsRemove()) {\n                  that._fileAction(fileEntry, REMOVE);\n                } else {\n                  that._clearFileAction(fileEntry);\n                }\n              }\n\n              that._hideUploadProgress(fileEntry);\n\n              that._checkAllComplete();\n            },\n            _onUploadError: function (e, xhr) {\n              var that = this;\n              var module = that._module;\n              var fileEntry = getFileEntry(e);\n              var fileUid = fileEntry.data(\"uid\");\n\n              that._setUploadErrorState(fileEntry);\n\n              that.trigger(ERROR, {\n                operation: \"upload\",\n                files: fileEntry.data(\"fileNames\"),\n                XMLHttpRequest: xhr\n              });\n              logToConsole(\"Server response: \" + xhr.responseText);\n\n              if (!that.options.async.chunkSize) {\n                that._hideUploadProgress(fileEntry);\n              } else {\n                if (module._decreasePosition) {\n                  module._decreasePosition(fileUid);\n                }\n              }\n\n              that._checkAllComplete();\n\n              if (this.options.async.autoRetryAfter) {\n                this._autoRetryAfter(fileEntry);\n              }\n            },\n            _autoRetryAfter: function (fileEntry) {\n              var that = this;\n              var retries = this._module.retries;\n\n              if (!retries) {\n                return;\n              }\n\n              if (!retries[fileEntry.data(\"uid\")]) {\n                retries[fileEntry.data(\"uid\")] = 1;\n              }\n\n              if (retries[fileEntry.data(\"uid\")] <= this.options.async.maxAutoRetries) {\n                retries[fileEntry.data(\"uid\")]++;\n                setTimeout(function () {\n                  that._module.performUpload(fileEntry);\n                }, this.options.async.autoRetryAfter);\n              }\n            },\n            _setUploadErrorState: function (fileEntry) {\n              var that = this,\n                  uploadPercentage,\n                  files = fileEntry.data(\"fileNames\"),\n                  fileInfo = fileEntry.find('.k-file-information'),\n                  fileSize = fileEntry.find('.k-file-size');\n\n              that._fileState(fileEntry, \"failed\");\n\n              fileEntry.removeClass('k-file-progress').addClass('k-file-error');\n\n              if (fileInfo.length > 0) {\n                fileInfo.addClass('k-hidden').after('<span class=\"k-file-validation-message k-text-error\">' + files.length + ' ' + that.localization.uploadFail + '</span>');\n              } else if (fileSize.length > 0) {\n                fileSize.addClass('k-hidden').after('<span class=\"k-file-validation-message k-text-error\">' + that.localization.uploadFail + '</span>');\n              }\n\n              that._updateUploadProgress(fileEntry);\n\n              uploadPercentage = $('.k-upload-pct', fileEntry);\n\n              if (uploadPercentage.length > 0) {\n                uploadPercentage.remove();\n              }\n\n              this._updateHeaderUploadStatus();\n\n              this._fileAction(fileEntry, \"retry\");\n\n              this._fileAction(fileEntry, REMOVE, true);\n\n              if (that._retryClicked) {\n                fileEntry.trigger(\"focus\");\n              }\n            },\n            _updateUploadProgress: function (fileEntry) {\n              var that = this;\n\n              if (!that.options.async.chunkSize) {\n                $('.k-progress', fileEntry).width(\"100%\");\n              } else {\n                var fileUid = fileEntry.data(\"uid\");\n\n                if (that._module.metaData) {\n                  var fileMetaData = that._module.metaData[fileUid];\n\n                  if (fileMetaData) {\n                    var percentComplete = fileMetaData.totalChunks ? Math.round(fileMetaData.chunkIndex / fileMetaData.totalChunks * 100) : 100;\n\n                    that._onFileProgress({\n                      target: $(fileEntry, that.wrapper)\n                    }, percentComplete);\n                  }\n                }\n              }\n            },\n            _hideUploadProgress: function (fileEntry) {\n              $(\".k-progressbar\", fileEntry).delay(PROGRESSHIDEDELAY).fadeOut(PROGRESSHIDEDURATION, function () {\n                $(this).find('.k-progress').css(\"width\", \"0%\");\n              });\n            },\n            _showActionButtons: function () {\n              var that = this;\n              var actionsWrapper = $(\".k-action-buttons\", that.wrapper);\n              var uploadButton = $(\".k-upload-selected\", that.wrapper);\n              var clearButton = $(\".k-clear-selected\", that.wrapper);\n\n              if (uploadButton.length === 0) {\n                uploadButton = that._renderAction(\"\", this.localization.uploadSelectedFiles).addClass(\"k-upload-selected\").addClass(\"k-button-solid-primary\").removeClass(\"k-button-solid-base\");\n                clearButton = that._renderAction(\"\", this.localization.clearSelectedFiles).addClass(\"k-clear-selected\");\n              }\n\n              if (!actionsWrapper.length) {\n                actionsWrapper = $(\"<div />\").addClass(\"k-action-buttons\").append(clearButton, uploadButton);\n              }\n\n              this.wrapper.append(actionsWrapper);\n            },\n            _hideActionButtons: function () {\n              $(\".k-action-buttons\", this.wrapper).remove();\n            },\n            _showHeaderUploadStatus: function (isUploading) {\n              var that = this;\n              var localization = that.localization;\n              var dropZone = $(\".k-dropzone\", that.wrapper);\n              var headerUploadStatus = $('.k-upload-status-total', that.wrapper);\n\n              if (headerUploadStatus.length !== 0) {\n                headerUploadStatus.remove();\n              }\n\n              $('.k-dropzone-hint', that.wrapper).addClass('k-hidden');\n              headerUploadStatus = '<strong class=\"k-upload-status k-upload-status-total\"><span class=\"k-icon\"></span></strong>';\n\n              if (isUploading) {\n                headerUploadStatus = $(headerUploadStatus).append(localization.headerStatusUploading);\n                headerUploadStatus.find(\".k-icon\").addClass(headerStatusIcon.loading);\n              } else {\n                headerUploadStatus = $(headerUploadStatus).append(localization.headerStatusUploaded);\n                headerUploadStatus.find(\".k-icon\").addClass(headerStatusIcon.warning);\n              }\n\n              if (dropZone.length > 0) {\n                dropZone.append(headerUploadStatus);\n              } else {\n                $('.k-upload-button', that.wrapper).after(headerUploadStatus);\n              }\n            },\n            _updateHeaderUploadStatus: function () {\n              var that = this;\n              var headerUploadStatus = $('.k-upload-status-total', this.wrapper);\n              var currentlyUploading = $('.k-file', that.wrapper).not('.k-file-success, .k-file-error, .k-file-invalid');\n              var currentlyInvalid = $('.k-file-invalid', that.wrapper);\n              var currentlyFailed = $('.k-file-error', that.wrapper);\n              var currentlyPaused = $('.k-file', that.wrapper).find(\".k-i-play-sm\");\n              var failedUploads, headerUploadStatusIcon;\n\n              if (currentlyPaused.length && (currentlyPaused.length === currentlyUploading.length || !that.options.async.concurrent)) {\n                headerUploadStatusIcon = $('.k-icon', headerUploadStatus).removeClass().addClass(\"k-icon\").addClass(\"k-i-pause-sm\");\n                headerUploadStatus.html(headerUploadStatusIcon).append(that.localization.headerStatusPaused);\n              } else if (currentlyUploading.length === 0 || currentlyInvalid.length > 0 || currentlyFailed.length > 0) {\n                failedUploads = $('.k-file.k-file-error, .k-file.k-file-invalid', that.wrapper);\n                headerUploadStatus = $('.k-upload-status-total', that.wrapper);\n                headerUploadStatusIcon = $('.k-icon', headerUploadStatus).removeClass().addClass(\"k-icon\").addClass(failedUploads.length !== 0 ? headerStatusIcon.warning : headerStatusIcon.success);\n                headerUploadStatus.html(headerUploadStatusIcon).append(that.localization.headerStatusUploaded);\n              }\n            },\n            _hideHeaderUploadstatus: function () {\n              var that = this,\n                  dropZone = that.options.dropZone;\n              $('.k-upload-status-total', this.wrapper).remove();\n\n              if (dropZone === \"\") {\n                $('.k-dropzone-hint', that.wrapper).removeClass('k-hidden');\n              }\n            },\n            _onParentFormSubmit: function () {\n              var upload = this,\n                  element = upload.element;\n\n              if (typeof this._module.onAbort !== 'undefined') {\n                this._module.onAbort();\n              }\n\n              if (!element.value) {\n                var input = $(element); // Prevent submitting an empty input\n\n                input.attr(\"disabled\", \"disabled\");\n                window.setTimeout(function () {\n                  // Restore the input so the Upload remains functional\n                  // in case the user cancels the form submit\n                  input.prop(\"disabled\", false);\n                }, 0);\n              }\n            },\n            _onParentFormReset: function () {\n              $(\".k-upload-files\", this.wrapper).remove();\n            },\n            _supportsFormData: function () {\n              return typeof FormData != \"undefined\";\n            },\n            _supportsMultiple: function () {\n              var windows = this._userAgent().indexOf(\"Windows\") > -1;\n              return !kendo.support.browser.opera && !(kendo.support.browser.safari && windows);\n            },\n            _supportsDrop: function () {\n              var userAgent = this._userAgent().toLowerCase();\n\n              var isChrome = /chrome/.test(userAgent);\n              var isSafari = !isChrome && /safari/.test(userAgent);\n              var isWindowsSafari = isSafari && /windows/.test(userAgent);\n              return !isWindowsSafari && this._supportsFormData() && this.options.async.saveUrl;\n            },\n            _userAgent: function () {\n              return navigator.userAgent;\n            },\n            _setupDropZone: function () {\n              var that = this;\n              var ns = that._ns;\n              var dropZone = $(\".k-dropzone\", that.wrapper).on(\"dragenter\" + ns, stopEvent).on(\"dragover\" + ns, function (e) {\n                if (e.originalEvent) {\n                  e.originalEvent.dataTransfer.dropEffect = \"copy\";\n                }\n\n                e.preventDefault();\n              }).on(\"drop\" + ns, that._onDrop.bind(that));\n\n              if (!dropZone.find(\".k-dropzone-hint\").length) {\n                dropZone.append($(\"<em class='k-dropzone-hint'>\" + that.localization.dropFilesHere + \"</em>\"));\n              }\n\n              bindDragEventWrappers(dropZone, ns, function () {\n                if (!dropZone.closest('.k-upload').hasClass(\"k-disabled\")) {\n                  dropZone.addClass(\"k-dropzone-hovered\");\n                }\n              }, function () {\n                dropZone.removeClass(\"k-dropzone-hovered\");\n              });\n\n              that._bindDocumentDragEventWrappers(dropZone);\n            },\n            _setupCustomDropZone: function () {\n              var that = this;\n              var dropZone = $(that.options.dropZone);\n\n              if (!that.wrapper.find(\".k-dropzone-hint\").length) {\n                $(\".k-dropzone\", that.wrapper).append($(\"<em class='k-dropzone-hint k-hidden'>\" + that.localization.dropFilesHere + \"</em>\"));\n              } else {\n                // Dropzone hint in upload should be hidden if customDropZone is used\n                $('.k-dropzone-hint', that.wrapper).addClass('k-hidden');\n              }\n\n              var ns = that._ns;\n              dropZone.on(\"dragenter\" + ns, stopEvent).on(\"dragover\" + ns, function (e) {\n                if (e.originalEvent) {\n                  e.originalEvent.dataTransfer.dropEffect = \"copy\";\n                }\n\n                e.preventDefault();\n              }).on(\"drop\" + ns, that._onDrop.bind(that));\n              bindDragEventWrappers(dropZone, ns, function (e) {\n                if (!that.wrapper.hasClass(\"k-disabled\")) {\n                  dropZone.removeClass(\"k-dropzone-hovered\");\n                  dropZone.addClass(\"k-dropzone-hovered\");\n                  $(e.target).addClass(\"k-dropzone-hovered\");\n                }\n              }, function () {\n                dropZone.removeClass(\"k-dropzone-hovered\");\n                dropZone.find('.k-dropzone-hovered').removeClass(\"k-dropzone-hovered\");\n              });\n\n              that._bindDocumentDragEventWrappers(dropZone);\n            },\n            _bindDocumentDragEventWrappers: function (dropZone) {\n              var that = this;\n              var ns = that._ns;\n              bindDragEventWrappers($(document), ns, function () {\n                if (!that.wrapper.hasClass(\"k-disabled\")) {\n                  dropZone.addClass(\"k-dropzone-active\");\n                  dropZone.closest('.k-upload').removeClass('k-upload-empty');\n                  dropZone.find('.k-dropzone-hint').removeClass('k-hidden');\n                }\n              }, function () {\n                dropZone.removeClass(\"k-dropzone-active\");\n                dropZone.find('.k-dropzone-hint').addClass('k-hidden');\n\n                if ($('li.k-file', dropZone.closest('.k-upload')).length === 0) {\n                  dropZone.closest('.k-upload').addClass('k-upload-empty');\n                }\n              });\n            },\n            _toggleDropZone: function () {\n              var that = this,\n                  dropZone = that.options.dropZone;\n\n              if (!that._supportsDrop()) {\n                return;\n              }\n\n              $(dropZone).off(that._ns);\n              $(\".k-dropzone\", that.wrapper).off(that._ns);\n\n              if (dropZone !== \"\") {\n                that._setupCustomDropZone();\n              } else {\n                that._setupDropZone();\n              }\n            },\n            _supportsRemove: function () {\n              return !!this.options.async.removeUrl;\n            },\n            _submitRemove: function (fileNames, eventArgs, onSuccess, onError) {\n              var upload = this,\n                  removeField = upload.options.async.removeField || \"fileNames\",\n                  params = $.extend(eventArgs.data, antiForgeryTokens());\n              params[removeField] = fileNames;\n              jQuery.ajax({\n                type: this.options.async.removeVerb,\n                dataType: \"json\",\n                dataFilter: normalizeJSON,\n                url: this.options.async.removeUrl,\n                traditional: true,\n                data: params,\n                headers: eventArgs.headers,\n                success: onSuccess,\n                error: onError,\n                xhrFields: {\n                  withCredentials: this.options.async.withCredentials\n                }\n              });\n            },\n            _wrapInput: function (input) {\n              var that = this;\n              var options = that.options;\n              var hasLabel = !!input.attr(\"id\") && $(\"[for='\" + input.attr(\"id\") + \"']\").length > 0;\n              input.wrap(\"<div class='k-widget k-upload'><div class='k-dropzone'><div class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-upload-button'></div></div></div>\");\n\n              if (!options.async.saveUrl) {\n                input.closest(\".k-upload\").addClass(\"k-upload-sync\");\n              } else {\n                input.closest(\".k-upload\").addClass(\"k-upload-async\");\n              }\n\n              input.closest(\".k-upload\").addClass(\"k-upload-empty\");\n              input.closest(\".k-button\").append(\"<span>\" + that.localization.select + \"</span>\");\n\n              if (!hasLabel && !input.attr(\"aria-label\")) {\n                input.attr(\"aria-label\", that.localization.select);\n              }\n\n              return input.closest(\".k-upload\");\n            },\n            _checkAllComplete: function () {\n              if ($(\".k-file.k-file-progress\", this.wrapper).length === 0) {\n                this.trigger(COMPLETE);\n              }\n            },\n            _inputFiles: function (sourceInput) {\n              return inputFiles(sourceInput);\n            }\n          }); // Synchronous upload module\n\n          var syncUploadModule = function (upload) {\n            this.name = \"syncUploadModule\";\n            this.element = upload.wrapper;\n            this.upload = upload;\n            this.element.closest(\"form\").attr(\"enctype\", \"multipart/form-data\").attr(\"encoding\", \"multipart/form-data\");\n          };\n\n          syncUploadModule.prototype = {\n            onSelect: function (e, files) {\n              var upload = this.upload;\n              var sourceInput = $(e.target);\n\n              var filesContainErrors = upload._filesContainValidationErrors(files);\n\n              upload._addInput(sourceInput);\n\n              var fileData = {\n                \"fileNames\": files\n              };\n\n              if (filesContainErrors) {\n                sourceInput.remove();\n              } else {\n                fileData.relatedInput = sourceInput;\n              }\n\n              var file = upload._enqueueFile(getFileName(sourceInput), fileData);\n\n              if (filesContainErrors) {\n                upload._hideUploadProgress(file);\n              }\n\n              upload._fileAction(file, REMOVE);\n            },\n            onRemove: function (e) {\n              var fileEntry = getFileEntry(e);\n              var relatedInput = fileEntry.data(\"relatedInput\");\n\n              if (relatedInput) {\n                relatedInput.remove();\n              }\n\n              this.upload._removeFileEntry(fileEntry);\n            }\n          };\n\n          var iframeUploadModule = function (upload) {\n            this.name = \"iframeUploadModule\";\n            this.element = upload.wrapper;\n            this.upload = upload;\n            this.iframes = [];\n          };\n\n          Upload._frameId = 0;\n          iframeUploadModule.prototype = {\n            onSelect: function (e, files) {\n              var upload = this.upload;\n              var sourceInput = $(e.target);\n\n              var hasValidationErrors = upload._filesContainValidationErrors(files);\n\n              var fileEntry = this.prepareUpload(sourceInput, files, hasValidationErrors);\n\n              if (upload.options.async.autoUpload) {\n                if (!hasValidationErrors) {\n                  this.performUpload(fileEntry);\n                } else {\n                  upload._fileAction(fileEntry, REMOVE);\n\n                  upload._showHeaderUploadStatus(false);\n                }\n              } else {\n                upload._fileAction(fileEntry, REMOVE);\n\n                if (!hasValidationErrors) {\n                  upload._showActionButtons();\n                } else {\n                  upload._updateHeaderUploadStatus();\n                }\n              }\n\n              if (hasValidationErrors) {\n                upload._hideUploadProgress(fileEntry);\n              }\n            },\n            prepareUpload: function (sourceInput, files, hasValidationErrors) {\n              var upload = this.upload;\n              var activeInput = $(upload.element);\n              var name = upload.options.async.saveField || sourceInput.attr(\"name\");\n              var fileEntry, fileData, iframe, form;\n\n              upload._addInput(sourceInput);\n\n              sourceInput.attr(\"name\", name);\n\n              if (!hasValidationErrors) {\n                iframe = this.createFrame(upload.name + \"_\" + Upload._frameId++);\n                this.registerFrame(iframe);\n                form = this.createForm(upload.options.async.saveUrl, iframe.attr(\"name\")).append(activeInput);\n                fileData = {\n                  \"frame\": iframe,\n                  \"relatedInput\": activeInput,\n                  \"fileNames\": files\n                };\n              } else {\n                sourceInput.remove();\n                fileData = {\n                  \"fileNames\": files\n                };\n              }\n\n              fileEntry = upload._enqueueFile(getFileName(sourceInput), fileData);\n\n              if (iframe) {\n                iframe.data({\n                  \"form\": form,\n                  \"file\": fileEntry\n                });\n              }\n\n              return fileEntry;\n            },\n            performUpload: function (fileEntry) {\n              var e = {\n                files: fileEntry.data(\"fileNames\")\n              };\n              var iframe = fileEntry.data(\"frame\");\n              var upload = this.upload;\n              var fileValidation = fileEntry.find('.k-file-validation-message');\n              var fileInfo = fileEntry.find('.k-file-information');\n              var fileSize = fileEntry.find('.k-file-size');\n\n              if (!upload.trigger(UPLOAD, e)) {\n                upload._hideActionButtons();\n\n                upload._showHeaderUploadStatus(true);\n\n                iframe.appendTo(document.body);\n                var form = iframe.data(\"form\").attr(\"action\", upload.options.async.saveUrl).appendTo(document.body);\n                e.data = $.extend({}, e.data, antiForgeryTokens());\n\n                for (var key in e.data) {\n                  var dataInput = form.find(\"input[name='\" + key + \"']\");\n\n                  if (dataInput.length === 0) {\n                    dataInput = $(\"<input>\", {\n                      type: \"hidden\",\n                      name: key\n                    }).prependTo(form);\n                  }\n\n                  dataInput.val(e.data[key]);\n                }\n\n                upload._fileAction(fileEntry, CANCEL);\n\n                upload._fileState(fileEntry, \"uploading\");\n\n                $(fileEntry).removeClass(\"k-file-error\").addClass(\"k-file-progress\");\n\n                if (fileValidation.length > 0) {\n                  fileValidation.remove();\n                }\n\n                if (fileInfo.length > 0) {\n                  fileInfo.removeClass('k-hidden');\n                } else if (fileSize.length > 0) {\n                  fileSize.removeClass('k-hidden');\n                }\n\n                iframe.one(\"load\", this.onIframeLoad.bind(this));\n                form[0].submit();\n              } else {\n                upload._removeFileEntry(iframe.data(\"file\"));\n\n                this.cleanupFrame(iframe);\n                this.unregisterFrame(iframe);\n              }\n            },\n            onSaveSelected: function () {\n              var module = this;\n              var upload = module.upload;\n              $(\".k-file\", this.element).each(function () {\n                var fileEntry = $(this);\n                var started = isFileUploadStarted(fileEntry);\n\n                var hasValidationErrors = upload._filesContainValidationErrors(fileEntry.data(\"fileNames\"));\n\n                if (!started && !hasValidationErrors) {\n                  module.performUpload(fileEntry);\n                }\n              });\n            },\n            onIframeLoad: function (e) {\n              var iframe = $(e.target),\n                  responseText;\n\n              try {\n                responseText = iframe.contents().text();\n              } catch (ex) {\n                responseText = \"Error trying to get server response: \" + ex;\n              }\n\n              this.processResponse(iframe, responseText);\n            },\n            processResponse: function (iframe, responseText) {\n              var fileEntry = iframe.data(\"file\"),\n                  module = this,\n                  fakeXHR = {\n                responseText: responseText\n              };\n              tryParseJSON(responseText, function (jsonResult) {\n                $.extend(fakeXHR, {\n                  statusText: \"OK\",\n                  status: \"200\"\n                });\n\n                module.upload._onFileProgress({\n                  target: $(fileEntry, module.upload.wrapper)\n                }, 100);\n\n                module.upload._onUploadSuccess({\n                  target: $(fileEntry, module.upload.wrapper)\n                }, jsonResult, fakeXHR);\n\n                module.cleanupFrame(iframe);\n                module.unregisterFrame(iframe);\n              }, function () {\n                $.extend(fakeXHR, {\n                  statusText: \"error\",\n                  status: \"500\"\n                });\n\n                module.upload._onUploadError({\n                  target: $(fileEntry, module.upload.wrapper)\n                }, fakeXHR);\n              });\n            },\n            onCancel: function (e) {\n              var iframe = $(e.target).data(\"frame\");\n              this.stopFrameSubmit(iframe);\n              this.cleanupFrame(iframe);\n              this.unregisterFrame(iframe);\n\n              this.upload._removeFileEntry(iframe.data(\"file\"));\n            },\n            onRetry: function (e) {\n              var fileEntry = getFileEntry(e);\n              this.performUpload(fileEntry);\n            },\n            onRemove: function (e, eventArgs, shouldSendRemoveRequest) {\n              var module = this;\n              var upload = module.upload;\n              var fileEntry = getFileEntry(e);\n              var iframe = fileEntry.data(\"frame\");\n\n              if (iframe) {\n                module.unregisterFrame(iframe);\n\n                upload._removeFileEntry(fileEntry);\n\n                module.cleanupFrame(iframe);\n              } else {\n                if (fileEntry.hasClass(\"k-file-success\")) {\n                  removeUploadedFile(fileEntry, upload, eventArgs, shouldSendRemoveRequest);\n                } else {\n                  upload._removeFileEntry(fileEntry);\n                }\n              }\n            },\n            onAbort: function () {\n              var element = this.element,\n                  module = this;\n              $.each(this.iframes, function () {\n                $(\"input\", this.data(\"form\")).appendTo(element);\n                module.stopFrameSubmit(this[0]);\n                this.data(\"form\").remove();\n                this.remove();\n              });\n              this.iframes = [];\n            },\n            createFrame: function (id) {\n              return $(\"<iframe\" + \" name='\" + id + \"'\" + \" id='\" + id + \"'\" + \" style='display:none;' />\");\n            },\n            createForm: function (action, target) {\n              return $(\"<form enctype='multipart/form-data' method='POST'\" + \" action='\" + action + \"'\" + \" target='\" + target + \"'\" + \"/>\");\n            },\n            stopFrameSubmit: function (frame) {\n              if (typeof frame.stop != \"undefined\") {\n                frame.stop();\n              } else if (frame.document) {\n                frame.document.execCommand(\"Stop\");\n              }\n            },\n            registerFrame: function (frame) {\n              this.iframes.push(frame);\n            },\n            unregisterFrame: function (frame) {\n              this.iframes = $.grep(this.iframes, function (value) {\n                return value.attr(\"name\") != frame.attr(\"name\");\n              });\n            },\n            cleanupFrame: function (frame) {\n              var form = frame.data(\"form\");\n              frame.data(\"file\").data(\"frame\", null);\n              setTimeout(function () {\n                form.remove();\n                frame.remove();\n              }, 1);\n            }\n          }; // FormData upload module\n\n          var formDataUploadModule = function (upload) {\n            this.name = \"formDataUploadModule\";\n            this.element = upload.wrapper;\n            this.upload = upload;\n            this.position = {};\n            this.metaData = {};\n            this.cancelled = {};\n            this.resume = {};\n            this.paused = {};\n            this.retries = {};\n          };\n\n          formDataUploadModule.prototype = {\n            onSelect: function (e, files) {\n              var upload = this.upload;\n              var module = this;\n              var sourceElement = $(e.target);\n              var fileEntries = this.prepareUpload(sourceElement, files);\n              var hasValidationErrors;\n              var prev;\n              $.each(fileEntries, function (index) {\n                hasValidationErrors = upload._filesContainValidationErrors($(this.data(\"fileNames\")));\n\n                if (upload.options.async.autoUpload) {\n                  if (!hasValidationErrors) {\n                    if (upload.options.async.chunkSize) {\n                      module.prepareChunk(this);\n                      prev = this.prev();\n\n                      if (upload.options.async.concurrent || index === 0 && !prev.length || index === 0 && prev.hasClass(\"k-file-success\")) {\n                        module.performUpload(this);\n                      }\n                    } else {\n                      module.performUpload(this);\n                    }\n                  } else {\n                    upload._fileAction(this, REMOVE);\n\n                    upload._showHeaderUploadStatus(false);\n                  }\n                } else {\n                  upload._fileAction(this, REMOVE);\n\n                  if (!hasValidationErrors) {\n                    upload._showActionButtons();\n\n                    this.addClass(\"k-toupload\");\n                  } else {\n                    upload._updateHeaderUploadStatus();\n                  }\n                }\n\n                if (hasValidationErrors) {\n                  upload._hideUploadProgress(this);\n                }\n              });\n            },\n            prepareUpload: function (sourceElement, files) {\n              var fileEntries = this.enqueueFiles(files);\n\n              if (sourceElement.is(\"input\")) {\n                $.each(fileEntries, function () {\n                  $(this).data(\"relatedInput\", sourceElement);\n                });\n                sourceElement.data(\"relatedFileEntries\", fileEntries);\n\n                this.upload._addInput(sourceElement);\n              }\n\n              return fileEntries;\n            },\n            enqueueFiles: function (files) {\n              var upload = this.upload;\n              var name;\n              var i;\n              var filesLength = files.length;\n              var currentFile;\n              var fileEntry;\n              var fileEntries = [];\n\n              if (upload.options.async.batch === true) {\n                name = $.map(files, function (file) {\n                  return file.name;\n                }).join(\", \");\n\n                if (upload.directory || upload.options.directoryDrop) {\n                  $(files).each(function () {\n                    if (this.rawFile.webkitRelativePath || this.rawFile.relativePath) {\n                      this.name = this.rawFile.webkitRelativePath || this.rawFile.relativePath;\n                    }\n                  });\n                }\n\n                fileEntry = upload._enqueueFile(name, {\n                  fileNames: files\n                });\n                fileEntry.data(\"files\", files);\n                fileEntries.push(fileEntry);\n              } else {\n                for (i = 0; i < filesLength; i++) {\n                  currentFile = files[i];\n                  name = currentFile.name;\n\n                  if (upload.directory || upload.options.directoryDrop) {\n                    if (currentFile.rawFile.webkitRelativePath || currentFile.rawFile.relativePath) {\n                      currentFile.name = currentFile.rawFile.webkitRelativePath || currentFile.rawFile.relativePath;\n                    }\n                  }\n\n                  fileEntry = upload._enqueueFile(name, {\n                    fileNames: [currentFile]\n                  });\n                  fileEntry.data(\"files\", [currentFile]);\n                  fileEntries.push(fileEntry);\n                }\n              }\n\n              return fileEntries;\n            },\n            performUpload: function (fileEntry) {\n              var upload = this.upload,\n                  formData = this.createFormData(),\n                  xhr = this.createXHR(),\n                  e = {\n                files: fileEntry.data(\"fileNames\"),\n                XMLHttpRequest: xhr\n              },\n                  files;\n              var fileValidation = fileEntry.find('.k-file-validation-message');\n              var fileInfo = fileEntry.find('.k-file-information');\n              var fileSize = fileEntry.find('.k-file-size');\n\n              if (!upload.trigger(UPLOAD, e)) {\n                if (fileEntry.find(\".k-i-cancel\").length === 0) {\n                  if (upload.options.async.chunkSize) {\n                    upload._fileAction(fileEntry, PAUSE);\n                  }\n\n                  upload._fileAction(fileEntry, CANCEL, upload.options.async.chunkSize);\n                }\n\n                if (!upload.wrapper.find(\".k-toupload\").length) {\n                  upload._hideActionButtons();\n                }\n\n                upload._showHeaderUploadStatus(true);\n\n                if (e.formData) {\n                  formData = e.formData;\n                } else {\n                  e.data = $.extend({}, e.data, antiForgeryTokens());\n\n                  for (var key in e.data) {\n                    formData.append(key, e.data[key]);\n                  }\n\n                  files = fileEntry.data(\"files\");\n\n                  if (files) {\n                    this.populateFormData(formData, files);\n                  }\n                }\n\n                upload._fileState(fileEntry, \"uploading\");\n\n                $(fileEntry).removeClass(\"k-file-error\").addClass(\"k-file-progress\");\n\n                if (fileValidation.length > 0) {\n                  fileValidation.remove();\n                }\n\n                if (fileInfo.length > 0) {\n                  fileInfo.removeClass('k-hidden');\n                } else if (fileSize.length > 0) {\n                  fileSize.removeClass('k-hidden');\n                }\n\n                if (upload.options.async.useArrayBuffer && window.FileReader) {\n                  this._readFile(upload.options.async.saveUrl, formData, fileEntry, xhr);\n                } else {\n                  this.postFormData(upload.options.async.saveUrl, formData, fileEntry, xhr);\n                }\n              } else {\n                this.removeFileEntry(fileEntry);\n              }\n            },\n            _readFile: function (saveUrl, formData, fileEntry, xhr) {\n              var that = this;\n              var upload = that.upload;\n              var file = fileEntry.data(\"files\")[0];\n              var reader = new FileReader();\n\n              reader.onload = function (e) {\n                try {\n                  if (!that.fileArrayBuffer) {\n                    that.fileArrayBuffer = e.target.result;\n                  } else {\n                    that.fileArrayBuffer = that._appendBuffer(that.fileArrayBuffer, e.target.result);\n                  }\n                } catch (err) {\n                  upload._onUploadError({\n                    target: $(fileEntry, upload.wrapper)\n                  }, xhr);\n\n                  return;\n                }\n\n                if (that.position[file.uid] > file.size) {\n                  that.postFormData(upload.options.async.saveUrl, that.fileArrayBuffer, fileEntry, xhr);\n                  that.fileArrayBuffer = null;\n                } else {\n                  that._readFile(saveUrl, formData, fileEntry, xhr);\n                }\n              };\n\n              reader.onerror = function () {\n                upload._onUploadError({\n                  target: $(fileEntry, upload.wrapper)\n                }, xhr);\n              };\n\n              reader.readAsArrayBuffer(that._getCurrentChunk(file.rawFile, file.uid));\n            },\n            _appendBuffer: function (buffer1, buffer2) {\n              var tmp = new Uint8Array(buffer1.byteLength + buffer2.byteLength);\n              tmp.set(new Uint8Array(buffer1), 0);\n              tmp.set(new Uint8Array(buffer2), buffer1.byteLength);\n              return tmp.buffer;\n            },\n            onSaveSelected: function () {\n              var module = this;\n              var upload = module.upload;\n              $(\".k-toupload\", this.element).filter(function () {\n                var fileEntry = $(this);\n                var started = isFileUploadStarted(fileEntry);\n\n                var hasValidationErrors = upload._filesContainValidationErrors(fileEntry.data(\"fileNames\"));\n\n                return !started && !hasValidationErrors;\n              }).each(function (index) {\n                var fileEntry = $(this);\n                var prevEntry = fileEntry.prev();\n                fileEntry.removeClass(\"k-toupload\");\n\n                if (upload.options.async.chunkSize) {\n                  module.prepareChunk(fileEntry);\n\n                  if (upload.options.async.concurrent || index === 0 && !prevEntry.length || index === 0 && prevEntry.hasClass(\"k-file-success\") || prevEntry.hasClass(\"k-file-error\")) {\n                    module.performUpload(fileEntry);\n                  }\n                } else {\n                  module.performUpload(fileEntry);\n                }\n              });\n            },\n            onCancel: function (e) {\n              var fileEntry = getFileEntry(e);\n\n              if (this.upload.options.async.chunkSize) {\n                this.cancelled[fileEntry.data(\"uid\")] = true;\n              }\n\n              this.stopUploadRequest(fileEntry);\n              this.removeFileEntry(fileEntry);\n            },\n            onPause: function (e) {\n              var fileEntry = getFileEntry(e);\n              var fileUid = fileEntry.data(\"uid\");\n              var async = this.upload.options.async;\n\n              if (async.chunkSize) {\n                this.retries[fileUid] = async.maxAutoRetries + 1;\n                this.paused[fileUid] = true;\n                this.resume[fileUid] = false;\n              }\n            },\n            onResume: function (e) {\n              var fileEntry = getFileEntry(e);\n              var fileUid = fileEntry.data(\"uid\");\n\n              if (this.upload.options.async.chunkSize) {\n                delete this.paused[fileUid];\n                this.resume[fileUid] = true;\n                this.retries[fileEntry.data(\"uid\")] = 1;\n\n                this._increaseChunkIndex(fileUid);\n\n                this.performUpload(fileEntry);\n              }\n            },\n            onRetry: function (e) {\n              var fileEntry = getFileEntry(e);\n              var async = this.upload.options.async;\n\n              if (async.chunkSize) {\n                this.retries[fileEntry.data(\"uid\")] = async.maxAutoRetries + 1;\n                delete this.paused[fileEntry.data(\"uid\")];\n              }\n\n              this.performUpload(fileEntry);\n            },\n            onRemove: function (e, eventArgs, shouldSendRemoveRequest) {\n              var module = this;\n              var upload = module.upload;\n              var fileEntry = getFileEntry(e);\n              var async = this.upload.options.async;\n\n              if (async.chunkSize) {\n                this.retries[fileEntry.data(\"uid\")] = async.maxAutoRetries + 1;\n              }\n\n              if (fileEntry.hasClass(\"k-file-success\")) {\n                removeUploadedFile(fileEntry, upload, eventArgs, shouldSendRemoveRequest);\n              } else {\n                module.removeFileEntry(fileEntry);\n              }\n            },\n            createXHR: function () {\n              return new XMLHttpRequest();\n            },\n            postFormData: function (url, data, fileEntry, xhr) {\n              var module = this;\n              fileEntry.data(\"request\", xhr);\n              xhr.addEventListener(\"load\", function (e) {\n                module.onRequestSuccess.call(module, e, fileEntry);\n              }, false);\n              xhr.addEventListener(ERROR, function (e) {\n                module.onRequestError.call(module, e, fileEntry);\n              }, false);\n              xhr.upload.addEventListener(\"progress\", function (e) {\n                module.onRequestProgress.call(module, e, fileEntry);\n              }, false);\n              xhr.open(\"POST\", url, true);\n              xhr.withCredentials = this.upload.options.async.withCredentials;\n              var accept = this.upload.options.async.accept;\n\n              if (accept) {\n                xhr.setRequestHeader(\"Accept\", accept);\n              }\n\n              xhr.send(data);\n            },\n            createFormData: function () {\n              return new FormData();\n            },\n            populateFormData: function (data, files) {\n              var chunk;\n              var i;\n              var length = files.length;\n              var uid;\n              var upload = this.upload;\n\n              if (upload.options.async.chunkSize) {\n                uid = files[0].uid;\n                chunk = this._getCurrentChunk(files[0].rawFile, uid);\n                data.append(upload.options.async.saveField || upload.name, chunk);\n                var serializedMetaData = JSON.stringify(this.metaData[uid]);\n                data.append(\"metadata\", serializedMetaData);\n              } else {\n                for (i = 0; i < length; i++) {\n                  data.append(upload.options.async.saveField || upload.name, files[i].rawFile);\n                }\n              }\n\n              return data;\n            },\n            onRequestSuccess: function (e, fileEntry) {\n              var xhr = e.target,\n                  module = this;\n\n              function raiseError() {\n                module.upload._onUploadError({\n                  target: $(fileEntry, module.upload.wrapper)\n                }, xhr);\n              }\n\n              function parseSuccess(jsonResult) {\n                var batch = module.upload.options.async.batch;\n                var chunkSize = module.upload.options.async.chunkSize;\n                var concurrent = module.upload.options.async.concurrent;\n                var fileUid = jsonResult.fileUid;\n\n                if (module.paused[fileUid] || module.cancelled[fileUid]) {\n                  return;\n                }\n\n                delete module.retries[fileUid];\n\n                if (chunkSize && !batch && !jsonResult.uploaded) {\n                  module._increaseChunkIndex(fileUid);\n\n                  module.performUpload(fileEntry);\n                } else if (chunkSize && !batch && !concurrent && fileEntry.next().length && !fileEntry.next().hasClass(\"k-toupload\")) {\n                  module.upload._onFileProgress({\n                    target: $(fileEntry, module.upload.wrapper)\n                  }, 100);\n\n                  module._resetChunkIndex(fileUid);\n\n                  module.upload._onUploadSuccess({\n                    target: $(fileEntry, module.upload.wrapper)\n                  }, jsonResult, xhr);\n\n                  module.performUpload(fileEntry.next());\n                } else {\n                  module.upload._onFileProgress({\n                    target: $(fileEntry, module.upload.wrapper)\n                  }, 100);\n\n                  module.upload._onUploadSuccess({\n                    target: $(fileEntry, module.upload.wrapper)\n                  }, jsonResult, xhr);\n\n                  module.cleanupFileEntry(fileEntry);\n                }\n              }\n\n              if (xhr.status >= 200 && xhr.status <= 299) {\n                tryParseJSON(xhr.responseText, parseSuccess, raiseError);\n              } else {\n                raiseError();\n              }\n            },\n            onRequestError: function (e, fileEntry) {\n              var xhr = e.target;\n\n              this.upload._onUploadError({\n                target: $(fileEntry, this.upload.wrapper)\n              }, xhr);\n            },\n            cleanupFileEntry: function (fileEntry) {\n              var relatedInput = fileEntry.data(\"relatedInput\"),\n                  uploadComplete = true;\n\n              if (relatedInput) {\n                $.each(relatedInput.data(\"relatedFileEntries\") || [], function () {\n                  // Exclude removed file entries and self\n                  if (this.parent().length > 0 && this[0] != fileEntry[0]) {\n                    uploadComplete = uploadComplete && this.hasClass(\"k-file-success\");\n                  }\n                });\n\n                if (uploadComplete) {\n                  relatedInput.remove();\n                }\n              }\n            },\n            removeFileEntry: function (fileEntry) {\n              var chunkSize = this.upload.options.async.chunkSize;\n              var concurrent = this.upload.options.async.concurrent;\n              var isUploadButtonVisible = this.upload.wrapper.find(\".k-upload-selected\").length > 0;\n              this.cleanupFileEntry(fileEntry);\n\n              if (chunkSize && !concurrent && !isUploadButtonVisible) {\n                if (fileEntry.next().length) {\n                  this.performUpload(fileEntry.next());\n                }\n              }\n\n              this.upload._removeFileEntry(fileEntry);\n            },\n            onRequestProgress: function (e, fileEntry) {\n              var percentComplete = Math.round(e.loaded * 100 / e.total);\n              var fileUid = fileEntry.data(\"uid\");\n              var fileMetaData;\n\n              if (this.upload.options.async.chunkSize) {\n                fileMetaData = this.metaData[fileUid];\n                percentComplete = fileMetaData && fileMetaData.totalChunks ? Math.round(fileMetaData.chunkIndex / fileMetaData.totalChunks * 100) : 100;\n              }\n\n              this.upload._onFileProgress({\n                target: $(fileEntry, this.upload.wrapper)\n              }, percentComplete);\n            },\n            stopUploadRequest: function (fileEntry) {\n              if (fileEntry.data(\"request\")) {\n                fileEntry.data(\"request\").abort();\n              }\n            },\n            prepareChunk: function (fileEntry) {\n              var file = fileEntry.data(\"files\")[0];\n              var rawFile = file.rawFile;\n              var uid = file.uid;\n              var chunkSize = this.upload.options.async.chunkSize;\n              this.position[uid] = 0;\n              this.metaData[uid] = {\n                chunkIndex: 0,\n                contentType: rawFile.type,\n                fileName: rawFile.name,\n                relativePath: file.name,\n                totalFileSize: rawFile.size,\n                totalChunks: Math.ceil(rawFile.size / chunkSize),\n                uploadUid: uid\n              };\n            },\n            _decreaseChunkIndex: function (uid) {\n              this.metaData[uid].chunkIndex--;\n            },\n            _increaseChunkIndex: function (uid) {\n              this.metaData[uid].chunkIndex++;\n            },\n            _resetChunkIndex: function (uid) {\n              this.metaData[uid].chunkIndex = 0;\n            },\n            _decreasePosition: function (uid) {\n              this.position[uid] -= this.upload.options.async.chunkSize;\n            },\n            _getCurrentChunk: function (file, uid) {\n              var oldPosition = this.position[uid];\n              var methodToInvoke;\n              var async = this.upload.options.async;\n              var chunkSize = async.chunkSize || async.bufferChunkSize;\n\n              if (!this.position[uid]) {\n                this.position[uid] = 0;\n              }\n\n              this.position[uid] += chunkSize;\n\n              if (!!(methodToInvoke = this._getChunker(file))) {\n                return file[methodToInvoke](oldPosition, this.position[uid]);\n              } else {\n                return file;\n              }\n            },\n            _getChunker: function (file) {\n              if (file.slice) {\n                return \"slice\";\n              } else if (file.mozSlice) {\n                return \"mozSlice\";\n              } else if (file.webkitSlice) {\n                return \"webkitSlice\";\n              } else {\n                return null;\n              }\n            }\n          }; // Helper functions\n\n          function getFileName(input) {\n            return $.map(inputFiles(input), function (file) {\n              return file.name;\n            }).join(\", \");\n          }\n\n          function inputFiles($input) {\n            var input = $input[0];\n\n            if (input.files) {\n              return getAllFileInfo(input.files);\n            } else {\n              return [{\n                name: stripPath(input.value),\n                extension: getFileExtension(input.value),\n                size: null\n              }];\n            }\n          }\n\n          function getAllFileInfo(rawFiles) {\n            return $.map(rawFiles, function (file) {\n              return getFileInfo(file);\n            });\n          }\n\n          function getFileInfo(rawFile) {\n            // Older Firefox versions (before 3.6) use fileName and fileSize\n            var fileName = rawFile.name || rawFile.fileName;\n            return {\n              name: kendo.htmlEncode(fileName),\n              extension: getFileExtension(fileName),\n              size: typeof rawFile.size == \"number\" ? rawFile.size : rawFile.fileSize,\n              //rawFile.size || rawFile.fileSize,\n              rawFile: rawFile\n            };\n          }\n\n          function getFileExtension(fileName) {\n            var matches = fileName.match(rFileExtension);\n            return matches ? matches[0] : \"\";\n          }\n\n          function stripPath(name) {\n            var slashIndex = name.lastIndexOf(\"\\\\\");\n            return slashIndex != -1 ? name.substr(slashIndex + 1) : name;\n          }\n\n          function assignGuidToFiles(files, unique) {\n            var uid = kendo.guid();\n            return $.map(files, function (file) {\n              file.uid = unique ? kendo.guid() : uid;\n              return file;\n            });\n          }\n\n          function validateFiles(files, validationInfo) {\n            var allowedExtensions = parseAllowedExtensions(validationInfo.allowedExtensions);\n            var maxFileSize = validationInfo.maxFileSize;\n            var minFileSize = validationInfo.minFileSize;\n\n            for (var i = 0; i < files.length; i++) {\n              validateFileExtension(files[i], allowedExtensions);\n              validateFileSize(files[i], minFileSize, maxFileSize);\n            }\n          }\n\n          function parseAllowedExtensions(extensions) {\n            var allowedExtensions = $.map(extensions, function (ext) {\n              var parsedExt = ext.substring(0, 1) === \".\" ? ext : \".\" + ext;\n              return parsedExt.toLowerCase();\n            });\n            return allowedExtensions;\n          }\n\n          function validateFileExtension(file, allowedExtensions) {\n            if (allowedExtensions.length > 0) {\n              if (allowedExtensions.indexOf(file.extension.toLowerCase()) < 0) {\n                file.validationErrors = file.validationErrors || [];\n\n                if ($.inArray(INVALIDFILEEXTENSION, file.validationErrors) === -1) {\n                  file.validationErrors.push(INVALIDFILEEXTENSION);\n                }\n              }\n            }\n          }\n\n          function validateFileSize(file, minFileSize, maxFileSize) {\n            if (minFileSize !== 0 && file.size < minFileSize) {\n              file.validationErrors = file.validationErrors || [];\n\n              if ($.inArray(INVALIDMINFILESIZE, file.validationErrors) === -1) {\n                file.validationErrors.push(INVALIDMINFILESIZE);\n              }\n            }\n\n            if (maxFileSize !== 0 && file.size > maxFileSize) {\n              file.validationErrors = file.validationErrors || [];\n\n              if ($.inArray(INVALIDMAXFILESIZE, file.validationErrors) === -1) {\n                file.validationErrors.push(INVALIDMAXFILESIZE);\n              }\n            }\n          }\n\n          function getTotalFilesSizeMessage(files) {\n            var totalSize = 0;\n\n            if (typeof files[0].size == \"number\") {\n              for (var i = 0; i < files.length; i++) {\n                if (files[i].size) {\n                  totalSize += files[i].size;\n                }\n              }\n            } else {\n              return \"\";\n            }\n\n            totalSize /= 1024;\n\n            if (totalSize < 1024) {\n              return totalSize.toFixed(2) + \" KB\";\n            } else {\n              return (totalSize / 1024).toFixed(2) + \" MB\";\n            }\n          }\n\n          function shouldRemoveFileEntry(upload) {\n            return !upload.multiple && $(\".k-file\", upload.wrapper).length > 1;\n          }\n\n          function removeUploadedFile(fileEntry, upload, eventArgs, shouldSendRemoveRequest) {\n            if (!upload._supportsRemove()) {\n              if (shouldRemoveFileEntry(upload) || !shouldSendRemoveRequest) {\n                upload._removeFileEntry(fileEntry);\n              }\n\n              return;\n            }\n\n            var files = fileEntry.data(\"fileNames\");\n            var fileNames = $.map(files, function (file) {\n              return file.name;\n            });\n\n            if (shouldSendRemoveRequest === false) {\n              upload._removeFileEntry(fileEntry);\n\n              return;\n            }\n\n            upload._submitRemove(fileNames, eventArgs, function onSuccess(data, textStatus, xhr) {\n              var prevented = upload.trigger(SUCCESS, {\n                operation: \"remove\",\n                files: files,\n                response: data,\n                XMLHttpRequest: xhr\n              });\n\n              if (!prevented) {\n                upload._removeFileEntry(fileEntry);\n              }\n            }, function onError(xhr) {\n              if (shouldRemoveFileEntry(upload)) {\n                upload._removeFileEntry(fileEntry);\n              }\n\n              upload.trigger(ERROR, {\n                operation: \"remove\",\n                files: files,\n                XMLHttpRequest: xhr\n              });\n              logToConsole(\"Server response: \" + xhr.responseText);\n            });\n          }\n\n          function tryParseJSON(input, onSuccess, onError) {\n            var success = false,\n                json = \"\";\n\n            try {\n              json = JSON.parse(normalizeJSON(input));\n              success = true;\n            } catch (e) {\n              onError();\n            }\n\n            if (success) {\n              onSuccess(json);\n            }\n          }\n\n          function normalizeJSON(input) {\n            if (typeof input === \"undefined\" || input === \"\") {\n              input = \"{}\";\n            }\n\n            return input;\n          }\n\n          function stopEvent(e) {\n            if (e.originalEvent) {\n              e.originalEvent.dataTransfer.dropEffect = \"copy\";\n            }\n\n            e.stopPropagation();\n            e.preventDefault();\n          }\n\n          function bindDragEventWrappers(element, namespace, onDragEnter, onDragLeave) {\n            var hideInterval, lastDrag;\n            element.on(\"dragenter\" + namespace, function (e) {\n              onDragEnter(e);\n              lastDrag = new Date();\n\n              if (!hideInterval) {\n                hideInterval = setInterval(function () {\n                  var sinceLastDrag = new Date() - lastDrag;\n\n                  if (sinceLastDrag > 100) {\n                    onDragLeave();\n                    clearInterval(hideInterval);\n                    hideInterval = null;\n                  }\n                }, 100);\n              }\n            }).on(\"dragover\" + namespace, function () {\n              lastDrag = new Date();\n            });\n          }\n\n          function isFileUploadStarted(fileEntry) {\n            return fileEntry.is(\".k-file-progress, .k-file-success, .k-file-error\");\n          }\n\n          function getFileEntry(e) {\n            return $(e.target).closest(\".k-file\");\n          }\n\n          kendo.ui.plugin(Upload);\n        })(window.kendo.jQuery);\n\n        return window.kendo;\n      }, __webpack_require__.amdD);\n      /***/\n\n    },\n\n    /***/\n    57949:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./kendo.core\");\n      /***/\n    },\n\n    /***/\n    72834:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"jquery\");\n      /***/\n    }\n    /******/\n\n  };\n  /************************************************************************/\n\n  /******/\n  // The module cache\n\n  /******/\n\n  var __webpack_module_cache__ = {};\n  /******/\n\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n    // Check if module is in cache\n\n    /******/\n    var cachedModule = __webpack_module_cache__[moduleId];\n    /******/\n\n    if (cachedModule !== undefined) {\n      /******/\n      return cachedModule.exports;\n      /******/\n    }\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n\n    var module = __webpack_module_cache__[moduleId] = {\n      /******/\n      // no module.id needed\n\n      /******/\n      // no module.loaded needed\n\n      /******/\n      exports: {}\n      /******/\n\n    };\n    /******/\n\n    /******/\n    // Execute the module function\n\n    /******/\n\n    __webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n    /******/\n\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n\n    return module.exports;\n    /******/\n  }\n  /******/\n\n  /************************************************************************/\n\n  /******/\n\n  /* webpack/runtime/amd define */\n\n  /******/\n\n\n  !function () {\n    /******/\n    __webpack_require__.amdD = function () {\n      /******/\n      throw new Error('define cannot be used indirect');\n      /******/\n    };\n    /******/\n\n  }();\n  /******/\n\n  /************************************************************************/\n\n  /******/\n\n  /******/\n  // startup\n\n  /******/\n  // Load entry module and return exports\n\n  /******/\n  // This entry module used 'module' so it can't be inlined\n\n  /******/\n\n  var __webpack_exports__ = __webpack_require__(19267);\n  /******/\n\n\n  module.exports = __webpack_exports__;\n  /******/\n\n  /******/\n})();","map":{"version":3,"names":["__webpack_modules__","module","exports","__webpack_require__","jQuery","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","f","define","apply","undefined","__meta__","id","name","category","description","depends","$","kendo","window","Widget","ui","antiForgeryTokens","logToConsole","rFileExtension","NS","SELECT","UPLOAD","SUCCESS","ERROR","COMPLETE","CANCEL","CLEAR","PAUSE","RESUME","PROGRESS","REMOVE","VALIDATIONERRORS","INVALIDMAXFILESIZE","INVALIDMINFILESIZE","INVALIDFILEEXTENSION","PROGRESSHIDEDELAY","PROGRESSHIDEDURATION","FOCUS_STATE","TABINDEX","headerStatusIcon","loading","warning","success","Upload","extend","init","element","options","that","fn","call","multiple","directory","localization","activeInput","wrapper","closest","length","_wrapInput","_activeInput","toggle","enabled","ns","_ns","guid","on","_onParentFormSubmit","bind","_onParentFormReset","_initUploadModule","_toggleDropZone","_onFileAction","_onClearSelected","_onUploadSelected","_onKeyDown","_focusout","val","_onInputChange","target","events","showFileList","template","files","async","autoRetryAfter","bufferChunkSize","maxAutoRetries","removeVerb","autoUpload","withCredentials","accept","useArrayBuffer","validation","allowedExtensions","maxFileSize","minFileSize","dropZone","saveUrl","_module","_supportsFormData","formDataUploadModule","iframeUploadModule","_async","initialFiles","_renderInitialFiles","syncUploadModule","setOptions","off","attr","_supportsMultiple","enable","disable","toggleClass","prop","focus","trigger","destroy","customDropZone","document","add","pause","fileEntry","onPause","pauseIcon","find","removeClass","addClass","resume","parent","onResume","playIcon","upload","onSaveSelected","getFiles","filesData","allFiles","listItems","i","data","j","push","clearAllFiles","each","index","file","_removeFileByDomElement","removeAllFiles","removeFileByUid","uid","_removeFileByUid","clearFileByUid","shouldSendRemoveRequest","clearFile","callback","_removeFile","removeFile","fileData","hasClass","onCancel","onRemove","_hideHeaderUploadstatus","_updateHeaderUploadStatus","_addInput","sourceInput","nodeType","input","clone","insertAfter","prefix","hide","removeAttr","e","preventDefault","_adjustFocusState","focusedItem","toFocus","_arrowKeyNavigation","key","kendoKeys","keys","DOWN","stopPropagation","first","next","UP","prev","RIGHT","LEFT","_preventFocusRemove","_asyncCommandKeyNavigation","eventArgs","_retryClicked","ESC","_checkAllComplete","SPACEBAR","ENTER","is","chunkSize","concurrent","remove","finish","show","metaData","prepareChunk","onRetry","_commandKeyNavigation","hasValidationErrors","_filesContainValidationErrors","headers","DELETE","TAB","commandKeys","keyCode","indexOf","assignGuidToFiles","_inputFiles","_isAsyncNonBatch","validateFiles","prevented","onSelect","_readDirectory","item","deferred","Deferred","dirReader","createReader","allFolderFiles","readEntries","entries","resolve","concat","reject","promise","_readFile","fullpath","fullPath","relativePath","slice","droppedFolderFiles","droppedFolderCounter","setTimeout","_proceedDroppedItems","_traverseFileTree","skipCounter","then","items","isFile","isDirectory","_onDrop","dt","originalEvent","dataTransfer","droppedFiles","stopEvent","directoryDrop","webkitGetAsEntry","entry","getAllFileInfo","splice","hasErrors","batch","idx","currentFile","_enqueueFile","fileNames","_supportsRemove","_fileAction","_prepareTemplateData","templateData","totalSize","size","_prepareDefaultSingleFileEntryTemplate","fileSize","getTotalFilesSizeMessage","fileGroup","getFileGroup","extension","errors","_prepareDefaultMultipleFileEntriesTemplate","filesHaveValidationErrors","totalFileSize","sort","a","b","invalidFiles","existingFileEntries","fileUid","fileList","removeEventArgs","appendTo","angular","elements","width","_removeFileEntry","allCompletedFiles","allInvalidFiles","_hideActionButtons","fileElement","actionKey","skipClear","classDictionary","cancel","retry","iconsClassDictionary","firstActionButton","hasOwnProperty","_clearFileAction","append","_renderAction","_fileState","stateKey","states","uploading","text","statusUploading","uploaded","statusUploaded","failed","statusFailed","currentState","actionClass","actionText","iconClass","empty","button","icon","clearEventArgs","_onFileProgress","percentComplete","progressPct","prepend","getFileEntry","_onUploadSuccess","response","xhr","fileInfo","operation","XMLHttpRequest","_setUploadErrorState","after","uploadSuccess","_hideUploadProgress","_onUploadError","responseText","_decreasePosition","_autoRetryAfter","retries","performUpload","uploadPercentage","uploadFail","_updateUploadProgress","fileMetaData","totalChunks","Math","round","chunkIndex","delay","fadeOut","css","_showActionButtons","actionsWrapper","uploadButton","clearButton","uploadSelectedFiles","clearSelectedFiles","_showHeaderUploadStatus","isUploading","headerUploadStatus","headerStatusUploading","headerStatusUploaded","currentlyUploading","not","currentlyInvalid","currentlyFailed","currentlyPaused","failedUploads","headerUploadStatusIcon","html","headerStatusPaused","onAbort","value","FormData","windows","_userAgent","support","browser","opera","safari","_supportsDrop","userAgent","toLowerCase","isChrome","test","isSafari","isWindowsSafari","navigator","_setupDropZone","dropEffect","dropFilesHere","bindDragEventWrappers","_bindDocumentDragEventWrappers","_setupCustomDropZone","removeUrl","_submitRemove","onSuccess","onError","removeField","params","ajax","type","dataType","dataFilter","normalizeJSON","url","traditional","error","xhrFields","hasLabel","wrap","select","inputFiles","prototype","filesContainErrors","relatedInput","getFileName","iframes","_frameId","prepareUpload","saveField","iframe","form","createFrame","registerFrame","createForm","fileValidation","body","dataInput","prependTo","one","onIframeLoad","submit","cleanupFrame","unregisterFrame","started","isFileUploadStarted","contents","ex","processResponse","fakeXHR","tryParseJSON","jsonResult","statusText","status","stopFrameSubmit","removeUploadedFile","action","frame","stop","execCommand","grep","position","cancelled","paused","sourceElement","fileEntries","enqueueFiles","filesLength","map","join","rawFile","webkitRelativePath","formData","createFormData","createXHR","populateFormData","FileReader","postFormData","removeFileEntry","reader","onload","fileArrayBuffer","result","_appendBuffer","err","onerror","readAsArrayBuffer","_getCurrentChunk","buffer1","buffer2","tmp","Uint8Array","byteLength","set","buffer","filter","prevEntry","stopUploadRequest","_increaseChunkIndex","addEventListener","onRequestSuccess","onRequestError","onRequestProgress","open","setRequestHeader","send","chunk","serializedMetaData","JSON","stringify","raiseError","parseSuccess","_resetChunkIndex","cleanupFileEntry","uploadComplete","isUploadButtonVisible","loaded","total","abort","contentType","fileName","ceil","uploadUid","_decreaseChunkIndex","oldPosition","methodToInvoke","_getChunker","mozSlice","webkitSlice","$input","stripPath","getFileExtension","rawFiles","getFileInfo","htmlEncode","matches","match","slashIndex","lastIndexOf","substr","unique","validationInfo","parseAllowedExtensions","validateFileExtension","validateFileSize","extensions","ext","parsedExt","substring","validationErrors","inArray","toFixed","shouldRemoveFileEntry","textStatus","json","parse","namespace","onDragEnter","onDragLeave","hideInterval","lastDrag","Date","setInterval","sinceLastDrag","clearInterval","plugin","amdD","require","__webpack_module_cache__","moduleId","cachedModule","Error","__webpack_exports__"],"sources":["C:/Users/abodean/restapi-nodejs/client/app-router/node_modules/@progress/kendo-ui/js/kendo.upload.js"],"sourcesContent":["/******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 19267:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* provided dependency */ var jQuery = __webpack_require__(72834);\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(f, define) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(57949) ], __WEBPACK_AMD_DEFINE_FACTORY__ = (f),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n})(function() {\n\nvar __meta__ = {\n    id: \"upload\",\n    name: \"Upload\",\n    category: \"web\",\n    description: \"The Upload widget uses progressive enhancement to deliver the best possible uploading experience to users.\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        antiForgeryTokens = kendo.antiForgeryTokens,\n        logToConsole = kendo.logToConsole,\n        rFileExtension = /\\.([^\\.]+)$/,\n        NS = \".kendoUpload\",\n        SELECT = \"select\",\n        UPLOAD = \"upload\",\n        SUCCESS = \"success\",\n        ERROR = \"error\",\n        COMPLETE = \"complete\",\n        CANCEL = \"cancel\",\n        CLEAR = \"clear\",\n        PAUSE = \"pause\",\n        RESUME = \"resume\",\n        PROGRESS = \"progress\",\n        REMOVE = \"remove\",\n        VALIDATIONERRORS = \"validationErrors\",\n        INVALIDMAXFILESIZE = \"invalidMaxFileSize\",\n        INVALIDMINFILESIZE = \"invalidMinFileSize\",\n        INVALIDFILEEXTENSION = \"invalidFileExtension\",\n        PROGRESSHIDEDELAY = 1000,\n        PROGRESSHIDEDURATION = 2000,\n        FOCUS_STATE = \"k-focus\",\n        TABINDEX = \"tabindex\";\n\n    var headerStatusIcon = {\n        loading: \"k-i-upload\",\n        warning: \"k-i-warning\",\n        success: \"k-i-check\"\n    };\n\n    var Upload = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that.name = element.name;\n            that.multiple = that.options.multiple;\n            that.directory = that.options.directory;\n            that.localization = that.options.localization;\n\n            var activeInput = that.element;\n            that.wrapper = activeInput.closest(\".k-upload\");\n            if (that.wrapper.length === 0) {\n                that.wrapper = that._wrapInput(activeInput);\n            }\n\n            that._activeInput(activeInput);\n            that.toggle(that.options.enabled);\n\n            var ns = that._ns = NS + \"-\" + kendo.guid();\n            activeInput.closest(\"form\")\n                .on(\"submit\" + ns, that._onParentFormSubmit.bind(that))\n                .on(\"reset\" + ns, that._onParentFormReset.bind(that));\n\n            that._initUploadModule();\n\n            that._toggleDropZone();\n\n            that.wrapper\n                .on(\"click\", \".k-upload-action\", that._onFileAction.bind(that))\n                .on(\"click\", \".k-clear-selected\", that._onClearSelected.bind(that))\n                .on(\"click\", \".k-upload-selected\", that._onUploadSelected.bind(that))\n                .on(\"keydown\", that._onKeyDown.bind(that))\n                .on(\"focusout\", that._focusout.bind(that));\n\n            if (that.element.val()) {\n                that._onInputChange({ target: that.element });\n            }\n        },\n\n        events: [\n            SELECT,\n            UPLOAD,\n            SUCCESS,\n            ERROR,\n            COMPLETE,\n            CANCEL,\n            CLEAR,\n            PROGRESS,\n            REMOVE,\n            PAUSE,\n            RESUME\n        ],\n\n        options: {\n            name: \"Upload\",\n            enabled: true,\n            multiple: true,\n            directory: false,\n            showFileList: true,\n            template: \"\",\n            files: [],\n            async: {\n                autoRetryAfter: 0,\n                bufferChunkSize: 10000000,\n                maxAutoRetries: 1,\n                removeVerb: \"POST\",\n                autoUpload: true,\n                withCredentials: true,\n                accept: \"*/*; q=0.5, application/json\",\n                useArrayBuffer: false\n            },\n            localization: {\n                \"select\": \"Select files...\",\n                \"cancel\": \"Cancel\",\n                \"retry\": \"Retry\",\n                \"remove\": \"Remove\",\n                \"pause\": \"Pause\",\n                \"resume\": \"Resume\",\n                \"clearSelectedFiles\": \"Clear\",\n                \"uploadSelectedFiles\": \"Upload\",\n                \"dropFilesHere\": \"Drop files here to upload\",\n                \"invalidFiles\": \"Invalid file(s). Please check file upload requirements.\",\n                \"statusUploading\": \"uploading\",\n                \"statusUploaded\": \"uploaded\",\n                \"statusWarning\": \"warning\",\n                \"statusFailed\": \"failed\",\n                \"headerStatusUploading\": \"Uploading...\",\n                \"headerStatusPaused\": \"Paused\",\n                \"headerStatusUploaded\": \"Done\",\n                \"uploadSuccess\": \"File(s) uploaded successfully.\",\n                \"uploadFail\": \"File(s) failed to upload.\",\n                \"invalidMaxFileSize\": \"File size too large.\",\n                \"invalidMinFileSize\": \"File size too small.\",\n                \"invalidFileExtension\": \"File type not allowed.\"\n            },\n            validation: {\n                allowedExtensions: [],\n                maxFileSize: 0,\n                minFileSize: 0\n            },\n            dropZone: \"\"\n        },\n\n        _initUploadModule: function() {\n            var that = this,\n                options = that.options;\n\n            if (options.async.saveUrl) {\n                that._module = that._supportsFormData() ?\n                new formDataUploadModule(that) :\n                new iframeUploadModule(that);\n                that._async = true;\n\n                var initialFiles = options.files;\n                if (initialFiles.length > 0) {\n                    that._renderInitialFiles(initialFiles);\n                }\n\n            } else {\n                that._module = new syncUploadModule(that);\n            }\n        },\n\n        setOptions: function(options) {\n            var that = this,\n                activeInput = that.element;\n\n            $(that.options.dropZone).off(that._ns);\n\n            Widget.fn.setOptions.call(that, options);\n\n            that.multiple = that.options.multiple;\n            that.directory = that.options.directory;\n\n            activeInput.attr(\"multiple\", that._supportsMultiple() ? that.multiple : false);\n            if (that.directory) {\n                activeInput.attr(\"webkitdirectory\", that.directory);\n                activeInput.attr(\"directory\", that.directory);\n            }\n            that.toggle(that.options.enabled);\n\n            that._initUploadModule();\n\n            that._toggleDropZone();\n        },\n\n        enable: function(enable) {\n            enable = typeof (enable) === \"undefined\" ? true : enable;\n            this.toggle(enable);\n        },\n\n        disable: function() {\n            this.toggle(false);\n        },\n\n        toggle: function(enable) {\n            enable = typeof (enable) === \"undefined\" ? enable : !enable;\n            this.wrapper.toggleClass(\"k-disabled\", enable);\n            this.element.prop(\"disabled\", enable);\n        },\n\n        focus: function() {\n            this.element.trigger(\"focus\");\n        },\n\n        destroy: function() {\n            var that = this;\n            var customDropZone = $(that.options.dropZone);\n\n            $(document)\n                .add($(\".k-dropzone\", that.wrapper))\n                .add(that.wrapper.closest(\"form\"))\n                .off(that._ns);\n\n            if (customDropZone.length > 0) {\n                customDropZone.off(that._ns);\n            }\n\n            $(that.element).off(NS);\n\n            Widget.fn.destroy.call(that);\n        },\n        pause: function(fileEntry) {\n            this._module.onPause({ target: $(fileEntry, this.wrapper) });\n\n            var pauseIcon = fileEntry.find(\".k-i-pause-sm\");\n            pauseIcon.removeClass(\"k-i-pause-sm\").addClass(\"k-i-play-sm\").attr(\"title\", this.localization.resume);\n            $(pauseIcon).parent().attr(\"aria-label\", this.localization.resume);\n        },\n        resume: function(fileEntry) {\n            this._module.onResume({ target: $(fileEntry, this.wrapper) });\n\n            var playIcon = fileEntry.find(\".k-i-play-sm\");\n            playIcon.removeClass(\"k-i-play-sm\").addClass(\"k-i-pause-sm\").attr(\"title\", this.localization.pause);\n            $(playIcon).parent().attr(\"aria-label\", this.localization.pause);\n        },\n        upload: function() {\n            var that = this;\n\n            that._module.onSaveSelected();\n        },\n\n        getFiles: function() {\n            var that = this;\n            var filesData;\n            var allFiles = [];\n            var listItems = that.wrapper.find(\".k-file\");\n\n            for (var i = 0; i < listItems.length; i++) {\n                filesData = $(listItems[i]).data(\"fileNames\");\n\n                if (filesData) {\n                    for (var j = 0; j < filesData.length; j++) {\n                        allFiles.push(filesData[j]);\n                    }\n                }\n            }\n\n            return allFiles;\n        },\n\n        clearAllFiles: function() {\n            var that = this;\n            var files = that.wrapper.find(\".k-file\");\n\n            files.each(function(index, file) {\n                that._removeFileByDomElement(file, false);\n            });\n        },\n\n        removeAllFiles: function() {\n            var that = this;\n            var files = that.wrapper.find(\".k-file\");\n\n            files.each(function(index, file) {\n                that._removeFileByDomElement(file, true);\n            });\n        },\n\n        removeFileByUid: function(uid) {\n            this._removeFileByUid(uid, true);\n        },\n\n        clearFileByUid: function(uid) {\n            this._removeFileByUid(uid, false);\n        },\n\n        _removeFileByUid: function(uid, shouldSendRemoveRequest) {\n            var that = this;\n            var fileEntry;\n\n            if (typeof uid !== 'string') { return; }\n\n            fileEntry = $('.k-file[' + kendo.attr('uid') + '=\"' + uid + '\"]', that.wrapper);\n\n            if (fileEntry.length > 0) {\n                that._removeFileByDomElement(fileEntry, shouldSendRemoveRequest);\n            }\n        },\n\n        clearFile: function(callback) {\n            this._removeFile(callback, false);\n        },\n\n        removeFile: function(callback) {\n            this._removeFile(callback, true);\n        },\n\n        _removeFile: function(callback, shouldSendRemoveRequest) {\n            var that = this;\n            var files = that.wrapper.find(\".k-file\");\n            var fileData;\n\n            if (typeof callback === \"function\") {\n                files.each(function(index, file) {\n                    fileData = $(file).data(\"fileNames\");\n\n                    if (callback(fileData)) {\n                        that._removeFileByDomElement(file, shouldSendRemoveRequest);\n                    }\n                });\n            }\n        },\n\n        _removeFileByDomElement: function(fileEntry, shouldSendRemoveRequest) {\n            var that = this;\n            var fileData = {\n                target: $(fileEntry, that.wrapper)\n            };\n            var allFiles;\n\n            if (that.options.async.saveUrl) {\n                if ($(fileEntry).hasClass(\"k-file-progress\")) {\n                    that._module.onCancel(fileData);\n                } else {\n                    that._module.onRemove(fileData, {}, shouldSendRemoveRequest);\n                }\n\n                allFiles = $(\".k-file\", that.wrapper);\n\n                if (allFiles.length === 0) {\n                    that._hideHeaderUploadstatus();\n                } else {\n                    that._updateHeaderUploadStatus();\n                }\n            } else {\n                that._module.onRemove(fileData, {}, shouldSendRemoveRequest);\n            }\n        },\n\n        _addInput: function(sourceInput) {\n            //check if source input is a DOM element. Required for some unit tests\n            if (!sourceInput[0].nodeType) {\n                return;\n            }\n\n            var that = this,\n                input = sourceInput.clone().val(\"\");\n\n            input\n                .insertAfter(that.element)\n                .data(\"kendo\" + that.options.prefix + that.options.name, that);\n\n            $(that.element)\n                .hide()\n                .attr(TABINDEX, \"-1\")\n                .removeAttr(\"id\")\n                .off(NS);\n\n            that._activeInput(input);\n            that.element.trigger(\"focus\");\n        },\n\n        _activeInput: function(input) {\n            var that = this,\n                wrapper = that.wrapper;\n\n            that.element = input;\n\n            if (that.directory) {\n                input.attr(\"webkitdirectory\", that.directory);\n                input.attr(\"directory\", that.directory);\n            }\n\n            input\n                .attr(\"multiple\", that._supportsMultiple() ? that.multiple : false)\n                .attr(\"autocomplete\", \"off\")\n                .on(\"click\" + NS, function(e) {\n                    if (wrapper.hasClass(\"k-disabled\")) {\n                        e.preventDefault();\n                    }\n                })\n                .on(\"focus\" + NS, function() {\n                    $(this).parent().addClass(FOCUS_STATE);\n                })\n                .on(\"blur\" + NS, function() {\n                    $(this).parent().removeClass(FOCUS_STATE);\n                })\n                .on(\"change\" + NS, that._onInputChange.bind(that));\n        },\n\n        _adjustFocusState: function(focusedItem, toFocus) {\n            focusedItem.removeClass(FOCUS_STATE);\n            focusedItem.attr(TABINDEX, -1);\n            toFocus.addClass(FOCUS_STATE);\n            toFocus.attr(TABINDEX, 0);\n        },\n\n        _arrowKeyNavigation: function(e, key, focusedItem) {\n            var that = this,\n                kendoKeys = kendo.keys,\n                toFocus;\n\n            if (key === kendoKeys.DOWN) {\n                e.preventDefault();\n                e.stopPropagation();\n\n                toFocus = that.wrapper.find(\".k-upload-files .k-file\").first();\n\n                if (focusedItem.length > 0) {\n                    if (focusedItem.hasClass(\"k-upload-action\")) {\n                        focusedItem.removeClass(FOCUS_STATE);\n                        focusedItem = focusedItem.closest(\".k-file\");\n                    }\n\n                    toFocus = focusedItem.next();\n                }\n\n                that._adjustFocusState(focusedItem, toFocus);\n\n                if (!toFocus || toFocus.length === 0) {\n                    toFocus = that.wrapper.find(\".k-clear-selected\");\n                }\n            } else if (key === kendoKeys.UP) {\n                e.preventDefault();\n                e.stopPropagation();\n\n                toFocus = that.wrapper.find(\".k-upload-files .k-file:last\");\n\n                if (focusedItem.length > 0) {\n                    if (focusedItem.hasClass(\"k-upload-action\")) {\n                        focusedItem.removeClass(FOCUS_STATE);\n                        focusedItem = focusedItem.closest(\".k-file\");\n                    }\n\n                    toFocus = focusedItem.prev();\n                }\n\n                that._adjustFocusState(focusedItem, toFocus);\n            } else if (key === kendoKeys.RIGHT) {\n                if (focusedItem.hasClass(\"k-upload-action\")) {\n                    toFocus = focusedItem.next(\".k-upload-action\");\n\n                    if (!toFocus || toFocus.length === 0) {\n                        toFocus = focusedItem.parent().find(\".k-upload-action:first\");\n                    }\n                } else if (focusedItem.length > 0) {\n                    toFocus = focusedItem.find(\".k-upload-action:first\");\n                }\n\n                if (toFocus && toFocus.length > 0) {\n                    focusedItem.removeClass(FOCUS_STATE);\n                    toFocus.addClass(FOCUS_STATE);\n                }\n            } else if (key === kendoKeys.LEFT) {\n                if (focusedItem.hasClass(\"k-upload-action\")) {\n                    toFocus = focusedItem.prev(\".k-upload-action\");\n\n                    if (!toFocus || toFocus.length === 0) {\n                        toFocus = focusedItem.parent().find(\".k-upload-action:last\");\n                    }\n                } else if (focusedItem.length > 0) {\n                    toFocus = focusedItem.find(\".k-upload-action:last\");\n                }\n\n                if (toFocus && toFocus.length > 0) {\n                    focusedItem.removeClass(FOCUS_STATE);\n                    toFocus.addClass(FOCUS_STATE);\n                }\n            }\n\n            if ((!toFocus || toFocus.length === 0) && (key === kendoKeys.UP || key === kendoKeys.DOWN)) {\n                toFocus = that.element;\n            }\n\n            if (toFocus && toFocus.length > 0) {\n                that._preventFocusRemove = true;\n                toFocus.trigger(\"focus\");\n            }\n        },\n\n        _asyncCommandKeyNavigation: function(key, focusedItem, eventArgs) {\n            var that = this,\n                kendoKeys = kendo.keys,\n                fileEntry = $(focusedItem, that.wrapper);\n\n            that._retryClicked = false;\n\n            if (key === kendoKeys.ESC && focusedItem.find(\".k-i-cancel\").length > 0) {\n                that.trigger(CANCEL, eventArgs);\n                that._module.onCancel({ target: fileEntry });\n                that._checkAllComplete();\n                that._updateHeaderUploadStatus();\n                that._preventFocusRemove = true;\n                that.element.trigger(\"focus\");\n            } else if (key === kendoKeys.SPACEBAR) {\n                if (focusedItem.find(\".k-i-pause-sm\").length > 0) {\n                    that.trigger(PAUSE, eventArgs);\n                    that.pause(focusedItem);\n                    that._updateHeaderUploadStatus();\n                } else if (focusedItem.find(\".k-i-play-sm\").length > 0) {\n                    that.trigger(RESUME, eventArgs);\n                    that.resume(focusedItem);\n                }\n            } else if (key === kendoKeys.ENTER && !focusedItem.is(\".k-file-progress, .k-file-success, .k-file-invalid\")) {\n                if (that.options.async.chunkSize && !that.options.async.concurrent && $('.k-file-progress', that.wrapper).length > 0) {\n                    return;\n                }\n\n                $(\".k-i-warning\", focusedItem).remove();\n                $(\".k-progressbar\", focusedItem).finish().show();\n\n                if (!that._module.metaData[fileEntry.data(\"uid\")]) {\n                    that._module.prepareChunk(fileEntry);\n                }\n\n                that._module.onRetry({ target: fileEntry });\n                that._retryClicked = true;\n            }\n        },\n\n        _commandKeyNavigation: function(key, focusedItem) {\n            var that = this,\n                kendoKeys = kendo.keys,\n                files = focusedItem.data(\"fileNames\"),\n                hasValidationErrors = that._filesContainValidationErrors(files),\n                eventArgs = {\n                    files: files,\n                    headers: {}\n                };\n\n            if (key === kendoKeys.DELETE) {\n                if (!that.trigger(REMOVE, eventArgs)) {\n                    that._module.onRemove({ target: $(focusedItem, that.wrapper) }, eventArgs, !hasValidationErrors);\n                    that._preventFocusRemove = true;\n                    that.element.trigger(\"focus\");\n                }\n            } else if (key === kendoKeys.TAB) {\n                focusedItem.removeClass(FOCUS_STATE);\n                focusedItem.attr(TABINDEX, -1);\n            } else if (!!that.options.async.saveUrl) {\n                that._asyncCommandKeyNavigation(key, focusedItem, eventArgs);\n            }\n        },\n\n        _focusout: function() {\n            var focusedItem = this.wrapper.find(\".k-upload-files .k-file.\" + FOCUS_STATE);\n\n            if (!this._preventFocusRemove) {\n                focusedItem.removeClass(FOCUS_STATE);\n                focusedItem.attr(TABINDEX, -1);\n            } else {\n                this._preventFocusRemove = false;\n            }\n        },\n\n        _onKeyDown: function(e) {\n            var that = this,\n                focusedItem = that.wrapper.find(\".k-upload-files .k-file.\" + FOCUS_STATE + \",\" + \".k-upload-action.\" + FOCUS_STATE),\n                kendoKeys = kendo.keys,\n                commandKeys = [kendoKeys.DELETE, kendoKeys.ESC, kendoKeys.ENTER, kendoKeys.SPACEBAR, kendoKeys.TAB],\n                key = e.keyCode;\n\n            if (key === kendoKeys.DOWN || key === kendoKeys.UP || key === kendoKeys.LEFT || key === kendoKeys.RIGHT) {\n                that._arrowKeyNavigation(e, key, focusedItem);\n            } else if (focusedItem.length > 0 && focusedItem.hasClass(\"k-file\") && commandKeys.indexOf(key) > -1 && !that.wrapper.hasClass(\"k-disabled\")) {\n                if (key === kendoKeys.SPACEBAR) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n\n                that._commandKeyNavigation(key, focusedItem);\n            }\n        },\n\n        _onInputChange: function(e) {\n            var that = this;\n            var input = $(e.target);\n            var files = assignGuidToFiles(that._inputFiles(input), that._isAsyncNonBatch());\n\n            validateFiles(files, that.options.validation);\n\n            var prevented = that.trigger(SELECT, { files: files });\n            if (prevented) {\n                that._addInput(input);\n                input.remove();\n            } else {\n                that._module.onSelect({ target: input }, files);\n            }\n        },\n\n        _readDirectory: function(item) {\n            var deferred = new $.Deferred();\n            var dirReader = item.createReader();\n            var allFolderFiles = [];\n\n            var readEntries = function() {\n                dirReader.readEntries(function(entries) {\n                    if (!entries.length) {\n                        deferred.resolve(allFolderFiles);\n                    } else {\n                        allFolderFiles = allFolderFiles.concat(entries);\n                        readEntries();\n                    }\n                }, deferred.reject);\n            };\n\n            readEntries();\n\n             return deferred.promise();\n        },\n\n        _readFile: function(item) {\n            var that = this;\n            var fullpath = item.fullPath;\n\n            item.file(function(file) {\n                    file.relativePath = fullpath.slice(1);\n                    that.droppedFolderFiles.push(file);\n                    that.droppedFolderCounter --;\n                    if (that.droppedFolderCounter === 0) {\n                        setTimeout(function() {\n                            if (that.droppedFolderCounter === 0) {\n                                if (that.droppedFolderFiles.length) {\n                                    that._proceedDroppedItems(that.droppedFolderFiles);\n                                    that.droppedFolderFiles = [];\n                                }\n                            }\n                        },0);\n                    }\n            }, function() {\n                logToConsole(\"File error.\");\n            });\n        },\n\n        _traverseFileTree: function(item, skipCounter) {\n            var that = this;\n            if (!skipCounter) {\n                that.droppedFolderCounter--;\n            }\n\n            this._readDirectory(item).then(function(items) {\n                that.droppedFolderCounter += items.length;\n                for (var i = 0; i < items.length; i++) {\n                    if (items[i].isFile) {\n                        that._readFile(items[i]);\n                    } else if (items[i].isDirectory) {\n                        that._traverseFileTree(items[i]);\n                    }\n                }\n            });\n        },\n\n        _onDrop: function(e) {\n            var dt = e.originalEvent.dataTransfer;\n            var that = this;\n            var droppedFiles = dt.files;\n            var length;\n\n            stopEvent(e);\n           if (that.options.directoryDrop && dt.items) {\n                length = dt.items.length;\n                that.droppedFolderCounter = 0;\n                that.droppedFolderFiles = [];\n\n                for (var i = 0; i < length; i++) {\n                    if (dt.items[i].webkitGetAsEntry) {\n                        var entry = dt.items[i].webkitGetAsEntry();\n\n                        if (entry.isDirectory) {\n                            that._traverseFileTree(entry, true);\n                        } else if (entry.isFile) {\n                            that.droppedFolderFiles.push(dt.files[i]);\n                        }\n                    } else {\n                         that._proceedDroppedItems(droppedFiles);\n                    }\n                }\n           } else {\n               that._proceedDroppedItems(droppedFiles);\n           }\n        },\n\n        _proceedDroppedItems: function(droppedFiles) {\n            var that = this;\n            var files = assignGuidToFiles(getAllFileInfo(droppedFiles), that._isAsyncNonBatch());\n\n              if (droppedFiles.length > 0 && !that.wrapper.hasClass(\"k-disabled\")) {\n                if (!that.multiple && files.length > 1) {\n                    files.splice(1, files.length - 1);\n                }\n\n                validateFiles(files, that.options.validation);\n\n                var prevented = that.trigger(SELECT, { files: files });\n                if (!prevented) {\n                    that._module.onSelect({ target: $(\".k-dropzone\", that.wrapper) }, files);\n                }\n            }\n        },\n\n        _filesContainValidationErrors: function(files) {\n            var hasErrors = false;\n\n            $(files).each(function(index, file) {\n                if (file[VALIDATIONERRORS] && file[VALIDATIONERRORS].length > 0) {\n                    hasErrors = true;\n                    return false;\n                }\n            });\n\n            return hasErrors;\n        },\n\n        _isAsyncNonBatch: function() {\n            return (this._async && !this.options.async.batch) || false;\n        },\n\n        _renderInitialFiles: function(files) {\n            var that = this;\n            var idx = 0;\n            files = assignGuidToFiles(files, true);\n\n            for (idx = 0; idx < files.length; idx++) {\n                var currentFile = files[idx];\n\n                var fileEntry = that._enqueueFile(currentFile.name, { fileNames: [ currentFile ] });\n                fileEntry.addClass(\"k-file-success\").data(\"files\", [ files[idx] ]);\n\n                if (that._supportsRemove()) {\n                    that._fileAction(fileEntry, REMOVE);\n                }\n            }\n        },\n\n        _prepareTemplateData: function(name, data) {\n            var filesData = data.fileNames,\n                templateData = {},\n                totalSize = 0,\n                idx = 0;\n\n            for (idx = 0; idx < filesData.length; idx++) {\n                totalSize += filesData[idx].size;\n            }\n\n            templateData.name = name;\n            templateData.size = totalSize;\n            templateData.files = data.fileNames;\n\n            return templateData;\n        },\n\n        _prepareDefaultSingleFileEntryTemplate: function(data) {\n            var that = this;\n            var file = data.fileNames[0];\n            var fileSize = getTotalFilesSizeMessage(data.fileNames);\n            var fileGroup = kendo.getFileGroup(file.extension, true);\n            var errors = file[VALIDATIONERRORS];\n            var template = \"\";\n\n            if (errors && errors.length > 0) {\n                template += \"<li class='k-file k-file-invalid'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div>\" +\n                \"<span class='k-file-invalid-group-wrapper'>\" +\n                    \"<span class='k-file-group k-icon k-i-\" + fileGroup + \"'></span>\" +\n                    \"<span class='k-file-state'></span>\" +\n                \"</span>\" +\n                \"<span class='k-file-name-size-wrapper'>\" +\n                    \"<span class='k-file-name k-file-name-invalid' title='\" + file.name + \"'>\" + file.name + \"</span>\" +\n                    \"<span class='k-file-validation-message k-text-error'>\" + that.localization[errors[0]] + \"</span>\" +\n                \"</span>\";\n            } else {\n                template += \"<li class='k-file'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div>\" +\n                \"<span class='k-file-group-wrapper'>\" +\n                    \"<span class='k-file-group k-icon k-i-\" + fileGroup + \"'></span>\" +\n                    \"<span class='k-file-state'></span>\" +\n                \"</span>\" +\n                \"<span class='k-file-name-size-wrapper'><span class='k-file-name' title='\" + file.name + \"'>\" + file.name + \"</span>\" +\n                \"<span class='k-file-size'>\" + fileSize + \"</span></span>\";\n            }\n\n            template += \"<strong class='k-upload-status'></strong>\";\n\n            return $(template);\n        },\n\n        _prepareDefaultMultipleFileEntriesTemplate: function(data) {\n            var that = this;\n            var files = data.fileNames;\n            var filesHaveValidationErrors = that._filesContainValidationErrors(files);\n            var totalFileSize = getTotalFilesSizeMessage(files);\n            var template = \"\";\n            var i, currentFile;\n\n            if (filesHaveValidationErrors) {\n                template += \"<li class='k-file k-file-invalid'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div>\" +\n                    \"<span class='k-multiple-files-invalid-group-wrapper'>\" +\n                    \"<span class='k-file-group k-icon k-i-files'></span>\";\n            } else {\n                template += \"<li class='k-file'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div>\" +\n                    \"<span class='k-multiple-files-group-wrapper'>\" +\n                        \"<span class='k-file-group k-icon k-i-files'></span>\";\n            }\n\n            template += \"<span class='k-file-state'></span></span>\";\n\n            files.sort(function(a, b) {\n                if (a[VALIDATIONERRORS]) { return -1; }\n\n                if (b[VALIDATIONERRORS]) { return 1; }\n\n                return 0;\n            });\n\n            template += \"<span class='k-multiple-files-wrapper'>\";\n            for (i = 0; i < files.length; i++) {\n                currentFile = files[i];\n                var fileSize = getTotalFilesSizeMessage([currentFile]);\n\n                template += \"<span class='k-file-name-size-wrapper'>\";\n                if (currentFile[VALIDATIONERRORS] && currentFile[VALIDATIONERRORS].length > 0) {\n                    template += \"<span class='k-file-name k-file-name-invalid' title='\" + currentFile.name + \"'>\" + currentFile.name + \"</span>\";\n                } else {\n                    template += \"<span class='k-file-name' title='\" + currentFile.name + \"'>\" + currentFile.name + \"</span>\";\n                }\n                template += \"<span class='k-file-size'>\" + fileSize + \"</span></span>\";\n            }\n\n            if (filesHaveValidationErrors) {\n                template += \"<span class='k-file-validation-message k-text-error'>\" + that.localization.invalidFiles + \"</span>\";\n            } else {\n                template += \"<span class='k-file-information'>Total: \" + files.length + \" files, \" + totalFileSize + \"</span>\";\n            }\n\n            template += \"</span><strong class='k-upload-status'></strong>\";\n\n            return $(template);\n        },\n\n        _enqueueFile: function(name, data) {\n            var that = this;\n            var existingFileEntries;\n            var fileEntry;\n            var fileUid = data.fileNames[0].uid;\n            var fileList = $(\".k-upload-files\", that.wrapper);\n            var options = that.options;\n            var template = options.template;\n            var templateData;\n            var removeEventArgs;\n\n            if (fileList.length === 0) {\n                fileList = $(\"<ul class='k-upload-files k-reset'></ul>\").appendTo(that.wrapper);\n                if (!that.options.showFileList) {\n                    fileList.hide();\n                }\n\n                that.wrapper.removeClass(\"k-upload-empty\");\n            }\n\n            existingFileEntries = $(\".k-file\", fileList);\n\n            if (!template) {\n                if (data.fileNames.length === 1) {\n                    fileEntry = that._prepareDefaultSingleFileEntryTemplate(data);\n                } else {\n                    fileEntry = that._prepareDefaultMultipleFileEntriesTemplate(data);\n                }\n            } else {\n                templateData = that._prepareTemplateData(name, data);\n                template = kendo.template(template);\n\n                fileEntry = $(\"<li class='k-file'>\" + template(templateData) + \"</li>\");\n                fileEntry.find(\".k-upload-action\").addClass(\"k-button k-icon-button k-button-md k-rounded-md k-button-flat k-button-flat-base\");\n\n                that.angular(\"compile\", function() {\n                    return {\n                        elements: fileEntry,\n                        data: [ templateData ]\n                    };\n                });\n            }\n\n            fileEntry\n                .attr(kendo.attr(\"uid\"), fileUid)\n                .appendTo(fileList)\n                .data(data);\n\n            if (!that._async) {\n                $(\".k-progress\", fileEntry).width('100%');\n            }\n\n            if (!that.multiple && existingFileEntries.length > 0) {\n                removeEventArgs = {\n                    files: existingFileEntries.data(\"fileNames\"),\n                    headers: {}\n                };\n                if (!that.trigger(REMOVE, removeEventArgs)) {\n                    that._module.onRemove({ target: $(existingFileEntries, that.wrapper) }, removeEventArgs);\n                }\n            }\n\n            return fileEntry;\n        },\n\n        _removeFileEntry: function(fileEntry) {\n            var that = this;\n            var fileList = fileEntry.closest(\".k-upload-files\");\n            var allFiles, allCompletedFiles, allInvalidFiles;\n\n            fileEntry.remove();\n            allFiles = $(\".k-file\", fileList);\n            allCompletedFiles = $(\".k-file-success, .k-file-error\", fileList);\n            allInvalidFiles = $(\".k-file-invalid\", fileList);\n\n            if (allCompletedFiles.length === allFiles.length || allInvalidFiles.length === allFiles.length) {\n                this._hideActionButtons();\n            }\n\n            if (allFiles.length === 0) {\n                fileList.remove();\n                that.wrapper.addClass(\"k-upload-empty\");\n                that._hideHeaderUploadstatus();\n            } else {\n                that._updateHeaderUploadStatus();\n            }\n        },\n\n        _fileAction: function(fileElement, actionKey, skipClear) {\n            var classDictionary = { remove: \"k-i-x\", cancel: \"k-i-cancel\", retry: \"k-i-retry\", pause: \"k-i-pause-sm\" };\n            var iconsClassDictionary = { remove: \"k-i-close\", cancel: \"k-i-cancel\", retry: \"k-i-reload-sm\", pause: \"k-i-pause-sm\" };\n            var firstActionButton;\n\n            if (!classDictionary.hasOwnProperty(actionKey)) {\n                return;\n            }\n            if (!skipClear) {\n                this._clearFileAction(fileElement);\n            }\n            if (!this.options.template) {\n                if (!skipClear) {\n                    fileElement.find(\".k-upload-status .k-upload-action\").remove();\n                }\n                fileElement.find(\".k-upload-status\").append(\n                    this._renderAction(classDictionary[actionKey], this.localization[actionKey], iconsClassDictionary[actionKey])\n                );\n            } else {\n                firstActionButton = fileElement.find(\".k-upload-action\").first();\n                if (!firstActionButton.find(\".k-icon\").length) {\n                firstActionButton\n                        .addClass(\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button\")\n                        .append(\"<span class='k-button-icon k-icon \" + iconsClassDictionary[actionKey] + \" \" + classDictionary[actionKey] +\n                                \"' title='\" + this.localization[actionKey] + \"'\" +\n                                \"aria-label='\" + this.localization[actionKey] + \"'></span>\")\n                        .show();\n                } else if (firstActionButton.next(\".k-upload-action\").length) {\n                    firstActionButton.next(\".k-upload-action\")\n                        .addClass(\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button\")\n                        .append(\"<span class='k-button-icon k-icon \" + iconsClassDictionary[actionKey] + \" \" + classDictionary[actionKey] +\n                                \"' title='\" + this.localization[actionKey] + \"'\" +\n                                \"aria-label='\" + this.localization[actionKey] + \"'></span>\")\n                        .show();\n                }\n            }\n        },\n\n        _fileState: function(fileEntry, stateKey) {\n            var localization = this.localization,\n                states = {\n                    uploading: {\n                        text: localization.statusUploading\n                    },\n                    uploaded: {\n                        text: localization.statusUploaded\n                    },\n                    failed: {\n                        text: localization.statusFailed\n                    }\n                },\n                currentState = states[stateKey];\n\n            if (currentState) {\n                $(\"span.k-file-state\", fileEntry).text(currentState.text);\n            }\n        },\n\n        _renderAction: function(actionClass, actionText, iconClass) {\n            if (actionClass !== \"\") {\n                return $(\n                \"<button type='button' class='k-button k-icon-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-upload-action' aria-label='\" + actionText + \"' tabindex='-1'>\" +\n                    \"<span class='k-button-icon k-icon \" + iconClass + \" \" + actionClass + \"' title='\" + actionText + \"'></span>\" +\n                \"</button>\"\n                ).on(\"focus\", function() { $(this).addClass(FOCUS_STATE); })\n                 .on(\"blur\", function() { $(this).removeClass(FOCUS_STATE); });\n            }\n            else {\n                return $(\n                \"<button type='button' class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base'>\" +\n                    '<span class=\"k-button-text\">' +\n                        actionText +\n                    '</span>' +\n                \"</button>\"\n                );\n            }\n        },\n\n        _clearFileAction: function(fileElement) {\n            $(\".k-upload-action\", fileElement).empty().hide();\n        },\n\n        _onFileAction: function(e) {\n            var that = this;\n            if (!that.wrapper.hasClass(\"k-disabled\")) {\n                var button = $(e.target).closest(\".k-upload-action\");\n                var icon = button.find(\".k-icon\");\n                var fileEntry = button.closest(\".k-file\");\n                var files = fileEntry.data(\"fileNames\");\n                var hasValidationErrors = that._filesContainValidationErrors(files);\n                var eventArgs = {\n                    files: files,\n                    headers: {}\n                };\n\n                that._retryClicked = false;\n\n                if (icon.hasClass(\"k-i-x\")) {\n                    if (!that.trigger(REMOVE, eventArgs)) {\n                        that._module.onRemove({ target: $(fileEntry, that.wrapper) }, eventArgs, !hasValidationErrors);\n                        that.element.trigger(\"focus\");\n                    }\n                } else if (icon.hasClass(\"k-i-cancel\")) {\n                    that.trigger(CANCEL, eventArgs);\n                    that._module.onCancel({ target: $(fileEntry, that.wrapper) });\n                    that._checkAllComplete();\n                    that._updateHeaderUploadStatus();\n                    that.element.trigger(\"focus\");\n                } else if (icon.hasClass(\"k-i-pause-sm\")) {\n                    that.trigger(PAUSE, eventArgs);\n                    that.pause(fileEntry);\n                    that._updateHeaderUploadStatus();\n                } else if (icon.hasClass(\"k-i-play-sm\")) {\n                    that.trigger(RESUME, eventArgs);\n                    that.resume(fileEntry);\n                } else if (icon.hasClass(\"k-i-retry\")) {\n                    $(\".k-i-warning\", fileEntry).remove();\n                    $(\".k-progressbar\", fileEntry).finish().show();\n                    that._module.onRetry({ target: $(fileEntry, that.wrapper) });\n                    that._retryClicked = true;\n                }\n\n                fileEntry.addClass(FOCUS_STATE);\n            }\n\n            return false;\n        },\n\n        _onUploadSelected: function() {\n            var that = this;\n            var wrapper = that.wrapper;\n\n            if (!wrapper.hasClass(\"k-disabled\")) {\n                this._module.onSaveSelected();\n            }\n\n            return false;\n        },\n\n        _onClearSelected: function() {\n            var that = this;\n            var wrapper = that.wrapper;\n\n            var clearEventArgs = { };\n            if (!wrapper.hasClass(\"k-disabled\") && !that.trigger(CLEAR, clearEventArgs)) {\n                that.clearAllFiles();\n            }\n\n            return false;\n        },\n\n        _onFileProgress: function(e, percentComplete) {\n            var progressPct;\n\n            if (percentComplete > 100) {\n                percentComplete = 100;\n            }\n\n            $(\".k-progressbar\", e.target).removeClass('k-hidden');\n\n            if (!this.options.template) {\n                progressPct = $(\".k-upload-pct\", e.target);\n\n                if (progressPct.length === 0) {\n                    $(\".k-upload-status\", e.target).prepend(\"<span class='k-upload-pct'></span>\");\n                }\n\n                if (percentComplete !== 100) {\n                    $(\".k-upload-pct\", e.target).text(percentComplete + \"%\");\n                } else {\n                     $(\".k-upload-pct\", e.target).remove();\n                }\n                $(\".k-progress\", e.target).width(percentComplete + \"%\");\n            } else {\n                $(\".k-progress\", e.target).width(percentComplete + \"%\");\n            }\n\n            this.trigger(PROGRESS, {\n                files: getFileEntry(e).data(\"fileNames\"),\n                percentComplete: percentComplete\n            });\n        },\n\n        _onUploadSuccess: function(e, response, xhr) {\n            var that = this;\n            var fileEntry = getFileEntry(e);\n            var files = fileEntry.data(\"fileNames\");\n            var fileInfo = fileEntry.find('.k-file-information');\n            var fileSize = fileEntry.find('.k-file-size');\n\n            var prevented = that.trigger(SUCCESS, {\n                files: fileEntry.data(\"fileNames\"),\n                response: response,\n                operation: \"upload\",\n                XMLHttpRequest: xhr\n            });\n\n            if (prevented) {\n                that._setUploadErrorState(fileEntry);\n            } else {\n                that._fileState(fileEntry, \"uploaded\");\n                fileEntry.removeClass('k-file-progress').addClass('k-file-success');\n\n                if (fileInfo.length > 0) {\n                    fileInfo.addClass('k-hidden')\n                        .after('<span class=\"k-file-validation-message k-text-success\">' + files.length + ' ' + that.localization.uploadSuccess + '</span>');\n                } else if (fileSize.length > 0) {\n                    fileSize.addClass('k-hidden')\n                        .after('<span class=\"k-file-validation-message k-text-success\">' + that.localization.uploadSuccess + '</span>');\n                }\n\n                that._updateHeaderUploadStatus();\n\n                if (that._supportsRemove()) {\n                    that._fileAction(fileEntry, REMOVE);\n                } else {\n                    that._clearFileAction(fileEntry);\n                }\n            }\n\n            that._hideUploadProgress(fileEntry);\n\n            that._checkAllComplete();\n        },\n\n        _onUploadError: function(e, xhr) {\n            var that = this;\n            var module = that._module;\n            var fileEntry = getFileEntry(e);\n            var fileUid = fileEntry.data(\"uid\");\n\n            that._setUploadErrorState(fileEntry);\n\n            that.trigger(ERROR, {\n                operation: \"upload\",\n                files: fileEntry.data(\"fileNames\"),\n                XMLHttpRequest: xhr\n            });\n\n            logToConsole(\"Server response: \" + xhr.responseText);\n\n            if (!that.options.async.chunkSize) {\n                that._hideUploadProgress(fileEntry);\n            } else {\n                if (module._decreasePosition) {\n                    module._decreasePosition(fileUid);\n                }\n            }\n\n           that._checkAllComplete();\n\n            if (this.options.async.autoRetryAfter) {\n               this._autoRetryAfter(fileEntry);\n            }\n        },\n        _autoRetryAfter: function(fileEntry) {\n            var that = this;\n            var retries = this._module.retries;\n\n            if (!retries) {\n                return;\n            }\n\n            if (!retries[fileEntry.data(\"uid\")]) {\n                retries[fileEntry.data(\"uid\")] = 1;\n            }\n\n            if (retries[fileEntry.data(\"uid\")] <= this.options.async.maxAutoRetries) {\n                retries[fileEntry.data(\"uid\")]++;\n                setTimeout(function() {\n                    that._module.performUpload(fileEntry);\n                },this.options.async.autoRetryAfter);\n            }\n        },\n        _setUploadErrorState: function(fileEntry) {\n            var that = this,\n                uploadPercentage,\n                files = fileEntry.data(\"fileNames\"),\n                fileInfo = fileEntry.find('.k-file-information'),\n                fileSize = fileEntry.find('.k-file-size');\n\n            that._fileState(fileEntry, \"failed\");\n            fileEntry.removeClass('k-file-progress').addClass('k-file-error');\n\n            if (fileInfo.length > 0) {\n                fileInfo.addClass('k-hidden')\n                    .after('<span class=\"k-file-validation-message k-text-error\">' + files.length + ' ' + that.localization.uploadFail + '</span>');\n            } else if (fileSize.length > 0) {\n                fileSize.addClass('k-hidden')\n                    .after('<span class=\"k-file-validation-message k-text-error\">' + that.localization.uploadFail + '</span>');\n            }\n\n            that._updateUploadProgress(fileEntry);\n\n            uploadPercentage = $('.k-upload-pct', fileEntry);\n\n            if (uploadPercentage.length > 0) {\n                uploadPercentage.remove();\n            }\n\n            this._updateHeaderUploadStatus();\n            this._fileAction(fileEntry, \"retry\");\n            this._fileAction(fileEntry, REMOVE, true);\n\n            if (that._retryClicked) {\n                fileEntry.trigger(\"focus\");\n            }\n        },\n\n       _updateUploadProgress: function(fileEntry) {\n            var that = this;\n\n            if (!that.options.async.chunkSize) {\n                $('.k-progress', fileEntry).width(\"100%\");\n            } else {\n                var fileUid = fileEntry.data(\"uid\");\n                if (that._module.metaData) {\n                    var fileMetaData = that._module.metaData[fileUid];\n\n                    if (fileMetaData) {\n                        var percentComplete = fileMetaData.totalChunks ? Math.round(((fileMetaData.chunkIndex) / fileMetaData.totalChunks) * 100) : 100;\n\n                        that._onFileProgress({ target: $(fileEntry, that.wrapper) }, percentComplete);\n                    }\n                }\n            }\n        },\n\n        _hideUploadProgress: function(fileEntry) {\n            $(\".k-progressbar\", fileEntry)\n                .delay(PROGRESSHIDEDELAY)\n                .fadeOut(PROGRESSHIDEDURATION, function() {\n                    $(this).find('.k-progress').css(\"width\", \"0%\");\n                });\n        },\n\n        _showActionButtons: function() {\n            var that = this;\n            var actionsWrapper = $(\".k-action-buttons\", that.wrapper);\n            var uploadButton = $(\".k-upload-selected\", that.wrapper);\n            var clearButton = $(\".k-clear-selected\", that.wrapper);\n\n            if (uploadButton.length === 0) {\n                uploadButton = that._renderAction(\"\", this.localization.uploadSelectedFiles)\n                                   .addClass(\"k-upload-selected\")\n                                   .addClass(\"k-button-solid-primary\")\n                                   .removeClass(\"k-button-solid-base\");\n\n                clearButton = that._renderAction(\"\", this.localization.clearSelectedFiles)\n                                  .addClass(\"k-clear-selected\");\n            }\n\n            if (!actionsWrapper.length) {\n                actionsWrapper = $(\"<div />\")\n                    .addClass(\"k-action-buttons\")\n                    .append(clearButton, uploadButton);\n            }\n\n\n            this.wrapper.append(actionsWrapper);\n        },\n\n        _hideActionButtons: function() {\n            $(\".k-action-buttons\", this.wrapper).remove();\n        },\n\n        _showHeaderUploadStatus: function(isUploading) {\n            var that = this;\n            var localization = that.localization;\n            var dropZone = $(\".k-dropzone\", that.wrapper);\n            var headerUploadStatus = $('.k-upload-status-total', that.wrapper);\n\n            if (headerUploadStatus.length !== 0) {\n                headerUploadStatus.remove();\n            }\n\n            $('.k-dropzone-hint', that.wrapper).addClass('k-hidden');\n\n            headerUploadStatus = '<strong class=\"k-upload-status k-upload-status-total\"><span class=\"k-icon\"></span></strong>';\n\n            if (isUploading) {\n                headerUploadStatus = $(headerUploadStatus).append(localization.headerStatusUploading);\n                headerUploadStatus.find(\".k-icon\").addClass(headerStatusIcon.loading);\n            } else {\n                headerUploadStatus = $(headerUploadStatus).append(localization.headerStatusUploaded);\n                headerUploadStatus.find(\".k-icon\").addClass(headerStatusIcon.warning);\n            }\n\n            if (dropZone.length > 0) {\n                dropZone.append(headerUploadStatus);\n            } else {\n                $('.k-upload-button', that.wrapper).after(headerUploadStatus);\n            }\n        },\n\n        _updateHeaderUploadStatus: function() {\n            var that = this;\n            var headerUploadStatus = $('.k-upload-status-total', this.wrapper);\n            var currentlyUploading = $('.k-file', that.wrapper).not('.k-file-success, .k-file-error, .k-file-invalid');\n            var currentlyInvalid = $('.k-file-invalid', that.wrapper);\n            var currentlyFailed = $('.k-file-error', that.wrapper);\n            var currentlyPaused = $('.k-file', that.wrapper).find(\".k-i-play-sm\");\n            var failedUploads, headerUploadStatusIcon;\n\n            if (currentlyPaused.length &&\n            (currentlyPaused.length === currentlyUploading.length || !that.options.async.concurrent)) {\n                headerUploadStatusIcon = $('.k-icon', headerUploadStatus)\n                                .removeClass()\n                                .addClass(\"k-icon\")\n                                .addClass(\"k-i-pause-sm\");\n\n                headerUploadStatus.html(headerUploadStatusIcon)\n                                  .append(that.localization.headerStatusPaused);\n            } else if (currentlyUploading.length === 0 || currentlyInvalid.length > 0 || currentlyFailed.length > 0) {\n                failedUploads = $('.k-file.k-file-error, .k-file.k-file-invalid', that.wrapper);\n\n                headerUploadStatus = $('.k-upload-status-total', that.wrapper);\n                headerUploadStatusIcon = $('.k-icon', headerUploadStatus).removeClass().addClass(\"k-icon\")\n                                              .addClass(failedUploads.length !== 0 ? headerStatusIcon.warning : headerStatusIcon.success);\n\n                headerUploadStatus.html(headerUploadStatusIcon)\n                                  .append(that.localization.headerStatusUploaded);\n            }\n        },\n\n        _hideHeaderUploadstatus: function() {\n            var that = this,\n                dropZone = that.options.dropZone;\n\n            $('.k-upload-status-total', this.wrapper).remove();\n\n            if (dropZone === \"\") {\n                $('.k-dropzone-hint', that.wrapper).removeClass('k-hidden');\n            }\n        },\n\n        _onParentFormSubmit: function() {\n            var upload = this,\n                element = upload.element;\n\n            if (typeof this._module.onAbort !== 'undefined') {\n                this._module.onAbort();\n            }\n\n            if (!element.value) {\n                var input = $(element);\n\n                // Prevent submitting an empty input\n                input.attr(\"disabled\", \"disabled\");\n\n                window.setTimeout(function() {\n                    // Restore the input so the Upload remains functional\n                    // in case the user cancels the form submit\n                    input.prop(\"disabled\", false);\n                }, 0);\n            }\n        },\n\n        _onParentFormReset: function() {\n            $(\".k-upload-files\", this.wrapper).remove();\n        },\n\n        _supportsFormData: function() {\n            return typeof(FormData) != \"undefined\";\n        },\n\n        _supportsMultiple: function() {\n            var windows = this._userAgent().indexOf(\"Windows\") > -1;\n\n            return !kendo.support.browser.opera &&\n                   !(kendo.support.browser.safari && windows);\n        },\n\n        _supportsDrop: function() {\n            var userAgent = this._userAgent().toLowerCase();\n            var isChrome = /chrome/.test(userAgent);\n            var isSafari = !isChrome && /safari/.test(userAgent);\n            var isWindowsSafari = isSafari && /windows/.test(userAgent);\n\n            return !isWindowsSafari && this._supportsFormData() && (this.options.async.saveUrl);\n        },\n\n        _userAgent: function() {\n            return navigator.userAgent;\n        },\n\n        _setupDropZone: function() {\n            var that = this;\n\n            var ns = that._ns;\n            var dropZone = $(\".k-dropzone\", that.wrapper)\n\n                .on(\"dragenter\" + ns, stopEvent)\n                .on(\"dragover\" + ns, function(e) {\n                    if (e.originalEvent) {\n                        e.originalEvent.dataTransfer.dropEffect = \"copy\";\n                    }\n                    e.preventDefault();\n                 })\n                .on(\"drop\" + ns, that._onDrop.bind(that));\n\n            if (!dropZone.find(\".k-dropzone-hint\").length) {\n                dropZone.append($(\"<em class='k-dropzone-hint'>\" + that.localization.dropFilesHere + \"</em>\"));\n            }\n\n            bindDragEventWrappers(dropZone, ns,\n                function() {\n                    if (!dropZone.closest('.k-upload').hasClass(\"k-disabled\")) {\n                        dropZone.addClass(\"k-dropzone-hovered\");\n                    }\n                },\n                function() { dropZone.removeClass(\"k-dropzone-hovered\"); });\n\n            that._bindDocumentDragEventWrappers(dropZone);\n        },\n\n        _setupCustomDropZone: function() {\n            var that = this;\n            var dropZone = $(that.options.dropZone);\n\n            if (!that.wrapper.find(\".k-dropzone-hint\").length) {\n                $(\".k-dropzone\", that.wrapper)\n                    .append($(\"<em class='k-dropzone-hint k-hidden'>\" + that.localization.dropFilesHere + \"</em>\"));\n            } else {\n                // Dropzone hint in upload should be hidden if customDropZone is used\n                $('.k-dropzone-hint', that.wrapper).addClass('k-hidden');\n            }\n\n            var ns = that._ns;\n            dropZone.on(\"dragenter\" + ns, stopEvent)\n                    .on(\"dragover\" + ns, function(e) {\n                        if (e.originalEvent) {\n                            e.originalEvent.dataTransfer.dropEffect = \"copy\";\n                        }\n                        e.preventDefault();\n                    })\n                    .on(\"drop\" + ns, that._onDrop.bind(that));\n\n            bindDragEventWrappers(dropZone, ns,\n                function(e) {\n                    if (!that.wrapper.hasClass(\"k-disabled\")) {\n                        dropZone.removeClass(\"k-dropzone-hovered\");\n                        dropZone.addClass(\"k-dropzone-hovered\");\n                        $(e.target).addClass(\"k-dropzone-hovered\");\n                    }\n                },\n                function() {\n                    dropZone.removeClass(\"k-dropzone-hovered\");\n                    dropZone.find('.k-dropzone-hovered').removeClass(\"k-dropzone-hovered\");\n                }\n            );\n\n            that._bindDocumentDragEventWrappers(dropZone);\n        },\n\n        _bindDocumentDragEventWrappers: function(dropZone) {\n            var that = this;\n            var ns = that._ns;\n\n            bindDragEventWrappers($(document), ns,\n                function() {\n                    if (!that.wrapper.hasClass(\"k-disabled\")) {\n                        dropZone.addClass(\"k-dropzone-active\");\n                        dropZone.closest('.k-upload').removeClass('k-upload-empty');\n                        dropZone.find('.k-dropzone-hint').removeClass('k-hidden');\n                    }\n                },\n                function() {\n                    dropZone.removeClass(\"k-dropzone-active\");\n                    dropZone.find('.k-dropzone-hint').addClass('k-hidden');\n                    if ($('li.k-file', dropZone.closest('.k-upload')).length === 0) {\n                        dropZone.closest('.k-upload').addClass('k-upload-empty');\n                    }\n                }\n            );\n        },\n\n        _toggleDropZone: function() {\n            var that = this,\n                dropZone = that.options.dropZone;\n\n            if (!that._supportsDrop()) {\n                return;\n            }\n\n            $(dropZone).off(that._ns);\n            $(\".k-dropzone\", that.wrapper).off(that._ns);\n\n            if (dropZone !== \"\") {\n                that._setupCustomDropZone();\n            } else {\n                that._setupDropZone();\n            }\n        },\n\n        _supportsRemove: function() {\n            return !!this.options.async.removeUrl;\n        },\n\n        _submitRemove: function(fileNames, eventArgs, onSuccess, onError) {\n            var upload = this,\n                removeField = upload.options.async.removeField || \"fileNames\",\n                params = $.extend(eventArgs.data, antiForgeryTokens());\n\n            params[removeField] = fileNames;\n\n            jQuery.ajax({\n                  type: this.options.async.removeVerb,\n                  dataType: \"json\",\n                  dataFilter: normalizeJSON,\n                  url: this.options.async.removeUrl,\n                  traditional: true,\n                  data: params,\n                  headers: eventArgs.headers,\n                  success: onSuccess,\n                  error: onError,\n                  xhrFields: {\n                    withCredentials: this.options.async.withCredentials\n                  }\n            });\n        },\n\n        _wrapInput: function(input) {\n            var that = this;\n            var options = that.options;\n            var hasLabel = !!input.attr(\"id\") && $(\"[for='\" + input.attr(\"id\") + \"']\").length > 0;\n\n            input.wrap(\"<div class='k-widget k-upload'><div class='k-dropzone'><div class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-upload-button'></div></div></div>\");\n\n            if (!options.async.saveUrl) {\n                input.closest(\".k-upload\").addClass(\"k-upload-sync\");\n            } else {\n                input.closest(\".k-upload\").addClass(\"k-upload-async\");\n            }\n\n            input.closest(\".k-upload\").addClass(\"k-upload-empty\");\n\n            input.closest(\".k-button\")\n                .append(\"<span>\" + that.localization.select + \"</span>\");\n\n            if (!hasLabel && !input.attr(\"aria-label\")) {\n                input.attr(\"aria-label\", that.localization.select);\n            }\n\n            return input.closest(\".k-upload\");\n        },\n\n        _checkAllComplete: function() {\n            if ($(\".k-file.k-file-progress\", this.wrapper).length === 0) {\n                this.trigger(COMPLETE);\n            }\n        },\n\n        _inputFiles: function(sourceInput) {\n            return inputFiles(sourceInput);\n        }\n    });\n\n    // Synchronous upload module\n    var syncUploadModule = function(upload) {\n        this.name = \"syncUploadModule\";\n        this.element = upload.wrapper;\n        this.upload = upload;\n        this.element\n            .closest(\"form\")\n                .attr(\"enctype\", \"multipart/form-data\")\n                .attr(\"encoding\", \"multipart/form-data\");\n    };\n\n    syncUploadModule.prototype = {\n        onSelect: function(e, files) {\n            var upload = this.upload;\n            var sourceInput = $(e.target);\n            var filesContainErrors = upload._filesContainValidationErrors(files);\n\n            upload._addInput(sourceInput);\n\n            var fileData = { \"fileNames\": files };\n\n            if (filesContainErrors) {\n                sourceInput.remove();\n            } else {\n                fileData.relatedInput = sourceInput;\n            }\n\n            var file = upload._enqueueFile(getFileName(sourceInput), fileData);\n\n            if (filesContainErrors) {\n                upload._hideUploadProgress(file);\n            }\n\n            upload._fileAction(file, REMOVE);\n        },\n\n        onRemove: function(e) {\n            var fileEntry = getFileEntry(e);\n            var relatedInput = fileEntry.data(\"relatedInput\");\n\n            if (relatedInput) {\n                relatedInput.remove();\n            }\n\n            this.upload._removeFileEntry(fileEntry);\n        }\n    };\n\n    var iframeUploadModule = function(upload) {\n        this.name = \"iframeUploadModule\";\n        this.element = upload.wrapper;\n        this.upload = upload;\n        this.iframes = [];\n    };\n\n    Upload._frameId = 0;\n\n    iframeUploadModule.prototype = {\n        onSelect: function(e, files) {\n            var upload = this.upload;\n            var sourceInput = $(e.target);\n            var hasValidationErrors = upload._filesContainValidationErrors(files);\n\n            var fileEntry = this.prepareUpload(sourceInput, files, hasValidationErrors);\n\n            if (upload.options.async.autoUpload) {\n                if (!hasValidationErrors) {\n                    this.performUpload(fileEntry);\n                } else {\n                    upload._fileAction(fileEntry, REMOVE);\n                    upload._showHeaderUploadStatus(false);\n                }\n            } else {\n                upload._fileAction(fileEntry, REMOVE);\n\n                if (!hasValidationErrors) {\n                    upload._showActionButtons();\n                } else {\n                    upload._updateHeaderUploadStatus();\n                }\n            }\n\n            if (hasValidationErrors) {\n                upload._hideUploadProgress(fileEntry);\n            }\n        },\n\n        prepareUpload: function(sourceInput, files, hasValidationErrors) {\n            var upload = this.upload;\n            var activeInput = $(upload.element);\n            var name = upload.options.async.saveField || sourceInput.attr(\"name\");\n            var fileEntry, fileData, iframe, form;\n\n            upload._addInput(sourceInput);\n            sourceInput.attr(\"name\", name);\n\n            if (!hasValidationErrors) {\n                iframe = this.createFrame(upload.name + \"_\" + Upload._frameId++);\n                this.registerFrame(iframe);\n\n                form = this.createForm(upload.options.async.saveUrl, iframe.attr(\"name\"))\n                           .append(activeInput);\n\n                fileData = { \"frame\": iframe, \"relatedInput\": activeInput, \"fileNames\": files };\n            } else {\n                sourceInput.remove();\n\n                fileData = { \"fileNames\": files };\n            }\n\n            fileEntry = upload._enqueueFile(getFileName(sourceInput), fileData);\n\n            if (iframe) {\n                iframe.data({ \"form\": form, \"file\": fileEntry });\n            }\n\n            return fileEntry;\n        },\n\n        performUpload: function(fileEntry) {\n            var e = { files: fileEntry.data(\"fileNames\") };\n            var iframe = fileEntry.data(\"frame\");\n            var upload = this.upload;\n            var fileValidation = fileEntry.find('.k-file-validation-message');\n            var fileInfo = fileEntry.find('.k-file-information');\n            var fileSize = fileEntry.find('.k-file-size');\n\n            if (!upload.trigger(UPLOAD, e)) {\n                upload._hideActionButtons();\n                upload._showHeaderUploadStatus(true);\n\n                iframe.appendTo(document.body);\n\n                var form = iframe.data(\"form\")\n                    .attr(\"action\", upload.options.async.saveUrl)\n                    .appendTo(document.body);\n\n                e.data = $.extend({ }, e.data, antiForgeryTokens());\n                for (var key in e.data) {\n                    var dataInput = form.find(\"input[name='\" + key + \"']\");\n                    if (dataInput.length === 0) {\n                        dataInput = $(\"<input>\", { type: \"hidden\", name: key })\n                            .prependTo(form);\n                    }\n                    dataInput.val(e.data[key]);\n                }\n\n                upload._fileAction(fileEntry, CANCEL);\n                upload._fileState(fileEntry, \"uploading\");\n                $(fileEntry).removeClass(\"k-file-error\").addClass(\"k-file-progress\");\n\n                if (fileValidation.length > 0) {\n                    fileValidation.remove();\n                }\n\n                if (fileInfo.length > 0) {\n                    fileInfo.removeClass('k-hidden');\n                } else if (fileSize.length > 0) {\n                    fileSize.removeClass('k-hidden');\n                }\n\n                iframe\n                    .one(\"load\", this.onIframeLoad.bind(this));\n\n                form[0].submit();\n            } else {\n                upload._removeFileEntry(iframe.data(\"file\"));\n                this.cleanupFrame(iframe);\n                this.unregisterFrame(iframe);\n            }\n        },\n\n        onSaveSelected: function() {\n            var module = this;\n            var upload = module.upload;\n\n            $(\".k-file\", this.element).each(function() {\n                var fileEntry = $(this);\n                var started = isFileUploadStarted(fileEntry);\n                var hasValidationErrors = upload._filesContainValidationErrors(fileEntry.data(\"fileNames\"));\n\n                if (!started && !hasValidationErrors) {\n                    module.performUpload(fileEntry);\n                }\n            });\n        },\n\n        onIframeLoad: function(e) {\n            var iframe = $(e.target),\n                responseText;\n\n            try {\n                responseText = iframe.contents().text();\n            } catch (ex) {\n                responseText = \"Error trying to get server response: \" + ex;\n            }\n\n            this.processResponse(iframe, responseText);\n        },\n\n        processResponse: function(iframe, responseText) {\n            var fileEntry = iframe.data(\"file\"),\n                module = this,\n                fakeXHR = {\n                    responseText: responseText\n                };\n            tryParseJSON(responseText,\n                function(jsonResult) {\n                    $.extend(fakeXHR, { statusText: \"OK\", status: \"200\" });\n                    module.upload._onFileProgress({ target: $(fileEntry, module.upload.wrapper) }, 100);\n                    module.upload._onUploadSuccess({ target: $(fileEntry, module.upload.wrapper) }, jsonResult, fakeXHR);\n\n                    module.cleanupFrame(iframe);\n                    module.unregisterFrame(iframe);\n                },\n                function() {\n                    $.extend(fakeXHR, { statusText: \"error\", status: \"500\" });\n                    module.upload._onUploadError({ target: $(fileEntry, module.upload.wrapper) }, fakeXHR);\n                }\n            );\n        },\n\n        onCancel: function(e) {\n            var iframe = $(e.target).data(\"frame\");\n\n            this.stopFrameSubmit(iframe);\n            this.cleanupFrame(iframe);\n            this.unregisterFrame(iframe);\n            this.upload._removeFileEntry(iframe.data(\"file\"));\n        },\n\n        onRetry: function(e) {\n            var fileEntry = getFileEntry(e);\n            this.performUpload(fileEntry);\n        },\n\n        onRemove: function(e, eventArgs, shouldSendRemoveRequest) {\n            var module = this;\n            var upload = module.upload;\n            var fileEntry = getFileEntry(e);\n            var iframe = fileEntry.data(\"frame\");\n\n            if (iframe) {\n                module.unregisterFrame(iframe);\n                upload._removeFileEntry(fileEntry);\n                module.cleanupFrame(iframe);\n            } else {\n                if (fileEntry.hasClass(\"k-file-success\")) {\n                    removeUploadedFile(fileEntry, upload, eventArgs, shouldSendRemoveRequest);\n                } else {\n                    upload._removeFileEntry(fileEntry);\n                }\n            }\n        },\n\n        onAbort: function() {\n            var element = this.element,\n                module = this;\n\n            $.each(this.iframes, function() {\n                $(\"input\", this.data(\"form\")).appendTo(element);\n                module.stopFrameSubmit(this[0]);\n                this.data(\"form\").remove();\n                this.remove();\n            });\n\n            this.iframes = [];\n        },\n\n        createFrame: function(id) {\n            return $(\n                \"<iframe\" +\n                \" name='\" + id + \"'\" +\n                \" id='\" + id + \"'\" +\n                \" style='display:none;' />\"\n            );\n        },\n\n        createForm: function(action, target) {\n            return $(\n                \"<form enctype='multipart/form-data' method='POST'\" +\n                \" action='\" + action + \"'\" +\n                \" target='\" + target + \"'\" +\n                \"/>\");\n        },\n\n        stopFrameSubmit: function(frame) {\n            if (typeof(frame.stop) != \"undefined\") {\n                frame.stop();\n            } else if (frame.document) {\n                frame.document.execCommand(\"Stop\");\n            }\n        },\n\n        registerFrame: function(frame) {\n            this.iframes.push(frame);\n        },\n\n        unregisterFrame: function(frame) {\n            this.iframes = $.grep(this.iframes, function(value) {\n                return value.attr(\"name\") != frame.attr(\"name\");\n            });\n        },\n\n        cleanupFrame: function(frame) {\n            var form = frame.data(\"form\");\n\n            frame.data(\"file\").data(\"frame\", null);\n\n            setTimeout(function() {\n                form.remove();\n                frame.remove();\n            }, 1);\n        }\n    };\n\n    // FormData upload module\n    var formDataUploadModule = function(upload) {\n        this.name = \"formDataUploadModule\";\n        this.element = upload.wrapper;\n        this.upload = upload;\n        this.position = {};\n        this.metaData = {};\n        this.cancelled = {};\n        this.resume = {};\n        this.paused = {};\n        this.retries = {};\n    };\n\n    formDataUploadModule.prototype = {\n        onSelect: function(e, files) {\n            var upload = this.upload;\n            var module = this;\n            var sourceElement = $(e.target);\n            var fileEntries = this.prepareUpload(sourceElement, files);\n            var hasValidationErrors;\n            var prev;\n\n            $.each(fileEntries, function(index) {\n                hasValidationErrors = upload._filesContainValidationErrors($(this.data(\"fileNames\")));\n\n                if (upload.options.async.autoUpload) {\n                    if (!hasValidationErrors) {\n                        if (upload.options.async.chunkSize) {\n                            module.prepareChunk(this);\n                            prev = this.prev();\n\n                            if (upload.options.async.concurrent || (index === 0 && !prev.length) ||\n                             (index === 0 && prev.hasClass(\"k-file-success\"))) {\n                                module.performUpload(this);\n                            }\n                        } else {\n                            module.performUpload(this);\n                        }\n                    } else {\n                        upload._fileAction(this, REMOVE);\n                        upload._showHeaderUploadStatus(false);\n                    }\n                } else {\n                    upload._fileAction(this, REMOVE);\n\n                    if (!hasValidationErrors) {\n                        upload._showActionButtons();\n                        this.addClass(\"k-toupload\");\n                    } else {\n                        upload._updateHeaderUploadStatus();\n                    }\n                }\n\n                if (hasValidationErrors) {\n                    upload._hideUploadProgress(this);\n                }\n            });\n        },\n\n        prepareUpload: function(sourceElement, files) {\n            var fileEntries = this.enqueueFiles(files);\n\n            if (sourceElement.is(\"input\")) {\n                $.each(fileEntries, function() {\n                    $(this).data(\"relatedInput\", sourceElement);\n                });\n                sourceElement.data(\"relatedFileEntries\", fileEntries);\n                this.upload._addInput(sourceElement);\n            }\n\n            return fileEntries;\n        },\n\n        enqueueFiles: function(files) {\n            var upload = this.upload;\n            var name;\n            var i;\n            var filesLength = files.length;\n            var currentFile;\n            var fileEntry;\n            var fileEntries = [];\n\n            if (upload.options.async.batch === true) {\n                name = $.map(files, function(file) { return file.name; }).join(\", \");\n\n                if (upload.directory || upload.options.directoryDrop) {\n                    $(files).each(function() {\n                        if (this.rawFile.webkitRelativePath || this.rawFile.relativePath) {\n                            this.name = this.rawFile.webkitRelativePath || this.rawFile.relativePath;\n                        }\n                    });\n                }\n\n                fileEntry = upload._enqueueFile(name, { fileNames: files });\n                fileEntry.data(\"files\", files);\n\n                fileEntries.push(fileEntry);\n            } else {\n                for (i = 0; i < filesLength; i++) {\n                    currentFile = files[i];\n                    name = currentFile.name;\n                    if (upload.directory || upload.options.directoryDrop) {\n                        if (currentFile.rawFile.webkitRelativePath || currentFile.rawFile.relativePath) {\n                            currentFile.name = currentFile.rawFile.webkitRelativePath || currentFile.rawFile.relativePath;\n                        }\n                    }\n                    fileEntry = upload._enqueueFile(name, { fileNames: [ currentFile ] });\n                    fileEntry.data(\"files\", [ currentFile ]);\n\n                    fileEntries.push(fileEntry);\n                }\n            }\n\n            return fileEntries;\n        },\n\n        performUpload: function(fileEntry) {\n            var upload = this.upload,\n                formData = this.createFormData(),\n                xhr = this.createXHR(),\n                e = {\n                    files: fileEntry.data(\"fileNames\"),\n                    XMLHttpRequest: xhr\n                },\n                files;\n            var fileValidation = fileEntry.find('.k-file-validation-message');\n            var fileInfo = fileEntry.find('.k-file-information');\n            var fileSize = fileEntry.find('.k-file-size');\n\n            if (!upload.trigger(UPLOAD, e)) {\n                if (fileEntry.find(\".k-i-cancel\").length === 0) {\n                    if (upload.options.async.chunkSize) {\n                        upload._fileAction(fileEntry, PAUSE);\n                    }\n                    upload._fileAction(fileEntry, CANCEL, upload.options.async.chunkSize);\n                }\n\n                if (!upload.wrapper.find(\".k-toupload\").length) {\n                    upload._hideActionButtons();\n                }\n\n                upload._showHeaderUploadStatus(true);\n\n                if (e.formData) {\n                    formData = e.formData;\n                } else {\n                    e.data = $.extend({ }, e.data, antiForgeryTokens());\n                    for (var key in e.data) {\n                        formData.append(key, e.data[key]);\n                    }\n\n                    files = fileEntry.data(\"files\");\n                    if (files) {\n                        this.populateFormData(formData, files);\n                    }\n                }\n\n                upload._fileState(fileEntry, \"uploading\");\n                $(fileEntry).removeClass(\"k-file-error\").addClass(\"k-file-progress\");\n\n                if (fileValidation.length > 0) {\n                    fileValidation.remove();\n                }\n\n                if (fileInfo.length > 0) {\n                    fileInfo.removeClass('k-hidden');\n                } else if (fileSize.length > 0) {\n                    fileSize.removeClass('k-hidden');\n                }\n\n                if (upload.options.async.useArrayBuffer && window.FileReader) {\n                    this._readFile(upload.options.async.saveUrl, formData, fileEntry, xhr);\n                } else {\n                    this.postFormData(upload.options.async.saveUrl, formData, fileEntry, xhr);\n                }\n            } else {\n                this.removeFileEntry(fileEntry);\n            }\n        },\n\n        _readFile: function(saveUrl, formData, fileEntry, xhr) {\n            var that = this;\n            var upload = that.upload;\n            var file = fileEntry.data(\"files\")[0];\n\n            var reader = new FileReader();\n            reader.onload = function(e) {\n                try {\n                    if (!that.fileArrayBuffer) {\n                        that.fileArrayBuffer = e.target.result;\n                    } else {\n                        that.fileArrayBuffer = that._appendBuffer(that.fileArrayBuffer, e.target.result);\n                    }\n                } catch (err) {\n                    upload._onUploadError({ target: $(fileEntry, upload.wrapper) }, xhr);\n                    return;\n                }\n\n                if (that.position[file.uid] > file.size) {\n                    that.postFormData(upload.options.async.saveUrl, that.fileArrayBuffer, fileEntry, xhr);\n                    that.fileArrayBuffer = null;\n                } else {\n                    that._readFile(saveUrl, formData, fileEntry, xhr);\n                }\n            };\n            reader.onerror = function() {\n                upload._onUploadError({ target: $(fileEntry, upload.wrapper) }, xhr);\n            };\n            reader.readAsArrayBuffer(that._getCurrentChunk(file.rawFile, file.uid));\n        },\n\n        _appendBuffer: function(buffer1, buffer2) {\n            var tmp = new Uint8Array(buffer1.byteLength + buffer2.byteLength);\n\n            tmp.set(new Uint8Array(buffer1), 0);\n            tmp.set(new Uint8Array(buffer2), buffer1.byteLength);\n\n            return tmp.buffer;\n        },\n\n        onSaveSelected: function() {\n            var module = this;\n            var upload = module.upload;\n\n            $(\".k-toupload\", this.element).filter(function() {\n                var fileEntry = $(this);\n                var started = isFileUploadStarted(fileEntry);\n                var hasValidationErrors = upload._filesContainValidationErrors(fileEntry.data(\"fileNames\"));\n\n                return !started && !hasValidationErrors;\n            }).each(function(index) {\n                var fileEntry = $(this);\n                var prevEntry = fileEntry.prev();\n\n                fileEntry.removeClass(\"k-toupload\");\n                if (upload.options.async.chunkSize) {\n                    module.prepareChunk(fileEntry);\n\n                    if (upload.options.async.concurrent || (index === 0 && !prevEntry.length) ||\n                        (index === 0 && prevEntry.hasClass(\"k-file-success\") || prevEntry.hasClass(\"k-file-error\"))) {\n                        module.performUpload(fileEntry);\n                    }\n                } else {\n                    module.performUpload(fileEntry);\n                }\n            });\n        },\n\n        onCancel: function(e) {\n            var fileEntry = getFileEntry(e);\n\n            if (this.upload.options.async.chunkSize) {\n                this.cancelled[fileEntry.data(\"uid\")] = true;\n            }\n            this.stopUploadRequest(fileEntry);\n            this.removeFileEntry(fileEntry);\n        },\n\n        onPause: function(e) {\n            var fileEntry = getFileEntry(e);\n            var fileUid = fileEntry.data(\"uid\");\n            var async = this.upload.options.async;\n\n            if (async.chunkSize) {\n                this.retries[fileUid] = async.maxAutoRetries + 1;\n                this.paused[fileUid] = true;\n                this.resume[fileUid] = false;\n            }\n        },\n\n        onResume: function(e) {\n            var fileEntry = getFileEntry(e);\n            var fileUid = fileEntry.data(\"uid\");\n\n            if (this.upload.options.async.chunkSize) {\n                delete this.paused[fileUid];\n                this.resume[fileUid] = true;\n                this.retries[fileEntry.data(\"uid\")] = 1;\n                this._increaseChunkIndex(fileUid);\n                this.performUpload(fileEntry);\n            }\n        },\n\n        onRetry: function(e) {\n            var fileEntry = getFileEntry(e);\n            var async = this.upload.options.async;\n\n            if (async.chunkSize) {\n                this.retries[fileEntry.data(\"uid\")] = async.maxAutoRetries + 1;\n                delete this.paused[fileEntry.data(\"uid\")];\n            }\n\n            this.performUpload(fileEntry);\n        },\n\n        onRemove: function(e, eventArgs, shouldSendRemoveRequest) {\n            var module = this;\n            var upload = module.upload;\n            var fileEntry = getFileEntry(e);\n            var async = this.upload.options.async;\n\n            if (async.chunkSize) {\n                this.retries[fileEntry.data(\"uid\")] = async.maxAutoRetries + 1;\n            }\n\n            if (fileEntry.hasClass(\"k-file-success\")) {\n                removeUploadedFile(fileEntry, upload, eventArgs, shouldSendRemoveRequest);\n            } else {\n                module.removeFileEntry(fileEntry);\n            }\n        },\n\n        createXHR: function() {\n            return new XMLHttpRequest();\n        },\n\n        postFormData: function(url, data, fileEntry, xhr) {\n            var module = this;\n\n            fileEntry.data(\"request\", xhr);\n\n            xhr.addEventListener(\"load\", function(e) {\n                module.onRequestSuccess.call(module, e, fileEntry);\n            }, false);\n\n            xhr.addEventListener(ERROR, function(e) {\n                module.onRequestError.call(module, e, fileEntry);\n            }, false);\n\n            xhr.upload.addEventListener(\"progress\", function(e) {\n                module.onRequestProgress.call(module, e, fileEntry);\n            }, false);\n\n            xhr.open(\"POST\", url, true);\n            xhr.withCredentials = this.upload.options.async.withCredentials;\n\n            var accept = this.upload.options.async.accept;\n            if (accept) {\n                xhr.setRequestHeader(\"Accept\", accept);\n            }\n\n            xhr.send(data);\n        },\n\n        createFormData: function() {\n            return new FormData();\n        },\n\n        populateFormData: function(data, files) {\n            var chunk;\n            var i;\n            var length = files.length;\n            var uid;\n            var upload = this.upload;\n\n            if (upload.options.async.chunkSize) {\n                 uid = files[0].uid;\n                 chunk = this._getCurrentChunk(files[0].rawFile, uid);\n\n                data.append(\n                    upload.options.async.saveField || upload.name,\n                    chunk\n                );\n\n                var serializedMetaData = JSON.stringify(this.metaData[uid]);\n                data.append(\"metadata\", serializedMetaData);\n            } else {\n                 for (i = 0; i < length; i++) {\n                    data.append(\n                        upload.options.async.saveField || upload.name,\n                        files[i].rawFile\n                    );\n                 }\n            }\n\n            return data;\n        },\n\n        onRequestSuccess: function(e, fileEntry) {\n            var xhr = e.target,\n                module = this;\n\n            function raiseError() {\n                module.upload._onUploadError({ target: $(fileEntry, module.upload.wrapper) }, xhr);\n            }\n\n            function parseSuccess(jsonResult) {\n                var batch = module.upload.options.async.batch;\n                var chunkSize = module.upload.options.async.chunkSize;\n                var concurrent = module.upload.options.async.concurrent;\n                var fileUid = jsonResult.fileUid;\n\n                if (module.paused[fileUid] || module.cancelled[fileUid]) {\n                    return;\n                }\n\n                delete module.retries[fileUid];\n\n                if (chunkSize && !batch && !jsonResult.uploaded) {\n\n                    module._increaseChunkIndex(fileUid);\n                    module.performUpload(fileEntry);\n                } else if (chunkSize && !batch && !concurrent && fileEntry.next().length && !fileEntry.next().hasClass(\"k-toupload\")) {\n                        module.upload._onFileProgress({ target: $(fileEntry, module.upload.wrapper) }, 100);\n                        module._resetChunkIndex(fileUid);\n                        module.upload._onUploadSuccess({ target: $(fileEntry, module.upload.wrapper) }, jsonResult, xhr);\n\n                        module.performUpload(fileEntry.next());\n                } else {\n                    module.upload._onFileProgress({ target: $(fileEntry, module.upload.wrapper) }, 100);\n                    module.upload._onUploadSuccess({ target: $(fileEntry, module.upload.wrapper) }, jsonResult, xhr);\n                    module.cleanupFileEntry(fileEntry);\n                }\n            }\n\n            if (xhr.status >= 200 && xhr.status <= 299) {\n                tryParseJSON(xhr.responseText,\n                    parseSuccess,\n                    raiseError\n                );\n            } else {\n                raiseError();\n            }\n        },\n\n        onRequestError: function(e, fileEntry) {\n            var xhr = e.target;\n\n            this.upload._onUploadError({ target: $(fileEntry, this.upload.wrapper) }, xhr);\n        },\n\n        cleanupFileEntry: function(fileEntry) {\n            var relatedInput = fileEntry.data(\"relatedInput\"),\n                uploadComplete = true;\n\n            if (relatedInput) {\n                $.each(relatedInput.data(\"relatedFileEntries\") || [], function() {\n                    // Exclude removed file entries and self\n                    if (this.parent().length > 0 && this[0] != fileEntry[0]) {\n                        uploadComplete = uploadComplete && this.hasClass(\"k-file-success\");\n                    }\n                });\n\n                if (uploadComplete) {\n                    relatedInput.remove();\n                }\n            }\n        },\n\n        removeFileEntry: function(fileEntry) {\n            var chunkSize = this.upload.options.async.chunkSize;\n            var concurrent = this.upload.options.async.concurrent;\n            var isUploadButtonVisible = this.upload.wrapper.find(\".k-upload-selected\").length > 0;\n\n            this.cleanupFileEntry(fileEntry);\n            if (chunkSize && !concurrent && !isUploadButtonVisible) {\n                 if (fileEntry.next().length) {\n                     this.performUpload(fileEntry.next());\n                 }\n            }\n            this.upload._removeFileEntry(fileEntry);\n        },\n\n        onRequestProgress: function(e, fileEntry) {\n            var percentComplete = Math.round(e.loaded * 100 / e.total);\n            var fileUid = fileEntry.data(\"uid\");\n            var fileMetaData;\n\n            if (this.upload.options.async.chunkSize) {\n                fileMetaData = this.metaData[fileUid];\n                percentComplete = fileMetaData && fileMetaData.totalChunks ? Math.round(((fileMetaData.chunkIndex) / fileMetaData.totalChunks) * 100) : 100;\n            }\n            this.upload._onFileProgress({ target: $(fileEntry, this.upload.wrapper) }, percentComplete);\n        },\n\n        stopUploadRequest: function(fileEntry) {\n            if (fileEntry.data(\"request\")) {\n                fileEntry.data(\"request\").abort();\n            }\n        },\n\n        prepareChunk: function(fileEntry) {\n            var file = fileEntry.data(\"files\")[0];\n            var rawFile = file.rawFile;\n            var uid = file.uid;\n            var chunkSize = this.upload.options.async.chunkSize;\n            this.position[uid] = 0;\n\n            this.metaData[uid] = {\n                chunkIndex: 0,\n                contentType: rawFile.type,\n                fileName: rawFile.name,\n                relativePath: file.name,\n                totalFileSize: rawFile.size,\n                totalChunks: Math.ceil(rawFile.size / chunkSize),\n                uploadUid: uid\n            };\n        },\n\n        _decreaseChunkIndex: function(uid) {\n            this.metaData[uid].chunkIndex--;\n        },\n\n        _increaseChunkIndex: function(uid) {\n            this.metaData[uid].chunkIndex++;\n        },\n\n        _resetChunkIndex: function(uid) {\n            this.metaData[uid].chunkIndex = 0;\n        },\n\n        _decreasePosition: function(uid) {\n            this.position[uid] -= this.upload.options.async.chunkSize;\n        },\n\n        _getCurrentChunk: function(file, uid) {\n            var oldPosition = this.position[uid];\n            var methodToInvoke;\n            var async = this.upload.options.async;\n            var chunkSize = async.chunkSize || async.bufferChunkSize;\n\n            if (!this.position[uid]) {\n                this.position[uid] = 0;\n            }\n            this.position[uid] += chunkSize;\n\n            if (!!(methodToInvoke = this._getChunker(file))) {\n                return file[methodToInvoke](oldPosition, this.position[uid]);\n            } else {\n                return file;\n            }\n        },\n\n        _getChunker: function(file) {\n            if (file.slice) {\n                return \"slice\";\n            } else if (file.mozSlice) {\n                return \"mozSlice\";\n            } else if (file.webkitSlice) {\n                    return \"webkitSlice\";\n            } else {\n                return null;\n            }\n        }\n    };\n\n    // Helper functions\n    function getFileName(input) {\n        return $.map(inputFiles(input), function(file) {\n            return file.name;\n        }).join(\", \");\n    }\n\n    function inputFiles($input) {\n        var input = $input[0];\n\n        if (input.files) {\n            return getAllFileInfo(input.files);\n        } else {\n            return [{\n                name: stripPath(input.value),\n                extension: getFileExtension(input.value),\n                size: null\n            }];\n        }\n    }\n\n    function getAllFileInfo(rawFiles) {\n        return $.map(rawFiles, function(file) {\n            return getFileInfo(file);\n        });\n    }\n\n    function getFileInfo(rawFile) {\n        // Older Firefox versions (before 3.6) use fileName and fileSize\n        var fileName = rawFile.name || rawFile.fileName;\n        return {\n            name: kendo.htmlEncode(fileName),\n            extension: getFileExtension(fileName),\n            size: typeof rawFile.size == \"number\" ? rawFile.size : rawFile.fileSize, //rawFile.size || rawFile.fileSize,\n            rawFile: rawFile\n        };\n    }\n\n    function getFileExtension(fileName) {\n        var matches = fileName.match(rFileExtension);\n        return matches ? matches[0] : \"\";\n    }\n\n    function stripPath(name) {\n        var slashIndex = name.lastIndexOf(\"\\\\\");\n        return (slashIndex != -1) ? name.substr(slashIndex + 1) : name;\n    }\n\n    function assignGuidToFiles(files, unique) {\n        var uid = kendo.guid();\n\n        return $.map(files, function(file) {\n            file.uid = unique ? kendo.guid() : uid;\n\n            return file;\n        });\n    }\n\n    function validateFiles(files, validationInfo) {\n        var allowedExtensions = parseAllowedExtensions(validationInfo.allowedExtensions);\n        var maxFileSize = validationInfo.maxFileSize;\n        var minFileSize = validationInfo.minFileSize;\n\n        for (var i = 0; i < files.length; i++) {\n            validateFileExtension(files[i], allowedExtensions);\n            validateFileSize(files[i], minFileSize, maxFileSize);\n        }\n    }\n\n    function parseAllowedExtensions(extensions) {\n        var allowedExtensions = $.map(extensions, function(ext) {\n            var parsedExt = (ext.substring(0, 1) === \".\") ? ext : (\".\" + ext);\n            return parsedExt.toLowerCase();\n        });\n\n        return allowedExtensions;\n    }\n\n    function validateFileExtension(file, allowedExtensions) {\n        if (allowedExtensions.length > 0) {\n            if (allowedExtensions.indexOf(file.extension.toLowerCase()) < 0) {\n                file.validationErrors = file.validationErrors || [];\n                if ($.inArray(INVALIDFILEEXTENSION, file.validationErrors) === -1) {\n                    file.validationErrors.push(INVALIDFILEEXTENSION);\n                }\n            }\n        }\n    }\n\n    function validateFileSize(file, minFileSize, maxFileSize) {\n        if (minFileSize !== 0 && file.size < minFileSize) {\n            file.validationErrors = file.validationErrors || [];\n            if ($.inArray(INVALIDMINFILESIZE, file.validationErrors) === -1) {\n                file.validationErrors.push(INVALIDMINFILESIZE);\n            }\n        }\n\n        if (maxFileSize !== 0 && file.size > maxFileSize) {\n            file.validationErrors = file.validationErrors || [];\n            if ($.inArray(INVALIDMAXFILESIZE, file.validationErrors) === -1) {\n                file.validationErrors.push(INVALIDMAXFILESIZE);\n            }\n        }\n    }\n\n    function getTotalFilesSizeMessage(files) {\n        var totalSize = 0;\n\n        if (typeof files[0].size == \"number\") {\n            for (var i = 0; i < files.length; i++) {\n                if (files[i].size) {\n                    totalSize += files[i].size;\n                }\n            }\n        } else {\n            return \"\";\n        }\n\n        totalSize /= 1024;\n\n        if (totalSize < 1024) {\n            return totalSize.toFixed(2) + \" KB\";\n        } else {\n            return (totalSize / 1024).toFixed(2) + \" MB\";\n        }\n    }\n\n    function shouldRemoveFileEntry(upload) {\n        return !upload.multiple && $(\".k-file\", upload.wrapper).length > 1;\n    }\n\n    function removeUploadedFile(fileEntry, upload, eventArgs, shouldSendRemoveRequest) {\n        if (!upload._supportsRemove()) {\n            if (shouldRemoveFileEntry(upload) || !shouldSendRemoveRequest) {\n                upload._removeFileEntry(fileEntry);\n            }\n\n            return;\n        }\n\n        var files = fileEntry.data(\"fileNames\");\n        var fileNames = $.map(files, function(file) { return file.name; });\n\n        if (shouldSendRemoveRequest === false) {\n            upload._removeFileEntry(fileEntry);\n\n            return;\n        }\n\n        upload._submitRemove(fileNames, eventArgs,\n            function onSuccess(data, textStatus, xhr) {\n                var prevented = upload.trigger(SUCCESS, {\n                    operation: \"remove\",\n                    files: files,\n                    response: data,\n                    XMLHttpRequest: xhr\n                });\n\n                if (!prevented) {\n                    upload._removeFileEntry(fileEntry);\n                }\n            },\n\n            function onError(xhr) {\n                if (shouldRemoveFileEntry(upload)) {\n                    upload._removeFileEntry(fileEntry);\n                }\n\n                upload.trigger(ERROR, {\n                    operation: \"remove\",\n                    files: files,\n                    XMLHttpRequest: xhr\n                });\n\n                logToConsole(\"Server response: \" + xhr.responseText);\n            }\n        );\n    }\n\n    function tryParseJSON(input, onSuccess, onError) {\n        var success = false,\n            json = \"\";\n\n        try {\n            json = JSON.parse(normalizeJSON(input));\n            success = true;\n        } catch (e) {\n            onError();\n        }\n\n        if (success) {\n            onSuccess(json);\n        }\n    }\n\n    function normalizeJSON(input) {\n        if (typeof input === \"undefined\" || input === \"\") {\n            input = \"{}\";\n        }\n\n        return input;\n    }\n\n    function stopEvent(e) {\n        if (e.originalEvent) {\n            e.originalEvent.dataTransfer.dropEffect = \"copy\";\n        }\n        e.stopPropagation(); e.preventDefault();\n    }\n\n    function bindDragEventWrappers(element, namespace, onDragEnter, onDragLeave) {\n        var hideInterval, lastDrag;\n\n        element\n            .on(\"dragenter\" + namespace, function(e) {\n                onDragEnter(e);\n                lastDrag = new Date();\n\n                if (!hideInterval) {\n                    hideInterval = setInterval(function() {\n                        var sinceLastDrag = new Date() - lastDrag;\n                        if (sinceLastDrag > 100) {\n                            onDragLeave();\n\n                            clearInterval(hideInterval);\n                            hideInterval = null;\n                        }\n                    }, 100);\n                }\n            })\n            .on(\"dragover\" + namespace, function() {\n                lastDrag = new Date();\n            });\n    }\n\n    function isFileUploadStarted(fileEntry) {\n        return fileEntry.is(\".k-file-progress, .k-file-success, .k-file-error\");\n    }\n\n    function getFileEntry(e) {\n        return $(e.target).closest(\".k-file\");\n    }\n\n    kendo.ui.plugin(Upload);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, __webpack_require__.amdD);\n\n\n/***/ }),\n\n/***/ 57949:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./kendo.core\");\n\n/***/ }),\n\n/***/ 72834:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"jquery\");\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/amd define */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.amdD = function () {\n/******/ \t\t\tthrow new Error('define cannot be used indirect');\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module used 'module' so it can't be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__(19267);\n/******/ \tmodule.exports = __webpack_exports__;\n/******/ \t\n/******/ })()\n;"],"mappings":"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"},"metadata":{},"sourceType":"script"}