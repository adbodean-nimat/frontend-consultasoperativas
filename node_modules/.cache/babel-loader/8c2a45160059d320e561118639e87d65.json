{"ast":null,"code":"require(\"core-js/modules/es.error.cause.js\");\n\n/******/\n(function () {\n  // webpackBootstrap\n\n  /******/\n  var __webpack_modules__ = {\n    /***/\n    94888:\n    /***/\n    function (module, exports, __webpack_require__) {\n      var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n      (function (f, define) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(54752)], __WEBPACK_AMD_DEFINE_FACTORY__ = f, __WEBPACK_AMD_DEFINE_RESULT__ = typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n      })(function () {\n        (function () {\n          window.kendo.pivotgrid = window.kendo.pivotgrid || {};\n\n          window.kendo.pivotgrid.common = function (exports) {\n            var filterFunctionFormats = {\n              contains: \", InStr({0}.CurrentMember.MEMBER_CAPTION,\\\"{1}\\\") > 0\",\n              doesnotcontain: \", InStr({0}.CurrentMember.MEMBER_CAPTION,\\\"{1}\\\")\",\n              endswith: \", Right({0}.CurrentMember.MEMBER_CAPTION,Len(\\\"{1}\\\"))=\\\"{1}\\\"\",\n              eq: \", {0}.CurrentMember.MEMBER_CAPTION = \\\"{1}\\\"\",\n              neq: \", {0}.CurrentMember.MEMBER_CAPTION = \\\"{1}\\\"\",\n              startswith: \", Left({0}.CurrentMember.MEMBER_CAPTION,Len(\\\"{1}\\\"))=\\\"{1}\\\"\"\n            };\n            var operators = {\n              doesnotcontain: 'doesnotcontain',\n              in: 'in',\n              neq: \"neq\"\n            };\n            /**\n             * @hidden\n             */\n\n            function serializeFilters(filters, cube) {\n              var command = \"\";\n              var current = \"\";\n\n              for (var idx = filters.length - 1; idx >= 0; idx--) {\n                current = \"SELECT (\";\n                current += serializeExpression(filters[idx]);\n                current += \") ON 0\";\n\n                if (idx === filters.length - 1) {\n                  current += \" FROM [\" + cube + \"]\";\n                  command = current;\n                } else {\n                  command = current + \" FROM ( \" + command + \" )\";\n                }\n              }\n\n              return command;\n            }\n\n            function serializeExpression(expression) {\n              var command = '';\n              var value = String(expression.value);\n              var field = expression.field;\n              var operator = expression.operator;\n\n              if (operator === operators.in) {\n                command += \"{\";\n                command += value;\n                command += \"}\";\n              } else {\n                command += operator === operators.neq || operator === operators.doesnotcontain ? '-' : '';\n                command += \"Filter(\";\n                command += field + \".MEMBERS\";\n                command += formatString(filterFunctionFormats[operator], field, value);\n                command += \")\";\n              }\n\n              return command;\n            }\n\n            function formatString(str) {\n              var values = [];\n\n              for (var _i = 1; _i < arguments.length; _i++) {\n                values[_i - 1] = arguments[_i];\n              }\n\n              values.forEach(function (value, index) {\n                str = str.replace(new RegExp(\"\\\\{\" + index + \"\\\\}\", 'g'), value);\n              });\n              return str;\n            }\n            /**\n             * @hidden\n             */\n\n\n            function serializeMembers(members, measures, sort) {\n              var command = \"\";\n              members = members || [];\n              var parsed = parseDescriptors(members);\n              var expanded = parsed.expanded;\n              var rootNames = getRootNames(parsed.root);\n              var crossJoinCommands = [];\n              var length = expanded.length;\n              var idx = 0;\n              var memberName;\n              var names = [];\n\n              if (rootNames.length > 1 || measures.length > 1) {\n                crossJoinCommands.push(crossJoinCommand(rootNames, measures));\n\n                for (; idx < length; idx++) {\n                  memberName = expandMemberDescriptor(expanded[idx].name, sort);\n                  names = mapNames(memberName, rootNames);\n                  crossJoinCommands.push(crossJoinCommand(names, measures));\n                }\n\n                command += crossJoinCommands.join(\",\");\n              } else {\n                for (; idx < length; idx++) {\n                  memberName = expandMemberDescriptor(expanded[idx].name, sort);\n                  names.push(memberName[0]);\n                }\n\n                command += rootNames.concat(names).join(\",\");\n              }\n\n              return command;\n            }\n            /**\n             * @hidden\n             */\n\n\n            function measureNames(measures) {\n              var length = measures.length;\n              var result = [];\n              var measure;\n\n              for (var idx = 0; idx < length; idx++) {\n                measure = measures[idx];\n                result.push(measure.name !== undefined ? measure.name : measure);\n              }\n\n              return result;\n            }\n\n            function getRootNames(members) {\n              var root = [];\n              members.forEach(function (member) {\n                var name = member.name[0];\n                var hierarchyName = baseHierarchyPath(name);\n\n                if (!root.some(function (n) {\n                  return n.indexOf(hierarchyName) === 0;\n                })) {\n                  root.push(name);\n                }\n              });\n              return root;\n            }\n\n            function parseDescriptors(members) {\n              var expanded = [];\n              var child = [];\n              var root = [];\n              var idx = 0;\n              var found;\n\n              for (; idx < members.length; idx++) {\n                var member = members[idx];\n                var name_1 = member.name;\n                found = false;\n\n                if (name_1.length > 1) {\n                  child.push(member);\n                } else {\n                  var hierarchyName = baseHierarchyPath(name_1[0]);\n\n                  for (var j = 0, l = root.length; j < l; j++) {\n                    if (root[j].name[0].indexOf(hierarchyName) === 0) {\n                      found = true;\n                      break;\n                    }\n                  }\n\n                  if (!found) {\n                    root.push(member);\n                  }\n\n                  if (member.expand) {\n                    expanded.push(member);\n                  }\n                }\n              }\n\n              expanded = expanded.concat(child);\n              return {\n                expanded: expanded,\n                root: root\n              };\n            }\n\n            function mapNames(names, rootNames) {\n              var rootLength = rootNames.length;\n              rootNames = rootNames.slice(0);\n\n              for (var idx = 0; idx < names.length; idx++) {\n                var name_2 = names[idx];\n\n                for (var j = 0; j < rootLength; j++) {\n                  var rootName = baseHierarchyPath(rootNames[j]);\n\n                  if (name_2.indexOf(rootName) !== -1) {\n                    rootNames[j] = name_2;\n                    break;\n                  }\n                }\n              }\n\n              return rootNames;\n            }\n\n            function crossJoinCommand(members, measures) {\n              var tmp = members.slice(0);\n\n              if (measures.length > 1) {\n                tmp.push(\"{\" + measureNames(measures).join(\",\") + \"}\");\n              }\n\n              return crossJoin(tmp);\n            }\n\n            function expandMemberDescriptor(names, sort) {\n              var idx = names.length - 1;\n              var name = names[idx];\n              var sortDescriptor = sortDescriptorForMember(sort, name);\n\n              if (sortDescriptor && sortDescriptor.dir) {\n                name = \"ORDER(\" + name + \".Children,\" + sortDescriptor.field + \".CurrentMember.MEMBER_CAPTION,\" + sortDescriptor.dir + \")\";\n              } else {\n                name += \".Children\";\n              }\n\n              names[idx] = name;\n              return names;\n            }\n\n            function sortDescriptorForMember(sort, member) {\n              for (var idx = 0, length_1 = sort.length; idx < length_1; idx++) {\n                if (member.indexOf(sort[idx].field) === 0) {\n                  return sort[idx];\n                }\n              }\n\n              return null;\n            }\n\n            function baseHierarchyPath(memberName) {\n              var parts = memberName.split(\".\");\n\n              if (parts.length > 2) {\n                return parts[0] + \".\" + parts[1];\n              }\n\n              return memberName;\n            }\n\n            function crossJoin(names) {\n              var result = \"CROSSJOIN({\";\n              var name;\n\n              if (names.length > 2) {\n                name = names.pop();\n                result += crossJoin(names);\n              } else {\n                result += names.shift();\n                name = names.pop();\n              }\n\n              result += \"},{\";\n              result += name;\n              result += \"})\";\n              return result;\n            }\n            /**\n             * @hidden\n             */\n\n\n            function createRequestBody(options) {\n              var command = '<Envelope xmlns=\"http://schemas.xmlsoap.org/soap/envelope/\"><Header/><Body><Execute xmlns=\"urn:schemas-microsoft-com:xml-analysis\"><Command><Statement>';\n              var _a = options.columnAxes,\n                  columnAxes = _a === void 0 ? [] : _a,\n                  _b = options.rowAxes,\n                  rowAxes = _b === void 0 ? [] : _b;\n              var _c = options.measureAxes,\n                  measureAxes = _c === void 0 ? [] : _c,\n                  _d = options.sort,\n                  sort = _d === void 0 ? [] : _d,\n                  _e = options.filter,\n                  filter = _e === void 0 ? [] : _e;\n              var measuresRowAxis = options.measuresAxis === \"rows\";\n              command += \"SELECT NON EMPTY {\";\n\n              if (!columnAxes.length && rowAxes.length && (!measureAxes.length || measureAxes.length && measuresRowAxis)) {\n                columnAxes = rowAxes;\n                rowAxes = [];\n                measuresRowAxis = false;\n              }\n\n              if (!columnAxes.length && !rowAxes.length) {\n                measuresRowAxis = false;\n              }\n\n              if (columnAxes.length) {\n                command += serializeMembers(columnAxes, !measuresRowAxis ? measureAxes : [], sort);\n              } else if (measureAxes.length && !measuresRowAxis) {\n                command += measureNames(measureAxes).join(\",\");\n              }\n\n              command += \"} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON COLUMNS\";\n\n              if (rowAxes.length || measuresRowAxis && measureAxes.length > 1) {\n                command += \", NON EMPTY {\";\n\n                if (rowAxes.length) {\n                  command += serializeMembers(rowAxes, measuresRowAxis ? measureAxes : [], sort);\n                } else {\n                  command += measureNames(measureAxes).join(\",\");\n                }\n\n                command += \"} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON ROWS\";\n              }\n\n              if (filter.length) {\n                command += \" FROM \";\n                command += \"(\";\n                command += serializeFilters(filter, options.connection.cube);\n                command += \")\";\n              } else {\n                command += \" FROM [\" + options.connection.cube + \"]\";\n              }\n\n              if (measureAxes.length === 1 && columnAxes.length) {\n                command += \" WHERE (\" + measureNames(measureAxes).join(\",\") + \")\";\n              }\n\n              command += '</Statement></Command><Properties><PropertyList><Catalog>' + options.connection.catalog + '</Catalog><Format>Multidimensional</Format></PropertyList></Properties></Execute></Body></Envelope>';\n              return command.replace(/&/g, \"&amp;\");\n            }\n            /******************************************************************************\n            Copyright (c) Microsoft Corporation.\n             Permission to use, copy, modify, and/or distribute this software for any\n            purpose with or without fee is hereby granted.\n             THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n            REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n            AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n            INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n            LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n            OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n            PERFORMANCE OF THIS SOFTWARE.\n            ***************************************************************************** */\n\n\n            var __assign = function () {\n              __assign = Object.assign || function __assign(t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                  s = arguments[i];\n\n                  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n\n                return t;\n              };\n\n              return __assign.apply(this, arguments);\n            };\n\n            function __awaiter(thisArg, _arguments, P, generator) {\n              function adopt(value) {\n                return value instanceof P ? value : new P(function (resolve) {\n                  resolve(value);\n                });\n              }\n\n              return new (P || (P = Promise))(function (resolve, reject) {\n                function fulfilled(value) {\n                  try {\n                    step(generator.next(value));\n                  } catch (e) {\n                    reject(e);\n                  }\n                }\n\n                function rejected(value) {\n                  try {\n                    step(generator[\"throw\"](value));\n                  } catch (e) {\n                    reject(e);\n                  }\n                }\n\n                function step(result) {\n                  result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n                }\n\n                step((generator = generator.apply(thisArg, _arguments || [])).next());\n              });\n            }\n\n            function __generator(thisArg, body) {\n              var _ = {\n                label: 0,\n                sent: function () {\n                  if (t[0] & 1) throw t[1];\n                  return t[1];\n                },\n                trys: [],\n                ops: []\n              },\n                  f,\n                  y,\n                  t,\n                  g;\n              return g = {\n                next: verb(0),\n                \"throw\": verb(1),\n                \"return\": verb(2)\n              }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n                return this;\n              }), g;\n\n              function verb(n) {\n                return function (v) {\n                  return step([n, v]);\n                };\n              }\n\n              function step(op) {\n                if (f) throw new TypeError(\"Generator is already executing.\");\n\n                while (_) try {\n                  if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n                  if (y = 0, t) op = [op[0] & 2, t.value];\n\n                  switch (op[0]) {\n                    case 0:\n                    case 1:\n                      t = op;\n                      break;\n\n                    case 4:\n                      _.label++;\n                      return {\n                        value: op[1],\n                        done: false\n                      };\n\n                    case 5:\n                      _.label++;\n                      y = op[1];\n                      op = [0];\n                      continue;\n\n                    case 7:\n                      op = _.ops.pop();\n\n                      _.trys.pop();\n\n                      continue;\n\n                    default:\n                      if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                      }\n\n                      if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                      }\n\n                      if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                      }\n\n                      if (t && _.label < t[2]) {\n                        _.label = t[2];\n\n                        _.ops.push(op);\n\n                        break;\n                      }\n\n                      if (t[2]) _.ops.pop();\n\n                      _.trys.pop();\n\n                      continue;\n                  }\n\n                  op = body.call(thisArg, _);\n                } catch (e) {\n                  op = [6, e];\n                  y = 0;\n                } finally {\n                  f = t = 0;\n                }\n\n                if (op[0] & 5) throw op[1];\n                return {\n                  value: op[0] ? op[1] : void 0,\n                  done: true\n                };\n              }\n            }\n            /** @deprecated */\n\n\n            function __spreadArrays() {\n              for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n              for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n              return r;\n            }\n            /**\n             * @hidden\n             */\n\n\n            function parseResponse(response) {\n              var xmlDoc = new DOMParser().parseFromString(response, \"text/xml\");\n              var axes = Array.from(xmlDoc.querySelectorAll(\"Axis\"));\n              var cells = Array.from(xmlDoc.querySelectorAll(\"CellData > Cell\")).map(function (cell) {\n                return {\n                  fmtValue: getPropertyValue(cell, \"FmtValue\"),\n                  ordinal: parseInt(cell.getAttribute(\"CellOrdinal\"), 10),\n                  value: getPropertyValue(cell, \"Value\")\n                };\n              });\n              var columns = {\n                tuples: []\n              };\n              var rows = {\n                tuples: []\n              };\n              var data = [];\n              axes.forEach(function (axis) {\n                if (axis.getAttribute('name') !== \"SlicerAxis\") {\n                  var tuples = columns.tuples.length === 0 ? columns.tuples : rows.tuples;\n                  Array.prototype.push.apply(tuples, translateAxis(axis));\n                }\n              });\n              var indexedData = new Array(rows.tuples.length * columns.tuples.length).fill(null);\n              cells.forEach(function (c) {\n                indexedData[c.ordinal] = c;\n              });\n              var counter = 0;\n              rows.tuples.forEach(function (rowTuple) {\n                columns.tuples.forEach(function (colTuple) {\n                  data.push({\n                    columnTuple: colTuple,\n                    data: indexedData[counter],\n                    rowTuple: rowTuple\n                  });\n                  counter++;\n                });\n              });\n              return {\n                columns: columns,\n                data: data,\n                rows: rows\n              };\n            }\n            /**\n             * @hidden\n             */\n\n\n            function getPropertyValue(member, name) {\n              var node = member.querySelector(name);\n              return node ? node.textContent : \"\";\n            }\n\n            function translateAxis(axis) {\n              var tuples = Array.from(axis.querySelectorAll(\"Tuple\"));\n              return tuples.map(function (tuple) {\n                var memberElements = Array.from(tuple.querySelectorAll(\"Member\"));\n                var members = memberElements.map(function (member) {\n                  var lNum = parseInt(getPropertyValue(member, \"LNum\") || \"0\", 10);\n                  var hasChildren = parseInt(getPropertyValue(member, \"CHILDREN_CARDINALITY\") || \"0\", 10) > 0;\n                  return {\n                    caption: getPropertyValue(member, \"Caption\"),\n                    children: [],\n                    hasChildren: hasChildren,\n                    hierarchy: member.getAttribute('Hierarchy'),\n                    levelName: getPropertyValue(member, \"LName\"),\n                    levelNum: lNum,\n                    name: getPropertyValue(member, \"UName\"),\n                    parentName: getPropertyValue(member, \"PARENT_UNIQUE_NAME\")\n                  };\n                });\n                return {\n                  members: members\n                };\n              });\n            }\n            /**\n             * @hidden\n             */\n\n\n            var discoverCommands = {\n              schemaCatalogs: \"DBSCHEMA_CATALOGS\",\n              schemaCubes: \"MDSCHEMA_CUBES\",\n              schemaDimensions: \"MDSCHEMA_DIMENSIONS\",\n              schemaHierarchies: \"MDSCHEMA_HIERARCHIES\",\n              schemaKPIs: \"MDSCHEMA_KPIS\",\n              schemaLevels: \"MDSCHEMA_LEVELS\",\n              schemaMeasures: \"MDSCHEMA_MEASURES\",\n              schemaMembers: \"MDSCHEMA_MEMBERS\"\n            };\n            /**\n             * @hidden\n             */\n\n            function createDiscoverBody(options) {\n              var properties = {};\n              var command = '<Envelope xmlns=\"http://schemas.xmlsoap.org/soap/envelope/\"><Header/><Body><Discover xmlns=\"urn:schemas-microsoft-com:xml-analysis\">';\n              command += \"<RequestType>\" + (discoverCommands[options.command] || options.command) + \"</RequestType>\";\n              command += \"<Restrictions>\" + serializeOptions(\"RestrictionList\", options.restrictions, true) + \"</Restrictions>\";\n\n              if (options.connection && options.connection.catalog) {\n                properties.Catalog = options.connection.catalog;\n              }\n\n              command += \"<Properties>\" + serializeOptions(\"PropertyList\", properties, false) + \"</Properties>\";\n              command += '</Discover></Body></Envelope>';\n              return command;\n            }\n\n            function serializeOptions(parentTagName, options, capitalize) {\n              var result = \"\";\n\n              if (options) {\n                result += \"<\" + parentTagName + \">\";\n                var value = void 0;\n\n                for (var key in options) {\n                  if (options[key]) {\n                    value = options[key];\n\n                    if (capitalize) {\n                      key = key.replace(/([A-Z]+(?=$|[A-Z][a-z])|[A-Z]?[a-z]+)/g, \"$1_\").toUpperCase().replace(/_$/, \"\");\n                    }\n\n                    result += \"<\" + key + \">\" + value + \"</\" + key + \">\";\n                  }\n                }\n\n                result += \"</\" + parentTagName + \">\";\n              } else {\n                result += \"<\" + parentTagName + \"/>\";\n              }\n\n              return result;\n            }\n            /**\n             * @hidden\n             */\n\n\n            function parseCubes(response) {\n              var xmlDoc = new DOMParser().parseFromString(response, \"text/xml\");\n              var rows = Array.from(xmlDoc.querySelectorAll(\"DiscoverResponse > return > root > row\")).map(function (row) {\n                return {\n                  name: getPropertyValue(row, \"CUBE_NAME\"),\n                  caption: getPropertyValue(row, \"CUBE_CAPTION\"),\n                  description: getPropertyValue(row, \"DESCRIPTION\"),\n                  type: getPropertyValue(row, \"CUBE_TYPE\")\n                };\n              });\n              return rows;\n            }\n            /**\n             * @hidden\n             */\n\n\n            function parseCatalogs(response) {\n              var xmlDoc = new DOMParser().parseFromString(response, \"text/xml\");\n              var rows = Array.from(xmlDoc.querySelectorAll(\"DiscoverResponse > return > root > row\")).map(function (row) {\n                return {\n                  name: getPropertyValue(row, \"CATALOG_NAME\"),\n                  description: getPropertyValue(row, \"DESCRIPTION\")\n                };\n              });\n              return rows;\n            }\n            /**\n             * @hidden\n             */\n\n\n            function parseMeasures(response) {\n              var xmlDoc = new DOMParser().parseFromString(response, \"text/xml\");\n              var rows = Array.from(xmlDoc.querySelectorAll(\"DiscoverResponse > return > root > row\")).map(function (row) {\n                return {\n                  name: getPropertyValue(row, \"MEASURE_NAME\"),\n                  caption: getPropertyValue(row, \"MEASURE_CAPTION\"),\n                  uniqueName: getPropertyValue(row, \"MEASURE_UNIQUE_NAME\"),\n                  description: getPropertyValue(row, \"DESCRIPTION\"),\n                  aggregator: getPropertyValue(row, \"MEASURE_AGGREGATOR\"),\n                  groupName: getPropertyValue(row, \"MEASUREGROUP_NAME\"),\n                  displayFolder: getPropertyValue(row, \"MEASURE_DISPLAY_FOLDER\"),\n                  defaultFormat: getPropertyValue(row, \"DEFAULT_FORMAT_STRING\")\n                };\n              });\n              return rows;\n            }\n            /**\n             * @hidden\n             */\n\n\n            function parseKPIs(response) {\n              var xmlDoc = new DOMParser().parseFromString(response, \"text/xml\");\n              var rows = Array.from(xmlDoc.querySelectorAll(\"DiscoverResponse > return > root > row\")).map(function (row) {\n                return {\n                  name: getPropertyValue(row, \"KPI_NAME\"),\n                  uniqueName: getPropertyValue(row, \"KPI_NAME\"),\n                  caption: getPropertyValue(row, \"KPI_CAPTION\"),\n                  value: getPropertyValue(row, \"KPI_VALUE\"),\n                  goal: getPropertyValue(row, \"KPI_GOAL\"),\n                  status: getPropertyValue(row, \"KPI_STATUS\"),\n                  trend: getPropertyValue(row, \"KPI_TREND\"),\n                  statusGraphic: getPropertyValue(row, \"KPI_STATUS_GRAPHIC\"),\n                  trendGraphic: getPropertyValue(row, \"KPI_TREND_GRAPHIC\"),\n                  description: getPropertyValue(row, \"KPI_DESCRIPTION\"),\n                  groupName: getPropertyValue(row, \"MEASUREGROUP_NAME\"),\n                  type: \"kpi\"\n                };\n              });\n              return rows;\n            }\n            /**\n             * @hidden\n             */\n\n\n            function parseDimensions(response) {\n              var xmlDoc = new DOMParser().parseFromString(response, \"text/xml\");\n              var rows = Array.from(xmlDoc.querySelectorAll(\"DiscoverResponse > return > root > row\")).map(function (row) {\n                return {\n                  caption: getPropertyValue(row, \"DIMENSION_CAPTION\"),\n                  defaultHierarchy: getPropertyValue(row, \"DEFAULT_HIERARCHY\"),\n                  description: getPropertyValue(row, \"DESCRIPTION\"),\n                  name: getPropertyValue(row, \"DIMENSION_NAME\"),\n                  type: parseInt(getPropertyValue(row, \"DIMENSION_TYPE\"), 10),\n                  uniqueName: getPropertyValue(row, \"DIMENSION_UNIQUE_NAME\")\n                };\n              });\n              return rows;\n            }\n            /**\n             * @hidden\n             */\n\n\n            function parseHierarchies(response) {\n              var xmlDoc = new DOMParser().parseFromString(response, \"text/xml\");\n              var rows = Array.from(xmlDoc.querySelectorAll(\"DiscoverResponse > return > root > row\")).map(function (row) {\n                return {\n                  name: getPropertyValue(row, \"HIERARCHY_NAME\"),\n                  caption: getPropertyValue(row, \"HIERARCHY_CAPTION\"),\n                  description: getPropertyValue(row, \"DESCRIPTION\"),\n                  uniqueName: getPropertyValue(row, \"HIERARCHY_UNIQUE_NAME\"),\n                  dimensionUniqueName: getPropertyValue(row, \"DIMENSION_UNIQUE_NAME\"),\n                  displayFolder: getPropertyValue(row, \"HIERARCHY_DISPLAY_FOLDER\"),\n                  origin: getPropertyValue(row, \"HIERARCHY_ORIGIN\"),\n                  defaultMember: getPropertyValue(row, \"DEFAULT_MEMBER\")\n                };\n              });\n              return rows;\n            }\n            /**\n             * @hidden\n             */\n\n\n            function parseLevels(response) {\n              var xmlDoc = new DOMParser().parseFromString(response, \"text/xml\");\n              var rows = Array.from(xmlDoc.querySelectorAll(\"DiscoverResponse > return > root > row\")).map(function (row) {\n                return {\n                  name: getPropertyValue(row, \"LEVEL_NAME\"),\n                  caption: getPropertyValue(row, \"LEVEL_CAPTION\"),\n                  description: getPropertyValue(row, \"DESCRIPTION\"),\n                  uniqueName: getPropertyValue(row, \"LEVEL_UNIQUE_NAME\"),\n                  dimensionUniqueName: getPropertyValue(row, \"DIMENSION_UNIQUE_NAME\"),\n                  displayFolder: getPropertyValue(row, \"LEVEL_DISPLAY_FOLDER\"),\n                  orderingProperty: getPropertyValue(row, \"LEVEL_ORDERING_PROPERTY\"),\n                  origin: getPropertyValue(row, \"LEVEL_ORIGIN\"),\n                  hierarchyUniqueName: getPropertyValue(row, \"HIERARCHY_UNIQUE_NAME\")\n                };\n              });\n              return rows;\n            }\n            /**\n             * @hidden\n             */\n\n\n            function parseMembers(response) {\n              var xmlDoc = new DOMParser().parseFromString(response, \"text/xml\");\n              var rows = Array.from(xmlDoc.querySelectorAll(\"DiscoverResponse > return > root > row\")).map(function (row) {\n                return {\n                  name: getPropertyValue(row, \"MEMBER_NAME\"),\n                  caption: getPropertyValue(row, \"MEMBER_CAPTION\"),\n                  uniqueName: getPropertyValue(row, \"MEMBER_UNIQUE_NAME\"),\n                  dimensionUniqueName: getPropertyValue(row, \"DIMENSION_UNIQUE_NAME\"),\n                  hierarchyUniqueName: getPropertyValue(row, \"HIERARCHY_UNIQUE_NAME\"),\n                  levelUniqueName: getPropertyValue(row, \"LEVEL_UNIQUE_NAME\"),\n                  childrenCardinality: getPropertyValue(row, \"CHILDREN_CARDINALITY\")\n                };\n              });\n              return rows;\n            }\n\n            var discoverParser = {\n              schemaCatalogs: parseCatalogs,\n              schemaCubes: parseCubes,\n              schemaDimensions: parseDimensions,\n              schemaHierarchies: parseHierarchies,\n              schemaKPIs: parseKPIs,\n              schemaLevels: parseLevels,\n              schemaMeasures: parseMeasures,\n              schemaMembers: parseMembers\n            };\n            /**\n             * Fetches the data.\n             *\n             * @param options RequestOptions\n             * @returns Promise<ResponseData>\n             *\n             * @example\n             * const options: RequestOptions = { ... };\n             *\n             * fetchData(options).then(createDataState).then((dataState: DataState) => {\n             *  // Update the UI\n             * });\n             */\n\n            /**\n             * @hidden\n             */\n\n            var fetchData = function (fetchOptions, options) {\n              return __awaiter(void 0, void 0, void 0, function () {\n                var init, response, stringResponse;\n                return __generator(this, function (_a) {\n                  switch (_a.label) {\n                    case 0:\n                      init = __assign({\n                        body: createRequestBody(options),\n                        headers: {\n                          'Content-Type': 'text/xml'\n                        },\n                        method: 'POST'\n                      }, fetchOptions.init);\n                      return [4\n                      /*yield*/\n                      , fetch(fetchOptions.url, init)];\n\n                    case 1:\n                      response = _a.sent();\n                      return [4\n                      /*yield*/\n                      , response.text()];\n\n                    case 2:\n                      stringResponse = _a.sent();\n                      return [2\n                      /*return*/\n                      , parseResponse(stringResponse)];\n                  }\n                });\n              });\n            };\n            /**\n             * @hidden\n             */\n\n\n            var fetchDiscover = function (fetchOptions, options) {\n              return __awaiter(void 0, void 0, void 0, function () {\n                var init, response, stringResponse;\n                return __generator(this, function (_a) {\n                  switch (_a.label) {\n                    case 0:\n                      init = __assign({\n                        body: createDiscoverBody(options),\n                        headers: {\n                          'Content-Type': 'text/xml'\n                        },\n                        method: 'POST'\n                      }, fetchOptions.init);\n                      return [4\n                      /*yield*/\n                      , fetch(fetchOptions.url, init)];\n\n                    case 1:\n                      response = _a.sent();\n                      return [4\n                      /*yield*/\n                      , response.text()];\n\n                    case 2:\n                      stringResponse = _a.sent();\n                      return [2\n                      /*return*/\n                      , discoverParser[options.command](stringResponse)];\n                  }\n                });\n              });\n            };\n            /**\n             * Creates the state object. See `fetchData`.\n             *\n             * @param response - ResponseData\n             * @returns DataState\n             */\n\n            /**\n             * @hidden\n             */\n\n\n            var createDataState = function (response) {\n              var state = {\n                columns: response.columns.tuples,\n                data: response.data,\n                rows: response.rows.tuples\n              };\n              return state;\n            };\n            /**\n             * Creates a collection of AxisDescriptor base on the expandTree.\n             * @param expandTree - { [key: string]: boolean }\n             * @returns AxisDescriptor[]\n             *\n             * @example\n             * See `setRowExpand` or `setColumnExpand` functions.\n             */\n\n            /**\n             * @hidden\n             */\n\n\n            function createAxisDescriptors(expandTree) {\n              var descriptors = [];\n\n              for (var _i = 0, _a = Object.keys(expandTree); _i < _a.length; _i++) {\n                var key = _a[_i];\n                descriptors.push({\n                  name: JSON.parse(key),\n                  expand: expandTree[key]\n                });\n              }\n\n              return descriptors;\n            }\n            /**\n             * Sets sort descriptors to request options.\n             *\n             * @param options - RequestOptions\n             * @param sort - SortDescriptor[]\n             *\n             * @example\n             * const options: RequestOptions = { ... };\n             * const sort: SortDescriptor[] = [{ ... }, { ... }];\n             * setSort(options, sort);\n             * // skip the sort parameter to clear current filter - setSort(options);\n             *\n             * fetchData(options).then(createDataState).then((dataState: DataState) => {\n             *  // Update the UI\n             * });\n             */\n\n            /**\n             * @hidden\n             */\n\n\n            var setSort = function (options, sort) {\n              if (sort === void 0) {\n                sort = [];\n              }\n\n              options.sort = sort;\n            };\n            /**\n             * Sets filter descriptors to request options.\n             *\n             * @param options - RequestOptions\n             * @param filter - FilterDescriptor[]\n             *\n             * @example\n             * const options: RequestOptions = { ... };\n             * const filter: FilterDescriptor[] = [{ ... }, { ... }];\n             * setFilter(options, filter);\n             * // skip the filter parameter to clear current filter - setFilter(options);\n             *\n             * fetchData(options).then(createDataState).then((dataState: DataState) => {\n             *  // Update the UI\n             * });\n             */\n\n            /**\n             * @hidden\n             */\n\n\n            var setFilter = function (options, filter) {\n              if (filter === void 0) {\n                filter = [];\n              }\n\n              options.filter = filter;\n            }; // A typical tree depth count won't work for the Pivot,\n            // as each branch can have lower number of nodes than the total number of levels\n\n            /**\n             * @hidden\n             */\n\n\n            var getMaxNesting = function (node, set) {\n              if (set === void 0) {\n                set = new Set();\n              }\n\n              (node.children || []).forEach(function (child) {\n                set.add(child.levelName);\n                getMaxNesting(child, set);\n              });\n              return set.size;\n            };\n            /**\n             * @hidden\n             */\n\n\n            var getMaxExpansion = function (node) {\n              var expanded = 0;\n              (node.children || []).forEach(function (child) {\n                expanded += getMaxExpansion(child) || 1;\n              });\n              return expanded;\n            };\n            /**\n             * @hidden\n             */\n\n\n            var generateNormalizedPath = function (node, parent) {\n              return (parent && parent.hierarchy === node.hierarchy ? __spreadArrays((parent.normalizedPath || []).slice(0, -1), [node.name || null]) : __spreadArrays(parent && parent.normalizedPath ? parent.normalizedPath : [], [node.name])).filter(Boolean);\n            };\n            /**\n             * @hidden\n             */\n\n\n            var generatePath = function (node, parent) {\n              return (parent && parent.hierarchy === node.hierarchy ? __spreadArrays((parent.path || []).slice(0, -1), [(node.levelNum === 0 ? node.hierarchy : node.name) || null]) : __spreadArrays(parent && parent.path ? parent.path : [], [node.levelNum === 0 ? node.hierarchy : node.name])).filter(Boolean);\n            };\n            /**\n             * @hidden\n             */\n\n\n            var toMatrix = function (node, rowIndex, colIndex, maxDepth, maxBreadth, matrix, leafs, parent) {\n              if (rowIndex === void 0) {\n                rowIndex = -1;\n              }\n\n              if (colIndex === void 0) {\n                colIndex = 0;\n              }\n\n              if (maxDepth === void 0) {\n                maxDepth = undefined;\n              }\n\n              if (maxBreadth === void 0) {\n                maxBreadth = undefined;\n              }\n\n              if (matrix === void 0) {\n                matrix = undefined;\n              }\n\n              if (leafs === void 0) {\n                leafs = undefined;\n              }\n\n              if (parent === void 0) {\n                parent = undefined;\n              }\n\n              var branchDepth = getMaxNesting(node);\n              var branchBreadth = getMaxExpansion(node);\n              var depth = maxDepth || branchDepth;\n              var breadth = maxBreadth || branchBreadth;\n              var matrixResult = matrix ? matrix.slice() : [];\n              var leafsResult = leafs ? leafs.slice() : new Array(breadth);\n              var index = matrixResult.findIndex(function (l) {\n                return l && l.name === node.levelName && l.level === node.levelNum;\n              });\n              var level = matrixResult[index];\n              var row = {\n                name: node.levelName,\n                level: node.levelNum,\n                index: rowIndex,\n                cells: new Array(breadth).fill(null)\n              };\n              var inject = rowIndex !== -1 && colIndex !== -1;\n              var cell = {\n                caption: node.caption,\n                name: node.name,\n                levelName: node.levelName,\n                levelNum: node.levelNum,\n                hasChildren: node.hasChildren,\n                parentName: node.parentName,\n                hierarchy: node.hierarchy,\n                total: (node.total !== undefined ? node.total : false) || parent && parent.children.length <= 1 && parent.total,\n                parent: parent,\n                rowIndex: rowIndex,\n                colIndex: colIndex,\n                depth: 1,\n                breadth: 1,\n                path: node.path || [],\n                normalizedPath: node.normalizedPath || [],\n                children: node.children.filter(function (c) {\n                  return c.hierarchy === node.hierarchy;\n                })\n              };\n\n              if (inject) {\n                if (level) {\n                  level.cells[colIndex] = cell;\n\n                  if (level.index >= rowIndex) {\n                    rowIndex = level.index;\n                  }\n                } else {\n                  if (matrixResult[rowIndex] && matrixResult[rowIndex].cells.length) {\n                    for (var idx = rowIndex; idx < matrixResult.length; idx++) {\n                      var shiftedRow = matrixResult[idx];\n                      shiftedRow.index++;\n                    }\n\n                    matrixResult.splice(rowIndex, 0, row);\n                    matrixResult[rowIndex].cells[colIndex] = cell;\n                  } else {\n                    matrixResult[rowIndex] = row;\n                    matrixResult[rowIndex].cells[colIndex] = cell;\n                  }\n                }\n              }\n\n              var collOffset = 0;\n\n              if (node.children && node.children.length) {\n                node.children.forEach(function (child) {\n                  var _a = toMatrix(child, rowIndex + 1, colIndex + collOffset, depth, breadth, matrixResult, leafsResult, cell),\n                      newMatrix = _a[0],\n                      newLeafs = _a[1],\n                      childBreadth = _a[3];\n\n                  collOffset += childBreadth || 1;\n                  matrixResult = newMatrix.slice();\n                  leafsResult = newLeafs.slice();\n                });\n              } else if (node.normalizedPath) {\n                leafsResult[colIndex] = {\n                  total: cell.total,\n                  path: node.normalizedPath\n                };\n              }\n\n              cell.depth = branchDepth;\n              cell.breadth = branchBreadth;\n              return [matrixResult, leafsResult, branchDepth, branchBreadth];\n            };\n\n            var withTotal = function (root, parent, index) {\n              if (parent === void 0) {\n                parent = null;\n              }\n\n              if (index === void 0) {\n                index = 0;\n              }\n\n              var hierarchy;\n\n              var alt = __assign(__assign({}, root), {\n                total: true,\n                hasChildren: false,\n                children: []\n              });\n\n              for (var childIndex = 0; childIndex < root.children.length; childIndex++) {\n                var child = withTotal(root.children[childIndex], root, childIndex);\n                hierarchy = hierarchy || child.hierarchy;\n\n                if (child.hierarchy !== hierarchy && parent && !parent.children.some(function (c) {\n                  return c.total && c.name === alt.name;\n                }) && !root.total) {\n                  alt.children.push(child);\n                  root.children.splice(childIndex, 1);\n                  childIndex--;\n                }\n              }\n\n              if (root.children.filter(function (c) {\n                return !c.total;\n              }).length >= 1 && parent && !parent.children.some(function (c) {\n                return c.total && c.name === alt.name;\n              }) && !root.total) {\n                var childHierarchy = root.children[0].hierarchy;\n\n                if (root.hierarchy === childHierarchy) {\n                  parent.children.splice(index + 1, 0, alt);\n                }\n              }\n\n              return root;\n            };\n            /**\n             * @hidden\n             */\n\n\n            var toTree = function (tuples) {\n              var root = {\n                children: []\n              };\n              var map = {};\n\n              for (var tupleIndex = 0; tupleIndex < tuples.length; tupleIndex++) {\n                var tuple = copy(tuples[tupleIndex]);\n                var key = \"\";\n\n                var _loop_1 = function (memberIndex) {\n                  var member = tuple.members[memberIndex];\n                  var parent_1;\n\n                  if (root.children && root.children.length === 0) {\n                    parent_1 = root;\n                  } else if (map[key] && !map[key + member.name] && member.levelNum === 0) {\n                    parent_1 = map[key];\n                  } else if (map[key + member.parentName] && member.levelNum > 0 && !map[key + member.parentName + member.name]) {\n                    parent_1 = map[key + member.parentName];\n                  } else if (!map[key + member.parentName] && member.levelNum > 0 && !map[key + member.parentName + member.name]) {\n                    var parentKey = Object.keys(map).find(function (e) {\n                      return member.parentName === map[e].name;\n                    });\n\n                    if (parentKey) {\n                      parent_1 = map[parentKey];\n                    }\n                  }\n\n                  if (parent_1) {\n                    member.path = generatePath(member, parent_1);\n                    member.normalizedPath = generateNormalizedPath(member, parent_1);\n                    var intruderIndex = parent_1.children.findIndex(function (c) {\n                      return c.hierarchy !== parent_1.hierarchy;\n                    });\n\n                    if (intruderIndex !== -1) {\n                      parent_1.children.splice(intruderIndex, 0, member);\n                    } else {\n                      parent_1.children.push(member);\n                    }\n                  }\n\n                  member.parentName += member.name;\n                  key += member.parentName;\n\n                  if (!map[key]) {\n                    map[key] = member;\n                  }\n                };\n\n                for (var memberIndex = 0; memberIndex < tuple.members.length; memberIndex++) {\n                  _loop_1(memberIndex);\n                }\n              }\n\n              return copy(withTotal(root));\n            };\n            /**\n             * @hidden\n             */\n\n\n            var toData = function (data, columns, rows, breadth, depth) {\n              var result = Array.from(new Array(depth), function () {\n                return {\n                  cells: Array.from(new Array(breadth), function () {\n                    return null;\n                  })\n                };\n              });\n\n              var hash = function (names) {\n                return names.join('|');\n              };\n\n              var membersNames = function (tuple) {\n                return tuple.members.map(function (m) {\n                  return m.name;\n                });\n              };\n\n              var columnsIndexes = new Map();\n              var rowsIndexes = new Map();\n              columns.forEach(function (colMembers, idx) {\n                columnsIndexes.set(hash(colMembers.path), idx);\n              });\n              rows.forEach(function (rowMembers, idx) {\n                rowsIndexes.set(hash(rowMembers.path), idx);\n              });\n              data.forEach(function (item) {\n                var colIndex = columnsIndexes.get(hash(membersNames(item.columnTuple)));\n                var rowIndex = rowsIndexes.get(hash(membersNames(item.rowTuple)));\n\n                if (colIndex !== undefined && rowIndex !== undefined) {\n                  if (!result[rowIndex].cells[colIndex]) {\n                    result[rowIndex].row = rows[rowIndex].path;\n                    result[rowIndex].cells[colIndex] = item;\n                  }\n                }\n              });\n              return result;\n            };\n\n            var rotateMatrix = function (matrix, leafs, depth, breadth) {\n              var result = new Array(breadth);\n\n              for (var colIndex = 0; colIndex < breadth; colIndex++) {\n                for (var rowIndex = 0; rowIndex < depth; rowIndex++) {\n                  if (matrix[rowIndex] && matrix[rowIndex].cells[colIndex]) {\n                    var cell = matrix[rowIndex].cells[colIndex];\n\n                    if (!result[colIndex]) {\n                      result[colIndex] = {\n                        cells: new Array(depth).fill(null)\n                      };\n                    }\n\n                    result[colIndex].cells[rowIndex] = __assign(__assign({}, cell), {\n                      rowSpan: cell.colSpan,\n                      colSpan: cell.rowSpan\n                    });\n                  }\n                }\n              }\n\n              return [result, leafs, breadth, depth];\n            };\n            /**\n             * @hidden\n             */\n\n\n            var toColumns = function (root) {\n              var _a = toMatrix(root),\n                  matrix = _a[0],\n                  leafs = _a[1],\n                  depth = _a[2],\n                  breadth = _a[3];\n\n              for (var colIndex = 0; colIndex < breadth; colIndex++) {\n                var cell = null;\n\n                for (var rowIndex = 0; rowIndex < depth; rowIndex++) {\n                  if (matrix[rowIndex]) {\n                    var next = matrix[rowIndex].cells[colIndex];\n\n                    if (!next && cell) {\n                      cell.rowSpan = (cell.rowSpan || 1) + 1;\n                    }\n\n                    if (cell) {\n                      cell.colSpan = cell.breadth || 1;\n                    }\n\n                    if (next) {\n                      cell = next;\n                    }\n                  }\n                }\n              }\n\n              return [matrix, leafs, depth, breadth];\n            };\n            /**\n             * @hidden\n             */\n\n\n            var toRows = function (root) {\n              var _a = toMatrix(root),\n                  matrix = _a[0],\n                  leafs = _a[1],\n                  depth = _a[2],\n                  breadth = _a[3];\n\n              for (var colIndex = 0; colIndex < breadth; colIndex++) {\n                var cell = null;\n\n                for (var rowIndex = 0; rowIndex < depth; rowIndex++) {\n                  if (matrix[rowIndex]) {\n                    var next = matrix[rowIndex].cells[colIndex];\n\n                    if (!next && cell) {\n                      cell.rowSpan = (cell.rowSpan || 1) + 1;\n                    }\n\n                    if (cell) {\n                      cell.colSpan = cell.breadth;\n                    }\n\n                    if (next) {\n                      cell = next;\n                    }\n                  }\n                }\n              }\n\n              return rotateMatrix(matrix, leafs, depth, breadth);\n            };\n            /**\n             * @hidden\n             */\n\n\n            function copy(obj) {\n              return JSON.parse(JSON.stringify(obj));\n            }\n\n            var kpiMeasure = function (name, measure, type) {\n              return {\n                hierarchyUniqueName: name,\n                uniqueName: measure,\n                caption: measure,\n                measure: measure,\n                name: measure,\n                type: type,\n                kpi: true\n              };\n            };\n            /**\n             * @hidden\n             */\n\n\n            function buildKPIMeasures(node) {\n              var name = node.name;\n              return [kpiMeasure(name, node.value, \"value\"), kpiMeasure(name, node.goal, \"goal\"), kpiMeasure(name, node.status, \"status\"), kpiMeasure(name, node.trend, \"trend\")];\n            }\n            /**\n             * @hidden\n             */\n\n\n            var addKPI = function (data) {\n              var found;\n              var idx = 0;\n\n              for (; idx < data.length; idx++) {\n                if (data[idx].type === 2) {\n                  found = true;\n                  break;\n                }\n              }\n\n              if (found) {\n                data.splice(idx + 1, 0, {\n                  caption: \"KPIs\",\n                  defaultHierarchy: \"[KPIs]\",\n                  name: \"KPIs\",\n                  uniqueName: \"[KPIs]\"\n                });\n              }\n            };\n            /**\n             * @hidden\n             */\n\n\n            var compareAxisWithField = function (a, b) {\n              return String(a.name) === String([b.defaultHierarchy ? b.defaultHierarchy : b.uniqueName]);\n            };\n            /**\n             * @hidden\n             */\n\n\n            var compareAxes = function (a, b) {\n              return String(a.name) === String(b.name);\n            };\n            /**\n             * @hidden\n             */\n\n\n            var filterField = function (axes, out) {\n              var _loop_2 = function (i) {\n                var axis = axes[i];\n                var index = axis.name.findIndex(function (name) {\n                  return compareAxisWithField({\n                    name: [name]\n                  }, out) || String(name).startsWith(out.uniqueName);\n                });\n\n                if (index !== -1) {\n                  if (index === axis.name.length - 1 || axis.name.length === 1) {\n                    axes.splice(i, 1);\n                  } else {\n                    axis.name.splice(index, 1);\n                    var duplicatedAxisIndex = axes.findIndex(function (ax) {\n                      return ax !== axis && String(ax.name) === String(axis.name);\n                    });\n\n                    if (duplicatedAxisIndex !== -1) {\n                      axes[duplicatedAxisIndex] = __assign(__assign(__assign({}, axes[duplicatedAxisIndex]), axis), axes[duplicatedAxisIndex].expand || axis.expand ? {\n                        expand: true\n                      } : {});\n                      axes.splice(i, 1);\n                    }\n                  }\n                }\n              };\n\n              for (var i = axes.length - 1; i >= 0; i--) {\n                _loop_2(i);\n              }\n            };\n            /**\n             * @hidden\n             */\n\n\n            var insertAxis = function (axes, toInsert, state) {\n              var index = -1;\n\n              if (state.dropTarget && state.dropDirection) {\n                var offset = state.dropDirection ? state.dropDirection === 'before' ? 0 : 1 : 0;\n                index = axes.findIndex(function (c) {\n                  return compareAxes(c, state.dropTarget);\n                }) + offset;\n              }\n\n              if (index !== -1) {\n                axes.forEach(function (axis) {\n                  var _a;\n\n                  if (axis.expand && axis.name.length > 1 && axis.name.length > index) {\n                    (_a = axis.name).splice.apply(_a, __spreadArrays([index, 0], toInsert.name));\n                  }\n                });\n                axes.splice(index, 0, toInsert);\n              } else {\n                axes.push(toInsert);\n              }\n            };\n            /**\n             * @hidden\n             */\n\n\n            exports.HEADERS_ACTION = void 0;\n\n            (function (HEADERS_ACTION) {\n              HEADERS_ACTION[\"toggle\"] = \"HEADERS_ACTION_TOGGLE\";\n              HEADERS_ACTION[\"expand\"] = \"HEADERS_ACTION_EXPAND\";\n              HEADERS_ACTION[\"collapse\"] = \"HEADERS_ACTION_COLLAPSE\";\n            })(exports.HEADERS_ACTION || (exports.HEADERS_ACTION = {}));\n\n            var findPath = function (node, matchFn, matched) {\n              var result = new Set();\n              node.children.forEach(function (child) {\n                var match = matchFn(child);\n\n                if (matched) {\n                  result.add(String(child.path));\n                }\n\n                findPath(child, matchFn, matched || match).map(function (h) {\n                  result.add(h);\n                });\n              });\n              return Array.from(result.values());\n            };\n            /**\n             * @hidden\n             */\n\n\n            var headersReducer = function (state, action) {\n              switch (action.type) {\n                case exports.HEADERS_ACTION.toggle:\n                  {\n                    var existing = state.find(function (s) {\n                      return String(s.name) === String(action.payload);\n                    });\n                    return headersReducer(state, __assign(__assign({}, action), {\n                      type: existing && existing.expand ? exports.HEADERS_ACTION.collapse : exports.HEADERS_ACTION.expand\n                    }));\n                  }\n\n                case exports.HEADERS_ACTION.expand:\n                  {\n                    var existing_1 = state.find(function (s) {\n                      return String(s.name) === String(action.payload);\n                    });\n\n                    if (existing_1 && existing_1.expand === true) {\n                      return state;\n                    } else if (existing_1 && (existing_1.expand === false || existing_1.expand === undefined)) {\n                      return state.map(function (s) {\n                        return s === existing_1 ? __assign(__assign({}, existing_1), {\n                          expand: true\n                        }) : s;\n                      });\n                    } else {\n                      var nextState = state.slice();\n                      nextState.push({\n                        name: action.payload,\n                        expand: true\n                      });\n                      return nextState;\n                    }\n                  }\n\n                case exports.HEADERS_ACTION.collapse:\n                  {\n                    var filtered_1 = findPath(action.tree, function (node) {\n                      return !node.total && String(node.path) === String(action.payload);\n                    });\n                    var newState = state.slice().filter(function (h) {\n                      return !filtered_1.some(function (f) {\n                        return f === String(h.name);\n                      });\n                    }).map(function (h) {\n                      return __assign(__assign({}, h), {\n                        expand: Boolean(h.expand)\n                      });\n                    }).map(function (h) {\n                      return String(h.name) === String(action.payload) ? action.payload.length > 1 ? undefined : {\n                        name: action.payload,\n                        expand: false\n                      } : h;\n                    }).filter(Boolean);\n                    return newState;\n                  }\n\n                default:\n                  {\n                    return state;\n                  }\n              }\n            };\n            /**\n             * @hidden\n             */\n\n\n            exports.PIVOT_CONFIGURATOR_ACTION = void 0;\n\n            (function (PIVOT_CONFIGURATOR_ACTION) {\n              // Selection\n              PIVOT_CONFIGURATOR_ACTION[\"toggleSelection\"] = \"PIVOT_CONFIGURATOR_ACTION_TOGGLE_SELECTION\";\n              PIVOT_CONFIGURATOR_ACTION[\"addColumnAxis\"] = \"PIVOT_CONFIGURATOR_ACTION_ADD_COLUMN_AXIS\";\n              PIVOT_CONFIGURATOR_ACTION[\"addColumnAxes\"] = \"PIVOT_CONFIGURATOR_ACTION_ADD_COLUMN_AXES\";\n              PIVOT_CONFIGURATOR_ACTION[\"removeColumnAxis\"] = \"PIVOT_CONFIGURATOR_ACTION_REMOVE_COLUMN_AXIS\";\n              PIVOT_CONFIGURATOR_ACTION[\"removeColumnAxes\"] = \"PIVOT_CONFIGURATOR_ACTION_REMOVE_COLUMN_AXES\";\n              PIVOT_CONFIGURATOR_ACTION[\"addRowAxis\"] = \"PIVOT_CONFIGURATOR_ACTION_ADD_ROW_AXIS\";\n              PIVOT_CONFIGURATOR_ACTION[\"addRowAxes\"] = \"PIVOT_CONFIGURATOR_ACTION_ADD_ROW_AXES\";\n              PIVOT_CONFIGURATOR_ACTION[\"removeRowAxis\"] = \"PIVOT_CONFIGURATOR_ACTION_REMOVE_ROW_AXIS\";\n              PIVOT_CONFIGURATOR_ACTION[\"removeRowAxes\"] = \"PIVOT_CONFIGURATOR_ACTION_REMOVE_ROW_AXES\";\n              PIVOT_CONFIGURATOR_ACTION[\"addMeasureAxis\"] = \"PIVOT_CONFIGURATOR_ACTION_ADD_MEASURE_AXIS\";\n              PIVOT_CONFIGURATOR_ACTION[\"addMeasureAxes\"] = \"PIVOT_CONFIGURATOR_ACTION_ADD_MEASURE_AXES\";\n              PIVOT_CONFIGURATOR_ACTION[\"removeMeasureAxis\"] = \"PIVOT_CONFIGURATOR_ACTION_REMOVE_MEASURE_AXIS\";\n              PIVOT_CONFIGURATOR_ACTION[\"removeMeasureAxes\"] = \"PIVOT_CONFIGURATOR_ACTION_REMOVE_MEASURE_AXES\"; // Removal\n\n              PIVOT_CONFIGURATOR_ACTION[\"remove\"] = \"PIVOT_CONFIGURATOR_ACTION_REMOVE\"; // Sort\n\n              PIVOT_CONFIGURATOR_ACTION[\"setSort\"] = \"PIVOT_CONFIGURATOR_ACTION_SET_SORT\"; // Filter\n\n              PIVOT_CONFIGURATOR_ACTION[\"setFilter\"] = \"PIVOT_CONFIGURATOR_ACTION_SET_FILTER\";\n              PIVOT_CONFIGURATOR_ACTION[\"addFilter\"] = \"PIVOT_CONFIGURATOR_ACTION_ADD_FILTER\";\n              PIVOT_CONFIGURATOR_ACTION[\"changeFilter\"] = \"PIVOT_CONFIGURATOR_ACTION_CHANGE_FILTER\";\n              PIVOT_CONFIGURATOR_ACTION[\"removeFilter\"] = \"PIVOT_CONFIGURATOR_ACTION_REMOVE_FILTER\"; // Drag\n\n              PIVOT_CONFIGURATOR_ACTION[\"setDragItem\"] = \"PIVOT_CONFIGURATOR_ACTION_SET_DRAGITEM\";\n              PIVOT_CONFIGURATOR_ACTION[\"drop\"] = \"PIVOT_CONFIGURATOR_ACTION_DROP\";\n              PIVOT_CONFIGURATOR_ACTION[\"setDropZone\"] = \"PIVOT_CONFIGURATOR_ACTION_SET_DROP_ZONE\";\n              PIVOT_CONFIGURATOR_ACTION[\"setDropTarget\"] = \"PIVOT_CONFIGURATOR_ACTION_SET_DROP_TARGET\";\n              PIVOT_CONFIGURATOR_ACTION[\"setDropDirection\"] = \"PIVOT_CONFIGURATOR_ACTION_SET_DROP_DIRECTION\";\n            })(exports.PIVOT_CONFIGURATOR_ACTION || (exports.PIVOT_CONFIGURATOR_ACTION = {}));\n            /**\n             * @hidden\n             */\n\n\n            var configuratorReducer = function (state, action) {\n              var newRows;\n              var newColumns;\n              var newMeasures;\n              var newSort;\n              var newFilter;\n              var newDragitem;\n              var newDropZone;\n              var newDropDirection;\n              var newDropTarget;\n\n              switch (action.type) {\n                case exports.PIVOT_CONFIGURATOR_ACTION.toggleSelection:\n                  {\n                    if (Array.isArray(action.payload)) ;else {\n                      var payload_1 = action.payload;\n\n                      if (payload_1.type === 2 || 'aggregator' in payload_1) {\n                        if (state.measureAxes.some(function (s) {\n                          return compareAxisWithField(s, payload_1);\n                        })) {\n                          return configuratorReducer(state, __assign(__assign({}, action), {\n                            type: exports.PIVOT_CONFIGURATOR_ACTION.removeMeasureAxis\n                          }));\n                        } else {\n                          return configuratorReducer(state, __assign(__assign({}, action), {\n                            type: exports.PIVOT_CONFIGURATOR_ACTION.addMeasureAxis\n                          }));\n                        }\n                      } else if (payload_1.type === 'kpi') {\n                        var measures = buildKPIMeasures(payload_1);\n\n                        if (measures.every(function (m) {\n                          return state.measureAxes.some(function (s) {\n                            return compareAxisWithField(s, m);\n                          });\n                        })) {\n                          return configuratorReducer(state, __assign(__assign({}, action), {\n                            type: exports.PIVOT_CONFIGURATOR_ACTION.removeMeasureAxes,\n                            payload: measures\n                          }));\n                        } else {\n                          return configuratorReducer(state, __assign(__assign({}, action), {\n                            type: exports.PIVOT_CONFIGURATOR_ACTION.addMeasureAxes,\n                            payload: measures.filter(function (m) {\n                              return !state.measureAxes.some(function (s) {\n                                return compareAxisWithField(s, m);\n                              });\n                            })\n                          }));\n                        }\n                      } else if (action.payload.kpi) {\n                        if (state.measureAxes.some(function (s) {\n                          return compareAxisWithField(s, payload_1);\n                        })) {\n                          return configuratorReducer(state, __assign(__assign({}, action), {\n                            type: exports.PIVOT_CONFIGURATOR_ACTION.removeMeasureAxis\n                          }));\n                        } else {\n                          return configuratorReducer(state, __assign(__assign({}, action), {\n                            type: exports.PIVOT_CONFIGURATOR_ACTION.addMeasureAxis\n                          }));\n                        }\n                      } else {\n                        if (state.columnAxes.some(function (s) {\n                          return compareAxisWithField(s, payload_1);\n                        })) {\n                          return configuratorReducer(state, __assign(__assign({}, action), {\n                            type: exports.PIVOT_CONFIGURATOR_ACTION.removeColumnAxis\n                          }));\n                        } else if (state.rowAxes.some(function (s) {\n                          return compareAxisWithField(s, payload_1);\n                        })) {\n                          return configuratorReducer(state, __assign(__assign({}, action), {\n                            type: exports.PIVOT_CONFIGURATOR_ACTION.removeRowAxis\n                          }));\n                        } else if (state.columnAxes && state.columnAxes.length && (!state.rowAxes || !state.rowAxes.length)) {\n                          return configuratorReducer(state, __assign(__assign({}, action), {\n                            type: exports.PIVOT_CONFIGURATOR_ACTION.addRowAxis\n                          }));\n                        } else {\n                          return configuratorReducer(state, __assign(__assign({}, action), {\n                            type: exports.PIVOT_CONFIGURATOR_ACTION.addColumnAxis\n                          }));\n                        }\n                      }\n                    }\n                    break;\n                  }\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.addColumnAxis:\n                  {\n                    newColumns = __spreadArrays(state.columnAxes || [], [{\n                      name: [action.payload.defaultHierarchy || action.payload.uniqueName]\n                    }]);\n                    break;\n                  }\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.addColumnAxes:\n                  {\n                    // TODO;\n                    break;\n                  }\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.removeColumnAxis:\n                  {\n                    newColumns = __spreadArrays((state.columnAxes || []).filter(function (s) {\n                      return !compareAxisWithField(s, action.payload);\n                    }));\n                    filterField(newColumns, action.payload);\n                    break;\n                  }\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.removeColumnAxes:\n                  {\n                    // TODO;\n                    break;\n                  }\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.addRowAxis:\n                  {\n                    newRows = __spreadArrays(state.rowAxes || [], [{\n                      name: [action.payload.defaultHierarchy || action.payload.uniqueName]\n                    }]);\n                    break;\n                  }\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.addRowAxes:\n                  {\n                    // TODO;\n                    break;\n                  }\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.removeRowAxis:\n                  {\n                    newRows = __spreadArrays((state.rowAxes || []).filter(function (s) {\n                      return !compareAxisWithField(s, action.payload);\n                    }));\n                    filterField(newRows, action.payload);\n                    break;\n                  }\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.removeRowAxes:\n                  {\n                    // TODO;\n                    break;\n                  }\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.addMeasureAxis:\n                  {\n                    newMeasures = __spreadArrays(state.measureAxes || [], [{\n                      name: [action.payload.defaultHierarchy || action.payload.uniqueName]\n                    }]);\n                    break;\n                  }\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.removeMeasureAxis:\n                  {\n                    newMeasures = __spreadArrays((state.measureAxes || []).filter(function (s) {\n                      return !compareAxisWithField(s, action.payload);\n                    }));\n                    break;\n                  }\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.addMeasureAxes:\n                  {\n                    newMeasures = __spreadArrays(state.measureAxes || [], (action.payload || []).map(function (p) {\n                      return {\n                        name: [p.defaultHierarchy || p.uniqueName]\n                      };\n                    }));\n                    break;\n                  }\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.removeMeasureAxes:\n                  {\n                    newMeasures = __spreadArrays((state.measureAxes || []).filter(function (s) {\n                      return !action.payload.some(function (p) {\n                        return compareAxisWithField(s, p);\n                      });\n                    }));\n                    break;\n                  }\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.remove:\n                  {\n                    if (state.columnAxes.some(function (s) {\n                      return compareAxes(s, action.payload);\n                    })) {\n                      newColumns = __spreadArrays(state.columnAxes.filter(function (s) {\n                        return !compareAxes(s, action.payload);\n                      }));\n                      filterField(newColumns, {\n                        uniqueName: action.payload.name\n                      });\n                    }\n\n                    if (state.rowAxes.some(function (s) {\n                      return compareAxes(s, action.payload);\n                    })) {\n                      newRows = __spreadArrays(state.rowAxes.filter(function (s) {\n                        return !compareAxes(s, action.payload);\n                      }));\n                      filterField(newRows, {\n                        uniqueName: action.payload.name\n                      });\n                    }\n\n                    if (state.measureAxes.some(function (s) {\n                      return compareAxes(s, action.payload);\n                    })) {\n                      newMeasures = __spreadArrays(state.measureAxes.filter(function (s) {\n                        return !compareAxes(s, action.payload);\n                      }));\n                    }\n\n                    break;\n                  }\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.setDragItem:\n                  newDragitem = action.payload;\n                  break;\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.setDropZone:\n                  newDropZone = action.payload;\n                  break;\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.setDropTarget:\n                  newDropTarget = action.payload;\n                  break;\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.setDropDirection:\n                  newDropDirection = action.payload;\n                  break;\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.drop:\n                  if (state.dragItem && state.dropZone) {\n                    var currentColumn = state.columnAxes.find(function (s) {\n                      return compareAxes(s, action.payload);\n                    });\n                    var currentRow = state.rowAxes.find(function (s) {\n                      return compareAxes(s, action.payload);\n                    });\n                    var currentMeasure = state.measureAxes.find(function (s) {\n                      return compareAxes(s, action.payload);\n                    });\n                    var current = void 0;\n\n                    if (currentColumn) {\n                      current = currentColumn;\n                      newColumns = __spreadArrays(state.columnAxes.filter(function (s) {\n                        return !compareAxes(s, action.payload);\n                      }));\n                      filterField(newColumns, {\n                        uniqueName: action.payload.name\n                      });\n                    }\n\n                    if (currentRow) {\n                      current = currentRow;\n                      newRows = __spreadArrays(state.rowAxes.filter(function (s) {\n                        return !compareAxes(s, action.payload);\n                      }));\n                      filterField(newRows, {\n                        uniqueName: action.payload.name\n                      });\n                    }\n\n                    if (currentMeasure) {\n                      current = currentMeasure;\n                      newMeasures = __spreadArrays(state.measureAxes.filter(function (s) {\n                        return !compareAxes(s, action.payload);\n                      }));\n                    }\n\n                    switch (state.dropZone) {\n                      case 'columnAxes':\n                        {\n                          newColumns = newColumns || state.columnAxes.slice();\n                          insertAxis(newColumns, current, state);\n                          break;\n                        }\n\n                      case 'rowAxes':\n                        {\n                          newRows = newRows || state.rowAxes.slice();\n                          insertAxis(newRows, current, state);\n                          break;\n                        }\n\n                      case 'measureAxes':\n                        {\n                          newMeasures = newMeasures || state.measureAxes.slice();\n                          insertAxis(newMeasures, current, state);\n                          break;\n                        }\n                    }\n                  }\n\n                  newDragitem = null;\n                  newDropZone = null;\n                  newDropTarget = null;\n                  break;\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.setSort:\n                  newSort = action.payload;\n                  break;\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.setFilter:\n                  if (Array.isArray(action.payload)) {\n                    newFilter = action.payload;\n                  } else {\n                    newFilter = [action.payload];\n                  }\n\n                  break;\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.addFilter:\n                  newFilter = (state.filter || []).slice();\n\n                  if (Array.isArray(action.payload)) {\n                    newFilter.push.apply(newFilter, action.payload);\n                  } else {\n                    newFilter.push(action.payload);\n                  }\n\n                  break;\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.changeFilter:\n                  newFilter = Array.isArray(action.payload) ? (state.filter || []).map(function (f) {\n                    return action.payload.some(function (a) {\n                      return a.field === f.field;\n                    }) ? action.payload.find(function (a) {\n                      return a.field === f.field;\n                    }) : f;\n                  }) : (state.filter || []).map(function (f) {\n                    return f.field === action.payload.field ? action.payload : f;\n                  });\n                  break;\n\n                case exports.PIVOT_CONFIGURATOR_ACTION.removeFilter:\n                  newFilter = (state.filter || []).slice();\n\n                  if (Array.isArray(action.payload)) {\n                    newFilter = newFilter.filter(function (f) {\n                      return !action.payload.some(function (p) {\n                        return p.field === f.field && p.operator === f.operator;\n                      });\n                    });\n                  } else {\n                    newFilter = newFilter.filter(function (f) {\n                      return !(f.field === action.payload.field && f.operator === action.payload.operator);\n                    });\n                  }\n\n                  break;\n              }\n\n              return {\n                dragItem: newDragitem,\n                dropTarget: newDropTarget,\n                dropDirection: newDropDirection,\n                dropZone: newDropZone,\n                columnAxes: newColumns,\n                rowAxes: newRows,\n                measureAxes: newMeasures,\n                filter: newFilter,\n                sort: newSort\n              };\n            }; // tslint:disable:object-literal-sort-keys\n\n            /**\n             * Represents the aggregate object which calculates the total value. Applicable for local data binding.\n             */\n\n\n            var sumAggregate = {\n              init: function (data) {\n                if ('sum' in data === false) {\n                  data.sum = 0;\n                }\n              },\n              merge: function (src, dest) {\n                dest.sum += src.sum;\n              },\n              accumulate: function (acc, value) {\n                acc.sum += value;\n              },\n              result: function (data) {\n                return data.sum;\n              },\n              format: function (value) {\n                return value.toFixed(2);\n              }\n            };\n            /**\n             * Represents the aggregate object which calculates the minimum value. Applicable for local data binding.\n             */\n\n            var minAggregate = {\n              init: function (data) {\n                if ('min' in data === false) {\n                  data.min = Number.POSITIVE_INFINITY;\n                }\n              },\n              merge: function (src, dest) {\n                dest.min = Math.min(src.min, dest.min);\n              },\n              accumulate: function (acc, value) {\n                acc.min = Math.min(value, acc.min);\n              },\n              result: function (data) {\n                return Number.isFinite(data.min) ? data.min : NaN;\n              },\n              format: function (value) {\n                return value.toFixed(2);\n              }\n            };\n            /**\n             * Represents the aggregate object which calculates the maximum value. Applicable for local data binding.\n             */\n\n            var maxAggregate = {\n              init: function (data) {\n                if ('max' in data === false) {\n                  data.max = Number.NEGATIVE_INFINITY;\n                }\n              },\n              merge: function (src, dest) {\n                dest.max = Math.max(src.max, dest.max);\n              },\n              accumulate: function (acc, value) {\n                acc.max = Math.max(value, acc.max);\n              },\n              result: function (data) {\n                return Number.isFinite(data.max) ? data.max : NaN;\n              },\n              format: function (value) {\n                return value.toFixed(2);\n              }\n            };\n            /**\n             * Represents the aggregate object which calculates the average value. Applicable for local data binding.\n             */\n\n            var averageAggregate = {\n              init: function (data) {\n                if ('count' in data === false) {\n                  data.sumA = 0;\n                  data.count = 0;\n                }\n              },\n              merge: function (src, dest) {\n                dest.sumA += src.sumA;\n                dest.count += src.count;\n              },\n              accumulate: function (acc, value) {\n                acc.sumA += value;\n                acc.count += 1;\n              },\n              result: function (data) {\n                return data.sumA / data.count;\n              },\n              format: function (value) {\n                return value.toFixed(2);\n              }\n            };\n            /**\n             * @hidden\n             */\n\n            var isPresent = function (value) {\n              return value !== null && value !== undefined;\n            };\n            /**\n             * @hidden\n             */\n\n\n            var isBlank = function (value) {\n              return value === null || value === undefined;\n            };\n            /**\n             * @hidden\n             */\n\n\n            var isArray = function (value) {\n              return Array.isArray(value);\n            };\n            /**\n             * @hidden\n             */\n\n\n            var isFunction = function (value) {\n              return typeof value === 'function';\n            };\n            /**\n             * @hidden\n             */\n\n\n            var isString = function (value) {\n              return typeof value === 'string';\n            };\n            /**\n             * @hidden\n             */\n\n\n            var isNullOrEmptyString = function (value) {\n              return isBlank(value) || value.trim().length === 0;\n            };\n            /**\n             * @hidden\n             */\n\n\n            var isNotNullOrEmptyString = function (value) {\n              return !isNullOrEmptyString(value);\n            };\n            /**\n             * @hidden\n             */\n\n\n            var isNumeric = function (value) {\n              return !isNaN(value - parseFloat(value));\n            };\n            /**\n             * @hidden\n             */\n\n\n            var isDate = function (value) {\n              return value && value.getTime;\n            }; // tslint:enable:max-line-length\n\n            /**\n             * @hidden\n             * Type guard for `CompositeFilterDescriptor`.\n             */\n\n\n            var isCompositeFilterDescriptor = function (source) {\n              return isPresent(source.filters);\n            };\n            /**\n             * @hidden\n             */\n\n\n            var ifElse = function (predicate, right, left) {\n              return function (value) {\n                return predicate(value) ? right(value) : left(value);\n              };\n            };\n            /**\n             * @hidden\n             * Performs the right-to-left function composition. Functions should have a unary.\n             */\n\n\n            var compose = function () {\n              var args = [];\n\n              for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n              }\n\n              return function (data) {\n                return args.reduceRight(function (acc, curr) {\n                  return curr(acc);\n                }, data);\n              };\n            };\n            /**\n             * @hidden\n             */\n\n\n            var toUTC = function (date) {\n              return new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n            };\n            /**\n             * @hidden\n             */\n\n\n            var isDateValue = function (x) {\n              return isDate(x.value);\n            };\n\n            var getterCache = {};\n            var FIELD_REGEX = /\\[(?:(\\d+)|['\"](.*?)['\"])\\]|((?:(?!\\[.*?\\]|\\.).)+)/g; // tslint:disable-next-line:no-string-literal\n\n            getterCache['undefined'] = function (obj) {\n              return obj;\n            };\n            /**\n             * @hidden\n             */\n\n\n            var getter = function (field, safe) {\n              var key = field + safe;\n\n              if (getterCache[key]) {\n                return getterCache[key];\n              }\n\n              var fields = [];\n              field.replace(FIELD_REGEX, function (_, index, indexAccessor, field) {\n                fields.push(isPresent(index) ? index : indexAccessor || field);\n                return undefined;\n              });\n\n              getterCache[key] = function (obj) {\n                var result = obj;\n\n                for (var idx = 0; idx < fields.length; idx++) {\n                  result = result[fields[idx]];\n\n                  if (!isPresent(result) && safe) {\n                    return result;\n                  }\n                }\n\n                return result;\n              };\n\n              return getterCache[key];\n            };\n\n            var pairwise = function (key) {\n              return function (value) {\n                return [key, value];\n              };\n            };\n\n            var empty = function () {\n              return null;\n            };\n\n            var isNotEmptyArray = function (value) {\n              return isPresent(value) && isArray(value) && value.length > 0;\n            };\n\n            var isNotEmpty = function (accessor) {\n              return function (value) {\n                return isNotEmptyArray(accessor(value));\n              };\n            };\n\n            var runOrEmpty = function (predicate, fn) {\n              return ifElse(predicate, fn, empty);\n            };\n\n            var calcPage = function (_a) {\n              var skip = _a.skip,\n                  take = _a.take;\n              return Math.floor((skip || 0) / take) + 1;\n            };\n\n            var formatDescriptors = function (accessor, formatter) {\n              return function (state) {\n                return accessor(state).map(formatter).join(\"~\");\n              };\n            };\n\n            var removeAfter = function (what) {\n              return function (str) {\n                return str.slice(0, str.indexOf(what));\n              };\n            };\n\n            var replace = function (patterns) {\n              return compose.apply(void 0, patterns.map(function (_a) {\n                var left = _a[0],\n                    right = _a[1];\n                return function (s) {\n                  return s.replace(new RegExp(left, \"g\"), right);\n                };\n              }));\n            };\n\n            var sanitizeDateLiterals = replace([[\"\\\"\", \"\"], [\":\", \"-\"]]);\n            var removeAfterDot = removeAfter(\".\");\n\n            var directionFormatter = function (_a) {\n              var field = _a.field,\n                  _b = _a.dir,\n                  dir = _b === void 0 ? \"asc\" : _b;\n              return field + \"-\" + dir;\n            };\n\n            var aggregateFormatter = function (_a) {\n              var field = _a.field,\n                  aggregate = _a.aggregate;\n              return field + \"-\" + aggregate;\n            };\n\n            var take = getter(\"take\");\n            var aggregates = getter(\"aggregates\");\n            getter(\"skip\");\n            var group = getter(\"group\");\n            var sort = getter(\"sort\", true);\n            var formatSort = formatDescriptors(sort, directionFormatter);\n            var formatGroup = formatDescriptors(group, directionFormatter);\n            var formatAggregates = formatDescriptors(aggregates, aggregateFormatter);\n\n            var prefixDateValue = function (value) {\n              return \"datetime'\" + value + \"'\";\n            };\n\n            var formatDateValue = compose(prefixDateValue, removeAfterDot, sanitizeDateLiterals, JSON.stringify, toUTC);\n\n            var formatDate = function (_a) {\n              var field = _a.field,\n                  value = _a.value,\n                  ignoreCase = _a.ignoreCase,\n                  operator = _a.operator;\n              return {\n                value: formatDateValue(value),\n                field: field,\n                ignoreCase: ignoreCase,\n                operator: operator\n              };\n            };\n\n            var normalizeSort = function (state) {\n              return Object.assign({}, state, {\n                sort: (sort(state) || []).filter(function (_a) {\n                  var dir = _a.dir;\n                  return isNotNullOrEmptyString(dir);\n                })\n              });\n            };\n\n            compose(pairwise('page'), calcPage);\n            compose(pairwise('pageSize'), take);\n            compose(pairwise('group'), formatGroup);\n            var transformSort = compose(pairwise('sort'), formatSort);\n            compose(pairwise('aggregate'), formatAggregates);\n            compose(runOrEmpty(isNotEmpty(sort), transformSort), normalizeSort);\n\n            var filterFormatter = function (_a) {\n              var field = _a.field,\n                  operator = _a.operator,\n                  value = _a.value;\n              return field + \"~\" + operator + \"~\" + value;\n            };\n\n            ifElse(isDateValue, compose(filterFormatter, formatDate), filterFormatter); // tslint:enable:max-line-length\n\n            var set = function (field, target, value) {\n              target[field] = value;\n              return target;\n            };\n\n            var convert = function (mapper) {\n              return function (values) {\n                return Object.keys(values).reduce(mapper.bind(null, values), {});\n              };\n            };\n\n            var translateAggregate = convert(function (source, acc, field) {\n              return set(field.toLowerCase(), acc, source[field]);\n            });\n            var translateAggregates = convert(function (source, acc, field) {\n              return set(field, acc, translateAggregate(source[field]));\n            });\n\n            var valueOrDefault = function (value, defaultValue) {\n              return isPresent(value) ? value : defaultValue;\n            };\n\n            var normalizeGroup = function (group) {\n              return {\n                aggregates: group.Aggregates || group.aggregates,\n                field: group.Member || group.member || group.field,\n                hasSubgroups: group.HasSubgroups || group.hasSubgroups || false,\n                items: group.Items || group.items,\n                value: valueOrDefault(group.Key, valueOrDefault(group.key, group.value))\n              };\n            };\n\n            var translateGroup = compose(function (_a) {\n              var field = _a.field,\n                  hasSubgroups = _a.hasSubgroups,\n                  value = _a.value,\n                  aggregates = _a.aggregates,\n                  items = _a.items;\n              return {\n                aggregates: translateAggregates(aggregates),\n                field: field,\n                items: hasSubgroups ? items.map(translateGroup) : items,\n                value: value\n              };\n            }, normalizeGroup);\n            var logic = {\n              \"or\": {\n                concat: function (acc, fn) {\n                  return function (a) {\n                    return acc(a) || fn(a);\n                  };\n                },\n                identity: function () {\n                  return false;\n                }\n              },\n              \"and\": {\n                concat: function (acc, fn) {\n                  return function (a) {\n                    return acc(a) && fn(a);\n                  };\n                },\n                identity: function () {\n                  return true;\n                }\n              }\n            };\n            var operatorsMap = {\n              contains: function (a, b) {\n                return (a || \"\").indexOf(b) >= 0;\n              },\n              doesnotcontain: function (a, b) {\n                return (a || \"\").indexOf(b) === -1;\n              },\n              doesnotendwith: function (a, b) {\n                return (a || \"\").indexOf(b, (a || \"\").length - (b || \"\").length) < 0;\n              },\n              doesnotstartwith: function (a, b) {\n                return (a || \"\").lastIndexOf(b, 0) === -1;\n              },\n              endswith: function (a, b) {\n                return (a || \"\").indexOf(b, (a || \"\").length - (b || \"\").length) >= 0;\n              },\n              eq: function (a, b) {\n                return a === b;\n              },\n              gt: function (a, b) {\n                return a > b;\n              },\n              gte: function (a, b) {\n                return a >= b;\n              },\n              isempty: function (a) {\n                return a === '';\n              },\n              isnotempty: function (a) {\n                return a !== '';\n              },\n              isnotnull: function (a) {\n                return isPresent(a);\n              },\n              isnull: function (a) {\n                return isBlank(a);\n              },\n              lt: function (a, b) {\n                return a < b;\n              },\n              lte: function (a, b) {\n                return a <= b;\n              },\n              neq: function (a, b) {\n                return a != b;\n              },\n              startswith: function (a, b) {\n                return (a || \"\").lastIndexOf(b, 0) === 0;\n              }\n            };\n            var dateRegExp = /^\\/Date\\((.*?)\\)\\/$/;\n\n            var convertValue = function (value, ignoreCase) {\n              if (value != null && isString(value)) {\n                var date = dateRegExp.exec(value);\n\n                if (date) {\n                  return new Date(+date[1]).getTime();\n                } else if (ignoreCase) {\n                  return value.toLowerCase();\n                }\n              } else if (value != null && isDate(value)) {\n                return value.getTime();\n              }\n\n              return value;\n            };\n\n            var typedGetter = function (prop, value, ignoreCase) {\n              if (!isPresent(value)) {\n                return prop;\n              }\n\n              var acc = prop;\n\n              if (isString(value)) {\n                var date = dateRegExp.exec(value);\n\n                if (date) {\n                  value = new Date(+date[1]);\n                } else {\n                  acc = function (a) {\n                    var x = prop(a);\n\n                    if (typeof x === 'string' && ignoreCase) {\n                      return x.toLowerCase();\n                    } else {\n                      return isNumeric(x) ? x + \"\" : x;\n                    }\n                  };\n                }\n              }\n\n              if (isDate(value)) {\n                return function (a) {\n                  var x = acc(a);\n                  return isDate(x) ? x.getTime() : x;\n                };\n              }\n\n              return acc;\n            };\n\n            var transformFilter = function (_a) {\n              var field = _a.field,\n                  ignoreCase = _a.ignoreCase,\n                  value = _a.value,\n                  operator = _a.operator;\n              field = !isPresent(field) ? function (a) {\n                return a;\n              } : field;\n              ignoreCase = isPresent(ignoreCase) ? ignoreCase : true;\n              var itemProp = typedGetter(isFunction(field) ? field : getter(field, true), value, ignoreCase);\n              value = convertValue(value, ignoreCase);\n              var op = isFunction(operator) ? operator : operatorsMap[operator];\n              return function (a) {\n                return op(itemProp(a), value, ignoreCase);\n              };\n            };\n            /**\n             * @hidden\n             */\n\n\n            var transformCompositeFilter = function (filter) {\n              var combiner = logic[filter.logic];\n              return filter.filters.filter(isPresent).map(function (x) {\n                return isCompositeFilterDescriptor(x) ? transformCompositeFilter(x) : transformFilter(x);\n              }).reduce(combiner.concat, combiner.identity);\n            }; // tslint:disable:max-line-length\n\n            /**\n             * Creates a [Predicate]({% slug api_kendo-data-query_predicate %}) function for the specified [CompositeFilterDescriptor]({% slug api_kendo-data-query_compositefilterdescriptor %}).\n             *\n             * @param {CompositeFilterDescriptor} descriptor - The descriptor for which the predicate is created.\n             * @returns {Predicate} - The created function instance.\n             *\n             * @example\n             * ```ts\n             * import { compileFilter } from '@progress/kendo-data-query';\n             *\n             * const data = [{ name: \"Pork\" }, { name: \"Pepper\" }, { name: \"Beef\" } ];\n             * const predicate = compileFilter({ logic: \"and\", filters: [{ field: \"name\", operator: \"startswith\", value: \"P\" }] });\n             * const result = data.filter(predicate);\n             *\n             * ```\n             */\n            // tslint:enable:max-line-length\n\n\n            var compileFilter = function (descriptor) {\n              if (!descriptor || descriptor.filters.length === 0) {\n                return function () {\n                  return true;\n                };\n              }\n\n              return transformCompositeFilter(descriptor);\n            };\n\n            function forEachDesc(desc, callbackfn) {\n              if ('filters' in desc) {\n                desc.filters.map(function (child) {\n                  return forEachDesc(child, callbackfn);\n                });\n              } else {\n                callbackfn(desc);\n              }\n            }\n\n            var filterFields = function (filter, callback) {\n              var descriptors = Array.isArray(filter) ? filter : filter.filters;\n              descriptors.forEach(function (desc) {\n                return forEachDesc(desc, callback);\n              });\n            };\n            /** @hidden */\n\n\n            var initializeFiltering = function (rows, columns, filter) {\n              var compositeFilter = filter ? Array.isArray(filter) ? {\n                logic: 'and',\n                filters: filter\n              } : filter : undefined;\n              var predicate = compositeFilter ? compileFilter(compositeFilter) : function () {\n                return true;\n              };\n              var axes = rows.concat(columns);\n              var fieldValues = [];\n              filterFields(filter || [], function (desc) {\n                if ('field' in desc && desc.field) {\n                  fieldValues.push(desc.field);\n                }\n              });\n              var result = {\n                hasFilter: false,\n                predicate: predicate,\n                filteringAxes: []\n              };\n\n              if (fieldValues.some(function (f) {\n                return typeof f === 'function';\n              })) {\n                result.filteringAxes = axes.slice();\n              } else if (fieldValues.length > 0) {\n                var filteringFields_1 = Array.from(new Set(fieldValues).values());\n                var filteringAxes = axes.filter(function (a) {\n                  return filteringFields_1.indexOf(a.key) >= 0;\n                });\n                result.filteringAxes = filteringAxes;\n              }\n\n              result.hasFilter = result.filteringAxes.length > 0;\n              return result;\n            };\n            /** @hidden */\n\n\n            var subNode = function (node, field, initialNode) {\n              var childNode = node.get(field);\n\n              if (!childNode) {\n                childNode = initialNode || new Map();\n                node.set(field, childNode);\n              }\n\n              return childNode;\n            };\n\n            var separator = '&';\n            /** @hidden */\n\n            var createKey = function (key, value) {\n              return key + separator + value;\n            };\n            /** @hidden */\n\n\n            var splitKeyValue = function (keyValue) {\n              var separatorIndex = keyValue.indexOf(separator);\n\n              if (separatorIndex !== -1) {\n                var key = keyValue.substring(0, separatorIndex);\n                var value = keyValue.substring(separatorIndex + 1);\n                return [key, value];\n              } else {\n                return [keyValue, undefined];\n              }\n            };\n\n            var calculateColumnData = function (node, measures, dataField) {\n              node.forEach(function (childNode, k) {\n                if (k !== dataField) {\n                  if (childNode.size > 0) {\n                    calculateColumnData(childNode, measures, dataField);\n                  }\n\n                  var childData_1 = childNode.get(dataField);\n                  var parentData_1 = subNode(node, dataField, {});\n                  measures.forEach(function (m) {\n                    m.aggregate.init(parentData_1);\n                    m.aggregate.merge(childData_1, parentData_1);\n                  });\n                }\n              });\n            };\n            /** @hidden */\n\n\n            var mergeTrees = function (src, dest, measures, dataField) {\n              src.forEach(function (srcChild, k) {\n                var destChild;\n\n                if (k !== dataField) {\n                  destChild = subNode(dest, k);\n                  mergeTrees(srcChild, destChild, measures, dataField);\n                } else {\n                  destChild = subNode(dest, k, {});\n                  measures.forEach(function (m) {\n                    m.aggregate.init(destChild);\n                    m.aggregate.merge(srcChild, destChild);\n                  });\n                }\n              });\n            };\n\n            var calculateColumns = function (node, measures, columnsData, dataField) {\n              node.forEach(function (childNode, k) {\n                if (k !== columnsData) {\n                  if (childNode.size > 0) {\n                    calculateColumns(childNode, measures, columnsData, dataField);\n                  }\n\n                  var srcColumns = subNode(childNode, columnsData);\n                  var destColumns = subNode(node, columnsData);\n                  mergeTrees(srcColumns, destColumns, measures, dataField);\n                }\n              });\n            };\n            /** @hidden */\n\n\n            var createDataTree = function (data, rows, columns, measures, fields, filter) {\n              var result = new Map();\n              var cache = new Map();\n              var axes = rows.concat(columns);\n              var leafNodes = new Set();\n              var dataField = fields.dataField,\n                  columnsData = fields.columnsData;\n\n              var _a = initializeFiltering(rows, columns, filter),\n                  hasFilter = _a.hasFilter,\n                  predicate = _a.predicate,\n                  filteringAxes = _a.filteringAxes;\n\n              var empty = '';\n              data.forEach(function (dataItem) {\n                if (hasFilter) {\n                  var filteringDataItem_1 = {};\n                  filteringAxes.forEach(function (axis) {\n                    filteringDataItem_1[axis.key] = axis.displayValue(dataItem);\n                  });\n\n                  if (!predicate(filteringDataItem_1)) {\n                    return;\n                  }\n                }\n\n                var values = axes.map(function (a) {\n                  return a.displayValue(dataItem);\n                });\n                var dataKey = empty.concat.apply(empty, values);\n                var nodeData = cache.get(dataKey);\n\n                if (!nodeData) {\n                  var node_1 = result;\n\n                  var eachAxis = function (axis) {\n                    node_1 = subNode(node_1, createKey(axis.key, axis.displayValue(dataItem)));\n                  };\n\n                  rows.forEach(eachAxis);\n                  node_1 = subNode(node_1, columnsData);\n                  leafNodes.add(node_1);\n                  columns.forEach(eachAxis);\n                  nodeData = {};\n                  node_1.set(dataField, nodeData);\n                  cache.set(dataKey, nodeData);\n                  measures.forEach(function (m) {\n                    m.aggregate.init(nodeData);\n                  });\n                }\n\n                measures.forEach(function (m) {\n                  m.aggregate.accumulate(nodeData, m.value(dataItem));\n                });\n              });\n              leafNodes.forEach(function (leaf) {\n                return calculateColumnData(leaf, measures, dataField);\n              });\n              calculateColumns(result, measures, columnsData, dataField);\n              return result;\n            };\n            /** @hidden */\n\n\n            var cloneDataTree = function (dataTree, dataField, measures) {\n              var result = new Map();\n              mergeTrees(dataTree, result, measures, dataField);\n              return result;\n            };\n\n            var createPath = function (name, axes, path) {\n              var _a = splitKeyValue(name),\n                  key = _a[0],\n                  value = _a[1];\n\n              var result = path.slice();\n\n              if (key && value) {\n                var axis = axes.find(function (a) {\n                  return a.key === key;\n                });\n                var caption_1 = axis ? axis.caption : '';\n                return result.map(function (p) {\n                  return p === caption_1 ? name : p;\n                });\n              }\n\n              return result;\n            };\n\n            var membersNode = function (tree, members, field, axisSettings, measures, dataField, cache) {\n              var cacheData = cache || new Map();\n              var path = axisSettings.map(function (a) {\n                return a.caption;\n              });\n\n              while (members.length > 1 && axisSettings.some(function (a) {\n                return a.caption === members[members.length - 1].caption;\n              })) {\n                members.pop();\n                path.pop();\n              }\n\n              var node = tree;\n              members.forEach(function (m, i) {\n                path = createPath(m.name, axisSettings, path);\n\n                if (node && !axisSettings.some(function (a) {\n                  return a.caption === m.name;\n                })) {\n                  if (!node.has(m.name) && !cacheData.has(path.slice(0, path.indexOf(m.name) + 1).join('-'))) {\n                    var currentLevel = Array.from(node).find(function (n) {\n                      return n[0] !== field;\n                    });\n                    var currentLevelNode = currentLevel && currentLevel[0];\n                    var levelField_1 = currentLevelNode && splitKeyValue(currentLevelNode)[0];\n                    var depth = levelField_1 ? i - axisSettings.findIndex(function (a) {\n                      return a.key === levelField_1;\n                    }) : 0;\n\n                    var _loop_1 = function (t) {\n                      var data = [];\n                      node.forEach(function (value, key) {\n                        if (key !== field) {\n                          data.push.apply(data, Array.from(value).filter(function (d) {\n                            return d[0] !== field;\n                          }));\n                        }\n                      });\n                      var next = new Map();\n                      data.forEach(function (item) {\n                        if (next.has(item[0])) {\n                          var dest = next.get(item[0]);\n                          var src = item[1];\n                          var newDest = new Map();\n                          mergeTrees(dest, newDest, measures, dataField);\n                          mergeTrees(src, newDest, measures, dataField);\n                          next.set(item[0], newDest);\n                        } else {\n                          next.set(item[0], new Map(item[1]));\n                        }\n                      });\n                      var currentPath = path.slice(0, path.indexOf(m.name));\n                      next.forEach(function (value, key) {\n                        cacheData.set(createPath(key, axisSettings, currentPath.concat([key])).join('-'), value);\n                      });\n                      next.set(field, node.get(field));\n                      node = next;\n                    };\n\n                    for (var t = 0; t < depth; t++) {\n                      _loop_1(t);\n                    }\n                  }\n\n                  node = node.get(m.name) || cacheData.get(path.slice(0, path.indexOf(m.name) + 1).join('-'));\n                }\n              });\n              return node;\n            };\n            /** @hidden */\n\n\n            var readData = function (dataTree, rowTuples, columnTuples, fields, columnSettings, rowSettings, measures) {\n              var data = [];\n              var dataField = fields.dataField,\n                  columnsData = fields.columnsData;\n              var rowsCache = new Map();\n              rowTuples.forEach(function (row) {\n                var rowNode = membersNode(dataTree, row.members.slice(), columnsData, rowSettings, measures, dataField, rowsCache);\n                var rowColumnsNode = rowNode && rowNode.get(columnsData);\n                columnTuples.forEach(function (col) {\n                  var members = col.members.slice();\n                  var measure = measures[0];\n\n                  if (members[members.length - 1].levelName === \"[Measures].[MeasuresLevel]\") {\n                    var measuresMember_1 = members.pop();\n                    measure = measures.find(function (m) {\n                      return String(m.name) === measuresMember_1.caption;\n                    }) || measure;\n                  }\n\n                  var colNode = rowColumnsNode && membersNode(rowColumnsNode, members, dataField, columnSettings, measures, dataField);\n                  var value = '',\n                      fmtValue = '',\n                      ordinal = 0;\n\n                  if (colNode && measure) {\n                    var result = measure.aggregate.result(colNode.get(dataField));\n                    value = String(result);\n                    fmtValue = measure.aggregate.format(result);\n                  }\n\n                  data.push({\n                    columnTuple: col,\n                    data: {\n                      fmtValue: fmtValue,\n                      ordinal: ordinal,\n                      value: value\n                    },\n                    rowTuple: row\n                  });\n                });\n              });\n              return data;\n            };\n\n            var getTopMembersTuple = function (parentFields, axesSettings) {\n              var allTuple = {\n                members: []\n              };\n              parentFields.forEach(function (topField) {\n                var axis = axesSettings.find(function (a) {\n                  return a.key === topField;\n                });\n                var caption = axis ? axis.caption : \"\";\n                var member = {\n                  caption: caption,\n                  children: [],\n                  hasChildren: true,\n                  parentName: \"\",\n                  levelNum: 0,\n                  levelName: caption,\n                  hierarchy: topField,\n                  name: caption\n                };\n                allTuple.members.push(member);\n              });\n              return allTuple;\n            };\n\n            var sortFunc = function (descriptor, axe) {\n              return function (a, b) {\n                var order = descriptor.dir;\n                var sortableA = axe.sortValue(splitKeyValue(a[0])[1]);\n                var sortableB = axe.sortValue(splitKeyValue(b[0])[1]);\n\n                if (sortableA < sortableB) {\n                  return order === \"asc\" ? -1 : 1;\n                }\n\n                if (sortableA > sortableB) {\n                  return order === \"asc\" ? 1 : -1;\n                }\n\n                return 0;\n              };\n            };\n\n            var mergeData = function (src, dest, exclude) {\n              src.forEach(function (srcChild, k) {\n                if (!exclude[k]) {\n                  var destChild = subNode(dest, k);\n                  mergeData(srcChild, destChild, exclude);\n                }\n              });\n            };\n\n            var childrenByKeys = function (dataTree, keys, exclude) {\n              var result = [];\n\n              var nodeData = function (node) {\n                return Array.from(node).filter(function (n) {\n                  return !exclude[n[0]];\n                });\n              };\n\n              var element = new Map(dataTree);\n              var next;\n\n              var _loop_1 = function (i) {\n                next = element.get(keys[i]);\n\n                if (next) {\n                  element = new Map(next);\n                } else if (i < keys.length - 1 && Array.from(element).some(function (e) {\n                  return splitKeyValue(e[0])[0] === keys[i];\n                })) {\n                  var curLevel_1 = [];\n                  element.forEach(function (child, key) {\n                    if (!exclude[key]) {\n                      curLevel_1.push.apply(curLevel_1, nodeData(new Map(child)));\n                    }\n                  });\n                  element = new Map();\n                  curLevel_1.forEach(function (item) {\n                    if (element.has(item[0])) {\n                      var dest = element.get(item[0]);\n                      var src = item[1];\n                      var newDest = new Map();\n                      mergeData(dest, newDest, exclude);\n                      mergeData(src, newDest, exclude);\n                      element.set(item[0], newDest);\n                    } else {\n                      element.set(item[0], new Map(item[1]));\n                    }\n                  });\n                } else if (i === 0 || i === keys.length - 1) {\n                  if (Array.from(element).some(function (e) {\n                    return splitKeyValue(e[0])[0] === keys[i];\n                  })) {\n                    result.push.apply(result, nodeData(element));\n                  }\n                }\n              };\n\n              for (var i = 0; i < keys.length; i++) {\n                _loop_1(i);\n              }\n\n              return result;\n            };\n            /** @hidden */\n\n\n            var rootFields = function (definitions) {\n              var fields = new Set();\n              definitions.forEach(function (item) {\n                if (item.name.length === 1 && !splitKeyValue(item.name[0])[1]) {\n                  fields.add(item.name[0]);\n                }\n              });\n              return fields;\n            };\n            /** @hidden */\n\n\n            var createTuples = function (axesSettings, definitions, dataTree, sortDescriptors, excludeFields) {\n              var parentFields = rootFields(definitions);\n              var flatMembers = [];\n              var topTuple = getTopMembersTuple(parentFields, axesSettings);\n              flatMembers.push(topTuple);\n\n              var _loop_2 = function (i) {\n                var currDef = definitions[i];\n\n                if (currDef.name.length === 1 && !currDef.expand && parentFields.has(currDef.name[0])) {\n                  return \"continue\";\n                }\n\n                var keysToAdd = new Set(parentFields.keys());\n                var currDefMembers = [];\n                var keys = [];\n                var tuples = [];\n                var axe;\n                currDef.name.forEach(function (element, index) {\n                  var _a;\n\n                  var _b = splitKeyValue(element),\n                      field = _b[0],\n                      value = _b[1];\n\n                  axe = axesSettings.find(function (a) {\n                    return a.key === field;\n                  });\n\n                  if (value) {\n                    keysToAdd.delete(field);\n                    keys.push(element);\n                    var member = {\n                      children: [],\n                      caption: value,\n                      hierarchy: field,\n                      levelNum: 1,\n                      levelName: field + \" \" + field,\n                      name: element,\n                      parentName: axe ? axe.caption : \"\"\n                    };\n                    currDefMembers.push(member);\n                  } else if (currDef.expand && currDef.name.length - 1 === index) {\n                    keysToAdd.delete(element);\n                    keys.push(element);\n                    var children = childrenByKeys(dataTree, keys, excludeFields);\n                    var descriptor = sortDescriptors.find(function (desc) {\n                      return desc.field === field;\n                    });\n\n                    if (descriptor && descriptor.dir) {\n                      children.sort(sortFunc(descriptor, axe));\n                    }\n\n                    for (var c = 0; c < children.length; c++) {\n                      var leafValue = children[c][0];\n                      var leafTuple = {\n                        members: []\n                      };\n                      tuples.push(leafTuple);\n                      var caption = splitKeyValue(leafValue)[1];\n                      axe = axesSettings.find(function (a) {\n                        return a.key === element;\n                      });\n                      var member = {\n                        caption: caption,\n                        children: [],\n                        levelName: element + \" \" + element,\n                        levelNum: 1,\n                        parentName: axe ? axe.caption : \"\",\n                        hierarchy: element,\n                        name: leafValue\n                      };\n\n                      (_a = leafTuple.members).push.apply(_a, currDefMembers);\n\n                      leafTuple.members.push(member);\n                    }\n                  } else if (currDef.expand) {\n                    axe = axesSettings.find(function (a) {\n                      return a.key === element;\n                    });\n                    var axisCaption = axe ? axe.caption : \"\";\n                    keysToAdd.delete(element);\n                    keys.push(element);\n                    var member = {\n                      children: [],\n                      caption: axisCaption,\n                      hierarchy: element,\n                      levelName: axisCaption,\n                      levelNum: 0,\n                      name: axisCaption,\n                      parentName: \"\"\n                    };\n                    currDefMembers.push(member);\n                  }\n\n                  keysToAdd.forEach(function (key) {\n                    tuples.forEach(function (tuple) {\n                      axe = axesSettings.find(function (a) {\n                        return a.key === key;\n                      });\n                      var curCaption = axe ? axe.caption : \"\";\n                      var member = {\n                        children: [],\n                        hasChildren: true,\n                        caption: curCaption,\n                        hierarchy: key,\n                        levelName: curCaption,\n                        levelNum: 0,\n                        name: curCaption,\n                        parentName: \"\"\n                      };\n                      tuple.members.push(member);\n                    });\n                  });\n                  flatMembers.push.apply(flatMembers, tuples);\n                });\n              };\n\n              for (var i = 0; i < definitions.length; i++) {\n                _loop_2(i);\n              }\n\n              return flatMembers;\n            };\n\n            var addMeasure = function (tuple, measure) {\n              var measureMember = {\n                caption: String(measure.name),\n                children: [],\n                hasChildren: false,\n                hierarchy: \"[Measures]\",\n                levelName: \"[Measures].[MeasuresLevel]\",\n                levelNum: 0,\n                name: \"[Measures].[\" + measure.name + \"]\",\n                parentName: \"\"\n              };\n              var tupleCopy = copy(tuple);\n              tupleCopy.members.push(measureMember);\n              return tupleCopy;\n            };\n            /** @hidden */\n\n\n            var addMultipleMeasures = function (tuples, measures) {\n              if (measures.length < 2) {\n                return tuples;\n              }\n\n              var result = tuples.slice();\n\n              for (var i = result.length - 1; i >= 0; i--) {\n                var tuple = result[i];\n                result[i] = addMeasure(result[i], measures[0]);\n\n                for (var m = 1; m < measures.length; m++) {\n                  var tupleWithMeasure = addMeasure(tuple, measures[m]);\n                  result.splice(i + 1, 0, tupleWithMeasure);\n                }\n              }\n\n              return result;\n            };\n            /** @hidden */\n\n\n            var createLocalDataState = function (args) {\n              var _a;\n\n              var dataTree = args.dataTree,\n                  rowSettings = args.rowSettings,\n                  columnSettings = args.columnSettings,\n                  rowAxes = args.rowAxes,\n                  columnAxes = args.columnAxes,\n                  measures = args.measures,\n                  sort = args.sort,\n                  fields = args.fields;\n              var exclude = (_a = {}, _a[fields.columnsData] = fields.columnsData, _a[fields.dataField] = fields.dataField, _a);\n              var columnTuples = addMultipleMeasures(createTuples(columnSettings, columnAxes, dataTree.get(fields.columnsData), sort, exclude), measures);\n              var rowTuples = createTuples(rowSettings, rowAxes, dataTree, sort, exclude);\n              var resultData = readData(dataTree, rowTuples, columnTuples, fields, columnSettings, rowSettings, measures);\n              return {\n                columns: columnTuples,\n                data: resultData,\n                rows: rowTuples\n              };\n            };\n            /** @hidden */\n\n\n            var createFlatSchemaDimensions = function (dimensions, measures) {\n              var result = Object.keys(dimensions).map(function (dim) {\n                return {\n                  caption: dim,\n                  defaultHierarchy: dim,\n                  description: '',\n                  name: dim,\n                  uniqueName: dim,\n                  hierarchyUniqueName: dim,\n                  measure: true,\n                  type: 1 // https://github.com/telerik/kendo-pivotgrid-common/blob/develop/src/models/responseDiscover.ts#L12-L14\n\n                };\n              });\n\n              if (measures.length) {\n                result.push({\n                  caption: 'Measures',\n                  children: measures.map(function (m) {\n                    return {\n                      aggregator: '1',\n                      caption: String(m.name),\n                      defaultFormat: '',\n                      description: '',\n                      displayFolder: '',\n                      groupName: String(m.name),\n                      name: String(m.name),\n                      uniqueName: String(m.name)\n                    };\n                  }),\n                  type: 2,\n                  description: '',\n                  name: 'Measures',\n                  uniqueName: '[Measures]'\n                });\n              }\n\n              return result;\n            };\n\n            exports.addKPI = addKPI;\n            exports.addMultipleMeasures = addMultipleMeasures;\n            exports.averageAggregate = averageAggregate;\n            exports.buildKPIMeasures = buildKPIMeasures;\n            exports.cloneDataTree = cloneDataTree;\n            exports.compareAxes = compareAxes;\n            exports.configuratorReducer = configuratorReducer;\n            exports.createAxisDescriptors = createAxisDescriptors;\n            exports.createDataState = createDataState;\n            exports.createDataTree = createDataTree;\n            exports.createDiscoverBody = createDiscoverBody;\n            exports.createFlatSchemaDimensions = createFlatSchemaDimensions;\n            exports.createLocalDataState = createLocalDataState;\n            exports.createRequestBody = createRequestBody;\n            exports.createTuples = createTuples;\n            exports.discoverCommands = discoverCommands;\n            exports.fetchData = fetchData;\n            exports.fetchDiscover = fetchDiscover;\n            exports.headersReducer = headersReducer;\n            exports.maxAggregate = maxAggregate;\n            exports.mergeTrees = mergeTrees;\n            exports.minAggregate = minAggregate;\n            exports.parseResponse = parseResponse;\n            exports.readData = readData;\n            exports.rootFields = rootFields;\n            exports.setFilter = setFilter;\n            exports.setSort = setSort;\n            exports.sumAggregate = sumAggregate;\n            exports.toColumns = toColumns;\n            exports.toData = toData;\n            exports.toRows = toRows;\n            exports.toTree = toTree;\n            Object.defineProperty(exports, '__esModule', {\n              value: true\n            });\n            return exports;\n          }({});\n        })();\n      }, __webpack_require__.amdD);\n      /***/\n\n    },\n\n    /***/\n    54752:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"../kendo.core\");\n      /***/\n    }\n    /******/\n\n  };\n  /************************************************************************/\n\n  /******/\n  // The module cache\n\n  /******/\n\n  var __webpack_module_cache__ = {};\n  /******/\n\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n    // Check if module is in cache\n\n    /******/\n    var cachedModule = __webpack_module_cache__[moduleId];\n    /******/\n\n    if (cachedModule !== undefined) {\n      /******/\n      return cachedModule.exports;\n      /******/\n    }\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n\n    var module = __webpack_module_cache__[moduleId] = {\n      /******/\n      // no module.id needed\n\n      /******/\n      // no module.loaded needed\n\n      /******/\n      exports: {}\n      /******/\n\n    };\n    /******/\n\n    /******/\n    // Execute the module function\n\n    /******/\n\n    __webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n    /******/\n\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n\n    return module.exports;\n    /******/\n  }\n  /******/\n\n  /************************************************************************/\n\n  /******/\n\n  /* webpack/runtime/amd define */\n\n  /******/\n\n\n  !function () {\n    /******/\n    __webpack_require__.amdD = function () {\n      /******/\n      throw new Error('define cannot be used indirect');\n      /******/\n    };\n    /******/\n\n  }();\n  /******/\n\n  /************************************************************************/\n\n  /******/\n\n  /******/\n  // startup\n\n  /******/\n  // Load entry module and return exports\n\n  /******/\n  // This entry module used 'module' so it can't be inlined\n\n  /******/\n\n  var __webpack_exports__ = __webpack_require__(94888);\n  /******/\n\n\n  module.exports = __webpack_exports__;\n  /******/\n\n  /******/\n})();","map":{"version":3,"names":["__webpack_modules__","module","exports","__webpack_require__","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","f","define","apply","undefined","window","kendo","pivotgrid","common","filterFunctionFormats","contains","doesnotcontain","endswith","eq","neq","startswith","operators","in","serializeFilters","filters","cube","command","current","idx","length","serializeExpression","expression","value","String","field","operator","formatString","str","values","_i","arguments","forEach","index","replace","RegExp","serializeMembers","members","measures","sort","parsed","parseDescriptors","expanded","rootNames","getRootNames","root","crossJoinCommands","memberName","names","push","crossJoinCommand","expandMemberDescriptor","name","mapNames","join","concat","measureNames","result","measure","member","hierarchyName","baseHierarchyPath","some","n","indexOf","child","found","name_1","j","l","expand","rootLength","slice","name_2","rootName","tmp","crossJoin","sortDescriptor","sortDescriptorForMember","dir","length_1","parts","split","pop","shift","createRequestBody","options","_a","columnAxes","_b","rowAxes","_c","measureAxes","_d","_e","filter","measuresRowAxis","measuresAxis","connection","catalog","__assign","Object","assign","t","s","i","p","prototype","hasOwnProperty","call","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","e","rejected","done","then","__generator","body","_","label","sent","trys","ops","y","g","verb","Symbol","iterator","v","op","TypeError","__spreadArrays","il","r","Array","k","a","jl","parseResponse","response","xmlDoc","DOMParser","parseFromString","axes","from","querySelectorAll","cells","map","cell","fmtValue","getPropertyValue","ordinal","parseInt","getAttribute","columns","tuples","rows","data","axis","translateAxis","indexedData","fill","c","counter","rowTuple","colTuple","columnTuple","node","querySelector","textContent","tuple","memberElements","lNum","hasChildren","caption","children","hierarchy","levelName","levelNum","parentName","discoverCommands","schemaCatalogs","schemaCubes","schemaDimensions","schemaHierarchies","schemaKPIs","schemaLevels","schemaMeasures","schemaMembers","createDiscoverBody","properties","serializeOptions","restrictions","Catalog","parentTagName","capitalize","key","toUpperCase","parseCubes","row","description","type","parseCatalogs","parseMeasures","uniqueName","aggregator","groupName","displayFolder","defaultFormat","parseKPIs","goal","status","trend","statusGraphic","trendGraphic","parseDimensions","defaultHierarchy","parseHierarchies","dimensionUniqueName","origin","defaultMember","parseLevels","orderingProperty","hierarchyUniqueName","parseMembers","levelUniqueName","childrenCardinality","discoverParser","fetchData","fetchOptions","init","stringResponse","headers","method","fetch","url","text","fetchDiscover","createDataState","state","createAxisDescriptors","expandTree","descriptors","keys","JSON","parse","setSort","setFilter","getMaxNesting","set","Set","add","size","getMaxExpansion","generateNormalizedPath","parent","normalizedPath","Boolean","generatePath","path","toMatrix","rowIndex","colIndex","maxDepth","maxBreadth","matrix","leafs","branchDepth","branchBreadth","depth","breadth","matrixResult","leafsResult","findIndex","level","inject","total","shiftedRow","splice","collOffset","newMatrix","newLeafs","childBreadth","withTotal","alt","childIndex","childHierarchy","toTree","tupleIndex","copy","_loop_1","memberIndex","parent_1","parentKey","find","intruderIndex","toData","hash","membersNames","m","columnsIndexes","Map","rowsIndexes","colMembers","rowMembers","item","get","rotateMatrix","rowSpan","colSpan","toColumns","toRows","obj","stringify","kpiMeasure","kpi","buildKPIMeasures","addKPI","compareAxisWithField","b","compareAxes","filterField","out","_loop_2","startsWith","duplicatedAxisIndex","ax","insertAxis","toInsert","dropTarget","dropDirection","offset","HEADERS_ACTION","findPath","matchFn","matched","match","h","headersReducer","action","toggle","existing","payload","collapse","existing_1","nextState","filtered_1","tree","newState","PIVOT_CONFIGURATOR_ACTION","configuratorReducer","newRows","newColumns","newMeasures","newSort","newFilter","newDragitem","newDropZone","newDropDirection","newDropTarget","toggleSelection","isArray","payload_1","removeMeasureAxis","addMeasureAxis","every","removeMeasureAxes","addMeasureAxes","removeColumnAxis","removeRowAxis","addRowAxis","addColumnAxis","addColumnAxes","removeColumnAxes","addRowAxes","removeRowAxes","remove","setDragItem","setDropZone","setDropTarget","setDropDirection","drop","dragItem","dropZone","currentColumn","currentRow","currentMeasure","addFilter","changeFilter","removeFilter","sumAggregate","sum","merge","src","dest","accumulate","acc","format","toFixed","minAggregate","min","Number","POSITIVE_INFINITY","Math","isFinite","NaN","maxAggregate","max","NEGATIVE_INFINITY","averageAggregate","sumA","count","isPresent","isBlank","isFunction","isString","isNullOrEmptyString","trim","isNotNullOrEmptyString","isNumeric","isNaN","parseFloat","isDate","getTime","isCompositeFilterDescriptor","source","ifElse","predicate","right","left","compose","args","reduceRight","curr","toUTC","date","Date","UTC","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","isDateValue","x","getterCache","FIELD_REGEX","getter","safe","fields","indexAccessor","pairwise","empty","isNotEmptyArray","isNotEmpty","accessor","runOrEmpty","fn","calcPage","skip","take","floor","formatDescriptors","formatter","removeAfter","what","patterns","sanitizeDateLiterals","removeAfterDot","directionFormatter","aggregateFormatter","aggregate","aggregates","group","formatSort","formatGroup","formatAggregates","prefixDateValue","formatDateValue","formatDate","ignoreCase","normalizeSort","transformSort","filterFormatter","target","convert","mapper","reduce","bind","translateAggregate","toLowerCase","translateAggregates","valueOrDefault","defaultValue","normalizeGroup","Aggregates","Member","hasSubgroups","HasSubgroups","items","Items","Key","translateGroup","logic","identity","operatorsMap","doesnotendwith","doesnotstartwith","lastIndexOf","gt","gte","isempty","isnotempty","isnotnull","isnull","lt","lte","dateRegExp","convertValue","exec","typedGetter","prop","transformFilter","itemProp","transformCompositeFilter","combiner","compileFilter","descriptor","forEachDesc","desc","callbackfn","filterFields","callback","initializeFiltering","compositeFilter","fieldValues","hasFilter","filteringAxes","filteringFields_1","subNode","initialNode","childNode","separator","createKey","splitKeyValue","keyValue","separatorIndex","substring","calculateColumnData","dataField","childData_1","parentData_1","mergeTrees","srcChild","destChild","calculateColumns","columnsData","srcColumns","destColumns","createDataTree","cache","leafNodes","dataItem","filteringDataItem_1","displayValue","dataKey","nodeData","node_1","eachAxis","leaf","cloneDataTree","dataTree","createPath","caption_1","membersNode","axisSettings","cacheData","has","currentLevel","currentLevelNode","levelField_1","d","newDest","currentPath","readData","rowTuples","columnTuples","columnSettings","rowSettings","rowsCache","rowNode","rowColumnsNode","col","measuresMember_1","colNode","getTopMembersTuple","parentFields","axesSettings","allTuple","topField","sortFunc","axe","order","sortableA","sortValue","sortableB","mergeData","exclude","childrenByKeys","element","curLevel_1","rootFields","definitions","createTuples","sortDescriptors","excludeFields","flatMembers","topTuple","currDef","keysToAdd","currDefMembers","delete","leafValue","leafTuple","axisCaption","curCaption","addMeasure","measureMember","tupleCopy","addMultipleMeasures","tupleWithMeasure","createLocalDataState","resultData","createFlatSchemaDimensions","dimensions","dim","defineProperty","amdD","require","__webpack_module_cache__","moduleId","cachedModule","Error","__webpack_exports__"],"sources":["C:/Users/abodean/restapi-nodejs/client/app-router/node_modules/@progress/kendo-ui/js/pivotgrid/common.js"],"sourcesContent":["/******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 94888:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(f, define){\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n        __webpack_require__(54752)\n    ], __WEBPACK_AMD_DEFINE_FACTORY__ = (f),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n})(function(){\n\n(function () {\n\nwindow.kendo.pivotgrid = window.kendo.pivotgrid || {};\nwindow.kendo.pivotgrid.common = (function (exports) {\n    \n\n    var filterFunctionFormats = {\n        contains: \", InStr({0}.CurrentMember.MEMBER_CAPTION,\\\"{1}\\\") > 0\",\n        doesnotcontain: \", InStr({0}.CurrentMember.MEMBER_CAPTION,\\\"{1}\\\")\",\n        endswith: \", Right({0}.CurrentMember.MEMBER_CAPTION,Len(\\\"{1}\\\"))=\\\"{1}\\\"\",\n        eq: \", {0}.CurrentMember.MEMBER_CAPTION = \\\"{1}\\\"\",\n        neq: \", {0}.CurrentMember.MEMBER_CAPTION = \\\"{1}\\\"\",\n        startswith: \", Left({0}.CurrentMember.MEMBER_CAPTION,Len(\\\"{1}\\\"))=\\\"{1}\\\"\"\n    };\n    var operators = {\n        doesnotcontain: 'doesnotcontain',\n        in: 'in',\n        neq: \"neq\"\n    };\n    /**\n     * @hidden\n     */\n    function serializeFilters(filters, cube) {\n        var command = \"\";\n        var current = \"\";\n        for (var idx = filters.length - 1; idx >= 0; idx--) {\n            current = \"SELECT (\";\n            current += serializeExpression(filters[idx]);\n            current += \") ON 0\";\n            if (idx === filters.length - 1) {\n                current += \" FROM [\" + cube + \"]\";\n                command = current;\n            }\n            else {\n                command = current + \" FROM ( \" + command + \" )\";\n            }\n        }\n        return command;\n    }\n    function serializeExpression(expression) {\n        var command = '';\n        var value = String(expression.value);\n        var field = expression.field;\n        var operator = expression.operator;\n        if (operator === operators.in) {\n            command += \"{\";\n            command += value;\n            command += \"}\";\n        }\n        else {\n            command += operator === operators.neq || operator === operators.doesnotcontain ? '-' : '';\n            command += \"Filter(\";\n            command += field + \".MEMBERS\";\n            command += formatString(filterFunctionFormats[operator], field, value);\n            command += \")\";\n        }\n        return command;\n    }\n    function formatString(str) {\n        var values = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            values[_i - 1] = arguments[_i];\n        }\n        values.forEach(function (value, index) {\n            str = str.replace(new RegExp(\"\\\\{\" + index + \"\\\\}\", 'g'), value);\n        });\n        return str;\n    }\n\n    /**\n     * @hidden\n     */\n    function serializeMembers(members, measures, sort) {\n        var command = \"\";\n        members = members || [];\n        var parsed = parseDescriptors(members);\n        var expanded = parsed.expanded;\n        var rootNames = getRootNames(parsed.root);\n        var crossJoinCommands = [];\n        var length = expanded.length;\n        var idx = 0;\n        var memberName;\n        var names = [];\n        if (rootNames.length > 1 || measures.length > 1) {\n            crossJoinCommands.push(crossJoinCommand(rootNames, measures));\n            for (; idx < length; idx++) {\n                memberName = expandMemberDescriptor(expanded[idx].name, sort);\n                names = mapNames(memberName, rootNames);\n                crossJoinCommands.push(crossJoinCommand(names, measures));\n            }\n            command += crossJoinCommands.join(\",\");\n        }\n        else {\n            for (; idx < length; idx++) {\n                memberName = expandMemberDescriptor(expanded[idx].name, sort);\n                names.push(memberName[0]);\n            }\n            command += rootNames.concat(names).join(\",\");\n        }\n        return command;\n    }\n    /**\n     * @hidden\n     */\n    function measureNames(measures) {\n        var length = measures.length;\n        var result = [];\n        var measure;\n        for (var idx = 0; idx < length; idx++) {\n            measure = measures[idx];\n            result.push(measure.name !== undefined ? measure.name : measure);\n        }\n        return result;\n    }\n    function getRootNames(members) {\n        var root = [];\n        members.forEach(function (member) {\n            var name = member.name[0];\n            var hierarchyName = baseHierarchyPath(name);\n            if (!root.some(function (n) { return n.indexOf(hierarchyName) === 0; })) {\n                root.push(name);\n            }\n        });\n        return root;\n    }\n    function parseDescriptors(members) {\n        var expanded = [];\n        var child = [];\n        var root = [];\n        var idx = 0;\n        var found;\n        for (; idx < members.length; idx++) {\n            var member = members[idx];\n            var name_1 = member.name;\n            found = false;\n            if (name_1.length > 1) {\n                child.push(member);\n            }\n            else {\n                var hierarchyName = baseHierarchyPath(name_1[0]);\n                for (var j = 0, l = root.length; j < l; j++) {\n                    if (root[j].name[0].indexOf(hierarchyName) === 0) {\n                        found = true;\n                        break;\n                    }\n                }\n                if (!found) {\n                    root.push(member);\n                }\n                if (member.expand) {\n                    expanded.push(member);\n                }\n            }\n        }\n        expanded = expanded.concat(child);\n        return {\n            expanded: expanded,\n            root: root\n        };\n    }\n    function mapNames(names, rootNames) {\n        var rootLength = rootNames.length;\n        rootNames = rootNames.slice(0);\n        for (var idx = 0; idx < names.length; idx++) {\n            var name_2 = names[idx];\n            for (var j = 0; j < rootLength; j++) {\n                var rootName = baseHierarchyPath(rootNames[j]);\n                if (name_2.indexOf(rootName) !== -1) {\n                    rootNames[j] = name_2;\n                    break;\n                }\n            }\n        }\n        return rootNames;\n    }\n    function crossJoinCommand(members, measures) {\n        var tmp = members.slice(0);\n        if (measures.length > 1) {\n            tmp.push(\"{\" + measureNames(measures).join(\",\") + \"}\");\n        }\n        return crossJoin(tmp);\n    }\n    function expandMemberDescriptor(names, sort) {\n        var idx = names.length - 1;\n        var name = names[idx];\n        var sortDescriptor = sortDescriptorForMember(sort, name);\n        if (sortDescriptor && sortDescriptor.dir) {\n            name = \"ORDER(\" + name + \".Children,\" + sortDescriptor.field + \".CurrentMember.MEMBER_CAPTION,\" + sortDescriptor.dir + \")\";\n        }\n        else {\n            name += \".Children\";\n        }\n        names[idx] = name;\n        return names;\n    }\n    function sortDescriptorForMember(sort, member) {\n        for (var idx = 0, length_1 = sort.length; idx < length_1; idx++) {\n            if (member.indexOf(sort[idx].field) === 0) {\n                return sort[idx];\n            }\n        }\n        return null;\n    }\n    function baseHierarchyPath(memberName) {\n        var parts = memberName.split(\".\");\n        if (parts.length > 2) {\n            return parts[0] + \".\" + parts[1];\n        }\n        return memberName;\n    }\n    function crossJoin(names) {\n        var result = \"CROSSJOIN({\";\n        var name;\n        if (names.length > 2) {\n            name = names.pop();\n            result += crossJoin(names);\n        }\n        else {\n            result += names.shift();\n            name = names.pop();\n        }\n        result += \"},{\";\n        result += name;\n        result += \"})\";\n        return result;\n    }\n\n    /**\n     * @hidden\n     */\n    function createRequestBody(options) {\n        var command = '<Envelope xmlns=\"http://schemas.xmlsoap.org/soap/envelope/\"><Header/><Body><Execute xmlns=\"urn:schemas-microsoft-com:xml-analysis\"><Command><Statement>';\n        var _a = options.columnAxes, columnAxes = _a === void 0 ? [] : _a, _b = options.rowAxes, rowAxes = _b === void 0 ? [] : _b;\n        var _c = options.measureAxes, measureAxes = _c === void 0 ? [] : _c, _d = options.sort, sort = _d === void 0 ? [] : _d, _e = options.filter, filter = _e === void 0 ? [] : _e;\n        var measuresRowAxis = options.measuresAxis === \"rows\";\n        command += \"SELECT NON EMPTY {\";\n        if (!columnAxes.length && rowAxes.length && (!measureAxes.length || (measureAxes.length && measuresRowAxis))) {\n            columnAxes = rowAxes;\n            rowAxes = [];\n            measuresRowAxis = false;\n        }\n        if (!columnAxes.length && !rowAxes.length) {\n            measuresRowAxis = false;\n        }\n        if (columnAxes.length) {\n            command += serializeMembers(columnAxes, !measuresRowAxis ? measureAxes : [], sort);\n        }\n        else if (measureAxes.length && !measuresRowAxis) {\n            command += measureNames(measureAxes).join(\",\");\n        }\n        command += \"} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON COLUMNS\";\n        if (rowAxes.length || (measuresRowAxis && measureAxes.length > 1)) {\n            command += \", NON EMPTY {\";\n            if (rowAxes.length) {\n                command += serializeMembers(rowAxes, measuresRowAxis ? measureAxes : [], sort);\n            }\n            else {\n                command += measureNames(measureAxes).join(\",\");\n            }\n            command += \"} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON ROWS\";\n        }\n        if (filter.length) {\n            command += \" FROM \";\n            command += \"(\";\n            command += serializeFilters(filter, options.connection.cube);\n            command += \")\";\n        }\n        else {\n            command += \" FROM [\" + options.connection.cube + \"]\";\n        }\n        if (measureAxes.length === 1 && columnAxes.length) {\n            command += \" WHERE (\" + measureNames(measureAxes).join(\",\") + \")\";\n        }\n        command += '</Statement></Command><Properties><PropertyList><Catalog>' + options.connection.catalog + '</Catalog><Format>Multidimensional</Format></PropertyList></Properties></Execute></Body></Envelope>';\n        return command.replace(/&/g, \"&amp;\");\n    }\n\n    /******************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */\n\n    var __assign = function() {\n        __assign = Object.assign || function __assign(t) {\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\n                s = arguments[i];\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n            }\n            return t;\n        };\n        return __assign.apply(this, arguments);\n    };\n\n    function __awaiter(thisArg, _arguments, P, generator) {\n        function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n            function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    }\n\n    function __generator(thisArg, body) {\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n        function verb(n) { return function (v) { return step([n, v]); }; }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_) try {\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n                if (y = 0, t) op = [op[0] & 2, t.value];\n                switch (op[0]) {\n                    case 0: case 1: t = op; break;\n                    case 4: _.label++; return { value: op[1], done: false };\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                    default:\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                        if (t[2]) _.ops.pop();\n                        _.trys.pop(); continue;\n                }\n                op = body.call(thisArg, _);\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    }\n\n    /** @deprecated */\n    function __spreadArrays() {\n        for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n        for (var r = Array(s), k = 0, i = 0; i < il; i++)\n            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n                r[k] = a[j];\n        return r;\n    }\n\n    /**\n     * @hidden\n     */\n    function parseResponse(response) {\n        var xmlDoc = new DOMParser().parseFromString(response, \"text/xml\");\n        var axes = Array.from(xmlDoc.querySelectorAll(\"Axis\"));\n        var cells = Array.from(xmlDoc.querySelectorAll(\"CellData > Cell\"))\n            .map(function (cell) { return ({\n            fmtValue: getPropertyValue(cell, \"FmtValue\"),\n            ordinal: parseInt(cell.getAttribute(\"CellOrdinal\"), 10),\n            value: getPropertyValue(cell, \"Value\")\n        }); });\n        var columns = { tuples: [] };\n        var rows = { tuples: [] };\n        var data = [];\n        axes.forEach(function (axis) {\n            if (axis.getAttribute('name') !== \"SlicerAxis\") {\n                var tuples = columns.tuples.length === 0 ? columns.tuples : rows.tuples;\n                Array.prototype.push.apply(tuples, translateAxis(axis));\n            }\n        });\n        var indexedData = new Array(rows.tuples.length * columns.tuples.length).fill(null);\n        cells.forEach(function (c) { indexedData[c.ordinal] = c; });\n        var counter = 0;\n        rows.tuples.forEach(function (rowTuple) {\n            columns.tuples.forEach(function (colTuple) {\n                data.push({\n                    columnTuple: colTuple,\n                    data: indexedData[counter],\n                    rowTuple: rowTuple\n                });\n                counter++;\n            });\n        });\n        return { columns: columns, data: data, rows: rows };\n    }\n    /**\n     * @hidden\n     */\n    function getPropertyValue(member, name) {\n        var node = member.querySelector(name);\n        return node ? node.textContent : \"\";\n    }\n    function translateAxis(axis) {\n        var tuples = Array.from(axis.querySelectorAll(\"Tuple\"));\n        return tuples.map(function (tuple) {\n            var memberElements = Array.from(tuple.querySelectorAll(\"Member\"));\n            var members = memberElements.map(function (member) {\n                var lNum = parseInt(getPropertyValue(member, \"LNum\") || \"0\", 10);\n                var hasChildren = parseInt(getPropertyValue(member, \"CHILDREN_CARDINALITY\") || \"0\", 10) > 0;\n                return {\n                    caption: getPropertyValue(member, \"Caption\"),\n                    children: [],\n                    hasChildren: hasChildren,\n                    hierarchy: member.getAttribute('Hierarchy'),\n                    levelName: getPropertyValue(member, \"LName\"),\n                    levelNum: lNum,\n                    name: getPropertyValue(member, \"UName\"),\n                    parentName: getPropertyValue(member, \"PARENT_UNIQUE_NAME\")\n                };\n            });\n            return { members: members };\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    var discoverCommands = {\n        schemaCatalogs: \"DBSCHEMA_CATALOGS\",\n        schemaCubes: \"MDSCHEMA_CUBES\",\n        schemaDimensions: \"MDSCHEMA_DIMENSIONS\",\n        schemaHierarchies: \"MDSCHEMA_HIERARCHIES\",\n        schemaKPIs: \"MDSCHEMA_KPIS\",\n        schemaLevels: \"MDSCHEMA_LEVELS\",\n        schemaMeasures: \"MDSCHEMA_MEASURES\",\n        schemaMembers: \"MDSCHEMA_MEMBERS\"\n    };\n    /**\n     * @hidden\n     */\n    function createDiscoverBody(options) {\n        var properties = {};\n        var command = '<Envelope xmlns=\"http://schemas.xmlsoap.org/soap/envelope/\"><Header/><Body><Discover xmlns=\"urn:schemas-microsoft-com:xml-analysis\">';\n        command += \"<RequestType>\" + (discoverCommands[options.command] || options.command) + \"</RequestType>\";\n        command += \"<Restrictions>\" + serializeOptions(\"RestrictionList\", options.restrictions, true) + \"</Restrictions>\";\n        if (options.connection && options.connection.catalog) {\n            properties.Catalog = options.connection.catalog;\n        }\n        command += \"<Properties>\" + serializeOptions(\"PropertyList\", properties, false) + \"</Properties>\";\n        command += '</Discover></Body></Envelope>';\n        return command;\n    }\n    function serializeOptions(parentTagName, options, capitalize) {\n        var result = \"\";\n        if (options) {\n            result += \"<\" + parentTagName + \">\";\n            var value = void 0;\n            for (var key in options) {\n                if (options[key]) {\n                    value = options[key];\n                    if (capitalize) {\n                        key = key.replace(/([A-Z]+(?=$|[A-Z][a-z])|[A-Z]?[a-z]+)/g, \"$1_\").toUpperCase().replace(/_$/, \"\");\n                    }\n                    result += \"<\" + key + \">\" + value + \"</\" + key + \">\";\n                }\n            }\n            result += \"</\" + parentTagName + \">\";\n        }\n        else {\n            result += \"<\" + parentTagName + \"/>\";\n        }\n        return result;\n    }\n\n    /**\n     * @hidden\n     */\n    function parseCubes(response) {\n        var xmlDoc = new DOMParser().parseFromString(response, \"text/xml\");\n        var rows = Array.from(xmlDoc.querySelectorAll(\"DiscoverResponse > return > root > row\"))\n            .map(function (row) { return ({\n            name: getPropertyValue(row, \"CUBE_NAME\"),\n            caption: getPropertyValue(row, \"CUBE_CAPTION\"),\n            description: getPropertyValue(row, \"DESCRIPTION\"),\n            type: getPropertyValue(row, \"CUBE_TYPE\")\n        }); });\n        return rows;\n    }\n    /**\n     * @hidden\n     */\n    function parseCatalogs(response) {\n        var xmlDoc = new DOMParser().parseFromString(response, \"text/xml\");\n        var rows = Array.from(xmlDoc.querySelectorAll(\"DiscoverResponse > return > root > row\"))\n            .map(function (row) { return ({\n            name: getPropertyValue(row, \"CATALOG_NAME\"),\n            description: getPropertyValue(row, \"DESCRIPTION\")\n        }); });\n        return rows;\n    }\n    /**\n     * @hidden\n     */\n    function parseMeasures(response) {\n        var xmlDoc = new DOMParser().parseFromString(response, \"text/xml\");\n        var rows = Array.from(xmlDoc.querySelectorAll(\"DiscoverResponse > return > root > row\"))\n            .map(function (row) { return ({\n            name: getPropertyValue(row, \"MEASURE_NAME\"),\n            caption: getPropertyValue(row, \"MEASURE_CAPTION\"),\n            uniqueName: getPropertyValue(row, \"MEASURE_UNIQUE_NAME\"),\n            description: getPropertyValue(row, \"DESCRIPTION\"),\n            aggregator: getPropertyValue(row, \"MEASURE_AGGREGATOR\"),\n            groupName: getPropertyValue(row, \"MEASUREGROUP_NAME\"),\n            displayFolder: getPropertyValue(row, \"MEASURE_DISPLAY_FOLDER\"),\n            defaultFormat: getPropertyValue(row, \"DEFAULT_FORMAT_STRING\")\n        }); });\n        return rows;\n    }\n    /**\n     * @hidden\n     */\n    function parseKPIs(response) {\n        var xmlDoc = new DOMParser().parseFromString(response, \"text/xml\");\n        var rows = Array.from(xmlDoc.querySelectorAll(\"DiscoverResponse > return > root > row\"))\n            .map(function (row) { return ({\n            name: getPropertyValue(row, \"KPI_NAME\"),\n            uniqueName: getPropertyValue(row, \"KPI_NAME\"),\n            caption: getPropertyValue(row, \"KPI_CAPTION\"),\n            value: getPropertyValue(row, \"KPI_VALUE\"),\n            goal: getPropertyValue(row, \"KPI_GOAL\"),\n            status: getPropertyValue(row, \"KPI_STATUS\"),\n            trend: getPropertyValue(row, \"KPI_TREND\"),\n            statusGraphic: getPropertyValue(row, \"KPI_STATUS_GRAPHIC\"),\n            trendGraphic: getPropertyValue(row, \"KPI_TREND_GRAPHIC\"),\n            description: getPropertyValue(row, \"KPI_DESCRIPTION\"),\n            groupName: getPropertyValue(row, \"MEASUREGROUP_NAME\"),\n            type: \"kpi\"\n        }); });\n        return rows;\n    }\n    /**\n     * @hidden\n     */\n    function parseDimensions(response) {\n        var xmlDoc = new DOMParser().parseFromString(response, \"text/xml\");\n        var rows = Array.from(xmlDoc.querySelectorAll(\"DiscoverResponse > return > root > row\"))\n            .map(function (row) { return ({\n            caption: getPropertyValue(row, \"DIMENSION_CAPTION\"),\n            defaultHierarchy: getPropertyValue(row, \"DEFAULT_HIERARCHY\"),\n            description: getPropertyValue(row, \"DESCRIPTION\"),\n            name: getPropertyValue(row, \"DIMENSION_NAME\"),\n            type: parseInt(getPropertyValue(row, \"DIMENSION_TYPE\"), 10),\n            uniqueName: getPropertyValue(row, \"DIMENSION_UNIQUE_NAME\")\n        }); });\n        return rows;\n    }\n    /**\n     * @hidden\n     */\n    function parseHierarchies(response) {\n        var xmlDoc = new DOMParser().parseFromString(response, \"text/xml\");\n        var rows = Array.from(xmlDoc.querySelectorAll(\"DiscoverResponse > return > root > row\"))\n            .map(function (row) { return ({\n            name: getPropertyValue(row, \"HIERARCHY_NAME\"),\n            caption: getPropertyValue(row, \"HIERARCHY_CAPTION\"),\n            description: getPropertyValue(row, \"DESCRIPTION\"),\n            uniqueName: getPropertyValue(row, \"HIERARCHY_UNIQUE_NAME\"),\n            dimensionUniqueName: getPropertyValue(row, \"DIMENSION_UNIQUE_NAME\"),\n            displayFolder: getPropertyValue(row, \"HIERARCHY_DISPLAY_FOLDER\"),\n            origin: getPropertyValue(row, \"HIERARCHY_ORIGIN\"),\n            defaultMember: getPropertyValue(row, \"DEFAULT_MEMBER\")\n        }); });\n        return rows;\n    }\n    /**\n     * @hidden\n     */\n    function parseLevels(response) {\n        var xmlDoc = new DOMParser().parseFromString(response, \"text/xml\");\n        var rows = Array.from(xmlDoc.querySelectorAll(\"DiscoverResponse > return > root > row\"))\n            .map(function (row) { return ({\n            name: getPropertyValue(row, \"LEVEL_NAME\"),\n            caption: getPropertyValue(row, \"LEVEL_CAPTION\"),\n            description: getPropertyValue(row, \"DESCRIPTION\"),\n            uniqueName: getPropertyValue(row, \"LEVEL_UNIQUE_NAME\"),\n            dimensionUniqueName: getPropertyValue(row, \"DIMENSION_UNIQUE_NAME\"),\n            displayFolder: getPropertyValue(row, \"LEVEL_DISPLAY_FOLDER\"),\n            orderingProperty: getPropertyValue(row, \"LEVEL_ORDERING_PROPERTY\"),\n            origin: getPropertyValue(row, \"LEVEL_ORIGIN\"),\n            hierarchyUniqueName: getPropertyValue(row, \"HIERARCHY_UNIQUE_NAME\")\n        }); });\n        return rows;\n    }\n    /**\n     * @hidden\n     */\n    function parseMembers(response) {\n        var xmlDoc = new DOMParser().parseFromString(response, \"text/xml\");\n        var rows = Array.from(xmlDoc.querySelectorAll(\"DiscoverResponse > return > root > row\"))\n            .map(function (row) { return ({\n            name: getPropertyValue(row, \"MEMBER_NAME\"),\n            caption: getPropertyValue(row, \"MEMBER_CAPTION\"),\n            uniqueName: getPropertyValue(row, \"MEMBER_UNIQUE_NAME\"),\n            dimensionUniqueName: getPropertyValue(row, \"DIMENSION_UNIQUE_NAME\"),\n            hierarchyUniqueName: getPropertyValue(row, \"HIERARCHY_UNIQUE_NAME\"),\n            levelUniqueName: getPropertyValue(row, \"LEVEL_UNIQUE_NAME\"),\n            childrenCardinality: getPropertyValue(row, \"CHILDREN_CARDINALITY\")\n        }); });\n        return rows;\n    }\n\n    var discoverParser = {\n        schemaCatalogs: parseCatalogs,\n        schemaCubes: parseCubes,\n        schemaDimensions: parseDimensions,\n        schemaHierarchies: parseHierarchies,\n        schemaKPIs: parseKPIs,\n        schemaLevels: parseLevels,\n        schemaMeasures: parseMeasures,\n        schemaMembers: parseMembers\n    };\n    /**\n     * Fetches the data.\n     *\n     * @param options RequestOptions\n     * @returns Promise<ResponseData>\n     *\n     * @example\n     * const options: RequestOptions = { ... };\n     *\n     * fetchData(options).then(createDataState).then((dataState: DataState) => {\n     *  // Update the UI\n     * });\n     */\n    /**\n     * @hidden\n     */\n    var fetchData = function (fetchOptions, options) { return __awaiter(void 0, void 0, void 0, function () {\n        var init, response, stringResponse;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    init = __assign({ body: createRequestBody(options), headers: { 'Content-Type': 'text/xml' }, method: 'POST' }, fetchOptions.init);\n                    return [4 /*yield*/, fetch(fetchOptions.url, init)];\n                case 1:\n                    response = _a.sent();\n                    return [4 /*yield*/, response.text()];\n                case 2:\n                    stringResponse = _a.sent();\n                    return [2 /*return*/, parseResponse(stringResponse)];\n            }\n        });\n    }); };\n    /**\n     * @hidden\n     */\n    var fetchDiscover = function (fetchOptions, options) { return __awaiter(void 0, void 0, void 0, function () {\n        var init, response, stringResponse;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    init = __assign({ body: createDiscoverBody(options), headers: { 'Content-Type': 'text/xml' }, method: 'POST' }, fetchOptions.init);\n                    return [4 /*yield*/, fetch(fetchOptions.url, init)];\n                case 1:\n                    response = _a.sent();\n                    return [4 /*yield*/, response.text()];\n                case 2:\n                    stringResponse = _a.sent();\n                    return [2 /*return*/, discoverParser[options.command](stringResponse)];\n            }\n        });\n    }); };\n\n    /**\n     * Creates the state object. See `fetchData`.\n     *\n     * @param response - ResponseData\n     * @returns DataState\n     */\n    /**\n     * @hidden\n     */\n    var createDataState = function (response) {\n        var state = {\n            columns: response.columns.tuples,\n            data: response.data,\n            rows: response.rows.tuples\n        };\n        return state;\n    };\n\n    /**\n     * Creates a collection of AxisDescriptor base on the expandTree.\n     * @param expandTree - { [key: string]: boolean }\n     * @returns AxisDescriptor[]\n     *\n     * @example\n     * See `setRowExpand` or `setColumnExpand` functions.\n     */\n    /**\n     * @hidden\n     */\n    function createAxisDescriptors(expandTree) {\n        var descriptors = [];\n        for (var _i = 0, _a = Object.keys(expandTree); _i < _a.length; _i++) {\n            var key = _a[_i];\n            descriptors.push({ name: JSON.parse(key), expand: expandTree[key] });\n        }\n        return descriptors;\n    }\n\n    /**\n     * Sets sort descriptors to request options.\n     *\n     * @param options - RequestOptions\n     * @param sort - SortDescriptor[]\n     *\n     * @example\n     * const options: RequestOptions = { ... };\n     * const sort: SortDescriptor[] = [{ ... }, { ... }];\n     * setSort(options, sort);\n     * // skip the sort parameter to clear current filter - setSort(options);\n     *\n     * fetchData(options).then(createDataState).then((dataState: DataState) => {\n     *  // Update the UI\n     * });\n     */\n    /**\n     * @hidden\n     */\n    var setSort = function (options, sort) {\n        if (sort === void 0) { sort = []; }\n        options.sort = sort;\n    };\n\n    /**\n     * Sets filter descriptors to request options.\n     *\n     * @param options - RequestOptions\n     * @param filter - FilterDescriptor[]\n     *\n     * @example\n     * const options: RequestOptions = { ... };\n     * const filter: FilterDescriptor[] = [{ ... }, { ... }];\n     * setFilter(options, filter);\n     * // skip the filter parameter to clear current filter - setFilter(options);\n     *\n     * fetchData(options).then(createDataState).then((dataState: DataState) => {\n     *  // Update the UI\n     * });\n     */\n    /**\n     * @hidden\n     */\n    var setFilter = function (options, filter) {\n        if (filter === void 0) { filter = []; }\n        options.filter = filter;\n    };\n\n    // A typical tree depth count won't work for the Pivot,\n    // as each branch can have lower number of nodes than the total number of levels\n    /**\n     * @hidden\n     */\n    var getMaxNesting = function (node, set) {\n        if (set === void 0) { set = new Set(); }\n        (node.children || []).forEach(function (child) {\n            set.add(child.levelName);\n            getMaxNesting(child, set);\n        });\n        return set.size;\n    };\n    /**\n     * @hidden\n     */\n    var getMaxExpansion = function (node) {\n        var expanded = 0;\n        (node.children || []).forEach(function (child) {\n            expanded += (getMaxExpansion(child) || 1);\n        });\n        return expanded;\n    };\n    /**\n     * @hidden\n     */\n    var generateNormalizedPath = function (node, parent) {\n        return (parent && (parent.hierarchy === node.hierarchy)\n            ? __spreadArrays((parent.normalizedPath || []).slice(0, -1), [node.name || null]) : __spreadArrays(((parent && parent.normalizedPath) ? parent.normalizedPath : []), [node.name])).filter(Boolean);\n    };\n    /**\n     * @hidden\n     */\n    var generatePath = function (node, parent) {\n        return (parent && (parent.hierarchy === node.hierarchy)\n            ? __spreadArrays((parent.path || []).slice(0, -1), [((node.levelNum === 0 ? node.hierarchy : node.name) || null)]) : __spreadArrays(((parent && parent.path) ? parent.path : []), [node.levelNum === 0 ? node.hierarchy : node.name])).filter(Boolean);\n    };\n    /**\n     * @hidden\n     */\n    var toMatrix = function (node, rowIndex, colIndex, maxDepth, maxBreadth, matrix, leafs, parent) {\n        if (rowIndex === void 0) { rowIndex = -1; }\n        if (colIndex === void 0) { colIndex = 0; }\n        if (maxDepth === void 0) { maxDepth = undefined; }\n        if (maxBreadth === void 0) { maxBreadth = undefined; }\n        if (matrix === void 0) { matrix = undefined; }\n        if (leafs === void 0) { leafs = undefined; }\n        if (parent === void 0) { parent = undefined; }\n        var branchDepth = getMaxNesting(node);\n        var branchBreadth = getMaxExpansion(node);\n        var depth = maxDepth || branchDepth;\n        var breadth = maxBreadth || branchBreadth;\n        var matrixResult = matrix ? matrix.slice() : [];\n        var leafsResult = leafs ? leafs.slice() : new Array(breadth);\n        var index = matrixResult.findIndex(function (l) { return l && l.name === node.levelName && l.level === node.levelNum; });\n        var level = matrixResult[index];\n        var row = {\n            name: node.levelName,\n            level: node.levelNum,\n            index: rowIndex,\n            cells: new Array(breadth).fill(null)\n        };\n        var inject = rowIndex !== -1 && colIndex !== -1;\n        var cell = {\n            caption: node.caption,\n            name: node.name,\n            levelName: node.levelName,\n            levelNum: node.levelNum,\n            hasChildren: node.hasChildren,\n            parentName: node.parentName,\n            hierarchy: node.hierarchy,\n            total: (node.total !== undefined ? node.total : false) || (parent && parent.children.length <= 1 && parent.total),\n            parent: parent,\n            rowIndex: rowIndex,\n            colIndex: colIndex,\n            depth: 1,\n            breadth: 1,\n            path: node.path || [],\n            normalizedPath: node.normalizedPath || [],\n            children: node.children.filter(function (c) { return c.hierarchy === node.hierarchy; })\n        };\n        if (inject) {\n            if (level) {\n                level.cells[colIndex] = cell;\n                if (level.index >= rowIndex) {\n                    rowIndex = level.index;\n                }\n            }\n            else {\n                if (matrixResult[rowIndex] && matrixResult[rowIndex].cells.length) {\n                    for (var idx = rowIndex; idx < matrixResult.length; idx++) {\n                        var shiftedRow = matrixResult[idx];\n                        shiftedRow.index++;\n                    }\n                    matrixResult.splice(rowIndex, 0, row);\n                    matrixResult[rowIndex].cells[colIndex] = cell;\n                }\n                else {\n                    matrixResult[rowIndex] = row;\n                    matrixResult[rowIndex].cells[colIndex] = cell;\n                }\n            }\n        }\n        var collOffset = 0;\n        if (node.children && node.children.length) {\n            node.children.forEach(function (child) {\n                var _a = toMatrix(child, rowIndex + 1, colIndex + collOffset, depth, breadth, matrixResult, leafsResult, cell), newMatrix = _a[0], newLeafs = _a[1], childBreadth = _a[3];\n                collOffset += (childBreadth || 1);\n                matrixResult = newMatrix.slice();\n                leafsResult = newLeafs.slice();\n            });\n        }\n        else if (node.normalizedPath) {\n            leafsResult[colIndex] = { total: cell.total, path: node.normalizedPath };\n        }\n        cell.depth = branchDepth;\n        cell.breadth = branchBreadth;\n        return [\n            matrixResult,\n            leafsResult,\n            branchDepth,\n            branchBreadth\n        ];\n    };\n    var withTotal = function (root, parent, index) {\n        if (parent === void 0) { parent = null; }\n        if (index === void 0) { index = 0; }\n        var hierarchy;\n        var alt = __assign(__assign({}, root), { total: true, hasChildren: false, children: [] });\n        for (var childIndex = 0; childIndex < root.children.length; childIndex++) {\n            var child = withTotal(root.children[childIndex], root, childIndex);\n            hierarchy = hierarchy || child.hierarchy;\n            if (child.hierarchy !== hierarchy\n                && parent\n                && !parent.children.some(function (c) { return c.total && c.name === alt.name; })\n                && !root.total) {\n                alt.children.push(child);\n                root.children.splice(childIndex, 1);\n                childIndex--;\n            }\n        }\n        if (root.children.filter(function (c) { return !c.total; }).length >= 1\n            && parent\n            && !parent.children.some(function (c) { return c.total && c.name === alt.name; })\n            && !root.total) {\n            var childHierarchy = root.children[0].hierarchy;\n            if (root.hierarchy === childHierarchy) {\n                parent.children.splice(index + 1, 0, alt);\n            }\n        }\n        return root;\n    };\n    /**\n     * @hidden\n     */\n    var toTree = function (tuples) {\n        var root = { children: [] };\n        var map = {};\n        for (var tupleIndex = 0; tupleIndex < tuples.length; tupleIndex++) {\n            var tuple = copy(tuples[tupleIndex]);\n            var key = \"\";\n            var _loop_1 = function (memberIndex) {\n                var member = tuple.members[memberIndex];\n                var parent_1;\n                if (root.children && root.children.length === 0) {\n                    parent_1 = root;\n                }\n                else if (map[key] && !map[key + member.name] && member.levelNum === 0) {\n                    parent_1 = map[key];\n                }\n                else if (map[key + member.parentName] && member.levelNum > 0 && !map[key + member.parentName + member.name]) {\n                    parent_1 = map[key + member.parentName];\n                }\n                else if (!map[key + member.parentName] && member.levelNum > 0 && !map[key + member.parentName + member.name]) {\n                    var parentKey = Object.keys(map).find(function (e) { return member.parentName === map[e].name; });\n                    if (parentKey) {\n                        parent_1 = map[parentKey];\n                    }\n                }\n                if (parent_1) {\n                    member.path = generatePath(member, parent_1);\n                    member.normalizedPath = generateNormalizedPath(member, parent_1);\n                    var intruderIndex = parent_1.children.findIndex(function (c) { return c.hierarchy !== parent_1.hierarchy; });\n                    if (intruderIndex !== -1) {\n                        parent_1.children.splice(intruderIndex, 0, member);\n                    }\n                    else {\n                        parent_1.children.push(member);\n                    }\n                }\n                member.parentName += member.name;\n                key += member.parentName;\n                if (!map[key]) {\n                    map[key] = member;\n                }\n            };\n            for (var memberIndex = 0; memberIndex < tuple.members.length; memberIndex++) {\n                _loop_1(memberIndex);\n            }\n        }\n        return copy(withTotal(root));\n    };\n    /**\n     * @hidden\n     */\n    var toData = function (data, columns, rows, breadth, depth) {\n        var result = Array.from(new Array(depth), function () { return ({ cells: Array.from(new Array(breadth), function () { return null; }) }); });\n        var hash = function (names) { return names.join('|'); };\n        var membersNames = function (tuple) { return tuple.members.map(function (m) { return m.name; }); };\n        var columnsIndexes = new Map();\n        var rowsIndexes = new Map();\n        columns.forEach(function (colMembers, idx) { columnsIndexes.set(hash(colMembers.path), idx); });\n        rows.forEach(function (rowMembers, idx) { rowsIndexes.set(hash(rowMembers.path), idx); });\n        data.forEach(function (item) {\n            var colIndex = columnsIndexes.get(hash(membersNames(item.columnTuple)));\n            var rowIndex = rowsIndexes.get(hash(membersNames(item.rowTuple)));\n            if (colIndex !== undefined && rowIndex !== undefined) {\n                if (!result[rowIndex].cells[colIndex]) {\n                    result[rowIndex].row = rows[rowIndex].path;\n                    result[rowIndex].cells[colIndex] = item;\n                }\n            }\n        });\n        return result;\n    };\n    var rotateMatrix = function (matrix, leafs, depth, breadth) {\n        var result = new Array(breadth);\n        for (var colIndex = 0; colIndex < breadth; colIndex++) {\n            for (var rowIndex = 0; rowIndex < depth; rowIndex++) {\n                if (matrix[rowIndex] && matrix[rowIndex].cells[colIndex]) {\n                    var cell = matrix[rowIndex].cells[colIndex];\n                    if (!result[colIndex]) {\n                        result[colIndex] = {\n                            cells: new Array(depth).fill(null)\n                        };\n                    }\n                    result[colIndex].cells[rowIndex] = __assign(__assign({}, cell), { rowSpan: cell.colSpan, colSpan: cell.rowSpan });\n                }\n            }\n        }\n        return [result, leafs, breadth, depth];\n    };\n    /**\n     * @hidden\n     */\n    var toColumns = function (root) {\n        var _a = toMatrix(root), matrix = _a[0], leafs = _a[1], depth = _a[2], breadth = _a[3];\n        for (var colIndex = 0; colIndex < breadth; colIndex++) {\n            var cell = null;\n            for (var rowIndex = 0; rowIndex < depth; rowIndex++) {\n                if (matrix[rowIndex]) {\n                    var next = matrix[rowIndex].cells[colIndex];\n                    if (!next && cell) {\n                        cell.rowSpan = (cell.rowSpan || 1) + 1;\n                    }\n                    if (cell) {\n                        cell.colSpan = cell.breadth || 1;\n                    }\n                    if (next) {\n                        cell = next;\n                    }\n                }\n            }\n        }\n        return [matrix, leafs, depth, breadth];\n    };\n    /**\n     * @hidden\n     */\n    var toRows = function (root) {\n        var _a = toMatrix(root), matrix = _a[0], leafs = _a[1], depth = _a[2], breadth = _a[3];\n        for (var colIndex = 0; colIndex < breadth; colIndex++) {\n            var cell = null;\n            for (var rowIndex = 0; rowIndex < depth; rowIndex++) {\n                if (matrix[rowIndex]) {\n                    var next = matrix[rowIndex].cells[colIndex];\n                    if (!next && cell) {\n                        cell.rowSpan = (cell.rowSpan || 1) + 1;\n                    }\n                    if (cell) {\n                        cell.colSpan = cell.breadth;\n                    }\n                    if (next) {\n                        cell = next;\n                    }\n                }\n            }\n        }\n        return rotateMatrix(matrix, leafs, depth, breadth);\n    };\n    /**\n     * @hidden\n     */\n    function copy(obj) {\n        return JSON.parse(JSON.stringify(obj));\n    }\n    var kpiMeasure = function (name, measure, type) {\n        return {\n            hierarchyUniqueName: name,\n            uniqueName: measure,\n            caption: measure,\n            measure: measure,\n            name: measure,\n            type: type,\n            kpi: true\n        };\n    };\n    /**\n     * @hidden\n     */\n    function buildKPIMeasures(node) {\n        var name = node.name;\n        return [\n            kpiMeasure(name, node.value, \"value\"),\n            kpiMeasure(name, node.goal, \"goal\"),\n            kpiMeasure(name, node.status, \"status\"),\n            kpiMeasure(name, node.trend, \"trend\")\n        ];\n    }\n    /**\n     * @hidden\n     */\n    var addKPI = function (data) {\n        var found;\n        var idx = 0;\n        for (; idx < data.length; idx++) {\n            if (data[idx].type === 2) {\n                found = true;\n                break;\n            }\n        }\n        if (found) {\n            data.splice(idx + 1, 0, {\n                caption: \"KPIs\",\n                defaultHierarchy: \"[KPIs]\",\n                name: \"KPIs\",\n                uniqueName: \"[KPIs]\"\n            });\n        }\n    };\n    /**\n     * @hidden\n     */\n    var compareAxisWithField = function (a, b) { return String(a.name) === String([(b.defaultHierarchy\n            ? b.defaultHierarchy\n            : b.uniqueName)]); };\n    /**\n     * @hidden\n     */\n    var compareAxes = function (a, b) { return String(a.name) === String(b.name); };\n    /**\n     * @hidden\n     */\n    var filterField = function (axes, out) {\n        var _loop_2 = function (i) {\n            var axis = axes[i];\n            var index = axis.name.findIndex(function (name) { return compareAxisWithField({ name: [name] }, out) || String(name).startsWith(out.uniqueName); });\n            if (index !== -1) {\n                if (index === axis.name.length - 1 || axis.name.length === 1) {\n                    axes.splice(i, 1);\n                }\n                else {\n                    axis.name.splice(index, 1);\n                    var duplicatedAxisIndex = axes.findIndex(function (ax) { return ax !== axis && String(ax.name) === String(axis.name); });\n                    if (duplicatedAxisIndex !== -1) {\n                        axes[duplicatedAxisIndex] = __assign(__assign(__assign({}, axes[duplicatedAxisIndex]), axis), ((axes[duplicatedAxisIndex].expand || axis.expand) ? { expand: true } : {}));\n                        axes.splice(i, 1);\n                    }\n                }\n            }\n        };\n        for (var i = axes.length - 1; i >= 0; i--) {\n            _loop_2(i);\n        }\n    };\n    /**\n     * @hidden\n     */\n    var insertAxis = function (axes, toInsert, state) {\n        var index = -1;\n        if (state.dropTarget && state.dropDirection) {\n            var offset = state.dropDirection\n                ? (state.dropDirection === 'before'\n                    ? 0\n                    : 1)\n                : 0;\n            index = axes.findIndex(function (c) { return compareAxes(c, state.dropTarget); }) + offset;\n        }\n        if (index !== -1) {\n            axes.forEach(function (axis) {\n                var _a;\n                if (axis.expand && axis.name.length > 1 && axis.name.length > index) {\n                    (_a = axis.name).splice.apply(_a, __spreadArrays([index, 0], toInsert.name));\n                }\n            });\n            axes.splice(index, 0, toInsert);\n        }\n        else {\n            axes.push(toInsert);\n        }\n    };\n\n    /**\n     * @hidden\n     */\n    exports.HEADERS_ACTION = void 0;\n    (function (HEADERS_ACTION) {\n        HEADERS_ACTION[\"toggle\"] = \"HEADERS_ACTION_TOGGLE\";\n        HEADERS_ACTION[\"expand\"] = \"HEADERS_ACTION_EXPAND\";\n        HEADERS_ACTION[\"collapse\"] = \"HEADERS_ACTION_COLLAPSE\";\n    })(exports.HEADERS_ACTION || (exports.HEADERS_ACTION = {}));\n    var findPath = function (node, matchFn, matched) {\n        var result = new Set();\n        node.children.forEach(function (child) {\n            var match = matchFn(child);\n            if (matched) {\n                result.add(String(child.path));\n            }\n            findPath(child, matchFn, (matched || match)).map(function (h) {\n                result.add(h);\n            });\n        });\n        return Array.from(result.values());\n    };\n    /**\n     * @hidden\n     */\n    var headersReducer = function (state, action) {\n        switch (action.type) {\n            case exports.HEADERS_ACTION.toggle: {\n                var existing = state.find((function (s) { return String(s.name) === String(action.payload); }));\n                return headersReducer(state, __assign(__assign({}, action), { type: existing && (existing.expand)\n                        ? exports.HEADERS_ACTION.collapse\n                        : exports.HEADERS_ACTION.expand }));\n            }\n            case exports.HEADERS_ACTION.expand: {\n                var existing_1 = state.find((function (s) { return String(s.name) === String(action.payload); }));\n                if (existing_1 && existing_1.expand === true) {\n                    return state;\n                }\n                else if (existing_1 && (existing_1.expand === false || existing_1.expand === undefined)) {\n                    return state.map(function (s) { return s === existing_1 ? (__assign(__assign({}, existing_1), { expand: true })) : s; });\n                }\n                else {\n                    var nextState = state.slice();\n                    nextState.push({ name: action.payload, expand: true });\n                    return nextState;\n                }\n            }\n            case exports.HEADERS_ACTION.collapse: {\n                var filtered_1 = findPath(action.tree, function (node) { return !node.total && String(node.path) === String(action.payload); });\n                var newState = state.slice()\n                    .filter(function (h) { return !filtered_1.some(function (f) { return f === String(h.name); }); })\n                    .map(function (h) { return (__assign(__assign({}, h), { expand: Boolean(h.expand) })); })\n                    .map(function (h) { return (String(h.name) === String(action.payload))\n                    ? action.payload.length > 1 ? undefined : { name: action.payload, expand: false }\n                    : h; })\n                    .filter(Boolean);\n                return newState;\n            }\n            default: {\n                return state;\n            }\n        }\n    };\n\n    /**\n     * @hidden\n     */\n    exports.PIVOT_CONFIGURATOR_ACTION = void 0;\n    (function (PIVOT_CONFIGURATOR_ACTION) {\n        // Selection\n        PIVOT_CONFIGURATOR_ACTION[\"toggleSelection\"] = \"PIVOT_CONFIGURATOR_ACTION_TOGGLE_SELECTION\";\n        PIVOT_CONFIGURATOR_ACTION[\"addColumnAxis\"] = \"PIVOT_CONFIGURATOR_ACTION_ADD_COLUMN_AXIS\";\n        PIVOT_CONFIGURATOR_ACTION[\"addColumnAxes\"] = \"PIVOT_CONFIGURATOR_ACTION_ADD_COLUMN_AXES\";\n        PIVOT_CONFIGURATOR_ACTION[\"removeColumnAxis\"] = \"PIVOT_CONFIGURATOR_ACTION_REMOVE_COLUMN_AXIS\";\n        PIVOT_CONFIGURATOR_ACTION[\"removeColumnAxes\"] = \"PIVOT_CONFIGURATOR_ACTION_REMOVE_COLUMN_AXES\";\n        PIVOT_CONFIGURATOR_ACTION[\"addRowAxis\"] = \"PIVOT_CONFIGURATOR_ACTION_ADD_ROW_AXIS\";\n        PIVOT_CONFIGURATOR_ACTION[\"addRowAxes\"] = \"PIVOT_CONFIGURATOR_ACTION_ADD_ROW_AXES\";\n        PIVOT_CONFIGURATOR_ACTION[\"removeRowAxis\"] = \"PIVOT_CONFIGURATOR_ACTION_REMOVE_ROW_AXIS\";\n        PIVOT_CONFIGURATOR_ACTION[\"removeRowAxes\"] = \"PIVOT_CONFIGURATOR_ACTION_REMOVE_ROW_AXES\";\n        PIVOT_CONFIGURATOR_ACTION[\"addMeasureAxis\"] = \"PIVOT_CONFIGURATOR_ACTION_ADD_MEASURE_AXIS\";\n        PIVOT_CONFIGURATOR_ACTION[\"addMeasureAxes\"] = \"PIVOT_CONFIGURATOR_ACTION_ADD_MEASURE_AXES\";\n        PIVOT_CONFIGURATOR_ACTION[\"removeMeasureAxis\"] = \"PIVOT_CONFIGURATOR_ACTION_REMOVE_MEASURE_AXIS\";\n        PIVOT_CONFIGURATOR_ACTION[\"removeMeasureAxes\"] = \"PIVOT_CONFIGURATOR_ACTION_REMOVE_MEASURE_AXES\";\n        // Removal\n        PIVOT_CONFIGURATOR_ACTION[\"remove\"] = \"PIVOT_CONFIGURATOR_ACTION_REMOVE\";\n        // Sort\n        PIVOT_CONFIGURATOR_ACTION[\"setSort\"] = \"PIVOT_CONFIGURATOR_ACTION_SET_SORT\";\n        // Filter\n        PIVOT_CONFIGURATOR_ACTION[\"setFilter\"] = \"PIVOT_CONFIGURATOR_ACTION_SET_FILTER\";\n        PIVOT_CONFIGURATOR_ACTION[\"addFilter\"] = \"PIVOT_CONFIGURATOR_ACTION_ADD_FILTER\";\n        PIVOT_CONFIGURATOR_ACTION[\"changeFilter\"] = \"PIVOT_CONFIGURATOR_ACTION_CHANGE_FILTER\";\n        PIVOT_CONFIGURATOR_ACTION[\"removeFilter\"] = \"PIVOT_CONFIGURATOR_ACTION_REMOVE_FILTER\";\n        // Drag\n        PIVOT_CONFIGURATOR_ACTION[\"setDragItem\"] = \"PIVOT_CONFIGURATOR_ACTION_SET_DRAGITEM\";\n        PIVOT_CONFIGURATOR_ACTION[\"drop\"] = \"PIVOT_CONFIGURATOR_ACTION_DROP\";\n        PIVOT_CONFIGURATOR_ACTION[\"setDropZone\"] = \"PIVOT_CONFIGURATOR_ACTION_SET_DROP_ZONE\";\n        PIVOT_CONFIGURATOR_ACTION[\"setDropTarget\"] = \"PIVOT_CONFIGURATOR_ACTION_SET_DROP_TARGET\";\n        PIVOT_CONFIGURATOR_ACTION[\"setDropDirection\"] = \"PIVOT_CONFIGURATOR_ACTION_SET_DROP_DIRECTION\";\n    })(exports.PIVOT_CONFIGURATOR_ACTION || (exports.PIVOT_CONFIGURATOR_ACTION = {}));\n    /**\n     * @hidden\n     */\n    var configuratorReducer = function (state, action) {\n        var newRows;\n        var newColumns;\n        var newMeasures;\n        var newSort;\n        var newFilter;\n        var newDragitem;\n        var newDropZone;\n        var newDropDirection;\n        var newDropTarget;\n        switch (action.type) {\n            case exports.PIVOT_CONFIGURATOR_ACTION.toggleSelection: {\n                if (Array.isArray(action.payload)) ;\n                else {\n                    var payload_1 = action.payload;\n                    if (payload_1.type === 2 || 'aggregator' in payload_1) {\n                        if (state.measureAxes.some(function (s) { return compareAxisWithField(s, payload_1); })) {\n                            return configuratorReducer(state, __assign(__assign({}, action), { type: exports.PIVOT_CONFIGURATOR_ACTION.removeMeasureAxis }));\n                        }\n                        else {\n                            return configuratorReducer(state, __assign(__assign({}, action), { type: exports.PIVOT_CONFIGURATOR_ACTION.addMeasureAxis }));\n                        }\n                    }\n                    else if (payload_1.type === 'kpi') {\n                        var measures = buildKPIMeasures(payload_1);\n                        if (measures.every(function (m) { return state.measureAxes.some(function (s) { return compareAxisWithField(s, m); }); })) {\n                            return configuratorReducer(state, __assign(__assign({}, action), { type: exports.PIVOT_CONFIGURATOR_ACTION.removeMeasureAxes, payload: measures }));\n                        }\n                        else {\n                            return configuratorReducer(state, __assign(__assign({}, action), { type: exports.PIVOT_CONFIGURATOR_ACTION.addMeasureAxes, payload: measures.filter(function (m) { return !state.measureAxes.some(function (s) { return compareAxisWithField(s, m); }); }) }));\n                        }\n                    }\n                    else if (action.payload.kpi) {\n                        if (state.measureAxes.some(function (s) { return compareAxisWithField(s, payload_1); })) {\n                            return configuratorReducer(state, __assign(__assign({}, action), { type: exports.PIVOT_CONFIGURATOR_ACTION.removeMeasureAxis }));\n                        }\n                        else {\n                            return configuratorReducer(state, __assign(__assign({}, action), { type: exports.PIVOT_CONFIGURATOR_ACTION.addMeasureAxis }));\n                        }\n                    }\n                    else {\n                        if (state.columnAxes.some(function (s) { return compareAxisWithField(s, payload_1); })) {\n                            return configuratorReducer(state, __assign(__assign({}, action), { type: exports.PIVOT_CONFIGURATOR_ACTION.removeColumnAxis }));\n                        }\n                        else if (state.rowAxes.some(function (s) { return compareAxisWithField(s, payload_1); })) {\n                            return configuratorReducer(state, __assign(__assign({}, action), { type: exports.PIVOT_CONFIGURATOR_ACTION.removeRowAxis }));\n                        }\n                        else if ((state.columnAxes && state.columnAxes.length) && (!state.rowAxes || !state.rowAxes.length)) {\n                            return configuratorReducer(state, __assign(__assign({}, action), { type: exports.PIVOT_CONFIGURATOR_ACTION.addRowAxis }));\n                        }\n                        else {\n                            return configuratorReducer(state, __assign(__assign({}, action), { type: exports.PIVOT_CONFIGURATOR_ACTION.addColumnAxis }));\n                        }\n                    }\n                }\n                break;\n            }\n            case exports.PIVOT_CONFIGURATOR_ACTION.addColumnAxis: {\n                newColumns = __spreadArrays((state.columnAxes || []), [\n                    { name: [action.payload.defaultHierarchy || action.payload.uniqueName] }\n                ]);\n                break;\n            }\n            case exports.PIVOT_CONFIGURATOR_ACTION.addColumnAxes: {\n                // TODO;\n                break;\n            }\n            case exports.PIVOT_CONFIGURATOR_ACTION.removeColumnAxis: {\n                newColumns = __spreadArrays((state.columnAxes || []).filter(function (s) { return !compareAxisWithField(s, action.payload); }));\n                filterField(newColumns, action.payload);\n                break;\n            }\n            case exports.PIVOT_CONFIGURATOR_ACTION.removeColumnAxes: {\n                // TODO;\n                break;\n            }\n            case exports.PIVOT_CONFIGURATOR_ACTION.addRowAxis: {\n                newRows = __spreadArrays((state.rowAxes || []), [\n                    { name: [action.payload.defaultHierarchy || action.payload.uniqueName] }\n                ]);\n                break;\n            }\n            case exports.PIVOT_CONFIGURATOR_ACTION.addRowAxes: {\n                // TODO;\n                break;\n            }\n            case exports.PIVOT_CONFIGURATOR_ACTION.removeRowAxis: {\n                newRows = __spreadArrays((state.rowAxes || []).filter(function (s) { return !compareAxisWithField(s, action.payload); }));\n                filterField(newRows, action.payload);\n                break;\n            }\n            case exports.PIVOT_CONFIGURATOR_ACTION.removeRowAxes: {\n                // TODO;\n                break;\n            }\n            case exports.PIVOT_CONFIGURATOR_ACTION.addMeasureAxis: {\n                newMeasures = __spreadArrays((state.measureAxes || []), [\n                    { name: [action.payload.defaultHierarchy || action.payload.uniqueName] }\n                ]);\n                break;\n            }\n            case exports.PIVOT_CONFIGURATOR_ACTION.removeMeasureAxis: {\n                newMeasures = __spreadArrays((state.measureAxes || []).filter(function (s) { return !compareAxisWithField(s, action.payload); }));\n                break;\n            }\n            case exports.PIVOT_CONFIGURATOR_ACTION.addMeasureAxes: {\n                newMeasures = __spreadArrays((state.measureAxes || []), (action.payload || []).map(function (p) { return ({ name: [p.defaultHierarchy || p.uniqueName] }); }));\n                break;\n            }\n            case exports.PIVOT_CONFIGURATOR_ACTION.removeMeasureAxes: {\n                newMeasures = __spreadArrays((state.measureAxes || []).filter(function (s) { return !action.payload.some(function (p) { return compareAxisWithField(s, p); }); }));\n                break;\n            }\n            case exports.PIVOT_CONFIGURATOR_ACTION.remove: {\n                if (state.columnAxes.some(function (s) { return compareAxes(s, action.payload); })) {\n                    newColumns = __spreadArrays(state.columnAxes.filter(function (s) { return !compareAxes(s, action.payload); }));\n                    filterField(newColumns, { uniqueName: action.payload.name });\n                }\n                if (state.rowAxes.some(function (s) { return compareAxes(s, action.payload); })) {\n                    newRows = __spreadArrays(state.rowAxes.filter(function (s) { return !compareAxes(s, action.payload); }));\n                    filterField(newRows, { uniqueName: action.payload.name });\n                }\n                if (state.measureAxes.some(function (s) { return compareAxes(s, action.payload); })) {\n                    newMeasures = __spreadArrays(state.measureAxes.filter(function (s) { return !compareAxes(s, action.payload); }));\n                }\n                break;\n            }\n            case exports.PIVOT_CONFIGURATOR_ACTION.setDragItem:\n                newDragitem = action.payload;\n                break;\n            case exports.PIVOT_CONFIGURATOR_ACTION.setDropZone:\n                newDropZone = action.payload;\n                break;\n            case exports.PIVOT_CONFIGURATOR_ACTION.setDropTarget:\n                newDropTarget = action.payload;\n                break;\n            case exports.PIVOT_CONFIGURATOR_ACTION.setDropDirection:\n                newDropDirection = action.payload;\n                break;\n            case exports.PIVOT_CONFIGURATOR_ACTION.drop:\n                if (state.dragItem && state.dropZone) {\n                    var currentColumn = state.columnAxes.find(function (s) { return compareAxes(s, action.payload); });\n                    var currentRow = state.rowAxes.find(function (s) { return compareAxes(s, action.payload); });\n                    var currentMeasure = state.measureAxes.find(function (s) { return compareAxes(s, action.payload); });\n                    var current = void 0;\n                    if (currentColumn) {\n                        current = currentColumn;\n                        newColumns = __spreadArrays(state.columnAxes.filter(function (s) { return !compareAxes(s, action.payload); }));\n                        filterField(newColumns, { uniqueName: action.payload.name });\n                    }\n                    if (currentRow) {\n                        current = currentRow;\n                        newRows = __spreadArrays(state.rowAxes.filter(function (s) { return !compareAxes(s, action.payload); }));\n                        filterField(newRows, { uniqueName: action.payload.name });\n                    }\n                    if (currentMeasure) {\n                        current = currentMeasure;\n                        newMeasures = __spreadArrays(state.measureAxes.filter(function (s) { return !compareAxes(s, action.payload); }));\n                    }\n                    switch (state.dropZone) {\n                        case 'columnAxes': {\n                            newColumns = newColumns || state.columnAxes.slice();\n                            insertAxis(newColumns, current, state);\n                            break;\n                        }\n                        case 'rowAxes': {\n                            newRows = newRows || state.rowAxes.slice();\n                            insertAxis(newRows, current, state);\n                            break;\n                        }\n                        case 'measureAxes': {\n                            newMeasures = newMeasures || state.measureAxes.slice();\n                            insertAxis(newMeasures, current, state);\n                            break;\n                        }\n                    }\n                }\n                newDragitem = null;\n                newDropZone = null;\n                newDropTarget = null;\n                break;\n            case exports.PIVOT_CONFIGURATOR_ACTION.setSort:\n                newSort = action.payload;\n                break;\n            case exports.PIVOT_CONFIGURATOR_ACTION.setFilter:\n                if (Array.isArray(action.payload)) {\n                    newFilter = action.payload;\n                }\n                else {\n                    newFilter = [action.payload];\n                }\n                break;\n            case exports.PIVOT_CONFIGURATOR_ACTION.addFilter:\n                newFilter = (state.filter || []).slice();\n                if (Array.isArray(action.payload)) {\n                    newFilter.push.apply(newFilter, action.payload);\n                }\n                else {\n                    newFilter.push(action.payload);\n                }\n                break;\n            case exports.PIVOT_CONFIGURATOR_ACTION.changeFilter:\n                newFilter = (Array.isArray(action.payload)\n                    ? (state.filter || []).map(function (f) { return action.payload.some(function (a) { return a.field === f.field; })\n                        ? action.payload.find(function (a) { return a.field === f.field; })\n                        : f; })\n                    : (state.filter || []).map(function (f) { return f.field === action.payload.field\n                        ? action.payload\n                        : f; }));\n                break;\n            case exports.PIVOT_CONFIGURATOR_ACTION.removeFilter:\n                newFilter = (state.filter || []).slice();\n                if (Array.isArray(action.payload)) {\n                    newFilter = newFilter.filter(function (f) { return !action.payload.some(function (p) { return p.field === f.field &&\n                        p.operator === f.operator; }); });\n                }\n                else {\n                    newFilter = newFilter.filter(function (f) { return !(f.field === action.payload.field\n                        && f.operator === action.payload.operator); });\n                }\n                break;\n        }\n        return {\n            dragItem: newDragitem,\n            dropTarget: newDropTarget,\n            dropDirection: newDropDirection,\n            dropZone: newDropZone,\n            columnAxes: newColumns,\n            rowAxes: newRows,\n            measureAxes: newMeasures,\n            filter: newFilter,\n            sort: newSort\n        };\n    };\n\n    // tslint:disable:object-literal-sort-keys\n    /**\n     * Represents the aggregate object which calculates the total value. Applicable for local data binding.\n     */\n    var sumAggregate = {\n        init: function (data) {\n            if (('sum' in data) === false) {\n                data.sum = 0;\n            }\n        },\n        merge: function (src, dest) {\n            dest.sum += src.sum;\n        },\n        accumulate: function (acc, value) {\n            acc.sum += value;\n        },\n        result: function (data) { return data.sum; },\n        format: function (value) { return value.toFixed(2); }\n    };\n    /**\n     * Represents the aggregate object which calculates the minimum value. Applicable for local data binding.\n     */\n    var minAggregate = {\n        init: function (data) {\n            if (('min' in data) === false) {\n                data.min = Number.POSITIVE_INFINITY;\n            }\n        },\n        merge: function (src, dest) {\n            dest.min = Math.min(src.min, dest.min);\n        },\n        accumulate: function (acc, value) {\n            acc.min = Math.min(value, acc.min);\n        },\n        result: function (data) { return Number.isFinite(data.min) ? data.min : NaN; },\n        format: function (value) { return value.toFixed(2); }\n    };\n    /**\n     * Represents the aggregate object which calculates the maximum value. Applicable for local data binding.\n     */\n    var maxAggregate = {\n        init: function (data) {\n            if (('max' in data) === false) {\n                data.max = Number.NEGATIVE_INFINITY;\n            }\n        },\n        merge: function (src, dest) {\n            dest.max = Math.max(src.max, dest.max);\n        },\n        accumulate: function (acc, value) {\n            acc.max = Math.max(value, acc.max);\n        },\n        result: function (data) { return Number.isFinite(data.max) ? data.max : NaN; },\n        format: function (value) { return value.toFixed(2); }\n    };\n    /**\n     * Represents the aggregate object which calculates the average value. Applicable for local data binding.\n     */\n    var averageAggregate = {\n        init: function (data) {\n            if (('count' in data) === false) {\n                data.sumA = 0;\n                data.count = 0;\n            }\n        },\n        merge: function (src, dest) {\n            dest.sumA += src.sumA;\n            dest.count += src.count;\n        },\n        accumulate: function (acc, value) {\n            acc.sumA += value;\n            acc.count += 1;\n        },\n        result: function (data) { return data.sumA / data.count; },\n        format: function (value) { return value.toFixed(2); }\n    };\n\n    /**\n     * @hidden\n     */\n    var isPresent = function (value) { return value !== null && value !== undefined; };\n    /**\n     * @hidden\n     */\n    var isBlank = function (value) { return value === null || value === undefined; };\n    /**\n     * @hidden\n     */\n    var isArray = function (value) { return Array.isArray(value); };\n    /**\n     * @hidden\n     */\n    var isFunction = function (value) { return typeof value === 'function'; };\n    /**\n     * @hidden\n     */\n    var isString = function (value) { return typeof value === 'string'; };\n    /**\n     * @hidden\n     */\n    var isNullOrEmptyString = function (value) { return isBlank(value) || value.trim().length === 0; };\n    /**\n     * @hidden\n     */\n    var isNotNullOrEmptyString = function (value) { return !isNullOrEmptyString(value); };\n    /**\n     * @hidden\n     */\n    var isNumeric = function (value) { return !isNaN(value - parseFloat(value)); };\n    /**\n     * @hidden\n     */\n    var isDate = function (value) { return value && value.getTime; };\n\n    // tslint:enable:max-line-length\n    /**\n     * @hidden\n     * Type guard for `CompositeFilterDescriptor`.\n     */\n    var isCompositeFilterDescriptor = function (source) {\n        return isPresent(source.filters);\n    };\n\n    /**\n     * @hidden\n     */\n    var ifElse = function (predicate, right, left) { return function (value) { return predicate(value) ? right(value) : left(value); }; };\n    /**\n     * @hidden\n     * Performs the right-to-left function composition. Functions should have a unary.\n     */\n    var compose = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return function (data) { return args.reduceRight(function (acc, curr) { return curr(acc); }, data); };\n    };\n\n    /**\n     * @hidden\n     */\n    var toUTC = function (date) {\n        return new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n    };\n    /**\n     * @hidden\n     */\n    var isDateValue = function (x) { return isDate(x.value); };\n\n    var getterCache = {};\n    var FIELD_REGEX = /\\[(?:(\\d+)|['\"](.*?)['\"])\\]|((?:(?!\\[.*?\\]|\\.).)+)/g;\n    // tslint:disable-next-line:no-string-literal\n    getterCache['undefined'] = function (obj) { return obj; };\n    /**\n     * @hidden\n     */\n    var getter = function (field, safe) {\n        var key = field + safe;\n        if (getterCache[key]) {\n            return getterCache[key];\n        }\n        var fields = [];\n        field.replace(FIELD_REGEX, function (_, index, indexAccessor, field) {\n            fields.push(isPresent(index) ? index : (indexAccessor || field));\n            return undefined;\n        });\n        getterCache[key] = function (obj) {\n            var result = obj;\n            for (var idx = 0; idx < fields.length; idx++) {\n                result = result[fields[idx]];\n                if (!isPresent(result) && safe) {\n                    return result;\n                }\n            }\n            return result;\n        };\n        return getterCache[key];\n    };\n\n    var pairwise = function (key) { return function (value) { return [key, value]; }; };\n    var empty = function () { return null; };\n    var isNotEmptyArray = function (value) { return isPresent(value) && isArray(value) && value.length > 0; };\n    var isNotEmpty = function (accessor) { return function (value) { return isNotEmptyArray(accessor(value)); }; };\n    var runOrEmpty = function (predicate, fn) { return ifElse(predicate, fn, empty); };\n    var calcPage = function (_a) {\n        var skip = _a.skip, take = _a.take;\n        return Math.floor((skip || 0) / take) + 1;\n    };\n    var formatDescriptors = function (accessor, formatter) { return function (state) { return (accessor(state).map(formatter).join(\"~\")); }; };\n    var removeAfter = function (what) { return function (str) { return str.slice(0, str.indexOf(what)); }; };\n    var replace = function (patterns) {\n        return compose.apply(void 0, patterns.map(function (_a) {\n            var left = _a[0], right = _a[1];\n            return function (s) { return s.replace(new RegExp(left, \"g\"), right); };\n        }));\n    };\n    var sanitizeDateLiterals = replace([[\"\\\"\", \"\"], [\":\", \"-\"]]);\n    var removeAfterDot = removeAfter(\".\");\n    var directionFormatter = function (_a) {\n        var field = _a.field, _b = _a.dir, dir = _b === void 0 ? \"asc\" : _b;\n        return field + \"-\" + dir;\n    };\n    var aggregateFormatter = function (_a) {\n        var field = _a.field, aggregate = _a.aggregate;\n        return field + \"-\" + aggregate;\n    };\n    var take = getter(\"take\");\n    var aggregates = getter(\"aggregates\");\n    getter(\"skip\");\n    var group = getter(\"group\");\n    var sort = getter(\"sort\", true);\n    var formatSort = formatDescriptors(sort, directionFormatter);\n    var formatGroup = formatDescriptors(group, directionFormatter);\n    var formatAggregates = formatDescriptors(aggregates, aggregateFormatter);\n    var prefixDateValue = function (value) { return \"datetime'\" + value + \"'\"; };\n    var formatDateValue = compose(prefixDateValue, removeAfterDot, sanitizeDateLiterals, JSON.stringify, toUTC);\n    var formatDate = function (_a) {\n        var field = _a.field, value = _a.value, ignoreCase = _a.ignoreCase, operator = _a.operator;\n        return ({\n            value: formatDateValue(value),\n            field: field,\n            ignoreCase: ignoreCase,\n            operator: operator\n        });\n    };\n    var normalizeSort = function (state) { return Object.assign({}, state, {\n        sort: (sort(state) || []).filter(function (_a) {\n            var dir = _a.dir;\n            return isNotNullOrEmptyString(dir);\n        })\n    }); };\n    compose(pairwise('page'), calcPage);\n    compose(pairwise('pageSize'), take);\n    compose(pairwise('group'), formatGroup);\n    var transformSort = compose(pairwise('sort'), formatSort);\n    compose(pairwise('aggregate'), formatAggregates);\n    compose(runOrEmpty(isNotEmpty(sort), transformSort), normalizeSort);\n    var filterFormatter = function (_a) {\n        var field = _a.field, operator = _a.operator, value = _a.value;\n        return field + \"~\" + operator + \"~\" + value;\n    };\n    ifElse(isDateValue, compose(filterFormatter, formatDate), filterFormatter);\n\n    // tslint:enable:max-line-length\n    var set = function (field, target, value) {\n        target[field] = value;\n        return target;\n    };\n    var convert = function (mapper) { return function (values) { return Object.keys(values).reduce(mapper.bind(null, values), {}); }; };\n    var translateAggregate = convert(function (source, acc, field) { return set(field.toLowerCase(), acc, source[field]); });\n    var translateAggregates = convert(function (source, acc, field) { return set(field, acc, translateAggregate(source[field])); });\n    var valueOrDefault = function (value, defaultValue) { return isPresent(value) ? value : defaultValue; };\n    var normalizeGroup = function (group) { return ({\n        aggregates: group.Aggregates || group.aggregates,\n        field: group.Member || group.member || group.field,\n        hasSubgroups: group.HasSubgroups || group.hasSubgroups || false,\n        items: group.Items || group.items,\n        value: valueOrDefault(group.Key, valueOrDefault(group.key, group.value))\n    }); };\n    var translateGroup = compose(function (_a) {\n        var field = _a.field, hasSubgroups = _a.hasSubgroups, value = _a.value, aggregates = _a.aggregates, items = _a.items;\n        return ({\n            aggregates: translateAggregates(aggregates),\n            field: field,\n            items: hasSubgroups ? items.map(translateGroup) : items,\n            value: value\n        });\n    }, normalizeGroup);\n\n    var logic = {\n        \"or\": {\n            concat: function (acc, fn) { return function (a) { return acc(a) || fn(a); }; },\n            identity: function () { return false; }\n        },\n        \"and\": {\n            concat: function (acc, fn) { return function (a) { return acc(a) && fn(a); }; },\n            identity: function () { return true; }\n        }\n    };\n    var operatorsMap = {\n        contains: function (a, b) { return (a || \"\").indexOf(b) >= 0; },\n        doesnotcontain: function (a, b) { return (a || \"\").indexOf(b) === -1; },\n        doesnotendwith: function (a, b) { return (a || \"\").indexOf(b, (a || \"\").length - (b || \"\").length) < 0; },\n        doesnotstartwith: function (a, b) { return (a || \"\").lastIndexOf(b, 0) === -1; },\n        endswith: function (a, b) { return (a || \"\").indexOf(b, (a || \"\").length - (b || \"\").length) >= 0; },\n        eq: function (a, b) { return a === b; },\n        gt: function (a, b) { return a > b; },\n        gte: function (a, b) { return a >= b; },\n        isempty: function (a) { return a === ''; },\n        isnotempty: function (a) { return a !== ''; },\n        isnotnull: function (a) { return isPresent(a); },\n        isnull: function (a) { return isBlank(a); },\n        lt: function (a, b) { return a < b; },\n        lte: function (a, b) { return a <= b; },\n        neq: function (a, b) { return a != b; },\n        startswith: function (a, b) { return (a || \"\").lastIndexOf(b, 0) === 0; }\n    };\n    var dateRegExp = /^\\/Date\\((.*?)\\)\\/$/;\n    var convertValue = function (value, ignoreCase) {\n        if (value != null && isString(value)) {\n            var date = dateRegExp.exec(value);\n            if (date) {\n                return new Date(+date[1]).getTime();\n            }\n            else if (ignoreCase) {\n                return value.toLowerCase();\n            }\n        }\n        else if (value != null && isDate(value)) {\n            return value.getTime();\n        }\n        return value;\n    };\n    var typedGetter = function (prop, value, ignoreCase) {\n        if (!isPresent(value)) {\n            return prop;\n        }\n        var acc = prop;\n        if (isString(value)) {\n            var date = dateRegExp.exec(value);\n            if (date) {\n                value = new Date(+date[1]);\n            }\n            else {\n                acc = function (a) {\n                    var x = prop(a);\n                    if (typeof x === 'string' && ignoreCase) {\n                        return x.toLowerCase();\n                    }\n                    else {\n                        return isNumeric(x) ? x + \"\" : x;\n                    }\n                };\n            }\n        }\n        if (isDate(value)) {\n            return function (a) {\n                var x = acc(a);\n                return isDate(x) ? x.getTime() : x;\n            };\n        }\n        return acc;\n    };\n    var transformFilter = function (_a) {\n        var field = _a.field, ignoreCase = _a.ignoreCase, value = _a.value, operator = _a.operator;\n        field = !isPresent(field) ? function (a) { return a; } : field;\n        ignoreCase = isPresent(ignoreCase) ? ignoreCase : true;\n        var itemProp = typedGetter(isFunction(field) ? field : getter(field, true), value, ignoreCase);\n        value = convertValue(value, ignoreCase);\n        var op = isFunction(operator) ? operator : operatorsMap[operator];\n        return function (a) { return op(itemProp(a), value, ignoreCase); };\n    };\n    /**\n     * @hidden\n     */\n    var transformCompositeFilter = function (filter) {\n        var combiner = logic[filter.logic];\n        return filter.filters\n            .filter(isPresent)\n            .map(function (x) { return isCompositeFilterDescriptor(x) ? transformCompositeFilter(x) : transformFilter(x); })\n            .reduce(combiner.concat, combiner.identity);\n    };\n\n    // tslint:disable:max-line-length\n    /**\n     * Creates a [Predicate]({% slug api_kendo-data-query_predicate %}) function for the specified [CompositeFilterDescriptor]({% slug api_kendo-data-query_compositefilterdescriptor %}).\n     *\n     * @param {CompositeFilterDescriptor} descriptor - The descriptor for which the predicate is created.\n     * @returns {Predicate} - The created function instance.\n     *\n     * @example\n     * ```ts\n     * import { compileFilter } from '@progress/kendo-data-query';\n     *\n     * const data = [{ name: \"Pork\" }, { name: \"Pepper\" }, { name: \"Beef\" } ];\n     * const predicate = compileFilter({ logic: \"and\", filters: [{ field: \"name\", operator: \"startswith\", value: \"P\" }] });\n     * const result = data.filter(predicate);\n     *\n     * ```\n     */\n    // tslint:enable:max-line-length\n    var compileFilter = function (descriptor) {\n        if (!descriptor || descriptor.filters.length === 0) {\n            return function () { return true; };\n        }\n        return transformCompositeFilter(descriptor);\n    };\n\n    function forEachDesc(desc, callbackfn) {\n        if ('filters' in desc) {\n            desc.filters.map(function (child) { return forEachDesc(child, callbackfn); });\n        }\n        else {\n            callbackfn(desc);\n        }\n    }\n    var filterFields = function (filter, callback) {\n        var descriptors = Array.isArray(filter) ? filter : filter.filters;\n        descriptors.forEach(function (desc) { return forEachDesc(desc, callback); });\n    };\n    /** @hidden */\n    var initializeFiltering = function (rows, columns, filter) {\n        var compositeFilter = filter ?\n            (Array.isArray(filter) ? { logic: 'and', filters: filter } : filter) : undefined;\n        var predicate = compositeFilter ? compileFilter(compositeFilter) : function () { return true; };\n        var axes = rows.concat(columns);\n        var fieldValues = [];\n        filterFields(filter || [], function (desc) {\n            if ('field' in desc && desc.field) {\n                fieldValues.push(desc.field);\n            }\n        });\n        var result = { hasFilter: false, predicate: predicate, filteringAxes: [] };\n        if (fieldValues.some(function (f) { return typeof f === 'function'; })) {\n            result.filteringAxes = axes.slice();\n        }\n        else if (fieldValues.length > 0) {\n            var filteringFields_1 = Array.from(new Set(fieldValues).values());\n            var filteringAxes = axes.filter(function (a) { return filteringFields_1.indexOf(a.key) >= 0; });\n            result.filteringAxes = filteringAxes;\n        }\n        result.hasFilter = result.filteringAxes.length > 0;\n        return result;\n    };\n\n    /** @hidden */\n    var subNode = function (node, field, initialNode) {\n        var childNode = node.get(field);\n        if (!childNode) {\n            childNode = initialNode || new Map();\n            node.set(field, childNode);\n        }\n        return childNode;\n    };\n    var separator = '&';\n    /** @hidden */\n    var createKey = function (key, value) { return key + separator + value; };\n    /** @hidden */\n    var splitKeyValue = function (keyValue) {\n        var separatorIndex = keyValue.indexOf(separator);\n        if (separatorIndex !== -1) {\n            var key = keyValue.substring(0, separatorIndex);\n            var value = keyValue.substring(separatorIndex + 1);\n            return [key, value];\n        }\n        else {\n            return [keyValue, undefined];\n        }\n    };\n\n    var calculateColumnData = function (node, measures, dataField) {\n        node.forEach(function (childNode, k) {\n            if (k !== dataField) {\n                if (childNode.size > 0) {\n                    calculateColumnData(childNode, measures, dataField);\n                }\n                var childData_1 = childNode.get(dataField);\n                var parentData_1 = subNode(node, dataField, {});\n                measures.forEach(function (m) {\n                    m.aggregate.init(parentData_1);\n                    m.aggregate.merge(childData_1, parentData_1);\n                });\n            }\n        });\n    };\n    /** @hidden */\n    var mergeTrees = function (src, dest, measures, dataField) {\n        src.forEach(function (srcChild, k) {\n            var destChild;\n            if (k !== dataField) {\n                destChild = subNode(dest, k);\n                mergeTrees(srcChild, destChild, measures, dataField);\n            }\n            else {\n                destChild = subNode(dest, k, {});\n                measures.forEach(function (m) {\n                    m.aggregate.init(destChild);\n                    m.aggregate.merge(srcChild, destChild);\n                });\n            }\n        });\n    };\n    var calculateColumns = function (node, measures, columnsData, dataField) {\n        node.forEach(function (childNode, k) {\n            if (k !== columnsData) {\n                if (childNode.size > 0) {\n                    calculateColumns(childNode, measures, columnsData, dataField);\n                }\n                var srcColumns = subNode(childNode, columnsData);\n                var destColumns = subNode(node, columnsData);\n                mergeTrees(srcColumns, destColumns, measures, dataField);\n            }\n        });\n    };\n    /** @hidden */\n    var createDataTree = function (data, rows, columns, measures, fields, filter) {\n        var result = new Map();\n        var cache = new Map();\n        var axes = rows.concat(columns);\n        var leafNodes = new Set();\n        var dataField = fields.dataField, columnsData = fields.columnsData;\n        var _a = initializeFiltering(rows, columns, filter), hasFilter = _a.hasFilter, predicate = _a.predicate, filteringAxes = _a.filteringAxes;\n        var empty = '';\n        data.forEach(function (dataItem) {\n            if (hasFilter) {\n                var filteringDataItem_1 = {};\n                filteringAxes.forEach(function (axis) { filteringDataItem_1[axis.key] = axis.displayValue(dataItem); });\n                if (!predicate(filteringDataItem_1)) {\n                    return;\n                }\n            }\n            var values = axes.map(function (a) { return a.displayValue(dataItem); });\n            var dataKey = empty.concat.apply(empty, values);\n            var nodeData = cache.get(dataKey);\n            if (!nodeData) {\n                var node_1 = result;\n                var eachAxis = function (axis) {\n                    node_1 = subNode(node_1, createKey(axis.key, axis.displayValue(dataItem)));\n                };\n                rows.forEach(eachAxis);\n                node_1 = subNode(node_1, columnsData);\n                leafNodes.add(node_1);\n                columns.forEach(eachAxis);\n                nodeData = {};\n                node_1.set(dataField, nodeData);\n                cache.set(dataKey, nodeData);\n                measures.forEach(function (m) {\n                    m.aggregate.init(nodeData);\n                });\n            }\n            measures.forEach(function (m) {\n                m.aggregate.accumulate(nodeData, m.value(dataItem));\n            });\n        });\n        leafNodes.forEach(function (leaf) { return calculateColumnData(leaf, measures, dataField); });\n        calculateColumns(result, measures, columnsData, dataField);\n        return result;\n    };\n    /** @hidden */\n    var cloneDataTree = function (dataTree, dataField, measures) {\n        var result = new Map();\n        mergeTrees(dataTree, result, measures, dataField);\n        return result;\n    };\n\n    var createPath = function (name, axes, path) {\n        var _a = splitKeyValue(name), key = _a[0], value = _a[1];\n        var result = path.slice();\n        if (key && value) {\n            var axis = axes.find(function (a) { return a.key === key; });\n            var caption_1 = axis ? axis.caption : '';\n            return result.map(function (p) { return p === caption_1 ? name : p; });\n        }\n        return result;\n    };\n    var membersNode = function (tree, members, field, axisSettings, measures, dataField, cache) {\n        var cacheData = cache || new Map();\n        var path = axisSettings.map(function (a) { return a.caption; });\n        while (members.length > 1 && axisSettings.some(function (a) { return a.caption === members[members.length - 1].caption; })) {\n            members.pop();\n            path.pop();\n        }\n        var node = tree;\n        members.forEach(function (m, i) {\n            path = createPath(m.name, axisSettings, path);\n            if (node && !axisSettings.some(function (a) { return a.caption === m.name; })) {\n                if (!node.has(m.name) && !cacheData.has(path.slice(0, path.indexOf(m.name) + 1).join('-'))) {\n                    var currentLevel = Array.from(node).find(function (n) { return n[0] !== field; });\n                    var currentLevelNode = currentLevel && currentLevel[0];\n                    var levelField_1 = currentLevelNode && splitKeyValue(currentLevelNode)[0];\n                    var depth = levelField_1 ? i - axisSettings.findIndex(function (a) { return a.key === levelField_1; }) : 0;\n                    var _loop_1 = function (t) {\n                        var data = [];\n                        node.forEach(function (value, key) {\n                            if (key !== field) {\n                                data.push.apply(data, Array.from(value).filter(function (d) { return d[0] !== field; }));\n                            }\n                        });\n                        var next = new Map();\n                        data.forEach(function (item) {\n                            if (next.has(item[0])) {\n                                var dest = next.get(item[0]);\n                                var src = item[1];\n                                var newDest = new Map();\n                                mergeTrees(dest, newDest, measures, dataField);\n                                mergeTrees(src, newDest, measures, dataField);\n                                next.set(item[0], newDest);\n                            }\n                            else {\n                                next.set(item[0], new Map(item[1]));\n                            }\n                        });\n                        var currentPath = path.slice(0, path.indexOf(m.name));\n                        next.forEach(function (value, key) {\n                            cacheData.set(createPath(key, axisSettings, currentPath.concat([key])).join('-'), value);\n                        });\n                        next.set(field, node.get(field));\n                        node = next;\n                    };\n                    for (var t = 0; t < depth; t++) {\n                        _loop_1(t);\n                    }\n                }\n                node = node.get(m.name) || cacheData.get(path.slice(0, path.indexOf(m.name) + 1).join('-'));\n            }\n        });\n        return node;\n    };\n    /** @hidden */\n    var readData = function (dataTree, rowTuples, columnTuples, fields, columnSettings, rowSettings, measures) {\n        var data = [];\n        var dataField = fields.dataField, columnsData = fields.columnsData;\n        var rowsCache = new Map();\n        rowTuples.forEach(function (row) {\n            var rowNode = membersNode(dataTree, row.members.slice(), columnsData, rowSettings, measures, dataField, rowsCache);\n            var rowColumnsNode = rowNode && rowNode.get(columnsData);\n            columnTuples.forEach(function (col) {\n                var members = col.members.slice();\n                var measure = measures[0];\n                if (members[members.length - 1].levelName === \"[Measures].[MeasuresLevel]\") {\n                    var measuresMember_1 = members.pop();\n                    measure = measures.find(function (m) { return String(m.name) === measuresMember_1.caption; }) || measure;\n                }\n                var colNode = rowColumnsNode && membersNode(rowColumnsNode, members, dataField, columnSettings, measures, dataField);\n                var value = '', fmtValue = '', ordinal = 0;\n                if (colNode && measure) {\n                    var result = measure.aggregate.result(colNode.get(dataField));\n                    value = String(result);\n                    fmtValue = measure.aggregate.format(result);\n                }\n                data.push({\n                    columnTuple: col,\n                    data: { fmtValue: fmtValue, ordinal: ordinal, value: value },\n                    rowTuple: row\n                });\n            });\n        });\n        return data;\n    };\n\n    var getTopMembersTuple = function (parentFields, axesSettings) {\n        var allTuple = { members: [] };\n        parentFields.forEach(function (topField) {\n            var axis = axesSettings.find(function (a) { return a.key === topField; });\n            var caption = axis ? axis.caption : \"\";\n            var member = {\n                caption: caption,\n                children: [],\n                hasChildren: true,\n                parentName: \"\",\n                levelNum: 0,\n                levelName: caption,\n                hierarchy: topField,\n                name: caption\n            };\n            allTuple.members.push(member);\n        });\n        return allTuple;\n    };\n    var sortFunc = function (descriptor, axe) {\n        return function (a, b) {\n            var order = descriptor.dir;\n            var sortableA = axe.sortValue(splitKeyValue(a[0])[1]);\n            var sortableB = axe.sortValue(splitKeyValue(b[0])[1]);\n            if (sortableA < sortableB) {\n                return order === \"asc\" ? -1 : 1;\n            }\n            if (sortableA > sortableB) {\n                return order === \"asc\" ? 1 : -1;\n            }\n            return 0;\n        };\n    };\n    var mergeData = function (src, dest, exclude) {\n        src.forEach(function (srcChild, k) {\n            if (!exclude[k]) {\n                var destChild = subNode(dest, k);\n                mergeData(srcChild, destChild, exclude);\n            }\n        });\n    };\n    var childrenByKeys = function (dataTree, keys, exclude) {\n        var result = [];\n        var nodeData = function (node) { return Array.from(node).filter(function (n) { return !exclude[n[0]]; }); };\n        var element = new Map(dataTree);\n        var next;\n        var _loop_1 = function (i) {\n            next = element.get(keys[i]);\n            if (next) {\n                element = new Map(next);\n            }\n            else if (i < keys.length - 1 && Array.from(element).some(function (e) { return splitKeyValue(e[0])[0] === keys[i]; })) {\n                var curLevel_1 = [];\n                element.forEach(function (child, key) {\n                    if (!exclude[key]) {\n                        curLevel_1.push.apply(curLevel_1, nodeData(new Map(child)));\n                    }\n                });\n                element = new Map();\n                curLevel_1.forEach(function (item) {\n                    if (element.has(item[0])) {\n                        var dest = element.get(item[0]);\n                        var src = item[1];\n                        var newDest = new Map();\n                        mergeData(dest, newDest, exclude);\n                        mergeData(src, newDest, exclude);\n                        element.set(item[0], newDest);\n                    }\n                    else {\n                        element.set(item[0], new Map(item[1]));\n                    }\n                });\n            }\n            else if (i === 0 || i === keys.length - 1) {\n                if (Array.from(element).some(function (e) { return splitKeyValue(e[0])[0] === keys[i]; })) {\n                    result.push.apply(result, nodeData(element));\n                }\n            }\n        };\n        for (var i = 0; i < keys.length; i++) {\n            _loop_1(i);\n        }\n        return result;\n    };\n    /** @hidden */\n    var rootFields = function (definitions) {\n        var fields = new Set();\n        definitions.forEach(function (item) {\n            if (item.name.length === 1 && !splitKeyValue(item.name[0])[1]) {\n                fields.add(item.name[0]);\n            }\n        });\n        return fields;\n    };\n    /** @hidden */\n    var createTuples = function (axesSettings, definitions, dataTree, sortDescriptors, excludeFields) {\n        var parentFields = rootFields(definitions);\n        var flatMembers = [];\n        var topTuple = getTopMembersTuple(parentFields, axesSettings);\n        flatMembers.push(topTuple);\n        var _loop_2 = function (i) {\n            var currDef = definitions[i];\n            if (currDef.name.length === 1 && !currDef.expand && parentFields.has(currDef.name[0])) {\n                return \"continue\";\n            }\n            var keysToAdd = new Set(parentFields.keys());\n            var currDefMembers = [];\n            var keys = [];\n            var tuples = [];\n            var axe;\n            currDef.name.forEach(function (element, index) {\n                var _a;\n                var _b = splitKeyValue(element), field = _b[0], value = _b[1];\n                axe = axesSettings.find(function (a) { return a.key === field; });\n                if (value) {\n                    keysToAdd.delete(field);\n                    keys.push(element);\n                    var member = {\n                        children: [],\n                        caption: value,\n                        hierarchy: field,\n                        levelNum: 1,\n                        levelName: field + \" \" + field,\n                        name: element,\n                        parentName: axe ? axe.caption : \"\"\n                    };\n                    currDefMembers.push(member);\n                }\n                else if (currDef.expand && currDef.name.length - 1 === index) {\n                    keysToAdd.delete(element);\n                    keys.push(element);\n                    var children = childrenByKeys(dataTree, keys, excludeFields);\n                    var descriptor = sortDescriptors.find(function (desc) { return desc.field === field; });\n                    if (descriptor && descriptor.dir) {\n                        children.sort(sortFunc(descriptor, axe));\n                    }\n                    for (var c = 0; c < children.length; c++) {\n                        var leafValue = children[c][0];\n                        var leafTuple = { members: [] };\n                        tuples.push(leafTuple);\n                        var caption = splitKeyValue(leafValue)[1];\n                        axe = axesSettings.find(function (a) { return a.key === element; });\n                        var member = {\n                            caption: caption,\n                            children: [],\n                            levelName: element + \" \" + element,\n                            levelNum: 1,\n                            parentName: axe ? axe.caption : \"\",\n                            hierarchy: element,\n                            name: leafValue\n                        };\n                        (_a = leafTuple.members).push.apply(_a, currDefMembers);\n                        leafTuple.members.push(member);\n                    }\n                }\n                else if (currDef.expand) {\n                    axe = axesSettings.find(function (a) { return a.key === element; });\n                    var axisCaption = axe ? axe.caption : \"\";\n                    keysToAdd.delete(element);\n                    keys.push(element);\n                    var member = {\n                        children: [],\n                        caption: axisCaption,\n                        hierarchy: element,\n                        levelName: axisCaption,\n                        levelNum: 0,\n                        name: axisCaption,\n                        parentName: \"\"\n                    };\n                    currDefMembers.push(member);\n                }\n                keysToAdd.forEach(function (key) {\n                    tuples.forEach(function (tuple) {\n                        axe = axesSettings.find(function (a) { return a.key === key; });\n                        var curCaption = axe ? axe.caption : \"\";\n                        var member = {\n                            children: [],\n                            hasChildren: true,\n                            caption: curCaption,\n                            hierarchy: key,\n                            levelName: curCaption,\n                            levelNum: 0,\n                            name: curCaption,\n                            parentName: \"\"\n                        };\n                        tuple.members.push(member);\n                    });\n                });\n                flatMembers.push.apply(flatMembers, tuples);\n            });\n        };\n        for (var i = 0; i < definitions.length; i++) {\n            _loop_2(i);\n        }\n        return flatMembers;\n    };\n    var addMeasure = function (tuple, measure) {\n        var measureMember = {\n            caption: String(measure.name),\n            children: [],\n            hasChildren: false,\n            hierarchy: \"[Measures]\",\n            levelName: \"[Measures].[MeasuresLevel]\",\n            levelNum: 0,\n            name: \"[Measures].[\" + measure.name + \"]\",\n            parentName: \"\"\n        };\n        var tupleCopy = copy(tuple);\n        tupleCopy.members.push(measureMember);\n        return tupleCopy;\n    };\n    /** @hidden */\n    var addMultipleMeasures = function (tuples, measures) {\n        if (measures.length < 2) {\n            return tuples;\n        }\n        var result = tuples.slice();\n        for (var i = result.length - 1; i >= 0; i--) {\n            var tuple = result[i];\n            result[i] = addMeasure(result[i], measures[0]);\n            for (var m = 1; m < measures.length; m++) {\n                var tupleWithMeasure = addMeasure(tuple, measures[m]);\n                result.splice(i + 1, 0, tupleWithMeasure);\n            }\n        }\n        return result;\n    };\n    /** @hidden */\n    var createLocalDataState = function (args) {\n        var _a;\n        var dataTree = args.dataTree, rowSettings = args.rowSettings, columnSettings = args.columnSettings, rowAxes = args.rowAxes, columnAxes = args.columnAxes, measures = args.measures, sort = args.sort, fields = args.fields;\n        var exclude = (_a = {}, _a[fields.columnsData] = fields.columnsData, _a[fields.dataField] = fields.dataField, _a);\n        var columnTuples = addMultipleMeasures(createTuples(columnSettings, columnAxes, dataTree.get(fields.columnsData), sort, exclude), measures);\n        var rowTuples = createTuples(rowSettings, rowAxes, dataTree, sort, exclude);\n        var resultData = readData(dataTree, rowTuples, columnTuples, fields, columnSettings, rowSettings, measures);\n        return {\n            columns: columnTuples,\n            data: resultData,\n            rows: rowTuples\n        };\n    };\n\n    /** @hidden */\n    var createFlatSchemaDimensions = function (dimensions, measures) {\n        var result = Object.keys(dimensions).map(function (dim) { return ({\n            caption: dim,\n            defaultHierarchy: dim,\n            description: '',\n            name: dim,\n            uniqueName: dim,\n            hierarchyUniqueName: dim,\n            measure: true,\n            type: 1 // https://github.com/telerik/kendo-pivotgrid-common/blob/develop/src/models/responseDiscover.ts#L12-L14\n        }); });\n        if (measures.length) {\n            result.push({\n                caption: 'Measures',\n                children: measures.map(function (m) { return ({\n                    aggregator: '1',\n                    caption: String(m.name),\n                    defaultFormat: '',\n                    description: '',\n                    displayFolder: '',\n                    groupName: String(m.name),\n                    name: String(m.name),\n                    uniqueName: String(m.name)\n                }); }),\n                type: 2,\n                description: '',\n                name: 'Measures',\n                uniqueName: '[Measures]'\n            });\n        }\n        return result;\n    };\n\n    exports.addKPI = addKPI;\n    exports.addMultipleMeasures = addMultipleMeasures;\n    exports.averageAggregate = averageAggregate;\n    exports.buildKPIMeasures = buildKPIMeasures;\n    exports.cloneDataTree = cloneDataTree;\n    exports.compareAxes = compareAxes;\n    exports.configuratorReducer = configuratorReducer;\n    exports.createAxisDescriptors = createAxisDescriptors;\n    exports.createDataState = createDataState;\n    exports.createDataTree = createDataTree;\n    exports.createDiscoverBody = createDiscoverBody;\n    exports.createFlatSchemaDimensions = createFlatSchemaDimensions;\n    exports.createLocalDataState = createLocalDataState;\n    exports.createRequestBody = createRequestBody;\n    exports.createTuples = createTuples;\n    exports.discoverCommands = discoverCommands;\n    exports.fetchData = fetchData;\n    exports.fetchDiscover = fetchDiscover;\n    exports.headersReducer = headersReducer;\n    exports.maxAggregate = maxAggregate;\n    exports.mergeTrees = mergeTrees;\n    exports.minAggregate = minAggregate;\n    exports.parseResponse = parseResponse;\n    exports.readData = readData;\n    exports.rootFields = rootFields;\n    exports.setFilter = setFilter;\n    exports.setSort = setSort;\n    exports.sumAggregate = sumAggregate;\n    exports.toColumns = toColumns;\n    exports.toData = toData;\n    exports.toRows = toRows;\n    exports.toTree = toTree;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n    return exports;\n\n})({});\n\n})();\n\n}, __webpack_require__.amdD);\n\n/***/ }),\n\n/***/ 54752:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"../kendo.core\");\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/amd define */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.amdD = function () {\n/******/ \t\t\tthrow new Error('define cannot be used indirect');\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module used 'module' so it can't be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__(94888);\n/******/ \tmodule.exports = __webpack_exports__;\n/******/ \t\n/******/ })()\n;"],"mappings":";;AAAA;AAAS,CAAC,YAAW;EAAE;;EACvB;EAAU,IAAIA,mBAAmB,GAAI;IAErC;IAAM;IACN;IAAO,UAASC,MAAT,EAAiBC,OAAjB,EAA0BC,mBAA1B,EAA+C;MAEtD,IAAIC,8BAAJ,EAAoCC,4BAApC,EAAkEC,6BAAlE;;MAAgG,CAAC,UAASC,CAAT,EAAYC,MAAZ,EAAmB;QAChH,EAAEH,4BAA4B,GAAG,CAC7BF,mBAAmB,CAAC,KAAD,CADU,CAA/B,EAECC,8BAA8B,GAAIG,CAFnC,EAGJD,6BAA6B,GAAI,OAAOF,8BAAP,KAA0C,UAA1C,GAChCA,8BAA8B,CAACK,KAA/B,CAAqCP,OAArC,EAA8CG,4BAA9C,CADgC,GAC+CD,8BAJ5E,EAKJE,6BAA6B,KAAKI,SAAlC,KAAgDT,MAAM,CAACC,OAAP,GAAiBI,6BAAjE,CALE;MAMH,CAP+F,EAO7F,YAAU;QAEb,CAAC,YAAY;UAEbK,MAAM,CAACC,KAAP,CAAaC,SAAb,GAAyBF,MAAM,CAACC,KAAP,CAAaC,SAAb,IAA0B,EAAnD;;UACAF,MAAM,CAACC,KAAP,CAAaC,SAAb,CAAuBC,MAAvB,GAAiC,UAAUZ,OAAV,EAAmB;YAGhD,IAAIa,qBAAqB,GAAG;cACxBC,QAAQ,EAAE,uDADc;cAExBC,cAAc,EAAE,mDAFQ;cAGxBC,QAAQ,EAAE,gEAHc;cAIxBC,EAAE,EAAE,8CAJoB;cAKxBC,GAAG,EAAE,8CALmB;cAMxBC,UAAU,EAAE;YANY,CAA5B;YAQA,IAAIC,SAAS,GAAG;cACZL,cAAc,EAAE,gBADJ;cAEZM,EAAE,EAAE,IAFQ;cAGZH,GAAG,EAAE;YAHO,CAAhB;YAKA;AACJ;AACA;;YACI,SAASI,gBAAT,CAA0BC,OAA1B,EAAmCC,IAAnC,EAAyC;cACrC,IAAIC,OAAO,GAAG,EAAd;cACA,IAAIC,OAAO,GAAG,EAAd;;cACA,KAAK,IAAIC,GAAG,GAAGJ,OAAO,CAACK,MAAR,GAAiB,CAAhC,EAAmCD,GAAG,IAAI,CAA1C,EAA6CA,GAAG,EAAhD,EAAoD;gBAChDD,OAAO,GAAG,UAAV;gBACAA,OAAO,IAAIG,mBAAmB,CAACN,OAAO,CAACI,GAAD,CAAR,CAA9B;gBACAD,OAAO,IAAI,QAAX;;gBACA,IAAIC,GAAG,KAAKJ,OAAO,CAACK,MAAR,GAAiB,CAA7B,EAAgC;kBAC5BF,OAAO,IAAI,YAAYF,IAAZ,GAAmB,GAA9B;kBACAC,OAAO,GAAGC,OAAV;gBACH,CAHD,MAIK;kBACDD,OAAO,GAAGC,OAAO,GAAG,UAAV,GAAuBD,OAAvB,GAAiC,IAA3C;gBACH;cACJ;;cACD,OAAOA,OAAP;YACH;;YACD,SAASI,mBAAT,CAA6BC,UAA7B,EAAyC;cACrC,IAAIL,OAAO,GAAG,EAAd;cACA,IAAIM,KAAK,GAAGC,MAAM,CAACF,UAAU,CAACC,KAAZ,CAAlB;cACA,IAAIE,KAAK,GAAGH,UAAU,CAACG,KAAvB;cACA,IAAIC,QAAQ,GAAGJ,UAAU,CAACI,QAA1B;;cACA,IAAIA,QAAQ,KAAKd,SAAS,CAACC,EAA3B,EAA+B;gBAC3BI,OAAO,IAAI,GAAX;gBACAA,OAAO,IAAIM,KAAX;gBACAN,OAAO,IAAI,GAAX;cACH,CAJD,MAKK;gBACDA,OAAO,IAAIS,QAAQ,KAAKd,SAAS,CAACF,GAAvB,IAA8BgB,QAAQ,KAAKd,SAAS,CAACL,cAArD,GAAsE,GAAtE,GAA4E,EAAvF;gBACAU,OAAO,IAAI,SAAX;gBACAA,OAAO,IAAIQ,KAAK,GAAG,UAAnB;gBACAR,OAAO,IAAIU,YAAY,CAACtB,qBAAqB,CAACqB,QAAD,CAAtB,EAAkCD,KAAlC,EAAyCF,KAAzC,CAAvB;gBACAN,OAAO,IAAI,GAAX;cACH;;cACD,OAAOA,OAAP;YACH;;YACD,SAASU,YAAT,CAAsBC,GAAtB,EAA2B;cACvB,IAAIC,MAAM,GAAG,EAAb;;cACA,KAAK,IAAIC,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGC,SAAS,CAACX,MAAhC,EAAwCU,EAAE,EAA1C,EAA8C;gBAC1CD,MAAM,CAACC,EAAE,GAAG,CAAN,CAAN,GAAiBC,SAAS,CAACD,EAAD,CAA1B;cACH;;cACDD,MAAM,CAACG,OAAP,CAAe,UAAUT,KAAV,EAAiBU,KAAjB,EAAwB;gBACnCL,GAAG,GAAGA,GAAG,CAACM,OAAJ,CAAY,IAAIC,MAAJ,CAAW,QAAQF,KAAR,GAAgB,KAA3B,EAAkC,GAAlC,CAAZ,EAAoDV,KAApD,CAAN;cACH,CAFD;cAGA,OAAOK,GAAP;YACH;YAED;AACJ;AACA;;;YACI,SAASQ,gBAAT,CAA0BC,OAA1B,EAAmCC,QAAnC,EAA6CC,IAA7C,EAAmD;cAC/C,IAAItB,OAAO,GAAG,EAAd;cACAoB,OAAO,GAAGA,OAAO,IAAI,EAArB;cACA,IAAIG,MAAM,GAAGC,gBAAgB,CAACJ,OAAD,CAA7B;cACA,IAAIK,QAAQ,GAAGF,MAAM,CAACE,QAAtB;cACA,IAAIC,SAAS,GAAGC,YAAY,CAACJ,MAAM,CAACK,IAAR,CAA5B;cACA,IAAIC,iBAAiB,GAAG,EAAxB;cACA,IAAI1B,MAAM,GAAGsB,QAAQ,CAACtB,MAAtB;cACA,IAAID,GAAG,GAAG,CAAV;cACA,IAAI4B,UAAJ;cACA,IAAIC,KAAK,GAAG,EAAZ;;cACA,IAAIL,SAAS,CAACvB,MAAV,GAAmB,CAAnB,IAAwBkB,QAAQ,CAAClB,MAAT,GAAkB,CAA9C,EAAiD;gBAC7C0B,iBAAiB,CAACG,IAAlB,CAAuBC,gBAAgB,CAACP,SAAD,EAAYL,QAAZ,CAAvC;;gBACA,OAAOnB,GAAG,GAAGC,MAAb,EAAqBD,GAAG,EAAxB,EAA4B;kBACxB4B,UAAU,GAAGI,sBAAsB,CAACT,QAAQ,CAACvB,GAAD,CAAR,CAAciC,IAAf,EAAqBb,IAArB,CAAnC;kBACAS,KAAK,GAAGK,QAAQ,CAACN,UAAD,EAAaJ,SAAb,CAAhB;kBACAG,iBAAiB,CAACG,IAAlB,CAAuBC,gBAAgB,CAACF,KAAD,EAAQV,QAAR,CAAvC;gBACH;;gBACDrB,OAAO,IAAI6B,iBAAiB,CAACQ,IAAlB,CAAuB,GAAvB,CAAX;cACH,CARD,MASK;gBACD,OAAOnC,GAAG,GAAGC,MAAb,EAAqBD,GAAG,EAAxB,EAA4B;kBACxB4B,UAAU,GAAGI,sBAAsB,CAACT,QAAQ,CAACvB,GAAD,CAAR,CAAciC,IAAf,EAAqBb,IAArB,CAAnC;kBACAS,KAAK,CAACC,IAAN,CAAWF,UAAU,CAAC,CAAD,CAArB;gBACH;;gBACD9B,OAAO,IAAI0B,SAAS,CAACY,MAAV,CAAiBP,KAAjB,EAAwBM,IAAxB,CAA6B,GAA7B,CAAX;cACH;;cACD,OAAOrC,OAAP;YACH;YACD;AACJ;AACA;;;YACI,SAASuC,YAAT,CAAsBlB,QAAtB,EAAgC;cAC5B,IAAIlB,MAAM,GAAGkB,QAAQ,CAAClB,MAAtB;cACA,IAAIqC,MAAM,GAAG,EAAb;cACA,IAAIC,OAAJ;;cACA,KAAK,IAAIvC,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGC,MAAxB,EAAgCD,GAAG,EAAnC,EAAuC;gBACnCuC,OAAO,GAAGpB,QAAQ,CAACnB,GAAD,CAAlB;gBACAsC,MAAM,CAACR,IAAP,CAAYS,OAAO,CAACN,IAAR,KAAiBpD,SAAjB,GAA6B0D,OAAO,CAACN,IAArC,GAA4CM,OAAxD;cACH;;cACD,OAAOD,MAAP;YACH;;YACD,SAASb,YAAT,CAAsBP,OAAtB,EAA+B;cAC3B,IAAIQ,IAAI,GAAG,EAAX;cACAR,OAAO,CAACL,OAAR,CAAgB,UAAU2B,MAAV,EAAkB;gBAC9B,IAAIP,IAAI,GAAGO,MAAM,CAACP,IAAP,CAAY,CAAZ,CAAX;gBACA,IAAIQ,aAAa,GAAGC,iBAAiB,CAACT,IAAD,CAArC;;gBACA,IAAI,CAACP,IAAI,CAACiB,IAAL,CAAU,UAAUC,CAAV,EAAa;kBAAE,OAAOA,CAAC,CAACC,OAAF,CAAUJ,aAAV,MAA6B,CAApC;gBAAwC,CAAjE,CAAL,EAAyE;kBACrEf,IAAI,CAACI,IAAL,CAAUG,IAAV;gBACH;cACJ,CAND;cAOA,OAAOP,IAAP;YACH;;YACD,SAASJ,gBAAT,CAA0BJ,OAA1B,EAAmC;cAC/B,IAAIK,QAAQ,GAAG,EAAf;cACA,IAAIuB,KAAK,GAAG,EAAZ;cACA,IAAIpB,IAAI,GAAG,EAAX;cACA,IAAI1B,GAAG,GAAG,CAAV;cACA,IAAI+C,KAAJ;;cACA,OAAO/C,GAAG,GAAGkB,OAAO,CAACjB,MAArB,EAA6BD,GAAG,EAAhC,EAAoC;gBAChC,IAAIwC,MAAM,GAAGtB,OAAO,CAAClB,GAAD,CAApB;gBACA,IAAIgD,MAAM,GAAGR,MAAM,CAACP,IAApB;gBACAc,KAAK,GAAG,KAAR;;gBACA,IAAIC,MAAM,CAAC/C,MAAP,GAAgB,CAApB,EAAuB;kBACnB6C,KAAK,CAAChB,IAAN,CAAWU,MAAX;gBACH,CAFD,MAGK;kBACD,IAAIC,aAAa,GAAGC,iBAAiB,CAACM,MAAM,CAAC,CAAD,CAAP,CAArC;;kBACA,KAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGxB,IAAI,CAACzB,MAAzB,EAAiCgD,CAAC,GAAGC,CAArC,EAAwCD,CAAC,EAAzC,EAA6C;oBACzC,IAAIvB,IAAI,CAACuB,CAAD,CAAJ,CAAQhB,IAAR,CAAa,CAAb,EAAgBY,OAAhB,CAAwBJ,aAAxB,MAA2C,CAA/C,EAAkD;sBAC9CM,KAAK,GAAG,IAAR;sBACA;oBACH;kBACJ;;kBACD,IAAI,CAACA,KAAL,EAAY;oBACRrB,IAAI,CAACI,IAAL,CAAUU,MAAV;kBACH;;kBACD,IAAIA,MAAM,CAACW,MAAX,EAAmB;oBACf5B,QAAQ,CAACO,IAAT,CAAcU,MAAd;kBACH;gBACJ;cACJ;;cACDjB,QAAQ,GAAGA,QAAQ,CAACa,MAAT,CAAgBU,KAAhB,CAAX;cACA,OAAO;gBACHvB,QAAQ,EAAEA,QADP;gBAEHG,IAAI,EAAEA;cAFH,CAAP;YAIH;;YACD,SAASQ,QAAT,CAAkBL,KAAlB,EAAyBL,SAAzB,EAAoC;cAChC,IAAI4B,UAAU,GAAG5B,SAAS,CAACvB,MAA3B;cACAuB,SAAS,GAAGA,SAAS,CAAC6B,KAAV,CAAgB,CAAhB,CAAZ;;cACA,KAAK,IAAIrD,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAG6B,KAAK,CAAC5B,MAA9B,EAAsCD,GAAG,EAAzC,EAA6C;gBACzC,IAAIsD,MAAM,GAAGzB,KAAK,CAAC7B,GAAD,CAAlB;;gBACA,KAAK,IAAIiD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGG,UAApB,EAAgCH,CAAC,EAAjC,EAAqC;kBACjC,IAAIM,QAAQ,GAAGb,iBAAiB,CAAClB,SAAS,CAACyB,CAAD,CAAV,CAAhC;;kBACA,IAAIK,MAAM,CAACT,OAAP,CAAeU,QAAf,MAA6B,CAAC,CAAlC,EAAqC;oBACjC/B,SAAS,CAACyB,CAAD,CAAT,GAAeK,MAAf;oBACA;kBACH;gBACJ;cACJ;;cACD,OAAO9B,SAAP;YACH;;YACD,SAASO,gBAAT,CAA0Bb,OAA1B,EAAmCC,QAAnC,EAA6C;cACzC,IAAIqC,GAAG,GAAGtC,OAAO,CAACmC,KAAR,CAAc,CAAd,CAAV;;cACA,IAAIlC,QAAQ,CAAClB,MAAT,GAAkB,CAAtB,EAAyB;gBACrBuD,GAAG,CAAC1B,IAAJ,CAAS,MAAMO,YAAY,CAAClB,QAAD,CAAZ,CAAuBgB,IAAvB,CAA4B,GAA5B,CAAN,GAAyC,GAAlD;cACH;;cACD,OAAOsB,SAAS,CAACD,GAAD,CAAhB;YACH;;YACD,SAASxB,sBAAT,CAAgCH,KAAhC,EAAuCT,IAAvC,EAA6C;cACzC,IAAIpB,GAAG,GAAG6B,KAAK,CAAC5B,MAAN,GAAe,CAAzB;cACA,IAAIgC,IAAI,GAAGJ,KAAK,CAAC7B,GAAD,CAAhB;cACA,IAAI0D,cAAc,GAAGC,uBAAuB,CAACvC,IAAD,EAAOa,IAAP,CAA5C;;cACA,IAAIyB,cAAc,IAAIA,cAAc,CAACE,GAArC,EAA0C;gBACtC3B,IAAI,GAAG,WAAWA,IAAX,GAAkB,YAAlB,GAAiCyB,cAAc,CAACpD,KAAhD,GAAwD,gCAAxD,GAA2FoD,cAAc,CAACE,GAA1G,GAAgH,GAAvH;cACH,CAFD,MAGK;gBACD3B,IAAI,IAAI,WAAR;cACH;;cACDJ,KAAK,CAAC7B,GAAD,CAAL,GAAaiC,IAAb;cACA,OAAOJ,KAAP;YACH;;YACD,SAAS8B,uBAAT,CAAiCvC,IAAjC,EAAuCoB,MAAvC,EAA+C;cAC3C,KAAK,IAAIxC,GAAG,GAAG,CAAV,EAAa6D,QAAQ,GAAGzC,IAAI,CAACnB,MAAlC,EAA0CD,GAAG,GAAG6D,QAAhD,EAA0D7D,GAAG,EAA7D,EAAiE;gBAC7D,IAAIwC,MAAM,CAACK,OAAP,CAAezB,IAAI,CAACpB,GAAD,CAAJ,CAAUM,KAAzB,MAAoC,CAAxC,EAA2C;kBACvC,OAAOc,IAAI,CAACpB,GAAD,CAAX;gBACH;cACJ;;cACD,OAAO,IAAP;YACH;;YACD,SAAS0C,iBAAT,CAA2Bd,UAA3B,EAAuC;cACnC,IAAIkC,KAAK,GAAGlC,UAAU,CAACmC,KAAX,CAAiB,GAAjB,CAAZ;;cACA,IAAID,KAAK,CAAC7D,MAAN,GAAe,CAAnB,EAAsB;gBAClB,OAAO6D,KAAK,CAAC,CAAD,CAAL,GAAW,GAAX,GAAiBA,KAAK,CAAC,CAAD,CAA7B;cACH;;cACD,OAAOlC,UAAP;YACH;;YACD,SAAS6B,SAAT,CAAmB5B,KAAnB,EAA0B;cACtB,IAAIS,MAAM,GAAG,aAAb;cACA,IAAIL,IAAJ;;cACA,IAAIJ,KAAK,CAAC5B,MAAN,GAAe,CAAnB,EAAsB;gBAClBgC,IAAI,GAAGJ,KAAK,CAACmC,GAAN,EAAP;gBACA1B,MAAM,IAAImB,SAAS,CAAC5B,KAAD,CAAnB;cACH,CAHD,MAIK;gBACDS,MAAM,IAAIT,KAAK,CAACoC,KAAN,EAAV;gBACAhC,IAAI,GAAGJ,KAAK,CAACmC,GAAN,EAAP;cACH;;cACD1B,MAAM,IAAI,KAAV;cACAA,MAAM,IAAIL,IAAV;cACAK,MAAM,IAAI,IAAV;cACA,OAAOA,MAAP;YACH;YAED;AACJ;AACA;;;YACI,SAAS4B,iBAAT,CAA2BC,OAA3B,EAAoC;cAChC,IAAIrE,OAAO,GAAG,yJAAd;cACA,IAAIsE,EAAE,GAAGD,OAAO,CAACE,UAAjB;cAAA,IAA6BA,UAAU,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAA/D;cAAA,IAAmEE,EAAE,GAAGH,OAAO,CAACI,OAAhF;cAAA,IAAyFA,OAAO,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAAxH;cACA,IAAIE,EAAE,GAAGL,OAAO,CAACM,WAAjB;cAAA,IAA8BA,WAAW,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAAjE;cAAA,IAAqEE,EAAE,GAAGP,OAAO,CAAC/C,IAAlF;cAAA,IAAwFA,IAAI,GAAGsD,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAApH;cAAA,IAAwHC,EAAE,GAAGR,OAAO,CAACS,MAArI;cAAA,IAA6IA,MAAM,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAA3K;cACA,IAAIE,eAAe,GAAGV,OAAO,CAACW,YAAR,KAAyB,MAA/C;cACAhF,OAAO,IAAI,oBAAX;;cACA,IAAI,CAACuE,UAAU,CAACpE,MAAZ,IAAsBsE,OAAO,CAACtE,MAA9B,KAAyC,CAACwE,WAAW,CAACxE,MAAb,IAAwBwE,WAAW,CAACxE,MAAZ,IAAsB4E,eAAvF,CAAJ,EAA8G;gBAC1GR,UAAU,GAAGE,OAAb;gBACAA,OAAO,GAAG,EAAV;gBACAM,eAAe,GAAG,KAAlB;cACH;;cACD,IAAI,CAACR,UAAU,CAACpE,MAAZ,IAAsB,CAACsE,OAAO,CAACtE,MAAnC,EAA2C;gBACvC4E,eAAe,GAAG,KAAlB;cACH;;cACD,IAAIR,UAAU,CAACpE,MAAf,EAAuB;gBACnBH,OAAO,IAAImB,gBAAgB,CAACoD,UAAD,EAAa,CAACQ,eAAD,GAAmBJ,WAAnB,GAAiC,EAA9C,EAAkDrD,IAAlD,CAA3B;cACH,CAFD,MAGK,IAAIqD,WAAW,CAACxE,MAAZ,IAAsB,CAAC4E,eAA3B,EAA4C;gBAC7C/E,OAAO,IAAIuC,YAAY,CAACoC,WAAD,CAAZ,CAA0BtC,IAA1B,CAA+B,GAA/B,CAAX;cACH;;cACDrC,OAAO,IAAI,4EAAX;;cACA,IAAIyE,OAAO,CAACtE,MAAR,IAAmB4E,eAAe,IAAIJ,WAAW,CAACxE,MAAZ,GAAqB,CAA/D,EAAmE;gBAC/DH,OAAO,IAAI,eAAX;;gBACA,IAAIyE,OAAO,CAACtE,MAAZ,EAAoB;kBAChBH,OAAO,IAAImB,gBAAgB,CAACsD,OAAD,EAAUM,eAAe,GAAGJ,WAAH,GAAiB,EAA1C,EAA8CrD,IAA9C,CAA3B;gBACH,CAFD,MAGK;kBACDtB,OAAO,IAAIuC,YAAY,CAACoC,WAAD,CAAZ,CAA0BtC,IAA1B,CAA+B,GAA/B,CAAX;gBACH;;gBACDrC,OAAO,IAAI,yEAAX;cACH;;cACD,IAAI8E,MAAM,CAAC3E,MAAX,EAAmB;gBACfH,OAAO,IAAI,QAAX;gBACAA,OAAO,IAAI,GAAX;gBACAA,OAAO,IAAIH,gBAAgB,CAACiF,MAAD,EAAST,OAAO,CAACY,UAAR,CAAmBlF,IAA5B,CAA3B;gBACAC,OAAO,IAAI,GAAX;cACH,CALD,MAMK;gBACDA,OAAO,IAAI,YAAYqE,OAAO,CAACY,UAAR,CAAmBlF,IAA/B,GAAsC,GAAjD;cACH;;cACD,IAAI4E,WAAW,CAACxE,MAAZ,KAAuB,CAAvB,IAA4BoE,UAAU,CAACpE,MAA3C,EAAmD;gBAC/CH,OAAO,IAAI,aAAauC,YAAY,CAACoC,WAAD,CAAZ,CAA0BtC,IAA1B,CAA+B,GAA/B,CAAb,GAAmD,GAA9D;cACH;;cACDrC,OAAO,IAAI,8DAA8DqE,OAAO,CAACY,UAAR,CAAmBC,OAAjF,GAA2F,qGAAtG;cACA,OAAOlF,OAAO,CAACiB,OAAR,CAAgB,IAAhB,EAAsB,OAAtB,CAAP;YACH;YAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;YAII,IAAIkE,QAAQ,GAAG,YAAW;cACtBA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,SAASF,QAAT,CAAkBG,CAAlB,EAAqB;gBAC7C,KAAK,IAAIC,CAAJ,EAAOC,CAAC,GAAG,CAAX,EAAc1C,CAAC,GAAGhC,SAAS,CAACX,MAAjC,EAAyCqF,CAAC,GAAG1C,CAA7C,EAAgD0C,CAAC,EAAjD,EAAqD;kBACjDD,CAAC,GAAGzE,SAAS,CAAC0E,CAAD,CAAb;;kBACA,KAAK,IAAIC,CAAT,IAAcF,CAAd,EAAiB,IAAIH,MAAM,CAACM,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCL,CAArC,EAAwCE,CAAxC,CAAJ,EAAgDH,CAAC,CAACG,CAAD,CAAD,GAAOF,CAAC,CAACE,CAAD,CAAR;gBACpE;;gBACD,OAAOH,CAAP;cACH,CAND;;cAOA,OAAOH,QAAQ,CAACrG,KAAT,CAAe,IAAf,EAAqBgC,SAArB,CAAP;YACH,CATD;;YAWA,SAAS+E,SAAT,CAAmBC,OAAnB,EAA4BC,UAA5B,EAAwCC,CAAxC,EAA2CC,SAA3C,EAAsD;cAClD,SAASC,KAAT,CAAe5F,KAAf,EAAsB;gBAAE,OAAOA,KAAK,YAAY0F,CAAjB,GAAqB1F,KAArB,GAA6B,IAAI0F,CAAJ,CAAM,UAAUG,OAAV,EAAmB;kBAAEA,OAAO,CAAC7F,KAAD,CAAP;gBAAiB,CAA5C,CAApC;cAAoF;;cAC5G,OAAO,KAAK0F,CAAC,KAAKA,CAAC,GAAGI,OAAT,CAAN,EAAyB,UAAUD,OAAV,EAAmBE,MAAnB,EAA2B;gBACvD,SAASC,SAAT,CAAmBhG,KAAnB,EAA0B;kBAAE,IAAI;oBAAEiG,IAAI,CAACN,SAAS,CAACO,IAAV,CAAelG,KAAf,CAAD,CAAJ;kBAA8B,CAApC,CAAqC,OAAOmG,CAAP,EAAU;oBAAEJ,MAAM,CAACI,CAAD,CAAN;kBAAY;gBAAE;;gBAC3F,SAASC,QAAT,CAAkBpG,KAAlB,EAAyB;kBAAE,IAAI;oBAAEiG,IAAI,CAACN,SAAS,CAAC,OAAD,CAAT,CAAmB3F,KAAnB,CAAD,CAAJ;kBAAkC,CAAxC,CAAyC,OAAOmG,CAAP,EAAU;oBAAEJ,MAAM,CAACI,CAAD,CAAN;kBAAY;gBAAE;;gBAC9F,SAASF,IAAT,CAAc/D,MAAd,EAAsB;kBAAEA,MAAM,CAACmE,IAAP,GAAcR,OAAO,CAAC3D,MAAM,CAAClC,KAAR,CAArB,GAAsC4F,KAAK,CAAC1D,MAAM,CAAClC,KAAR,CAAL,CAAoBsG,IAApB,CAAyBN,SAAzB,EAAoCI,QAApC,CAAtC;gBAAsF;;gBAC9GH,IAAI,CAAC,CAACN,SAAS,GAAGA,SAAS,CAACnH,KAAV,CAAgBgH,OAAhB,EAAyBC,UAAU,IAAI,EAAvC,CAAb,EAAyDS,IAAzD,EAAD,CAAJ;cACH,CALM,CAAP;YAMH;;YAED,SAASK,WAAT,CAAqBf,OAArB,EAA8BgB,IAA9B,EAAoC;cAChC,IAAIC,CAAC,GAAG;gBAAEC,KAAK,EAAE,CAAT;gBAAYC,IAAI,EAAE,YAAW;kBAAE,IAAI3B,CAAC,CAAC,CAAD,CAAD,GAAO,CAAX,EAAc,MAAMA,CAAC,CAAC,CAAD,CAAP;kBAAY,OAAOA,CAAC,CAAC,CAAD,CAAR;gBAAc,CAAvE;gBAAyE4B,IAAI,EAAE,EAA/E;gBAAmFC,GAAG,EAAE;cAAxF,CAAR;cAAA,IAAsGvI,CAAtG;cAAA,IAAyGwI,CAAzG;cAAA,IAA4G9B,CAA5G;cAAA,IAA+G+B,CAA/G;cACA,OAAOA,CAAC,GAAG;gBAAEb,IAAI,EAAEc,IAAI,CAAC,CAAD,CAAZ;gBAAiB,SAASA,IAAI,CAAC,CAAD,CAA9B;gBAAmC,UAAUA,IAAI,CAAC,CAAD;cAAjD,CAAJ,EAA4D,OAAOC,MAAP,KAAkB,UAAlB,KAAiCF,CAAC,CAACE,MAAM,CAACC,QAAR,CAAD,GAAqB,YAAW;gBAAE,OAAO,IAAP;cAAc,CAAjF,CAA5D,EAAgJH,CAAvJ;;cACA,SAASC,IAAT,CAAcxE,CAAd,EAAiB;gBAAE,OAAO,UAAU2E,CAAV,EAAa;kBAAE,OAAOlB,IAAI,CAAC,CAACzD,CAAD,EAAI2E,CAAJ,CAAD,CAAX;gBAAsB,CAA5C;cAA+C;;cAClE,SAASlB,IAAT,CAAcmB,EAAd,EAAkB;gBACd,IAAI9I,CAAJ,EAAO,MAAM,IAAI+I,SAAJ,CAAc,iCAAd,CAAN;;gBACP,OAAOZ,CAAP,EAAU,IAAI;kBACV,IAAInI,CAAC,GAAG,CAAJ,EAAOwI,CAAC,KAAK9B,CAAC,GAAGoC,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAR,GAAYN,CAAC,CAAC,QAAD,CAAb,GAA0BM,EAAE,CAAC,CAAD,CAAF,GAAQN,CAAC,CAAC,OAAD,CAAD,KAAe,CAAC9B,CAAC,GAAG8B,CAAC,CAAC,QAAD,CAAN,KAAqB9B,CAAC,CAACM,IAAF,CAAOwB,CAAP,CAArB,EAAgC,CAA/C,CAAR,GAA4DA,CAAC,CAACZ,IAAjG,CAAD,IAA2G,CAAC,CAAClB,CAAC,GAAGA,CAAC,CAACM,IAAF,CAAOwB,CAAP,EAAUM,EAAE,CAAC,CAAD,CAAZ,CAAL,EAAuBf,IAA9I,EAAoJ,OAAOrB,CAAP;kBACpJ,IAAI8B,CAAC,GAAG,CAAJ,EAAO9B,CAAX,EAAcoC,EAAE,GAAG,CAACA,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAT,EAAYpC,CAAC,CAAChF,KAAd,CAAL;;kBACd,QAAQoH,EAAE,CAAC,CAAD,CAAV;oBACI,KAAK,CAAL;oBAAQ,KAAK,CAAL;sBAAQpC,CAAC,GAAGoC,EAAJ;sBAAQ;;oBACxB,KAAK,CAAL;sBAAQX,CAAC,CAACC,KAAF;sBAAW,OAAO;wBAAE1G,KAAK,EAAEoH,EAAE,CAAC,CAAD,CAAX;wBAAgBf,IAAI,EAAE;sBAAtB,CAAP;;oBACnB,KAAK,CAAL;sBAAQI,CAAC,CAACC,KAAF;sBAAWI,CAAC,GAAGM,EAAE,CAAC,CAAD,CAAN;sBAAWA,EAAE,GAAG,CAAC,CAAD,CAAL;sBAAU;;oBACxC,KAAK,CAAL;sBAAQA,EAAE,GAAGX,CAAC,CAACI,GAAF,CAAMjD,GAAN,EAAL;;sBAAkB6C,CAAC,CAACG,IAAF,CAAOhD,GAAP;;sBAAc;;oBACxC;sBACI,IAAI,EAAEoB,CAAC,GAAGyB,CAAC,CAACG,IAAN,EAAY5B,CAAC,GAAGA,CAAC,CAACnF,MAAF,GAAW,CAAX,IAAgBmF,CAAC,CAACA,CAAC,CAACnF,MAAF,GAAW,CAAZ,CAAnC,MAAuDuH,EAAE,CAAC,CAAD,CAAF,KAAU,CAAV,IAAeA,EAAE,CAAC,CAAD,CAAF,KAAU,CAAhF,CAAJ,EAAwF;wBAAEX,CAAC,GAAG,CAAJ;wBAAO;sBAAW;;sBAC5G,IAAIW,EAAE,CAAC,CAAD,CAAF,KAAU,CAAV,KAAgB,CAACpC,CAAD,IAAOoC,EAAE,CAAC,CAAD,CAAF,GAAQpC,CAAC,CAAC,CAAD,CAAT,IAAgBoC,EAAE,CAAC,CAAD,CAAF,GAAQpC,CAAC,CAAC,CAAD,CAAhD,CAAJ,EAA2D;wBAAEyB,CAAC,CAACC,KAAF,GAAUU,EAAE,CAAC,CAAD,CAAZ;wBAAiB;sBAAQ;;sBACtF,IAAIA,EAAE,CAAC,CAAD,CAAF,KAAU,CAAV,IAAeX,CAAC,CAACC,KAAF,GAAU1B,CAAC,CAAC,CAAD,CAA9B,EAAmC;wBAAEyB,CAAC,CAACC,KAAF,GAAU1B,CAAC,CAAC,CAAD,CAAX;wBAAgBA,CAAC,GAAGoC,EAAJ;wBAAQ;sBAAQ;;sBACrE,IAAIpC,CAAC,IAAIyB,CAAC,CAACC,KAAF,GAAU1B,CAAC,CAAC,CAAD,CAApB,EAAyB;wBAAEyB,CAAC,CAACC,KAAF,GAAU1B,CAAC,CAAC,CAAD,CAAX;;wBAAgByB,CAAC,CAACI,GAAF,CAAMnF,IAAN,CAAW0F,EAAX;;wBAAgB;sBAAQ;;sBACnE,IAAIpC,CAAC,CAAC,CAAD,CAAL,EAAUyB,CAAC,CAACI,GAAF,CAAMjD,GAAN;;sBACV6C,CAAC,CAACG,IAAF,CAAOhD,GAAP;;sBAAc;kBAXtB;;kBAaAwD,EAAE,GAAGZ,IAAI,CAAClB,IAAL,CAAUE,OAAV,EAAmBiB,CAAnB,CAAL;gBACH,CAjBS,CAiBR,OAAON,CAAP,EAAU;kBAAEiB,EAAE,GAAG,CAAC,CAAD,EAAIjB,CAAJ,CAAL;kBAAaW,CAAC,GAAG,CAAJ;gBAAQ,CAjBzB,SAiBkC;kBAAExI,CAAC,GAAG0G,CAAC,GAAG,CAAR;gBAAY;;gBAC1D,IAAIoC,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAZ,EAAe,MAAMA,EAAE,CAAC,CAAD,CAAR;gBAAa,OAAO;kBAAEpH,KAAK,EAAEoH,EAAE,CAAC,CAAD,CAAF,GAAQA,EAAE,CAAC,CAAD,CAAV,GAAgB,KAAK,CAA9B;kBAAiCf,IAAI,EAAE;gBAAvC,CAAP;cAC/B;YACJ;YAED;;;YACA,SAASiB,cAAT,GAA0B;cACtB,KAAK,IAAIrC,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAG,CAAf,EAAkBqC,EAAE,GAAG/G,SAAS,CAACX,MAAtC,EAA8CqF,CAAC,GAAGqC,EAAlD,EAAsDrC,CAAC,EAAvD,EAA2DD,CAAC,IAAIzE,SAAS,CAAC0E,CAAD,CAAT,CAAarF,MAAlB;;cAC3D,KAAK,IAAI2H,CAAC,GAAGC,KAAK,CAACxC,CAAD,CAAb,EAAkByC,CAAC,GAAG,CAAtB,EAAyBxC,CAAC,GAAG,CAAlC,EAAqCA,CAAC,GAAGqC,EAAzC,EAA6CrC,CAAC,EAA9C,EACI,KAAK,IAAIyC,CAAC,GAAGnH,SAAS,CAAC0E,CAAD,CAAjB,EAAsBrC,CAAC,GAAG,CAA1B,EAA6B+E,EAAE,GAAGD,CAAC,CAAC9H,MAAzC,EAAiDgD,CAAC,GAAG+E,EAArD,EAAyD/E,CAAC,IAAI6E,CAAC,EAA/D,EACIF,CAAC,CAACE,CAAD,CAAD,GAAOC,CAAC,CAAC9E,CAAD,CAAR;;cACR,OAAO2E,CAAP;YACH;YAED;AACJ;AACA;;;YACI,SAASK,aAAT,CAAuBC,QAAvB,EAAiC;cAC7B,IAAIC,MAAM,GAAG,IAAIC,SAAJ,GAAgBC,eAAhB,CAAgCH,QAAhC,EAA0C,UAA1C,CAAb;cACA,IAAII,IAAI,GAAGT,KAAK,CAACU,IAAN,CAAWJ,MAAM,CAACK,gBAAP,CAAwB,MAAxB,CAAX,CAAX;cACA,IAAIC,KAAK,GAAGZ,KAAK,CAACU,IAAN,CAAWJ,MAAM,CAACK,gBAAP,CAAwB,iBAAxB,CAAX,EACPE,GADO,CACH,UAAUC,IAAV,EAAgB;gBAAE,OAAQ;kBAC/BC,QAAQ,EAAEC,gBAAgB,CAACF,IAAD,EAAO,UAAP,CADK;kBAE/BG,OAAO,EAAEC,QAAQ,CAACJ,IAAI,CAACK,YAAL,CAAkB,aAAlB,CAAD,EAAmC,EAAnC,CAFc;kBAG/B5I,KAAK,EAAEyI,gBAAgB,CAACF,IAAD,EAAO,OAAP;gBAHQ,CAAR;cAItB,CALO,CAAZ;cAMA,IAAIM,OAAO,GAAG;gBAAEC,MAAM,EAAE;cAAV,CAAd;cACA,IAAIC,IAAI,GAAG;gBAAED,MAAM,EAAE;cAAV,CAAX;cACA,IAAIE,IAAI,GAAG,EAAX;cACAd,IAAI,CAACzH,OAAL,CAAa,UAAUwI,IAAV,EAAgB;gBACzB,IAAIA,IAAI,CAACL,YAAL,CAAkB,MAAlB,MAA8B,YAAlC,EAAgD;kBAC5C,IAAIE,MAAM,GAAGD,OAAO,CAACC,MAAR,CAAejJ,MAAf,KAA0B,CAA1B,GAA8BgJ,OAAO,CAACC,MAAtC,GAA+CC,IAAI,CAACD,MAAjE;kBACArB,KAAK,CAACrC,SAAN,CAAgB1D,IAAhB,CAAqBlD,KAArB,CAA2BsK,MAA3B,EAAmCI,aAAa,CAACD,IAAD,CAAhD;gBACH;cACJ,CALD;cAMA,IAAIE,WAAW,GAAG,IAAI1B,KAAJ,CAAUsB,IAAI,CAACD,MAAL,CAAYjJ,MAAZ,GAAqBgJ,OAAO,CAACC,MAAR,CAAejJ,MAA9C,EAAsDuJ,IAAtD,CAA2D,IAA3D,CAAlB;cACAf,KAAK,CAAC5H,OAAN,CAAc,UAAU4I,CAAV,EAAa;gBAAEF,WAAW,CAACE,CAAC,CAACX,OAAH,CAAX,GAAyBW,CAAzB;cAA6B,CAA1D;cACA,IAAIC,OAAO,GAAG,CAAd;cACAP,IAAI,CAACD,MAAL,CAAYrI,OAAZ,CAAoB,UAAU8I,QAAV,EAAoB;gBACpCV,OAAO,CAACC,MAAR,CAAerI,OAAf,CAAuB,UAAU+I,QAAV,EAAoB;kBACvCR,IAAI,CAACtH,IAAL,CAAU;oBACN+H,WAAW,EAAED,QADP;oBAENR,IAAI,EAAEG,WAAW,CAACG,OAAD,CAFX;oBAGNC,QAAQ,EAAEA;kBAHJ,CAAV;kBAKAD,OAAO;gBACV,CAPD;cAQH,CATD;cAUA,OAAO;gBAAET,OAAO,EAAEA,OAAX;gBAAoBG,IAAI,EAAEA,IAA1B;gBAAgCD,IAAI,EAAEA;cAAtC,CAAP;YACH;YACD;AACJ;AACA;;;YACI,SAASN,gBAAT,CAA0BrG,MAA1B,EAAkCP,IAAlC,EAAwC;cACpC,IAAI6H,IAAI,GAAGtH,MAAM,CAACuH,aAAP,CAAqB9H,IAArB,CAAX;cACA,OAAO6H,IAAI,GAAGA,IAAI,CAACE,WAAR,GAAsB,EAAjC;YACH;;YACD,SAASV,aAAT,CAAuBD,IAAvB,EAA6B;cACzB,IAAIH,MAAM,GAAGrB,KAAK,CAACU,IAAN,CAAWc,IAAI,CAACb,gBAAL,CAAsB,OAAtB,CAAX,CAAb;cACA,OAAOU,MAAM,CAACR,GAAP,CAAW,UAAUuB,KAAV,EAAiB;gBAC/B,IAAIC,cAAc,GAAGrC,KAAK,CAACU,IAAN,CAAW0B,KAAK,CAACzB,gBAAN,CAAuB,QAAvB,CAAX,CAArB;gBACA,IAAItH,OAAO,GAAGgJ,cAAc,CAACxB,GAAf,CAAmB,UAAUlG,MAAV,EAAkB;kBAC/C,IAAI2H,IAAI,GAAGpB,QAAQ,CAACF,gBAAgB,CAACrG,MAAD,EAAS,MAAT,CAAhB,IAAoC,GAArC,EAA0C,EAA1C,CAAnB;kBACA,IAAI4H,WAAW,GAAGrB,QAAQ,CAACF,gBAAgB,CAACrG,MAAD,EAAS,sBAAT,CAAhB,IAAoD,GAArD,EAA0D,EAA1D,CAAR,GAAwE,CAA1F;kBACA,OAAO;oBACH6H,OAAO,EAAExB,gBAAgB,CAACrG,MAAD,EAAS,SAAT,CADtB;oBAEH8H,QAAQ,EAAE,EAFP;oBAGHF,WAAW,EAAEA,WAHV;oBAIHG,SAAS,EAAE/H,MAAM,CAACwG,YAAP,CAAoB,WAApB,CAJR;oBAKHwB,SAAS,EAAE3B,gBAAgB,CAACrG,MAAD,EAAS,OAAT,CALxB;oBAMHiI,QAAQ,EAAEN,IANP;oBAOHlI,IAAI,EAAE4G,gBAAgB,CAACrG,MAAD,EAAS,OAAT,CAPnB;oBAQHkI,UAAU,EAAE7B,gBAAgB,CAACrG,MAAD,EAAS,oBAAT;kBARzB,CAAP;gBAUH,CAba,CAAd;gBAcA,OAAO;kBAAEtB,OAAO,EAAEA;gBAAX,CAAP;cACH,CAjBM,CAAP;YAkBH;YAED;AACJ;AACA;;;YACI,IAAIyJ,gBAAgB,GAAG;cACnBC,cAAc,EAAE,mBADG;cAEnBC,WAAW,EAAE,gBAFM;cAGnBC,gBAAgB,EAAE,qBAHC;cAInBC,iBAAiB,EAAE,sBAJA;cAKnBC,UAAU,EAAE,eALO;cAMnBC,YAAY,EAAE,iBANK;cAOnBC,cAAc,EAAE,mBAPG;cAQnBC,aAAa,EAAE;YARI,CAAvB;YAUA;AACJ;AACA;;YACI,SAASC,kBAAT,CAA4BjH,OAA5B,EAAqC;cACjC,IAAIkH,UAAU,GAAG,EAAjB;cACA,IAAIvL,OAAO,GAAG,sIAAd;cACAA,OAAO,IAAI,mBAAmB6K,gBAAgB,CAACxG,OAAO,CAACrE,OAAT,CAAhB,IAAqCqE,OAAO,CAACrE,OAAhE,IAA2E,gBAAtF;cACAA,OAAO,IAAI,mBAAmBwL,gBAAgB,CAAC,iBAAD,EAAoBnH,OAAO,CAACoH,YAA5B,EAA0C,IAA1C,CAAnC,GAAqF,iBAAhG;;cACA,IAAIpH,OAAO,CAACY,UAAR,IAAsBZ,OAAO,CAACY,UAAR,CAAmBC,OAA7C,EAAsD;gBAClDqG,UAAU,CAACG,OAAX,GAAqBrH,OAAO,CAACY,UAAR,CAAmBC,OAAxC;cACH;;cACDlF,OAAO,IAAI,iBAAiBwL,gBAAgB,CAAC,cAAD,EAAiBD,UAAjB,EAA6B,KAA7B,CAAjC,GAAuE,eAAlF;cACAvL,OAAO,IAAI,+BAAX;cACA,OAAOA,OAAP;YACH;;YACD,SAASwL,gBAAT,CAA0BG,aAA1B,EAAyCtH,OAAzC,EAAkDuH,UAAlD,EAA8D;cAC1D,IAAIpJ,MAAM,GAAG,EAAb;;cACA,IAAI6B,OAAJ,EAAa;gBACT7B,MAAM,IAAI,MAAMmJ,aAAN,GAAsB,GAAhC;gBACA,IAAIrL,KAAK,GAAG,KAAK,CAAjB;;gBACA,KAAK,IAAIuL,GAAT,IAAgBxH,OAAhB,EAAyB;kBACrB,IAAIA,OAAO,CAACwH,GAAD,CAAX,EAAkB;oBACdvL,KAAK,GAAG+D,OAAO,CAACwH,GAAD,CAAf;;oBACA,IAAID,UAAJ,EAAgB;sBACZC,GAAG,GAAGA,GAAG,CAAC5K,OAAJ,CAAY,wCAAZ,EAAsD,KAAtD,EAA6D6K,WAA7D,GAA2E7K,OAA3E,CAAmF,IAAnF,EAAyF,EAAzF,CAAN;oBACH;;oBACDuB,MAAM,IAAI,MAAMqJ,GAAN,GAAY,GAAZ,GAAkBvL,KAAlB,GAA0B,IAA1B,GAAiCuL,GAAjC,GAAuC,GAAjD;kBACH;gBACJ;;gBACDrJ,MAAM,IAAI,OAAOmJ,aAAP,GAAuB,GAAjC;cACH,CAbD,MAcK;gBACDnJ,MAAM,IAAI,MAAMmJ,aAAN,GAAsB,IAAhC;cACH;;cACD,OAAOnJ,MAAP;YACH;YAED;AACJ;AACA;;;YACI,SAASuJ,UAAT,CAAoB3D,QAApB,EAA8B;cAC1B,IAAIC,MAAM,GAAG,IAAIC,SAAJ,GAAgBC,eAAhB,CAAgCH,QAAhC,EAA0C,UAA1C,CAAb;cACA,IAAIiB,IAAI,GAAGtB,KAAK,CAACU,IAAN,CAAWJ,MAAM,CAACK,gBAAP,CAAwB,wCAAxB,CAAX,EACNE,GADM,CACF,UAAUoD,GAAV,EAAe;gBAAE,OAAQ;kBAC9B7J,IAAI,EAAE4G,gBAAgB,CAACiD,GAAD,EAAM,WAAN,CADQ;kBAE9BzB,OAAO,EAAExB,gBAAgB,CAACiD,GAAD,EAAM,cAAN,CAFK;kBAG9BC,WAAW,EAAElD,gBAAgB,CAACiD,GAAD,EAAM,aAAN,CAHC;kBAI9BE,IAAI,EAAEnD,gBAAgB,CAACiD,GAAD,EAAM,WAAN;gBAJQ,CAAR;cAKrB,CANM,CAAX;cAOA,OAAO3C,IAAP;YACH;YACD;AACJ;AACA;;;YACI,SAAS8C,aAAT,CAAuB/D,QAAvB,EAAiC;cAC7B,IAAIC,MAAM,GAAG,IAAIC,SAAJ,GAAgBC,eAAhB,CAAgCH,QAAhC,EAA0C,UAA1C,CAAb;cACA,IAAIiB,IAAI,GAAGtB,KAAK,CAACU,IAAN,CAAWJ,MAAM,CAACK,gBAAP,CAAwB,wCAAxB,CAAX,EACNE,GADM,CACF,UAAUoD,GAAV,EAAe;gBAAE,OAAQ;kBAC9B7J,IAAI,EAAE4G,gBAAgB,CAACiD,GAAD,EAAM,cAAN,CADQ;kBAE9BC,WAAW,EAAElD,gBAAgB,CAACiD,GAAD,EAAM,aAAN;gBAFC,CAAR;cAGrB,CAJM,CAAX;cAKA,OAAO3C,IAAP;YACH;YACD;AACJ;AACA;;;YACI,SAAS+C,aAAT,CAAuBhE,QAAvB,EAAiC;cAC7B,IAAIC,MAAM,GAAG,IAAIC,SAAJ,GAAgBC,eAAhB,CAAgCH,QAAhC,EAA0C,UAA1C,CAAb;cACA,IAAIiB,IAAI,GAAGtB,KAAK,CAACU,IAAN,CAAWJ,MAAM,CAACK,gBAAP,CAAwB,wCAAxB,CAAX,EACNE,GADM,CACF,UAAUoD,GAAV,EAAe;gBAAE,OAAQ;kBAC9B7J,IAAI,EAAE4G,gBAAgB,CAACiD,GAAD,EAAM,cAAN,CADQ;kBAE9BzB,OAAO,EAAExB,gBAAgB,CAACiD,GAAD,EAAM,iBAAN,CAFK;kBAG9BK,UAAU,EAAEtD,gBAAgB,CAACiD,GAAD,EAAM,qBAAN,CAHE;kBAI9BC,WAAW,EAAElD,gBAAgB,CAACiD,GAAD,EAAM,aAAN,CAJC;kBAK9BM,UAAU,EAAEvD,gBAAgB,CAACiD,GAAD,EAAM,oBAAN,CALE;kBAM9BO,SAAS,EAAExD,gBAAgB,CAACiD,GAAD,EAAM,mBAAN,CANG;kBAO9BQ,aAAa,EAAEzD,gBAAgB,CAACiD,GAAD,EAAM,wBAAN,CAPD;kBAQ9BS,aAAa,EAAE1D,gBAAgB,CAACiD,GAAD,EAAM,uBAAN;gBARD,CAAR;cASrB,CAVM,CAAX;cAWA,OAAO3C,IAAP;YACH;YACD;AACJ;AACA;;;YACI,SAASqD,SAAT,CAAmBtE,QAAnB,EAA6B;cACzB,IAAIC,MAAM,GAAG,IAAIC,SAAJ,GAAgBC,eAAhB,CAAgCH,QAAhC,EAA0C,UAA1C,CAAb;cACA,IAAIiB,IAAI,GAAGtB,KAAK,CAACU,IAAN,CAAWJ,MAAM,CAACK,gBAAP,CAAwB,wCAAxB,CAAX,EACNE,GADM,CACF,UAAUoD,GAAV,EAAe;gBAAE,OAAQ;kBAC9B7J,IAAI,EAAE4G,gBAAgB,CAACiD,GAAD,EAAM,UAAN,CADQ;kBAE9BK,UAAU,EAAEtD,gBAAgB,CAACiD,GAAD,EAAM,UAAN,CAFE;kBAG9BzB,OAAO,EAAExB,gBAAgB,CAACiD,GAAD,EAAM,aAAN,CAHK;kBAI9B1L,KAAK,EAAEyI,gBAAgB,CAACiD,GAAD,EAAM,WAAN,CAJO;kBAK9BW,IAAI,EAAE5D,gBAAgB,CAACiD,GAAD,EAAM,UAAN,CALQ;kBAM9BY,MAAM,EAAE7D,gBAAgB,CAACiD,GAAD,EAAM,YAAN,CANM;kBAO9Ba,KAAK,EAAE9D,gBAAgB,CAACiD,GAAD,EAAM,WAAN,CAPO;kBAQ9Bc,aAAa,EAAE/D,gBAAgB,CAACiD,GAAD,EAAM,oBAAN,CARD;kBAS9Be,YAAY,EAAEhE,gBAAgB,CAACiD,GAAD,EAAM,mBAAN,CATA;kBAU9BC,WAAW,EAAElD,gBAAgB,CAACiD,GAAD,EAAM,iBAAN,CAVC;kBAW9BO,SAAS,EAAExD,gBAAgB,CAACiD,GAAD,EAAM,mBAAN,CAXG;kBAY9BE,IAAI,EAAE;gBAZwB,CAAR;cAarB,CAdM,CAAX;cAeA,OAAO7C,IAAP;YACH;YACD;AACJ;AACA;;;YACI,SAAS2D,eAAT,CAAyB5E,QAAzB,EAAmC;cAC/B,IAAIC,MAAM,GAAG,IAAIC,SAAJ,GAAgBC,eAAhB,CAAgCH,QAAhC,EAA0C,UAA1C,CAAb;cACA,IAAIiB,IAAI,GAAGtB,KAAK,CAACU,IAAN,CAAWJ,MAAM,CAACK,gBAAP,CAAwB,wCAAxB,CAAX,EACNE,GADM,CACF,UAAUoD,GAAV,EAAe;gBAAE,OAAQ;kBAC9BzB,OAAO,EAAExB,gBAAgB,CAACiD,GAAD,EAAM,mBAAN,CADK;kBAE9BiB,gBAAgB,EAAElE,gBAAgB,CAACiD,GAAD,EAAM,mBAAN,CAFJ;kBAG9BC,WAAW,EAAElD,gBAAgB,CAACiD,GAAD,EAAM,aAAN,CAHC;kBAI9B7J,IAAI,EAAE4G,gBAAgB,CAACiD,GAAD,EAAM,gBAAN,CAJQ;kBAK9BE,IAAI,EAAEjD,QAAQ,CAACF,gBAAgB,CAACiD,GAAD,EAAM,gBAAN,CAAjB,EAA0C,EAA1C,CALgB;kBAM9BK,UAAU,EAAEtD,gBAAgB,CAACiD,GAAD,EAAM,uBAAN;gBANE,CAAR;cAOrB,CARM,CAAX;cASA,OAAO3C,IAAP;YACH;YACD;AACJ;AACA;;;YACI,SAAS6D,gBAAT,CAA0B9E,QAA1B,EAAoC;cAChC,IAAIC,MAAM,GAAG,IAAIC,SAAJ,GAAgBC,eAAhB,CAAgCH,QAAhC,EAA0C,UAA1C,CAAb;cACA,IAAIiB,IAAI,GAAGtB,KAAK,CAACU,IAAN,CAAWJ,MAAM,CAACK,gBAAP,CAAwB,wCAAxB,CAAX,EACNE,GADM,CACF,UAAUoD,GAAV,EAAe;gBAAE,OAAQ;kBAC9B7J,IAAI,EAAE4G,gBAAgB,CAACiD,GAAD,EAAM,gBAAN,CADQ;kBAE9BzB,OAAO,EAAExB,gBAAgB,CAACiD,GAAD,EAAM,mBAAN,CAFK;kBAG9BC,WAAW,EAAElD,gBAAgB,CAACiD,GAAD,EAAM,aAAN,CAHC;kBAI9BK,UAAU,EAAEtD,gBAAgB,CAACiD,GAAD,EAAM,uBAAN,CAJE;kBAK9BmB,mBAAmB,EAAEpE,gBAAgB,CAACiD,GAAD,EAAM,uBAAN,CALP;kBAM9BQ,aAAa,EAAEzD,gBAAgB,CAACiD,GAAD,EAAM,0BAAN,CAND;kBAO9BoB,MAAM,EAAErE,gBAAgB,CAACiD,GAAD,EAAM,kBAAN,CAPM;kBAQ9BqB,aAAa,EAAEtE,gBAAgB,CAACiD,GAAD,EAAM,gBAAN;gBARD,CAAR;cASrB,CAVM,CAAX;cAWA,OAAO3C,IAAP;YACH;YACD;AACJ;AACA;;;YACI,SAASiE,WAAT,CAAqBlF,QAArB,EAA+B;cAC3B,IAAIC,MAAM,GAAG,IAAIC,SAAJ,GAAgBC,eAAhB,CAAgCH,QAAhC,EAA0C,UAA1C,CAAb;cACA,IAAIiB,IAAI,GAAGtB,KAAK,CAACU,IAAN,CAAWJ,MAAM,CAACK,gBAAP,CAAwB,wCAAxB,CAAX,EACNE,GADM,CACF,UAAUoD,GAAV,EAAe;gBAAE,OAAQ;kBAC9B7J,IAAI,EAAE4G,gBAAgB,CAACiD,GAAD,EAAM,YAAN,CADQ;kBAE9BzB,OAAO,EAAExB,gBAAgB,CAACiD,GAAD,EAAM,eAAN,CAFK;kBAG9BC,WAAW,EAAElD,gBAAgB,CAACiD,GAAD,EAAM,aAAN,CAHC;kBAI9BK,UAAU,EAAEtD,gBAAgB,CAACiD,GAAD,EAAM,mBAAN,CAJE;kBAK9BmB,mBAAmB,EAAEpE,gBAAgB,CAACiD,GAAD,EAAM,uBAAN,CALP;kBAM9BQ,aAAa,EAAEzD,gBAAgB,CAACiD,GAAD,EAAM,sBAAN,CAND;kBAO9BuB,gBAAgB,EAAExE,gBAAgB,CAACiD,GAAD,EAAM,yBAAN,CAPJ;kBAQ9BoB,MAAM,EAAErE,gBAAgB,CAACiD,GAAD,EAAM,cAAN,CARM;kBAS9BwB,mBAAmB,EAAEzE,gBAAgB,CAACiD,GAAD,EAAM,uBAAN;gBATP,CAAR;cAUrB,CAXM,CAAX;cAYA,OAAO3C,IAAP;YACH;YACD;AACJ;AACA;;;YACI,SAASoE,YAAT,CAAsBrF,QAAtB,EAAgC;cAC5B,IAAIC,MAAM,GAAG,IAAIC,SAAJ,GAAgBC,eAAhB,CAAgCH,QAAhC,EAA0C,UAA1C,CAAb;cACA,IAAIiB,IAAI,GAAGtB,KAAK,CAACU,IAAN,CAAWJ,MAAM,CAACK,gBAAP,CAAwB,wCAAxB,CAAX,EACNE,GADM,CACF,UAAUoD,GAAV,EAAe;gBAAE,OAAQ;kBAC9B7J,IAAI,EAAE4G,gBAAgB,CAACiD,GAAD,EAAM,aAAN,CADQ;kBAE9BzB,OAAO,EAAExB,gBAAgB,CAACiD,GAAD,EAAM,gBAAN,CAFK;kBAG9BK,UAAU,EAAEtD,gBAAgB,CAACiD,GAAD,EAAM,oBAAN,CAHE;kBAI9BmB,mBAAmB,EAAEpE,gBAAgB,CAACiD,GAAD,EAAM,uBAAN,CAJP;kBAK9BwB,mBAAmB,EAAEzE,gBAAgB,CAACiD,GAAD,EAAM,uBAAN,CALP;kBAM9B0B,eAAe,EAAE3E,gBAAgB,CAACiD,GAAD,EAAM,mBAAN,CANH;kBAO9B2B,mBAAmB,EAAE5E,gBAAgB,CAACiD,GAAD,EAAM,sBAAN;gBAPP,CAAR;cAQrB,CATM,CAAX;cAUA,OAAO3C,IAAP;YACH;;YAED,IAAIuE,cAAc,GAAG;cACjB9C,cAAc,EAAEqB,aADC;cAEjBpB,WAAW,EAAEgB,UAFI;cAGjBf,gBAAgB,EAAEgC,eAHD;cAIjB/B,iBAAiB,EAAEiC,gBAJF;cAKjBhC,UAAU,EAAEwB,SALK;cAMjBvB,YAAY,EAAEmC,WANG;cAOjBlC,cAAc,EAAEgB,aAPC;cAQjBf,aAAa,EAAEoC;YARE,CAArB;YAUA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;YACI;AACJ;AACA;;YACI,IAAII,SAAS,GAAG,UAAUC,YAAV,EAAwBzJ,OAAxB,EAAiC;cAAE,OAAOwB,SAAS,CAAC,KAAK,CAAN,EAAS,KAAK,CAAd,EAAiB,KAAK,CAAtB,EAAyB,YAAY;gBACpG,IAAIkI,IAAJ,EAAU3F,QAAV,EAAoB4F,cAApB;gBACA,OAAOnH,WAAW,CAAC,IAAD,EAAO,UAAUvC,EAAV,EAAc;kBACnC,QAAQA,EAAE,CAAC0C,KAAX;oBACI,KAAK,CAAL;sBACI+G,IAAI,GAAG5I,QAAQ,CAAC;wBAAE2B,IAAI,EAAE1C,iBAAiB,CAACC,OAAD,CAAzB;wBAAoC4J,OAAO,EAAE;0BAAE,gBAAgB;wBAAlB,CAA7C;wBAA6EC,MAAM,EAAE;sBAArF,CAAD,EAAgGJ,YAAY,CAACC,IAA7G,CAAf;sBACA,OAAO,CAAC;sBAAE;sBAAH,EAAcI,KAAK,CAACL,YAAY,CAACM,GAAd,EAAmBL,IAAnB,CAAnB,CAAP;;oBACJ,KAAK,CAAL;sBACI3F,QAAQ,GAAG9D,EAAE,CAAC2C,IAAH,EAAX;sBACA,OAAO,CAAC;sBAAE;sBAAH,EAAcmB,QAAQ,CAACiG,IAAT,EAAd,CAAP;;oBACJ,KAAK,CAAL;sBACIL,cAAc,GAAG1J,EAAE,CAAC2C,IAAH,EAAjB;sBACA,OAAO,CAAC;sBAAE;sBAAH,EAAekB,aAAa,CAAC6F,cAAD,CAA5B,CAAP;kBATR;gBAWH,CAZiB,CAAlB;cAaH,CAfkE,CAAhB;YAe9C,CAfL;YAgBA;AACJ;AACA;;;YACI,IAAIM,aAAa,GAAG,UAAUR,YAAV,EAAwBzJ,OAAxB,EAAiC;cAAE,OAAOwB,SAAS,CAAC,KAAK,CAAN,EAAS,KAAK,CAAd,EAAiB,KAAK,CAAtB,EAAyB,YAAY;gBACxG,IAAIkI,IAAJ,EAAU3F,QAAV,EAAoB4F,cAApB;gBACA,OAAOnH,WAAW,CAAC,IAAD,EAAO,UAAUvC,EAAV,EAAc;kBACnC,QAAQA,EAAE,CAAC0C,KAAX;oBACI,KAAK,CAAL;sBACI+G,IAAI,GAAG5I,QAAQ,CAAC;wBAAE2B,IAAI,EAAEwE,kBAAkB,CAACjH,OAAD,CAA1B;wBAAqC4J,OAAO,EAAE;0BAAE,gBAAgB;wBAAlB,CAA9C;wBAA8EC,MAAM,EAAE;sBAAtF,CAAD,EAAiGJ,YAAY,CAACC,IAA9G,CAAf;sBACA,OAAO,CAAC;sBAAE;sBAAH,EAAcI,KAAK,CAACL,YAAY,CAACM,GAAd,EAAmBL,IAAnB,CAAnB,CAAP;;oBACJ,KAAK,CAAL;sBACI3F,QAAQ,GAAG9D,EAAE,CAAC2C,IAAH,EAAX;sBACA,OAAO,CAAC;sBAAE;sBAAH,EAAcmB,QAAQ,CAACiG,IAAT,EAAd,CAAP;;oBACJ,KAAK,CAAL;sBACIL,cAAc,GAAG1J,EAAE,CAAC2C,IAAH,EAAjB;sBACA,OAAO,CAAC;sBAAE;sBAAH,EAAe2G,cAAc,CAACvJ,OAAO,CAACrE,OAAT,CAAd,CAAgCgO,cAAhC,CAAf,CAAP;kBATR;gBAWH,CAZiB,CAAlB;cAaH,CAfsE,CAAhB;YAelD,CAfL;YAiBA;AACJ;AACA;AACA;AACA;AACA;;YACI;AACJ;AACA;;;YACI,IAAIO,eAAe,GAAG,UAAUnG,QAAV,EAAoB;cACtC,IAAIoG,KAAK,GAAG;gBACRrF,OAAO,EAAEf,QAAQ,CAACe,OAAT,CAAiBC,MADlB;gBAERE,IAAI,EAAElB,QAAQ,CAACkB,IAFP;gBAGRD,IAAI,EAAEjB,QAAQ,CAACiB,IAAT,CAAcD;cAHZ,CAAZ;cAKA,OAAOoF,KAAP;YACH,CAPD;YASA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;YACI;AACJ;AACA;;;YACI,SAASC,qBAAT,CAA+BC,UAA/B,EAA2C;cACvC,IAAIC,WAAW,GAAG,EAAlB;;cACA,KAAK,IAAI9N,EAAE,GAAG,CAAT,EAAYyD,EAAE,GAAGc,MAAM,CAACwJ,IAAP,CAAYF,UAAZ,CAAtB,EAA+C7N,EAAE,GAAGyD,EAAE,CAACnE,MAAvD,EAA+DU,EAAE,EAAjE,EAAqE;gBACjE,IAAIgL,GAAG,GAAGvH,EAAE,CAACzD,EAAD,CAAZ;gBACA8N,WAAW,CAAC3M,IAAZ,CAAiB;kBAAEG,IAAI,EAAE0M,IAAI,CAACC,KAAL,CAAWjD,GAAX,CAAR;kBAAyBxI,MAAM,EAAEqL,UAAU,CAAC7C,GAAD;gBAA3C,CAAjB;cACH;;cACD,OAAO8C,WAAP;YACH;YAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;YACI;AACJ;AACA;;;YACI,IAAII,OAAO,GAAG,UAAU1K,OAAV,EAAmB/C,IAAnB,EAAyB;cACnC,IAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;gBAAEA,IAAI,GAAG,EAAP;cAAY;;cACnC+C,OAAO,CAAC/C,IAAR,GAAeA,IAAf;YACH,CAHD;YAKA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;YACI;AACJ;AACA;;;YACI,IAAI0N,SAAS,GAAG,UAAU3K,OAAV,EAAmBS,MAAnB,EAA2B;cACvC,IAAIA,MAAM,KAAK,KAAK,CAApB,EAAuB;gBAAEA,MAAM,GAAG,EAAT;cAAc;;cACvCT,OAAO,CAACS,MAAR,GAAiBA,MAAjB;YACH,CAHD,CAtuBgD,CA2uBhD;YACA;;YACA;AACJ;AACA;;;YACI,IAAImK,aAAa,GAAG,UAAUjF,IAAV,EAAgBkF,GAAhB,EAAqB;cACrC,IAAIA,GAAG,KAAK,KAAK,CAAjB,EAAoB;gBAAEA,GAAG,GAAG,IAAIC,GAAJ,EAAN;cAAkB;;cACxC,CAACnF,IAAI,CAACQ,QAAL,IAAiB,EAAlB,EAAsBzJ,OAAtB,CAA8B,UAAUiC,KAAV,EAAiB;gBAC3CkM,GAAG,CAACE,GAAJ,CAAQpM,KAAK,CAAC0H,SAAd;gBACAuE,aAAa,CAACjM,KAAD,EAAQkM,GAAR,CAAb;cACH,CAHD;cAIA,OAAOA,GAAG,CAACG,IAAX;YACH,CAPD;YAQA;AACJ;AACA;;;YACI,IAAIC,eAAe,GAAG,UAAUtF,IAAV,EAAgB;cAClC,IAAIvI,QAAQ,GAAG,CAAf;cACA,CAACuI,IAAI,CAACQ,QAAL,IAAiB,EAAlB,EAAsBzJ,OAAtB,CAA8B,UAAUiC,KAAV,EAAiB;gBAC3CvB,QAAQ,IAAK6N,eAAe,CAACtM,KAAD,CAAf,IAA0B,CAAvC;cACH,CAFD;cAGA,OAAOvB,QAAP;YACH,CAND;YAOA;AACJ;AACA;;;YACI,IAAI8N,sBAAsB,GAAG,UAAUvF,IAAV,EAAgBwF,MAAhB,EAAwB;cACjD,OAAO,CAACA,MAAM,IAAKA,MAAM,CAAC/E,SAAP,KAAqBT,IAAI,CAACS,SAArC,GACF7C,cAAc,CAAC,CAAC4H,MAAM,CAACC,cAAP,IAAyB,EAA1B,EAA8BlM,KAA9B,CAAoC,CAApC,EAAuC,CAAC,CAAxC,CAAD,EAA6C,CAACyG,IAAI,CAAC7H,IAAL,IAAa,IAAd,CAA7C,CADZ,GACgFyF,cAAc,CAAG4H,MAAM,IAAIA,MAAM,CAACC,cAAlB,GAAoCD,MAAM,CAACC,cAA3C,GAA4D,EAA9D,EAAmE,CAACzF,IAAI,CAAC7H,IAAN,CAAnE,CAD/F,EACgL2C,MADhL,CACuL4K,OADvL,CAAP;YAEH,CAHD;YAIA;AACJ;AACA;;;YACI,IAAIC,YAAY,GAAG,UAAU3F,IAAV,EAAgBwF,MAAhB,EAAwB;cACvC,OAAO,CAACA,MAAM,IAAKA,MAAM,CAAC/E,SAAP,KAAqBT,IAAI,CAACS,SAArC,GACF7C,cAAc,CAAC,CAAC4H,MAAM,CAACI,IAAP,IAAe,EAAhB,EAAoBrM,KAApB,CAA0B,CAA1B,EAA6B,CAAC,CAA9B,CAAD,EAAmC,CAAE,CAACyG,IAAI,CAACW,QAAL,KAAkB,CAAlB,GAAsBX,IAAI,CAACS,SAA3B,GAAuCT,IAAI,CAAC7H,IAA7C,KAAsD,IAAxD,CAAnC,CADZ,GACiHyF,cAAc,CAAG4H,MAAM,IAAIA,MAAM,CAACI,IAAlB,GAA0BJ,MAAM,CAACI,IAAjC,GAAwC,EAA1C,EAA+C,CAAC5F,IAAI,CAACW,QAAL,KAAkB,CAAlB,GAAsBX,IAAI,CAACS,SAA3B,GAAuCT,IAAI,CAAC7H,IAA7C,CAA/C,CADhI,EACoO2C,MADpO,CAC2O4K,OAD3O,CAAP;YAEH,CAHD;YAIA;AACJ;AACA;;;YACI,IAAIG,QAAQ,GAAG,UAAU7F,IAAV,EAAgB8F,QAAhB,EAA0BC,QAA1B,EAAoCC,QAApC,EAA8CC,UAA9C,EAA0DC,MAA1D,EAAkEC,KAAlE,EAAyEX,MAAzE,EAAiF;cAC5F,IAAIM,QAAQ,KAAK,KAAK,CAAtB,EAAyB;gBAAEA,QAAQ,GAAG,CAAC,CAAZ;cAAgB;;cAC3C,IAAIC,QAAQ,KAAK,KAAK,CAAtB,EAAyB;gBAAEA,QAAQ,GAAG,CAAX;cAAe;;cAC1C,IAAIC,QAAQ,KAAK,KAAK,CAAtB,EAAyB;gBAAEA,QAAQ,GAAGjR,SAAX;cAAuB;;cAClD,IAAIkR,UAAU,KAAK,KAAK,CAAxB,EAA2B;gBAAEA,UAAU,GAAGlR,SAAb;cAAyB;;cACtD,IAAImR,MAAM,KAAK,KAAK,CAApB,EAAuB;gBAAEA,MAAM,GAAGnR,SAAT;cAAqB;;cAC9C,IAAIoR,KAAK,KAAK,KAAK,CAAnB,EAAsB;gBAAEA,KAAK,GAAGpR,SAAR;cAAoB;;cAC5C,IAAIyQ,MAAM,KAAK,KAAK,CAApB,EAAuB;gBAAEA,MAAM,GAAGzQ,SAAT;cAAqB;;cAC9C,IAAIqR,WAAW,GAAGnB,aAAa,CAACjF,IAAD,CAA/B;cACA,IAAIqG,aAAa,GAAGf,eAAe,CAACtF,IAAD,CAAnC;cACA,IAAIsG,KAAK,GAAGN,QAAQ,IAAII,WAAxB;cACA,IAAIG,OAAO,GAAGN,UAAU,IAAII,aAA5B;cACA,IAAIG,YAAY,GAAGN,MAAM,GAAGA,MAAM,CAAC3M,KAAP,EAAH,GAAoB,EAA7C;cACA,IAAIkN,WAAW,GAAGN,KAAK,GAAGA,KAAK,CAAC5M,KAAN,EAAH,GAAmB,IAAIwE,KAAJ,CAAUwI,OAAV,CAA1C;cACA,IAAIvP,KAAK,GAAGwP,YAAY,CAACE,SAAb,CAAuB,UAAUtN,CAAV,EAAa;gBAAE,OAAOA,CAAC,IAAIA,CAAC,CAACjB,IAAF,KAAW6H,IAAI,CAACU,SAArB,IAAkCtH,CAAC,CAACuN,KAAF,KAAY3G,IAAI,CAACW,QAA1D;cAAqE,CAA3G,CAAZ;cACA,IAAIgG,KAAK,GAAGH,YAAY,CAACxP,KAAD,CAAxB;cACA,IAAIgL,GAAG,GAAG;gBACN7J,IAAI,EAAE6H,IAAI,CAACU,SADL;gBAENiG,KAAK,EAAE3G,IAAI,CAACW,QAFN;gBAGN3J,KAAK,EAAE8O,QAHD;gBAINnH,KAAK,EAAE,IAAIZ,KAAJ,CAAUwI,OAAV,EAAmB7G,IAAnB,CAAwB,IAAxB;cAJD,CAAV;cAMA,IAAIkH,MAAM,GAAGd,QAAQ,KAAK,CAAC,CAAd,IAAmBC,QAAQ,KAAK,CAAC,CAA9C;cACA,IAAIlH,IAAI,GAAG;gBACP0B,OAAO,EAAEP,IAAI,CAACO,OADP;gBAEPpI,IAAI,EAAE6H,IAAI,CAAC7H,IAFJ;gBAGPuI,SAAS,EAAEV,IAAI,CAACU,SAHT;gBAIPC,QAAQ,EAAEX,IAAI,CAACW,QAJR;gBAKPL,WAAW,EAAEN,IAAI,CAACM,WALX;gBAMPM,UAAU,EAAEZ,IAAI,CAACY,UANV;gBAOPH,SAAS,EAAET,IAAI,CAACS,SAPT;gBAQPoG,KAAK,EAAE,CAAC7G,IAAI,CAAC6G,KAAL,KAAe9R,SAAf,GAA2BiL,IAAI,CAAC6G,KAAhC,GAAwC,KAAzC,KAAoDrB,MAAM,IAAIA,MAAM,CAAChF,QAAP,CAAgBrK,MAAhB,IAA0B,CAApC,IAAyCqP,MAAM,CAACqB,KARpG;gBASPrB,MAAM,EAAEA,MATD;gBAUPM,QAAQ,EAAEA,QAVH;gBAWPC,QAAQ,EAAEA,QAXH;gBAYPO,KAAK,EAAE,CAZA;gBAaPC,OAAO,EAAE,CAbF;gBAcPX,IAAI,EAAE5F,IAAI,CAAC4F,IAAL,IAAa,EAdZ;gBAePH,cAAc,EAAEzF,IAAI,CAACyF,cAAL,IAAuB,EAfhC;gBAgBPjF,QAAQ,EAAER,IAAI,CAACQ,QAAL,CAAc1F,MAAd,CAAqB,UAAU6E,CAAV,EAAa;kBAAE,OAAOA,CAAC,CAACc,SAAF,KAAgBT,IAAI,CAACS,SAA5B;gBAAwC,CAA5E;cAhBH,CAAX;;cAkBA,IAAImG,MAAJ,EAAY;gBACR,IAAID,KAAJ,EAAW;kBACPA,KAAK,CAAChI,KAAN,CAAYoH,QAAZ,IAAwBlH,IAAxB;;kBACA,IAAI8H,KAAK,CAAC3P,KAAN,IAAe8O,QAAnB,EAA6B;oBACzBA,QAAQ,GAAGa,KAAK,CAAC3P,KAAjB;kBACH;gBACJ,CALD,MAMK;kBACD,IAAIwP,YAAY,CAACV,QAAD,CAAZ,IAA0BU,YAAY,CAACV,QAAD,CAAZ,CAAuBnH,KAAvB,CAA6BxI,MAA3D,EAAmE;oBAC/D,KAAK,IAAID,GAAG,GAAG4P,QAAf,EAAyB5P,GAAG,GAAGsQ,YAAY,CAACrQ,MAA5C,EAAoDD,GAAG,EAAvD,EAA2D;sBACvD,IAAI4Q,UAAU,GAAGN,YAAY,CAACtQ,GAAD,CAA7B;sBACA4Q,UAAU,CAAC9P,KAAX;oBACH;;oBACDwP,YAAY,CAACO,MAAb,CAAoBjB,QAApB,EAA8B,CAA9B,EAAiC9D,GAAjC;oBACAwE,YAAY,CAACV,QAAD,CAAZ,CAAuBnH,KAAvB,CAA6BoH,QAA7B,IAAyClH,IAAzC;kBACH,CAPD,MAQK;oBACD2H,YAAY,CAACV,QAAD,CAAZ,GAAyB9D,GAAzB;oBACAwE,YAAY,CAACV,QAAD,CAAZ,CAAuBnH,KAAvB,CAA6BoH,QAA7B,IAAyClH,IAAzC;kBACH;gBACJ;cACJ;;cACD,IAAImI,UAAU,GAAG,CAAjB;;cACA,IAAIhH,IAAI,CAACQ,QAAL,IAAiBR,IAAI,CAACQ,QAAL,CAAcrK,MAAnC,EAA2C;gBACvC6J,IAAI,CAACQ,QAAL,CAAczJ,OAAd,CAAsB,UAAUiC,KAAV,EAAiB;kBACnC,IAAIsB,EAAE,GAAGuL,QAAQ,CAAC7M,KAAD,EAAQ8M,QAAQ,GAAG,CAAnB,EAAsBC,QAAQ,GAAGiB,UAAjC,EAA6CV,KAA7C,EAAoDC,OAApD,EAA6DC,YAA7D,EAA2EC,WAA3E,EAAwF5H,IAAxF,CAAjB;kBAAA,IAAgHoI,SAAS,GAAG3M,EAAE,CAAC,CAAD,CAA9H;kBAAA,IAAmI4M,QAAQ,GAAG5M,EAAE,CAAC,CAAD,CAAhJ;kBAAA,IAAqJ6M,YAAY,GAAG7M,EAAE,CAAC,CAAD,CAAtK;;kBACA0M,UAAU,IAAKG,YAAY,IAAI,CAA/B;kBACAX,YAAY,GAAGS,SAAS,CAAC1N,KAAV,EAAf;kBACAkN,WAAW,GAAGS,QAAQ,CAAC3N,KAAT,EAAd;gBACH,CALD;cAMH,CAPD,MAQK,IAAIyG,IAAI,CAACyF,cAAT,EAAyB;gBAC1BgB,WAAW,CAACV,QAAD,CAAX,GAAwB;kBAAEc,KAAK,EAAEhI,IAAI,CAACgI,KAAd;kBAAqBjB,IAAI,EAAE5F,IAAI,CAACyF;gBAAhC,CAAxB;cACH;;cACD5G,IAAI,CAACyH,KAAL,GAAaF,WAAb;cACAvH,IAAI,CAAC0H,OAAL,GAAeF,aAAf;cACA,OAAO,CACHG,YADG,EAEHC,WAFG,EAGHL,WAHG,EAIHC,aAJG,CAAP;YAMH,CAnFD;;YAoFA,IAAIe,SAAS,GAAG,UAAUxP,IAAV,EAAgB4N,MAAhB,EAAwBxO,KAAxB,EAA+B;cAC3C,IAAIwO,MAAM,KAAK,KAAK,CAApB,EAAuB;gBAAEA,MAAM,GAAG,IAAT;cAAgB;;cACzC,IAAIxO,KAAK,KAAK,KAAK,CAAnB,EAAsB;gBAAEA,KAAK,GAAG,CAAR;cAAY;;cACpC,IAAIyJ,SAAJ;;cACA,IAAI4G,GAAG,GAAGlM,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKvD,IAAL,CAAT,EAAqB;gBAAEiP,KAAK,EAAE,IAAT;gBAAevG,WAAW,EAAE,KAA5B;gBAAmCE,QAAQ,EAAE;cAA7C,CAArB,CAAlB;;cACA,KAAK,IAAI8G,UAAU,GAAG,CAAtB,EAAyBA,UAAU,GAAG1P,IAAI,CAAC4I,QAAL,CAAcrK,MAApD,EAA4DmR,UAAU,EAAtE,EAA0E;gBACtE,IAAItO,KAAK,GAAGoO,SAAS,CAACxP,IAAI,CAAC4I,QAAL,CAAc8G,UAAd,CAAD,EAA4B1P,IAA5B,EAAkC0P,UAAlC,CAArB;gBACA7G,SAAS,GAAGA,SAAS,IAAIzH,KAAK,CAACyH,SAA/B;;gBACA,IAAIzH,KAAK,CAACyH,SAAN,KAAoBA,SAApB,IACG+E,MADH,IAEG,CAACA,MAAM,CAAChF,QAAP,CAAgB3H,IAAhB,CAAqB,UAAU8G,CAAV,EAAa;kBAAE,OAAOA,CAAC,CAACkH,KAAF,IAAWlH,CAAC,CAACxH,IAAF,KAAWkP,GAAG,CAAClP,IAAjC;gBAAwC,CAA5E,CAFJ,IAGG,CAACP,IAAI,CAACiP,KAHb,EAGoB;kBAChBQ,GAAG,CAAC7G,QAAJ,CAAaxI,IAAb,CAAkBgB,KAAlB;kBACApB,IAAI,CAAC4I,QAAL,CAAcuG,MAAd,CAAqBO,UAArB,EAAiC,CAAjC;kBACAA,UAAU;gBACb;cACJ;;cACD,IAAI1P,IAAI,CAAC4I,QAAL,CAAc1F,MAAd,CAAqB,UAAU6E,CAAV,EAAa;gBAAE,OAAO,CAACA,CAAC,CAACkH,KAAV;cAAkB,CAAtD,EAAwD1Q,MAAxD,IAAkE,CAAlE,IACGqP,MADH,IAEG,CAACA,MAAM,CAAChF,QAAP,CAAgB3H,IAAhB,CAAqB,UAAU8G,CAAV,EAAa;gBAAE,OAAOA,CAAC,CAACkH,KAAF,IAAWlH,CAAC,CAACxH,IAAF,KAAWkP,GAAG,CAAClP,IAAjC;cAAwC,CAA5E,CAFJ,IAGG,CAACP,IAAI,CAACiP,KAHb,EAGoB;gBAChB,IAAIU,cAAc,GAAG3P,IAAI,CAAC4I,QAAL,CAAc,CAAd,EAAiBC,SAAtC;;gBACA,IAAI7I,IAAI,CAAC6I,SAAL,KAAmB8G,cAAvB,EAAuC;kBACnC/B,MAAM,CAAChF,QAAP,CAAgBuG,MAAhB,CAAuB/P,KAAK,GAAG,CAA/B,EAAkC,CAAlC,EAAqCqQ,GAArC;gBACH;cACJ;;cACD,OAAOzP,IAAP;YACH,CA3BD;YA4BA;AACJ;AACA;;;YACI,IAAI4P,MAAM,GAAG,UAAUpI,MAAV,EAAkB;cAC3B,IAAIxH,IAAI,GAAG;gBAAE4I,QAAQ,EAAE;cAAZ,CAAX;cACA,IAAI5B,GAAG,GAAG,EAAV;;cACA,KAAK,IAAI6I,UAAU,GAAG,CAAtB,EAAyBA,UAAU,GAAGrI,MAAM,CAACjJ,MAA7C,EAAqDsR,UAAU,EAA/D,EAAmE;gBAC/D,IAAItH,KAAK,GAAGuH,IAAI,CAACtI,MAAM,CAACqI,UAAD,CAAP,CAAhB;gBACA,IAAI5F,GAAG,GAAG,EAAV;;gBACA,IAAI8F,OAAO,GAAG,UAAUC,WAAV,EAAuB;kBACjC,IAAIlP,MAAM,GAAGyH,KAAK,CAAC/I,OAAN,CAAcwQ,WAAd,CAAb;kBACA,IAAIC,QAAJ;;kBACA,IAAIjQ,IAAI,CAAC4I,QAAL,IAAiB5I,IAAI,CAAC4I,QAAL,CAAcrK,MAAd,KAAyB,CAA9C,EAAiD;oBAC7C0R,QAAQ,GAAGjQ,IAAX;kBACH,CAFD,MAGK,IAAIgH,GAAG,CAACiD,GAAD,CAAH,IAAY,CAACjD,GAAG,CAACiD,GAAG,GAAGnJ,MAAM,CAACP,IAAd,CAAhB,IAAuCO,MAAM,CAACiI,QAAP,KAAoB,CAA/D,EAAkE;oBACnEkH,QAAQ,GAAGjJ,GAAG,CAACiD,GAAD,CAAd;kBACH,CAFI,MAGA,IAAIjD,GAAG,CAACiD,GAAG,GAAGnJ,MAAM,CAACkI,UAAd,CAAH,IAAgClI,MAAM,CAACiI,QAAP,GAAkB,CAAlD,IAAuD,CAAC/B,GAAG,CAACiD,GAAG,GAAGnJ,MAAM,CAACkI,UAAb,GAA0BlI,MAAM,CAACP,IAAlC,CAA/D,EAAwG;oBACzG0P,QAAQ,GAAGjJ,GAAG,CAACiD,GAAG,GAAGnJ,MAAM,CAACkI,UAAd,CAAd;kBACH,CAFI,MAGA,IAAI,CAAChC,GAAG,CAACiD,GAAG,GAAGnJ,MAAM,CAACkI,UAAd,CAAJ,IAAiClI,MAAM,CAACiI,QAAP,GAAkB,CAAnD,IAAwD,CAAC/B,GAAG,CAACiD,GAAG,GAAGnJ,MAAM,CAACkI,UAAb,GAA0BlI,MAAM,CAACP,IAAlC,CAAhE,EAAyG;oBAC1G,IAAI2P,SAAS,GAAG1M,MAAM,CAACwJ,IAAP,CAAYhG,GAAZ,EAAiBmJ,IAAjB,CAAsB,UAAUtL,CAAV,EAAa;sBAAE,OAAO/D,MAAM,CAACkI,UAAP,KAAsBhC,GAAG,CAACnC,CAAD,CAAH,CAAOtE,IAApC;oBAA2C,CAAhF,CAAhB;;oBACA,IAAI2P,SAAJ,EAAe;sBACXD,QAAQ,GAAGjJ,GAAG,CAACkJ,SAAD,CAAd;oBACH;kBACJ;;kBACD,IAAID,QAAJ,EAAc;oBACVnP,MAAM,CAACkN,IAAP,GAAcD,YAAY,CAACjN,MAAD,EAASmP,QAAT,CAA1B;oBACAnP,MAAM,CAAC+M,cAAP,GAAwBF,sBAAsB,CAAC7M,MAAD,EAASmP,QAAT,CAA9C;oBACA,IAAIG,aAAa,GAAGH,QAAQ,CAACrH,QAAT,CAAkBkG,SAAlB,CAA4B,UAAU/G,CAAV,EAAa;sBAAE,OAAOA,CAAC,CAACc,SAAF,KAAgBoH,QAAQ,CAACpH,SAAhC;oBAA4C,CAAvF,CAApB;;oBACA,IAAIuH,aAAa,KAAK,CAAC,CAAvB,EAA0B;sBACtBH,QAAQ,CAACrH,QAAT,CAAkBuG,MAAlB,CAAyBiB,aAAzB,EAAwC,CAAxC,EAA2CtP,MAA3C;oBACH,CAFD,MAGK;sBACDmP,QAAQ,CAACrH,QAAT,CAAkBxI,IAAlB,CAAuBU,MAAvB;oBACH;kBACJ;;kBACDA,MAAM,CAACkI,UAAP,IAAqBlI,MAAM,CAACP,IAA5B;kBACA0J,GAAG,IAAInJ,MAAM,CAACkI,UAAd;;kBACA,IAAI,CAAChC,GAAG,CAACiD,GAAD,CAAR,EAAe;oBACXjD,GAAG,CAACiD,GAAD,CAAH,GAAWnJ,MAAX;kBACH;gBACJ,CAlCD;;gBAmCA,KAAK,IAAIkP,WAAW,GAAG,CAAvB,EAA0BA,WAAW,GAAGzH,KAAK,CAAC/I,OAAN,CAAcjB,MAAtD,EAA8DyR,WAAW,EAAzE,EAA6E;kBACzED,OAAO,CAACC,WAAD,CAAP;gBACH;cACJ;;cACD,OAAOF,IAAI,CAACN,SAAS,CAACxP,IAAD,CAAV,CAAX;YACH,CA9CD;YA+CA;AACJ;AACA;;;YACI,IAAIqQ,MAAM,GAAG,UAAU3I,IAAV,EAAgBH,OAAhB,EAAyBE,IAAzB,EAA+BkH,OAA/B,EAAwCD,KAAxC,EAA+C;cACxD,IAAI9N,MAAM,GAAGuF,KAAK,CAACU,IAAN,CAAW,IAAIV,KAAJ,CAAUuI,KAAV,CAAX,EAA6B,YAAY;gBAAE,OAAQ;kBAAE3H,KAAK,EAAEZ,KAAK,CAACU,IAAN,CAAW,IAAIV,KAAJ,CAAUwI,OAAV,CAAX,EAA+B,YAAY;oBAAE,OAAO,IAAP;kBAAc,CAA3D;gBAAT,CAAR;cAAmF,CAA9H,CAAb;;cACA,IAAI2B,IAAI,GAAG,UAAUnQ,KAAV,EAAiB;gBAAE,OAAOA,KAAK,CAACM,IAAN,CAAW,GAAX,CAAP;cAAyB,CAAvD;;cACA,IAAI8P,YAAY,GAAG,UAAUhI,KAAV,EAAiB;gBAAE,OAAOA,KAAK,CAAC/I,OAAN,CAAcwH,GAAd,CAAkB,UAAUwJ,CAAV,EAAa;kBAAE,OAAOA,CAAC,CAACjQ,IAAT;gBAAgB,CAAjD,CAAP;cAA4D,CAAlG;;cACA,IAAIkQ,cAAc,GAAG,IAAIC,GAAJ,EAArB;cACA,IAAIC,WAAW,GAAG,IAAID,GAAJ,EAAlB;cACAnJ,OAAO,CAACpI,OAAR,CAAgB,UAAUyR,UAAV,EAAsBtS,GAAtB,EAA2B;gBAAEmS,cAAc,CAACnD,GAAf,CAAmBgD,IAAI,CAACM,UAAU,CAAC5C,IAAZ,CAAvB,EAA0C1P,GAA1C;cAAiD,CAA9F;cACAmJ,IAAI,CAACtI,OAAL,CAAa,UAAU0R,UAAV,EAAsBvS,GAAtB,EAA2B;gBAAEqS,WAAW,CAACrD,GAAZ,CAAgBgD,IAAI,CAACO,UAAU,CAAC7C,IAAZ,CAApB,EAAuC1P,GAAvC;cAA8C,CAAxF;cACAoJ,IAAI,CAACvI,OAAL,CAAa,UAAU2R,IAAV,EAAgB;gBACzB,IAAI3C,QAAQ,GAAGsC,cAAc,CAACM,GAAf,CAAmBT,IAAI,CAACC,YAAY,CAACO,IAAI,CAAC3I,WAAN,CAAb,CAAvB,CAAf;gBACA,IAAI+F,QAAQ,GAAGyC,WAAW,CAACI,GAAZ,CAAgBT,IAAI,CAACC,YAAY,CAACO,IAAI,CAAC7I,QAAN,CAAb,CAApB,CAAf;;gBACA,IAAIkG,QAAQ,KAAKhR,SAAb,IAA0B+Q,QAAQ,KAAK/Q,SAA3C,EAAsD;kBAClD,IAAI,CAACyD,MAAM,CAACsN,QAAD,CAAN,CAAiBnH,KAAjB,CAAuBoH,QAAvB,CAAL,EAAuC;oBACnCvN,MAAM,CAACsN,QAAD,CAAN,CAAiB9D,GAAjB,GAAuB3C,IAAI,CAACyG,QAAD,CAAJ,CAAeF,IAAtC;oBACApN,MAAM,CAACsN,QAAD,CAAN,CAAiBnH,KAAjB,CAAuBoH,QAAvB,IAAmC2C,IAAnC;kBACH;gBACJ;cACJ,CATD;cAUA,OAAOlQ,MAAP;YACH,CAnBD;;YAoBA,IAAIoQ,YAAY,GAAG,UAAU1C,MAAV,EAAkBC,KAAlB,EAAyBG,KAAzB,EAAgCC,OAAhC,EAAyC;cACxD,IAAI/N,MAAM,GAAG,IAAIuF,KAAJ,CAAUwI,OAAV,CAAb;;cACA,KAAK,IAAIR,QAAQ,GAAG,CAApB,EAAuBA,QAAQ,GAAGQ,OAAlC,EAA2CR,QAAQ,EAAnD,EAAuD;gBACnD,KAAK,IAAID,QAAQ,GAAG,CAApB,EAAuBA,QAAQ,GAAGQ,KAAlC,EAAyCR,QAAQ,EAAjD,EAAqD;kBACjD,IAAII,MAAM,CAACJ,QAAD,CAAN,IAAoBI,MAAM,CAACJ,QAAD,CAAN,CAAiBnH,KAAjB,CAAuBoH,QAAvB,CAAxB,EAA0D;oBACtD,IAAIlH,IAAI,GAAGqH,MAAM,CAACJ,QAAD,CAAN,CAAiBnH,KAAjB,CAAuBoH,QAAvB,CAAX;;oBACA,IAAI,CAACvN,MAAM,CAACuN,QAAD,CAAX,EAAuB;sBACnBvN,MAAM,CAACuN,QAAD,CAAN,GAAmB;wBACfpH,KAAK,EAAE,IAAIZ,KAAJ,CAAUuI,KAAV,EAAiB5G,IAAjB,CAAsB,IAAtB;sBADQ,CAAnB;oBAGH;;oBACDlH,MAAM,CAACuN,QAAD,CAAN,CAAiBpH,KAAjB,CAAuBmH,QAAvB,IAAmC3K,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAK0D,IAAL,CAAT,EAAqB;sBAAEgK,OAAO,EAAEhK,IAAI,CAACiK,OAAhB;sBAAyBA,OAAO,EAAEjK,IAAI,CAACgK;oBAAvC,CAArB,CAA3C;kBACH;gBACJ;cACJ;;cACD,OAAO,CAACrQ,MAAD,EAAS2N,KAAT,EAAgBI,OAAhB,EAAyBD,KAAzB,CAAP;YACH,CAhBD;YAiBA;AACJ;AACA;;;YACI,IAAIyC,SAAS,GAAG,UAAUnR,IAAV,EAAgB;cAC5B,IAAI0C,EAAE,GAAGuL,QAAQ,CAACjO,IAAD,CAAjB;cAAA,IAAyBsO,MAAM,GAAG5L,EAAE,CAAC,CAAD,CAApC;cAAA,IAAyC6L,KAAK,GAAG7L,EAAE,CAAC,CAAD,CAAnD;cAAA,IAAwDgM,KAAK,GAAGhM,EAAE,CAAC,CAAD,CAAlE;cAAA,IAAuEiM,OAAO,GAAGjM,EAAE,CAAC,CAAD,CAAnF;;cACA,KAAK,IAAIyL,QAAQ,GAAG,CAApB,EAAuBA,QAAQ,GAAGQ,OAAlC,EAA2CR,QAAQ,EAAnD,EAAuD;gBACnD,IAAIlH,IAAI,GAAG,IAAX;;gBACA,KAAK,IAAIiH,QAAQ,GAAG,CAApB,EAAuBA,QAAQ,GAAGQ,KAAlC,EAAyCR,QAAQ,EAAjD,EAAqD;kBACjD,IAAII,MAAM,CAACJ,QAAD,CAAV,EAAsB;oBAClB,IAAItJ,IAAI,GAAG0J,MAAM,CAACJ,QAAD,CAAN,CAAiBnH,KAAjB,CAAuBoH,QAAvB,CAAX;;oBACA,IAAI,CAACvJ,IAAD,IAASqC,IAAb,EAAmB;sBACfA,IAAI,CAACgK,OAAL,GAAe,CAAChK,IAAI,CAACgK,OAAL,IAAgB,CAAjB,IAAsB,CAArC;oBACH;;oBACD,IAAIhK,IAAJ,EAAU;sBACNA,IAAI,CAACiK,OAAL,GAAejK,IAAI,CAAC0H,OAAL,IAAgB,CAA/B;oBACH;;oBACD,IAAI/J,IAAJ,EAAU;sBACNqC,IAAI,GAAGrC,IAAP;oBACH;kBACJ;gBACJ;cACJ;;cACD,OAAO,CAAC0J,MAAD,EAASC,KAAT,EAAgBG,KAAhB,EAAuBC,OAAvB,CAAP;YACH,CApBD;YAqBA;AACJ;AACA;;;YACI,IAAIyC,MAAM,GAAG,UAAUpR,IAAV,EAAgB;cACzB,IAAI0C,EAAE,GAAGuL,QAAQ,CAACjO,IAAD,CAAjB;cAAA,IAAyBsO,MAAM,GAAG5L,EAAE,CAAC,CAAD,CAApC;cAAA,IAAyC6L,KAAK,GAAG7L,EAAE,CAAC,CAAD,CAAnD;cAAA,IAAwDgM,KAAK,GAAGhM,EAAE,CAAC,CAAD,CAAlE;cAAA,IAAuEiM,OAAO,GAAGjM,EAAE,CAAC,CAAD,CAAnF;;cACA,KAAK,IAAIyL,QAAQ,GAAG,CAApB,EAAuBA,QAAQ,GAAGQ,OAAlC,EAA2CR,QAAQ,EAAnD,EAAuD;gBACnD,IAAIlH,IAAI,GAAG,IAAX;;gBACA,KAAK,IAAIiH,QAAQ,GAAG,CAApB,EAAuBA,QAAQ,GAAGQ,KAAlC,EAAyCR,QAAQ,EAAjD,EAAqD;kBACjD,IAAII,MAAM,CAACJ,QAAD,CAAV,EAAsB;oBAClB,IAAItJ,IAAI,GAAG0J,MAAM,CAACJ,QAAD,CAAN,CAAiBnH,KAAjB,CAAuBoH,QAAvB,CAAX;;oBACA,IAAI,CAACvJ,IAAD,IAASqC,IAAb,EAAmB;sBACfA,IAAI,CAACgK,OAAL,GAAe,CAAChK,IAAI,CAACgK,OAAL,IAAgB,CAAjB,IAAsB,CAArC;oBACH;;oBACD,IAAIhK,IAAJ,EAAU;sBACNA,IAAI,CAACiK,OAAL,GAAejK,IAAI,CAAC0H,OAApB;oBACH;;oBACD,IAAI/J,IAAJ,EAAU;sBACNqC,IAAI,GAAGrC,IAAP;oBACH;kBACJ;gBACJ;cACJ;;cACD,OAAOoM,YAAY,CAAC1C,MAAD,EAASC,KAAT,EAAgBG,KAAhB,EAAuBC,OAAvB,CAAnB;YACH,CApBD;YAqBA;AACJ;AACA;;;YACI,SAASmB,IAAT,CAAcuB,GAAd,EAAmB;cACf,OAAOpE,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACqE,SAAL,CAAeD,GAAf,CAAX,CAAP;YACH;;YACD,IAAIE,UAAU,GAAG,UAAUhR,IAAV,EAAgBM,OAAhB,EAAyByJ,IAAzB,EAA+B;cAC5C,OAAO;gBACHsB,mBAAmB,EAAErL,IADlB;gBAEHkK,UAAU,EAAE5J,OAFT;gBAGH8H,OAAO,EAAE9H,OAHN;gBAIHA,OAAO,EAAEA,OAJN;gBAKHN,IAAI,EAAEM,OALH;gBAMHyJ,IAAI,EAAEA,IANH;gBAOHkH,GAAG,EAAE;cAPF,CAAP;YASH,CAVD;YAWA;AACJ;AACA;;;YACI,SAASC,gBAAT,CAA0BrJ,IAA1B,EAAgC;cAC5B,IAAI7H,IAAI,GAAG6H,IAAI,CAAC7H,IAAhB;cACA,OAAO,CACHgR,UAAU,CAAChR,IAAD,EAAO6H,IAAI,CAAC1J,KAAZ,EAAmB,OAAnB,CADP,EAEH6S,UAAU,CAAChR,IAAD,EAAO6H,IAAI,CAAC2C,IAAZ,EAAkB,MAAlB,CAFP,EAGHwG,UAAU,CAAChR,IAAD,EAAO6H,IAAI,CAAC4C,MAAZ,EAAoB,QAApB,CAHP,EAIHuG,UAAU,CAAChR,IAAD,EAAO6H,IAAI,CAAC6C,KAAZ,EAAmB,OAAnB,CAJP,CAAP;YAMH;YACD;AACJ;AACA;;;YACI,IAAIyG,MAAM,GAAG,UAAUhK,IAAV,EAAgB;cACzB,IAAIrG,KAAJ;cACA,IAAI/C,GAAG,GAAG,CAAV;;cACA,OAAOA,GAAG,GAAGoJ,IAAI,CAACnJ,MAAlB,EAA0BD,GAAG,EAA7B,EAAiC;gBAC7B,IAAIoJ,IAAI,CAACpJ,GAAD,CAAJ,CAAUgM,IAAV,KAAmB,CAAvB,EAA0B;kBACtBjJ,KAAK,GAAG,IAAR;kBACA;gBACH;cACJ;;cACD,IAAIA,KAAJ,EAAW;gBACPqG,IAAI,CAACyH,MAAL,CAAY7Q,GAAG,GAAG,CAAlB,EAAqB,CAArB,EAAwB;kBACpBqK,OAAO,EAAE,MADW;kBAEpB0C,gBAAgB,EAAE,QAFE;kBAGpB9K,IAAI,EAAE,MAHc;kBAIpBkK,UAAU,EAAE;gBAJQ,CAAxB;cAMH;YACJ,CAjBD;YAkBA;AACJ;AACA;;;YACI,IAAIkH,oBAAoB,GAAG,UAAUtL,CAAV,EAAauL,CAAb,EAAgB;cAAE,OAAOjT,MAAM,CAAC0H,CAAC,CAAC9F,IAAH,CAAN,KAAmB5B,MAAM,CAAC,CAAEiT,CAAC,CAACvG,gBAAF,GACtEuG,CAAC,CAACvG,gBADoE,GAEtEuG,CAAC,CAACnH,UAFkE,CAAD,CAAhC;YAEjB,CAF5B;YAGA;AACJ;AACA;;;YACI,IAAIoH,WAAW,GAAG,UAAUxL,CAAV,EAAauL,CAAb,EAAgB;cAAE,OAAOjT,MAAM,CAAC0H,CAAC,CAAC9F,IAAH,CAAN,KAAmB5B,MAAM,CAACiT,CAAC,CAACrR,IAAH,CAAhC;YAA2C,CAA/E;YACA;AACJ;AACA;;;YACI,IAAIuR,WAAW,GAAG,UAAUlL,IAAV,EAAgBmL,GAAhB,EAAqB;cACnC,IAAIC,OAAO,GAAG,UAAUpO,CAAV,EAAa;gBACvB,IAAI+D,IAAI,GAAGf,IAAI,CAAChD,CAAD,CAAf;gBACA,IAAIxE,KAAK,GAAGuI,IAAI,CAACpH,IAAL,CAAUuO,SAAV,CAAoB,UAAUvO,IAAV,EAAgB;kBAAE,OAAOoR,oBAAoB,CAAC;oBAAEpR,IAAI,EAAE,CAACA,IAAD;kBAAR,CAAD,EAAmBwR,GAAnB,CAApB,IAA+CpT,MAAM,CAAC4B,IAAD,CAAN,CAAa0R,UAAb,CAAwBF,GAAG,CAACtH,UAA5B,CAAtD;gBAAgG,CAAtI,CAAZ;;gBACA,IAAIrL,KAAK,KAAK,CAAC,CAAf,EAAkB;kBACd,IAAIA,KAAK,KAAKuI,IAAI,CAACpH,IAAL,CAAUhC,MAAV,GAAmB,CAA7B,IAAkCoJ,IAAI,CAACpH,IAAL,CAAUhC,MAAV,KAAqB,CAA3D,EAA8D;oBAC1DqI,IAAI,CAACuI,MAAL,CAAYvL,CAAZ,EAAe,CAAf;kBACH,CAFD,MAGK;oBACD+D,IAAI,CAACpH,IAAL,CAAU4O,MAAV,CAAiB/P,KAAjB,EAAwB,CAAxB;oBACA,IAAI8S,mBAAmB,GAAGtL,IAAI,CAACkI,SAAL,CAAe,UAAUqD,EAAV,EAAc;sBAAE,OAAOA,EAAE,KAAKxK,IAAP,IAAehJ,MAAM,CAACwT,EAAE,CAAC5R,IAAJ,CAAN,KAAoB5B,MAAM,CAACgJ,IAAI,CAACpH,IAAN,CAAhD;oBAA8D,CAA7F,CAA1B;;oBACA,IAAI2R,mBAAmB,KAAK,CAAC,CAA7B,EAAgC;sBAC5BtL,IAAI,CAACsL,mBAAD,CAAJ,GAA4B3O,QAAQ,CAACA,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKqD,IAAI,CAACsL,mBAAD,CAAT,CAAT,EAA0CvK,IAA1C,CAAT,EAA4Df,IAAI,CAACsL,mBAAD,CAAJ,CAA0BzQ,MAA1B,IAAoCkG,IAAI,CAAClG,MAA1C,GAAoD;wBAAEA,MAAM,EAAE;sBAAV,CAApD,GAAuE,EAAlI,CAApC;sBACAmF,IAAI,CAACuI,MAAL,CAAYvL,CAAZ,EAAe,CAAf;oBACH;kBACJ;gBACJ;cACJ,CAhBD;;cAiBA,KAAK,IAAIA,CAAC,GAAGgD,IAAI,CAACrI,MAAL,GAAc,CAA3B,EAA8BqF,CAAC,IAAI,CAAnC,EAAsCA,CAAC,EAAvC,EAA2C;gBACvCoO,OAAO,CAACpO,CAAD,CAAP;cACH;YACJ,CArBD;YAsBA;AACJ;AACA;;;YACI,IAAIwO,UAAU,GAAG,UAAUxL,IAAV,EAAgByL,QAAhB,EAA0BzF,KAA1B,EAAiC;cAC9C,IAAIxN,KAAK,GAAG,CAAC,CAAb;;cACA,IAAIwN,KAAK,CAAC0F,UAAN,IAAoB1F,KAAK,CAAC2F,aAA9B,EAA6C;gBACzC,IAAIC,MAAM,GAAG5F,KAAK,CAAC2F,aAAN,GACN3F,KAAK,CAAC2F,aAAN,KAAwB,QAAxB,GACG,CADH,GAEG,CAHG,GAIP,CAJN;gBAKAnT,KAAK,GAAGwH,IAAI,CAACkI,SAAL,CAAe,UAAU/G,CAAV,EAAa;kBAAE,OAAO8J,WAAW,CAAC9J,CAAD,EAAI6E,KAAK,CAAC0F,UAAV,CAAlB;gBAA0C,CAAxE,IAA4EE,MAApF;cACH;;cACD,IAAIpT,KAAK,KAAK,CAAC,CAAf,EAAkB;gBACdwH,IAAI,CAACzH,OAAL,CAAa,UAAUwI,IAAV,EAAgB;kBACzB,IAAIjF,EAAJ;;kBACA,IAAIiF,IAAI,CAAClG,MAAL,IAAekG,IAAI,CAACpH,IAAL,CAAUhC,MAAV,GAAmB,CAAlC,IAAuCoJ,IAAI,CAACpH,IAAL,CAAUhC,MAAV,GAAmBa,KAA9D,EAAqE;oBACjE,CAACsD,EAAE,GAAGiF,IAAI,CAACpH,IAAX,EAAiB4O,MAAjB,CAAwBjS,KAAxB,CAA8BwF,EAA9B,EAAkCsD,cAAc,CAAC,CAAC5G,KAAD,EAAQ,CAAR,CAAD,EAAaiT,QAAQ,CAAC9R,IAAtB,CAAhD;kBACH;gBACJ,CALD;gBAMAqG,IAAI,CAACuI,MAAL,CAAY/P,KAAZ,EAAmB,CAAnB,EAAsBiT,QAAtB;cACH,CARD,MASK;gBACDzL,IAAI,CAACxG,IAAL,CAAUiS,QAAV;cACH;YACJ,CAtBD;YAwBA;AACJ;AACA;;;YACI1V,OAAO,CAAC8V,cAAR,GAAyB,KAAK,CAA9B;;YACA,CAAC,UAAUA,cAAV,EAA0B;cACvBA,cAAc,CAAC,QAAD,CAAd,GAA2B,uBAA3B;cACAA,cAAc,CAAC,QAAD,CAAd,GAA2B,uBAA3B;cACAA,cAAc,CAAC,UAAD,CAAd,GAA6B,yBAA7B;YACH,CAJD,EAIG9V,OAAO,CAAC8V,cAAR,KAA2B9V,OAAO,CAAC8V,cAAR,GAAyB,EAApD,CAJH;;YAKA,IAAIC,QAAQ,GAAG,UAAUtK,IAAV,EAAgBuK,OAAhB,EAAyBC,OAAzB,EAAkC;cAC7C,IAAIhS,MAAM,GAAG,IAAI2M,GAAJ,EAAb;cACAnF,IAAI,CAACQ,QAAL,CAAczJ,OAAd,CAAsB,UAAUiC,KAAV,EAAiB;gBACnC,IAAIyR,KAAK,GAAGF,OAAO,CAACvR,KAAD,CAAnB;;gBACA,IAAIwR,OAAJ,EAAa;kBACThS,MAAM,CAAC4M,GAAP,CAAW7O,MAAM,CAACyC,KAAK,CAAC4M,IAAP,CAAjB;gBACH;;gBACD0E,QAAQ,CAACtR,KAAD,EAAQuR,OAAR,EAAkBC,OAAO,IAAIC,KAA7B,CAAR,CAA6C7L,GAA7C,CAAiD,UAAU8L,CAAV,EAAa;kBAC1DlS,MAAM,CAAC4M,GAAP,CAAWsF,CAAX;gBACH,CAFD;cAGH,CARD;cASA,OAAO3M,KAAK,CAACU,IAAN,CAAWjG,MAAM,CAAC5B,MAAP,EAAX,CAAP;YACH,CAZD;YAaA;AACJ;AACA;;;YACI,IAAI+T,cAAc,GAAG,UAAUnG,KAAV,EAAiBoG,MAAjB,EAAyB;cAC1C,QAAQA,MAAM,CAAC1I,IAAf;gBACI,KAAK3N,OAAO,CAAC8V,cAAR,CAAuBQ,MAA5B;kBAAoC;oBAChC,IAAIC,QAAQ,GAAGtG,KAAK,CAACuD,IAAN,CAAY,UAAUxM,CAAV,EAAa;sBAAE,OAAOhF,MAAM,CAACgF,CAAC,CAACpD,IAAH,CAAN,KAAmB5B,MAAM,CAACqU,MAAM,CAACG,OAAR,CAAhC;oBAAmD,CAA9E,CAAf;oBACA,OAAOJ,cAAc,CAACnG,KAAD,EAAQrJ,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKyP,MAAL,CAAT,EAAuB;sBAAE1I,IAAI,EAAE4I,QAAQ,IAAKA,QAAQ,CAACzR,MAAtB,GAC1D9E,OAAO,CAAC8V,cAAR,CAAuBW,QADmC,GAE1DzW,OAAO,CAAC8V,cAAR,CAAuBhR;oBAF2B,CAAvB,CAAhB,CAArB;kBAGH;;gBACD,KAAK9E,OAAO,CAAC8V,cAAR,CAAuBhR,MAA5B;kBAAoC;oBAChC,IAAI4R,UAAU,GAAGzG,KAAK,CAACuD,IAAN,CAAY,UAAUxM,CAAV,EAAa;sBAAE,OAAOhF,MAAM,CAACgF,CAAC,CAACpD,IAAH,CAAN,KAAmB5B,MAAM,CAACqU,MAAM,CAACG,OAAR,CAAhC;oBAAmD,CAA9E,CAAjB;;oBACA,IAAIE,UAAU,IAAIA,UAAU,CAAC5R,MAAX,KAAsB,IAAxC,EAA8C;sBAC1C,OAAOmL,KAAP;oBACH,CAFD,MAGK,IAAIyG,UAAU,KAAKA,UAAU,CAAC5R,MAAX,KAAsB,KAAtB,IAA+B4R,UAAU,CAAC5R,MAAX,KAAsBtE,SAA1D,CAAd,EAAoF;sBACrF,OAAOyP,KAAK,CAAC5F,GAAN,CAAU,UAAUrD,CAAV,EAAa;wBAAE,OAAOA,CAAC,KAAK0P,UAAN,GAAoB9P,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAK8P,UAAL,CAAT,EAA2B;0BAAE5R,MAAM,EAAE;wBAAV,CAA3B,CAA5B,GAA4EkC,CAAnF;sBAAuF,CAAhH,CAAP;oBACH,CAFI,MAGA;sBACD,IAAI2P,SAAS,GAAG1G,KAAK,CAACjL,KAAN,EAAhB;sBACA2R,SAAS,CAAClT,IAAV,CAAe;wBAAEG,IAAI,EAAEyS,MAAM,CAACG,OAAf;wBAAwB1R,MAAM,EAAE;sBAAhC,CAAf;sBACA,OAAO6R,SAAP;oBACH;kBACJ;;gBACD,KAAK3W,OAAO,CAAC8V,cAAR,CAAuBW,QAA5B;kBAAsC;oBAClC,IAAIG,UAAU,GAAGb,QAAQ,CAACM,MAAM,CAACQ,IAAR,EAAc,UAAUpL,IAAV,EAAgB;sBAAE,OAAO,CAACA,IAAI,CAAC6G,KAAN,IAAetQ,MAAM,CAACyJ,IAAI,CAAC4F,IAAN,CAAN,KAAsBrP,MAAM,CAACqU,MAAM,CAACG,OAAR,CAAlD;oBAAqE,CAArG,CAAzB;oBACA,IAAIM,QAAQ,GAAG7G,KAAK,CAACjL,KAAN,GACVuB,MADU,CACH,UAAU4P,CAAV,EAAa;sBAAE,OAAO,CAACS,UAAU,CAACtS,IAAX,CAAgB,UAAUjE,CAAV,EAAa;wBAAE,OAAOA,CAAC,KAAK2B,MAAM,CAACmU,CAAC,CAACvS,IAAH,CAAnB;sBAA8B,CAA7D,CAAR;oBAAyE,CADrF,EAEVyG,GAFU,CAEN,UAAU8L,CAAV,EAAa;sBAAE,OAAQvP,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKuP,CAAL,CAAT,EAAkB;wBAAErR,MAAM,EAAEqM,OAAO,CAACgF,CAAC,CAACrR,MAAH;sBAAjB,CAAlB,CAAhB;oBAAoE,CAF7E,EAGVuF,GAHU,CAGN,UAAU8L,CAAV,EAAa;sBAAE,OAAQnU,MAAM,CAACmU,CAAC,CAACvS,IAAH,CAAN,KAAmB5B,MAAM,CAACqU,MAAM,CAACG,OAAR,CAA1B,GACzBH,MAAM,CAACG,OAAP,CAAe5U,MAAf,GAAwB,CAAxB,GAA4BpB,SAA5B,GAAwC;wBAAEoD,IAAI,EAAEyS,MAAM,CAACG,OAAf;wBAAwB1R,MAAM,EAAE;sBAAhC,CADf,GAEzBqR,CAFkB;oBAEd,CALK,EAMV5P,MANU,CAMH4K,OANG,CAAf;oBAOA,OAAO2F,QAAP;kBACH;;gBACD;kBAAS;oBACL,OAAO7G,KAAP;kBACH;cAlCL;YAoCH,CArCD;YAuCA;AACJ;AACA;;;YACIjQ,OAAO,CAAC+W,yBAAR,GAAoC,KAAK,CAAzC;;YACA,CAAC,UAAUA,yBAAV,EAAqC;cAClC;cACAA,yBAAyB,CAAC,iBAAD,CAAzB,GAA+C,4CAA/C;cACAA,yBAAyB,CAAC,eAAD,CAAzB,GAA6C,2CAA7C;cACAA,yBAAyB,CAAC,eAAD,CAAzB,GAA6C,2CAA7C;cACAA,yBAAyB,CAAC,kBAAD,CAAzB,GAAgD,8CAAhD;cACAA,yBAAyB,CAAC,kBAAD,CAAzB,GAAgD,8CAAhD;cACAA,yBAAyB,CAAC,YAAD,CAAzB,GAA0C,wCAA1C;cACAA,yBAAyB,CAAC,YAAD,CAAzB,GAA0C,wCAA1C;cACAA,yBAAyB,CAAC,eAAD,CAAzB,GAA6C,2CAA7C;cACAA,yBAAyB,CAAC,eAAD,CAAzB,GAA6C,2CAA7C;cACAA,yBAAyB,CAAC,gBAAD,CAAzB,GAA8C,4CAA9C;cACAA,yBAAyB,CAAC,gBAAD,CAAzB,GAA8C,4CAA9C;cACAA,yBAAyB,CAAC,mBAAD,CAAzB,GAAiD,+CAAjD;cACAA,yBAAyB,CAAC,mBAAD,CAAzB,GAAiD,+CAAjD,CAdkC,CAelC;;cACAA,yBAAyB,CAAC,QAAD,CAAzB,GAAsC,kCAAtC,CAhBkC,CAiBlC;;cACAA,yBAAyB,CAAC,SAAD,CAAzB,GAAuC,oCAAvC,CAlBkC,CAmBlC;;cACAA,yBAAyB,CAAC,WAAD,CAAzB,GAAyC,sCAAzC;cACAA,yBAAyB,CAAC,WAAD,CAAzB,GAAyC,sCAAzC;cACAA,yBAAyB,CAAC,cAAD,CAAzB,GAA4C,yCAA5C;cACAA,yBAAyB,CAAC,cAAD,CAAzB,GAA4C,yCAA5C,CAvBkC,CAwBlC;;cACAA,yBAAyB,CAAC,aAAD,CAAzB,GAA2C,wCAA3C;cACAA,yBAAyB,CAAC,MAAD,CAAzB,GAAoC,gCAApC;cACAA,yBAAyB,CAAC,aAAD,CAAzB,GAA2C,yCAA3C;cACAA,yBAAyB,CAAC,eAAD,CAAzB,GAA6C,2CAA7C;cACAA,yBAAyB,CAAC,kBAAD,CAAzB,GAAgD,8CAAhD;YACH,CA9BD,EA8BG/W,OAAO,CAAC+W,yBAAR,KAAsC/W,OAAO,CAAC+W,yBAAR,GAAoC,EAA1E,CA9BH;YA+BA;AACJ;AACA;;;YACI,IAAIC,mBAAmB,GAAG,UAAU/G,KAAV,EAAiBoG,MAAjB,EAAyB;cAC/C,IAAIY,OAAJ;cACA,IAAIC,UAAJ;cACA,IAAIC,WAAJ;cACA,IAAIC,OAAJ;cACA,IAAIC,SAAJ;cACA,IAAIC,WAAJ;cACA,IAAIC,WAAJ;cACA,IAAIC,gBAAJ;cACA,IAAIC,aAAJ;;cACA,QAAQpB,MAAM,CAAC1I,IAAf;gBACI,KAAK3N,OAAO,CAAC+W,yBAAR,CAAkCW,eAAvC;kBAAwD;oBACpD,IAAIlO,KAAK,CAACmO,OAAN,CAActB,MAAM,CAACG,OAArB,CAAJ,EAAmC,CAAnC,KACK;sBACD,IAAIoB,SAAS,GAAGvB,MAAM,CAACG,OAAvB;;sBACA,IAAIoB,SAAS,CAACjK,IAAV,KAAmB,CAAnB,IAAwB,gBAAgBiK,SAA5C,EAAuD;wBACnD,IAAI3H,KAAK,CAAC7J,WAAN,CAAkB9B,IAAlB,CAAuB,UAAU0C,CAAV,EAAa;0BAAE,OAAOgO,oBAAoB,CAAChO,CAAD,EAAI4Q,SAAJ,CAA3B;wBAA4C,CAAlF,CAAJ,EAAyF;0BACrF,OAAOZ,mBAAmB,CAAC/G,KAAD,EAAQrJ,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKyP,MAAL,CAAT,EAAuB;4BAAE1I,IAAI,EAAE3N,OAAO,CAAC+W,yBAAR,CAAkCc;0BAA1C,CAAvB,CAAhB,CAA1B;wBACH,CAFD,MAGK;0BACD,OAAOb,mBAAmB,CAAC/G,KAAD,EAAQrJ,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKyP,MAAL,CAAT,EAAuB;4BAAE1I,IAAI,EAAE3N,OAAO,CAAC+W,yBAAR,CAAkCe;0BAA1C,CAAvB,CAAhB,CAA1B;wBACH;sBACJ,CAPD,MAQK,IAAIF,SAAS,CAACjK,IAAV,KAAmB,KAAvB,EAA8B;wBAC/B,IAAI7K,QAAQ,GAAGgS,gBAAgB,CAAC8C,SAAD,CAA/B;;wBACA,IAAI9U,QAAQ,CAACiV,KAAT,CAAe,UAAUlE,CAAV,EAAa;0BAAE,OAAO5D,KAAK,CAAC7J,WAAN,CAAkB9B,IAAlB,CAAuB,UAAU0C,CAAV,EAAa;4BAAE,OAAOgO,oBAAoB,CAAChO,CAAD,EAAI6M,CAAJ,CAA3B;0BAAoC,CAA1E,CAAP;wBAAqF,CAAnH,CAAJ,EAA0H;0BACtH,OAAOmD,mBAAmB,CAAC/G,KAAD,EAAQrJ,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKyP,MAAL,CAAT,EAAuB;4BAAE1I,IAAI,EAAE3N,OAAO,CAAC+W,yBAAR,CAAkCiB,iBAA1C;4BAA6DxB,OAAO,EAAE1T;0BAAtE,CAAvB,CAAhB,CAA1B;wBACH,CAFD,MAGK;0BACD,OAAOkU,mBAAmB,CAAC/G,KAAD,EAAQrJ,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKyP,MAAL,CAAT,EAAuB;4BAAE1I,IAAI,EAAE3N,OAAO,CAAC+W,yBAAR,CAAkCkB,cAA1C;4BAA0DzB,OAAO,EAAE1T,QAAQ,CAACyD,MAAT,CAAgB,UAAUsN,CAAV,EAAa;8BAAE,OAAO,CAAC5D,KAAK,CAAC7J,WAAN,CAAkB9B,IAAlB,CAAuB,UAAU0C,CAAV,EAAa;gCAAE,OAAOgO,oBAAoB,CAAChO,CAAD,EAAI6M,CAAJ,CAA3B;8BAAoC,CAA1E,CAAR;4BAAsF,CAArH;0BAAnE,CAAvB,CAAhB,CAA1B;wBACH;sBACJ,CARI,MASA,IAAIwC,MAAM,CAACG,OAAP,CAAe3B,GAAnB,EAAwB;wBACzB,IAAI5E,KAAK,CAAC7J,WAAN,CAAkB9B,IAAlB,CAAuB,UAAU0C,CAAV,EAAa;0BAAE,OAAOgO,oBAAoB,CAAChO,CAAD,EAAI4Q,SAAJ,CAA3B;wBAA4C,CAAlF,CAAJ,EAAyF;0BACrF,OAAOZ,mBAAmB,CAAC/G,KAAD,EAAQrJ,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKyP,MAAL,CAAT,EAAuB;4BAAE1I,IAAI,EAAE3N,OAAO,CAAC+W,yBAAR,CAAkCc;0BAA1C,CAAvB,CAAhB,CAA1B;wBACH,CAFD,MAGK;0BACD,OAAOb,mBAAmB,CAAC/G,KAAD,EAAQrJ,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKyP,MAAL,CAAT,EAAuB;4BAAE1I,IAAI,EAAE3N,OAAO,CAAC+W,yBAAR,CAAkCe;0BAA1C,CAAvB,CAAhB,CAA1B;wBACH;sBACJ,CAPI,MAQA;wBACD,IAAI7H,KAAK,CAACjK,UAAN,CAAiB1B,IAAjB,CAAsB,UAAU0C,CAAV,EAAa;0BAAE,OAAOgO,oBAAoB,CAAChO,CAAD,EAAI4Q,SAAJ,CAA3B;wBAA4C,CAAjF,CAAJ,EAAwF;0BACpF,OAAOZ,mBAAmB,CAAC/G,KAAD,EAAQrJ,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKyP,MAAL,CAAT,EAAuB;4BAAE1I,IAAI,EAAE3N,OAAO,CAAC+W,yBAAR,CAAkCmB;0BAA1C,CAAvB,CAAhB,CAA1B;wBACH,CAFD,MAGK,IAAIjI,KAAK,CAAC/J,OAAN,CAAc5B,IAAd,CAAmB,UAAU0C,CAAV,EAAa;0BAAE,OAAOgO,oBAAoB,CAAChO,CAAD,EAAI4Q,SAAJ,CAA3B;wBAA4C,CAA9E,CAAJ,EAAqF;0BACtF,OAAOZ,mBAAmB,CAAC/G,KAAD,EAAQrJ,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKyP,MAAL,CAAT,EAAuB;4BAAE1I,IAAI,EAAE3N,OAAO,CAAC+W,yBAAR,CAAkCoB;0BAA1C,CAAvB,CAAhB,CAA1B;wBACH,CAFI,MAGA,IAAKlI,KAAK,CAACjK,UAAN,IAAoBiK,KAAK,CAACjK,UAAN,CAAiBpE,MAAtC,KAAkD,CAACqO,KAAK,CAAC/J,OAAP,IAAkB,CAAC+J,KAAK,CAAC/J,OAAN,CAActE,MAAnF,CAAJ,EAAgG;0BACjG,OAAOoV,mBAAmB,CAAC/G,KAAD,EAAQrJ,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKyP,MAAL,CAAT,EAAuB;4BAAE1I,IAAI,EAAE3N,OAAO,CAAC+W,yBAAR,CAAkCqB;0BAA1C,CAAvB,CAAhB,CAA1B;wBACH,CAFI,MAGA;0BACD,OAAOpB,mBAAmB,CAAC/G,KAAD,EAAQrJ,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKyP,MAAL,CAAT,EAAuB;4BAAE1I,IAAI,EAAE3N,OAAO,CAAC+W,yBAAR,CAAkCsB;0BAA1C,CAAvB,CAAhB,CAA1B;wBACH;sBACJ;oBACJ;oBACD;kBACH;;gBACD,KAAKrY,OAAO,CAAC+W,yBAAR,CAAkCsB,aAAvC;kBAAsD;oBAClDnB,UAAU,GAAG7N,cAAc,CAAE4G,KAAK,CAACjK,UAAN,IAAoB,EAAtB,EAA2B,CAClD;sBAAEpC,IAAI,EAAE,CAACyS,MAAM,CAACG,OAAP,CAAe9H,gBAAf,IAAmC2H,MAAM,CAACG,OAAP,CAAe1I,UAAnD;oBAAR,CADkD,CAA3B,CAA3B;oBAGA;kBACH;;gBACD,KAAK9N,OAAO,CAAC+W,yBAAR,CAAkCuB,aAAvC;kBAAsD;oBAClD;oBACA;kBACH;;gBACD,KAAKtY,OAAO,CAAC+W,yBAAR,CAAkCmB,gBAAvC;kBAAyD;oBACrDhB,UAAU,GAAG7N,cAAc,CAAC,CAAC4G,KAAK,CAACjK,UAAN,IAAoB,EAArB,EAAyBO,MAAzB,CAAgC,UAAUS,CAAV,EAAa;sBAAE,OAAO,CAACgO,oBAAoB,CAAChO,CAAD,EAAIqP,MAAM,CAACG,OAAX,CAA5B;oBAAkD,CAAjG,CAAD,CAA3B;oBACArB,WAAW,CAAC+B,UAAD,EAAab,MAAM,CAACG,OAApB,CAAX;oBACA;kBACH;;gBACD,KAAKxW,OAAO,CAAC+W,yBAAR,CAAkCwB,gBAAvC;kBAAyD;oBACrD;oBACA;kBACH;;gBACD,KAAKvY,OAAO,CAAC+W,yBAAR,CAAkCqB,UAAvC;kBAAmD;oBAC/CnB,OAAO,GAAG5N,cAAc,CAAE4G,KAAK,CAAC/J,OAAN,IAAiB,EAAnB,EAAwB,CAC5C;sBAAEtC,IAAI,EAAE,CAACyS,MAAM,CAACG,OAAP,CAAe9H,gBAAf,IAAmC2H,MAAM,CAACG,OAAP,CAAe1I,UAAnD;oBAAR,CAD4C,CAAxB,CAAxB;oBAGA;kBACH;;gBACD,KAAK9N,OAAO,CAAC+W,yBAAR,CAAkCyB,UAAvC;kBAAmD;oBAC/C;oBACA;kBACH;;gBACD,KAAKxY,OAAO,CAAC+W,yBAAR,CAAkCoB,aAAvC;kBAAsD;oBAClDlB,OAAO,GAAG5N,cAAc,CAAC,CAAC4G,KAAK,CAAC/J,OAAN,IAAiB,EAAlB,EAAsBK,MAAtB,CAA6B,UAAUS,CAAV,EAAa;sBAAE,OAAO,CAACgO,oBAAoB,CAAChO,CAAD,EAAIqP,MAAM,CAACG,OAAX,CAA5B;oBAAkD,CAA9F,CAAD,CAAxB;oBACArB,WAAW,CAAC8B,OAAD,EAAUZ,MAAM,CAACG,OAAjB,CAAX;oBACA;kBACH;;gBACD,KAAKxW,OAAO,CAAC+W,yBAAR,CAAkC0B,aAAvC;kBAAsD;oBAClD;oBACA;kBACH;;gBACD,KAAKzY,OAAO,CAAC+W,yBAAR,CAAkCe,cAAvC;kBAAuD;oBACnDX,WAAW,GAAG9N,cAAc,CAAE4G,KAAK,CAAC7J,WAAN,IAAqB,EAAvB,EAA4B,CACpD;sBAAExC,IAAI,EAAE,CAACyS,MAAM,CAACG,OAAP,CAAe9H,gBAAf,IAAmC2H,MAAM,CAACG,OAAP,CAAe1I,UAAnD;oBAAR,CADoD,CAA5B,CAA5B;oBAGA;kBACH;;gBACD,KAAK9N,OAAO,CAAC+W,yBAAR,CAAkCc,iBAAvC;kBAA0D;oBACtDV,WAAW,GAAG9N,cAAc,CAAC,CAAC4G,KAAK,CAAC7J,WAAN,IAAqB,EAAtB,EAA0BG,MAA1B,CAAiC,UAAUS,CAAV,EAAa;sBAAE,OAAO,CAACgO,oBAAoB,CAAChO,CAAD,EAAIqP,MAAM,CAACG,OAAX,CAA5B;oBAAkD,CAAlG,CAAD,CAA5B;oBACA;kBACH;;gBACD,KAAKxW,OAAO,CAAC+W,yBAAR,CAAkCkB,cAAvC;kBAAuD;oBACnDd,WAAW,GAAG9N,cAAc,CAAE4G,KAAK,CAAC7J,WAAN,IAAqB,EAAvB,EAA4B,CAACiQ,MAAM,CAACG,OAAP,IAAkB,EAAnB,EAAuBnM,GAAvB,CAA2B,UAAUnD,CAAV,EAAa;sBAAE,OAAQ;wBAAEtD,IAAI,EAAE,CAACsD,CAAC,CAACwH,gBAAF,IAAsBxH,CAAC,CAAC4G,UAAzB;sBAAR,CAAR;oBAA0D,CAApG,CAA5B,CAA5B;oBACA;kBACH;;gBACD,KAAK9N,OAAO,CAAC+W,yBAAR,CAAkCiB,iBAAvC;kBAA0D;oBACtDb,WAAW,GAAG9N,cAAc,CAAC,CAAC4G,KAAK,CAAC7J,WAAN,IAAqB,EAAtB,EAA0BG,MAA1B,CAAiC,UAAUS,CAAV,EAAa;sBAAE,OAAO,CAACqP,MAAM,CAACG,OAAP,CAAelS,IAAf,CAAoB,UAAU4C,CAAV,EAAa;wBAAE,OAAO8N,oBAAoB,CAAChO,CAAD,EAAIE,CAAJ,CAA3B;sBAAoC,CAAvE,CAAR;oBAAmF,CAAnI,CAAD,CAA5B;oBACA;kBACH;;gBACD,KAAKlH,OAAO,CAAC+W,yBAAR,CAAkC2B,MAAvC;kBAA+C;oBAC3C,IAAIzI,KAAK,CAACjK,UAAN,CAAiB1B,IAAjB,CAAsB,UAAU0C,CAAV,EAAa;sBAAE,OAAOkO,WAAW,CAAClO,CAAD,EAAIqP,MAAM,CAACG,OAAX,CAAlB;oBAAwC,CAA7E,CAAJ,EAAoF;sBAChFU,UAAU,GAAG7N,cAAc,CAAC4G,KAAK,CAACjK,UAAN,CAAiBO,MAAjB,CAAwB,UAAUS,CAAV,EAAa;wBAAE,OAAO,CAACkO,WAAW,CAAClO,CAAD,EAAIqP,MAAM,CAACG,OAAX,CAAnB;sBAAyC,CAAhF,CAAD,CAA3B;sBACArB,WAAW,CAAC+B,UAAD,EAAa;wBAAEpJ,UAAU,EAAEuI,MAAM,CAACG,OAAP,CAAe5S;sBAA7B,CAAb,CAAX;oBACH;;oBACD,IAAIqM,KAAK,CAAC/J,OAAN,CAAc5B,IAAd,CAAmB,UAAU0C,CAAV,EAAa;sBAAE,OAAOkO,WAAW,CAAClO,CAAD,EAAIqP,MAAM,CAACG,OAAX,CAAlB;oBAAwC,CAA1E,CAAJ,EAAiF;sBAC7ES,OAAO,GAAG5N,cAAc,CAAC4G,KAAK,CAAC/J,OAAN,CAAcK,MAAd,CAAqB,UAAUS,CAAV,EAAa;wBAAE,OAAO,CAACkO,WAAW,CAAClO,CAAD,EAAIqP,MAAM,CAACG,OAAX,CAAnB;sBAAyC,CAA7E,CAAD,CAAxB;sBACArB,WAAW,CAAC8B,OAAD,EAAU;wBAAEnJ,UAAU,EAAEuI,MAAM,CAACG,OAAP,CAAe5S;sBAA7B,CAAV,CAAX;oBACH;;oBACD,IAAIqM,KAAK,CAAC7J,WAAN,CAAkB9B,IAAlB,CAAuB,UAAU0C,CAAV,EAAa;sBAAE,OAAOkO,WAAW,CAAClO,CAAD,EAAIqP,MAAM,CAACG,OAAX,CAAlB;oBAAwC,CAA9E,CAAJ,EAAqF;sBACjFW,WAAW,GAAG9N,cAAc,CAAC4G,KAAK,CAAC7J,WAAN,CAAkBG,MAAlB,CAAyB,UAAUS,CAAV,EAAa;wBAAE,OAAO,CAACkO,WAAW,CAAClO,CAAD,EAAIqP,MAAM,CAACG,OAAX,CAAnB;sBAAyC,CAAjF,CAAD,CAA5B;oBACH;;oBACD;kBACH;;gBACD,KAAKxW,OAAO,CAAC+W,yBAAR,CAAkC4B,WAAvC;kBACIrB,WAAW,GAAGjB,MAAM,CAACG,OAArB;kBACA;;gBACJ,KAAKxW,OAAO,CAAC+W,yBAAR,CAAkC6B,WAAvC;kBACIrB,WAAW,GAAGlB,MAAM,CAACG,OAArB;kBACA;;gBACJ,KAAKxW,OAAO,CAAC+W,yBAAR,CAAkC8B,aAAvC;kBACIpB,aAAa,GAAGpB,MAAM,CAACG,OAAvB;kBACA;;gBACJ,KAAKxW,OAAO,CAAC+W,yBAAR,CAAkC+B,gBAAvC;kBACItB,gBAAgB,GAAGnB,MAAM,CAACG,OAA1B;kBACA;;gBACJ,KAAKxW,OAAO,CAAC+W,yBAAR,CAAkCgC,IAAvC;kBACI,IAAI9I,KAAK,CAAC+I,QAAN,IAAkB/I,KAAK,CAACgJ,QAA5B,EAAsC;oBAClC,IAAIC,aAAa,GAAGjJ,KAAK,CAACjK,UAAN,CAAiBwN,IAAjB,CAAsB,UAAUxM,CAAV,EAAa;sBAAE,OAAOkO,WAAW,CAAClO,CAAD,EAAIqP,MAAM,CAACG,OAAX,CAAlB;oBAAwC,CAA7E,CAApB;oBACA,IAAI2C,UAAU,GAAGlJ,KAAK,CAAC/J,OAAN,CAAcsN,IAAd,CAAmB,UAAUxM,CAAV,EAAa;sBAAE,OAAOkO,WAAW,CAAClO,CAAD,EAAIqP,MAAM,CAACG,OAAX,CAAlB;oBAAwC,CAA1E,CAAjB;oBACA,IAAI4C,cAAc,GAAGnJ,KAAK,CAAC7J,WAAN,CAAkBoN,IAAlB,CAAuB,UAAUxM,CAAV,EAAa;sBAAE,OAAOkO,WAAW,CAAClO,CAAD,EAAIqP,MAAM,CAACG,OAAX,CAAlB;oBAAwC,CAA9E,CAArB;oBACA,IAAI9U,OAAO,GAAG,KAAK,CAAnB;;oBACA,IAAIwX,aAAJ,EAAmB;sBACfxX,OAAO,GAAGwX,aAAV;sBACAhC,UAAU,GAAG7N,cAAc,CAAC4G,KAAK,CAACjK,UAAN,CAAiBO,MAAjB,CAAwB,UAAUS,CAAV,EAAa;wBAAE,OAAO,CAACkO,WAAW,CAAClO,CAAD,EAAIqP,MAAM,CAACG,OAAX,CAAnB;sBAAyC,CAAhF,CAAD,CAA3B;sBACArB,WAAW,CAAC+B,UAAD,EAAa;wBAAEpJ,UAAU,EAAEuI,MAAM,CAACG,OAAP,CAAe5S;sBAA7B,CAAb,CAAX;oBACH;;oBACD,IAAIuV,UAAJ,EAAgB;sBACZzX,OAAO,GAAGyX,UAAV;sBACAlC,OAAO,GAAG5N,cAAc,CAAC4G,KAAK,CAAC/J,OAAN,CAAcK,MAAd,CAAqB,UAAUS,CAAV,EAAa;wBAAE,OAAO,CAACkO,WAAW,CAAClO,CAAD,EAAIqP,MAAM,CAACG,OAAX,CAAnB;sBAAyC,CAA7E,CAAD,CAAxB;sBACArB,WAAW,CAAC8B,OAAD,EAAU;wBAAEnJ,UAAU,EAAEuI,MAAM,CAACG,OAAP,CAAe5S;sBAA7B,CAAV,CAAX;oBACH;;oBACD,IAAIwV,cAAJ,EAAoB;sBAChB1X,OAAO,GAAG0X,cAAV;sBACAjC,WAAW,GAAG9N,cAAc,CAAC4G,KAAK,CAAC7J,WAAN,CAAkBG,MAAlB,CAAyB,UAAUS,CAAV,EAAa;wBAAE,OAAO,CAACkO,WAAW,CAAClO,CAAD,EAAIqP,MAAM,CAACG,OAAX,CAAnB;sBAAyC,CAAjF,CAAD,CAA5B;oBACH;;oBACD,QAAQvG,KAAK,CAACgJ,QAAd;sBACI,KAAK,YAAL;wBAAmB;0BACf/B,UAAU,GAAGA,UAAU,IAAIjH,KAAK,CAACjK,UAAN,CAAiBhB,KAAjB,EAA3B;0BACAyQ,UAAU,CAACyB,UAAD,EAAaxV,OAAb,EAAsBuO,KAAtB,CAAV;0BACA;wBACH;;sBACD,KAAK,SAAL;wBAAgB;0BACZgH,OAAO,GAAGA,OAAO,IAAIhH,KAAK,CAAC/J,OAAN,CAAclB,KAAd,EAArB;0BACAyQ,UAAU,CAACwB,OAAD,EAAUvV,OAAV,EAAmBuO,KAAnB,CAAV;0BACA;wBACH;;sBACD,KAAK,aAAL;wBAAoB;0BAChBkH,WAAW,GAAGA,WAAW,IAAIlH,KAAK,CAAC7J,WAAN,CAAkBpB,KAAlB,EAA7B;0BACAyQ,UAAU,CAAC0B,WAAD,EAAczV,OAAd,EAAuBuO,KAAvB,CAAV;0BACA;wBACH;oBAfL;kBAiBH;;kBACDqH,WAAW,GAAG,IAAd;kBACAC,WAAW,GAAG,IAAd;kBACAE,aAAa,GAAG,IAAhB;kBACA;;gBACJ,KAAKzX,OAAO,CAAC+W,yBAAR,CAAkCvG,OAAvC;kBACI4G,OAAO,GAAGf,MAAM,CAACG,OAAjB;kBACA;;gBACJ,KAAKxW,OAAO,CAAC+W,yBAAR,CAAkCtG,SAAvC;kBACI,IAAIjH,KAAK,CAACmO,OAAN,CAActB,MAAM,CAACG,OAArB,CAAJ,EAAmC;oBAC/Ba,SAAS,GAAGhB,MAAM,CAACG,OAAnB;kBACH,CAFD,MAGK;oBACDa,SAAS,GAAG,CAAChB,MAAM,CAACG,OAAR,CAAZ;kBACH;;kBACD;;gBACJ,KAAKxW,OAAO,CAAC+W,yBAAR,CAAkCsC,SAAvC;kBACIhC,SAAS,GAAG,CAACpH,KAAK,CAAC1J,MAAN,IAAgB,EAAjB,EAAqBvB,KAArB,EAAZ;;kBACA,IAAIwE,KAAK,CAACmO,OAAN,CAActB,MAAM,CAACG,OAArB,CAAJ,EAAmC;oBAC/Ba,SAAS,CAAC5T,IAAV,CAAelD,KAAf,CAAqB8W,SAArB,EAAgChB,MAAM,CAACG,OAAvC;kBACH,CAFD,MAGK;oBACDa,SAAS,CAAC5T,IAAV,CAAe4S,MAAM,CAACG,OAAtB;kBACH;;kBACD;;gBACJ,KAAKxW,OAAO,CAAC+W,yBAAR,CAAkCuC,YAAvC;kBACIjC,SAAS,GAAI7N,KAAK,CAACmO,OAAN,CAActB,MAAM,CAACG,OAArB,IACP,CAACvG,KAAK,CAAC1J,MAAN,IAAgB,EAAjB,EAAqB8D,GAArB,CAAyB,UAAUhK,CAAV,EAAa;oBAAE,OAAOgW,MAAM,CAACG,OAAP,CAAelS,IAAf,CAAoB,UAAUoF,CAAV,EAAa;sBAAE,OAAOA,CAAC,CAACzH,KAAF,KAAY5B,CAAC,CAAC4B,KAArB;oBAA6B,CAAhE,IAC3CoU,MAAM,CAACG,OAAP,CAAehD,IAAf,CAAoB,UAAU9J,CAAV,EAAa;sBAAE,OAAOA,CAAC,CAACzH,KAAF,KAAY5B,CAAC,CAAC4B,KAArB;oBAA6B,CAAhE,CAD2C,GAE3C5B,CAFoC;kBAEhC,CAFR,CADO,GAIP,CAAC4P,KAAK,CAAC1J,MAAN,IAAgB,EAAjB,EAAqB8D,GAArB,CAAyB,UAAUhK,CAAV,EAAa;oBAAE,OAAOA,CAAC,CAAC4B,KAAF,KAAYoU,MAAM,CAACG,OAAP,CAAevU,KAA3B,GAC3CoU,MAAM,CAACG,OADoC,GAE3CnW,CAFoC;kBAEhC,CAFR,CAJN;kBAOA;;gBACJ,KAAKL,OAAO,CAAC+W,yBAAR,CAAkCwC,YAAvC;kBACIlC,SAAS,GAAG,CAACpH,KAAK,CAAC1J,MAAN,IAAgB,EAAjB,EAAqBvB,KAArB,EAAZ;;kBACA,IAAIwE,KAAK,CAACmO,OAAN,CAActB,MAAM,CAACG,OAArB,CAAJ,EAAmC;oBAC/Ba,SAAS,GAAGA,SAAS,CAAC9Q,MAAV,CAAiB,UAAUlG,CAAV,EAAa;sBAAE,OAAO,CAACgW,MAAM,CAACG,OAAP,CAAelS,IAAf,CAAoB,UAAU4C,CAAV,EAAa;wBAAE,OAAOA,CAAC,CAACjF,KAAF,KAAY5B,CAAC,CAAC4B,KAAd,IAC1FiF,CAAC,CAAChF,QAAF,KAAe7B,CAAC,CAAC6B,QADkE;sBACvD,CADoB,CAAR;oBACR,CADxB,CAAZ;kBAEH,CAHD,MAIK;oBACDmV,SAAS,GAAGA,SAAS,CAAC9Q,MAAV,CAAiB,UAAUlG,CAAV,EAAa;sBAAE,OAAO,EAAEA,CAAC,CAAC4B,KAAF,KAAYoU,MAAM,CAACG,OAAP,CAAevU,KAA3B,IAC9C5B,CAAC,CAAC6B,QAAF,KAAemU,MAAM,CAACG,OAAP,CAAetU,QADc,CAAP;oBACK,CADrC,CAAZ;kBAEH;;kBACD;cAlNR;;cAoNA,OAAO;gBACH8W,QAAQ,EAAE1B,WADP;gBAEH3B,UAAU,EAAE8B,aAFT;gBAGH7B,aAAa,EAAE4B,gBAHZ;gBAIHyB,QAAQ,EAAE1B,WAJP;gBAKHvR,UAAU,EAAEkR,UALT;gBAMHhR,OAAO,EAAE+Q,OANN;gBAOH7Q,WAAW,EAAE+Q,WAPV;gBAQH5Q,MAAM,EAAE8Q,SARL;gBASHtU,IAAI,EAAEqU;cATH,CAAP;YAWH,CAzOD,CAnuCgD,CA88ChD;;YACA;AACJ;AACA;;;YACI,IAAIoC,YAAY,GAAG;cACfhK,IAAI,EAAE,UAAUzE,IAAV,EAAgB;gBAClB,IAAK,SAASA,IAAV,KAAoB,KAAxB,EAA+B;kBAC3BA,IAAI,CAAC0O,GAAL,GAAW,CAAX;gBACH;cACJ,CALc;cAMfC,KAAK,EAAE,UAAUC,GAAV,EAAeC,IAAf,EAAqB;gBACxBA,IAAI,CAACH,GAAL,IAAYE,GAAG,CAACF,GAAhB;cACH,CARc;cASfI,UAAU,EAAE,UAAUC,GAAV,EAAe/X,KAAf,EAAsB;gBAC9B+X,GAAG,CAACL,GAAJ,IAAW1X,KAAX;cACH,CAXc;cAYfkC,MAAM,EAAE,UAAU8G,IAAV,EAAgB;gBAAE,OAAOA,IAAI,CAAC0O,GAAZ;cAAkB,CAZ7B;cAafM,MAAM,EAAE,UAAUhY,KAAV,EAAiB;gBAAE,OAAOA,KAAK,CAACiY,OAAN,CAAc,CAAd,CAAP;cAA0B;YAbtC,CAAnB;YAeA;AACJ;AACA;;YACI,IAAIC,YAAY,GAAG;cACfzK,IAAI,EAAE,UAAUzE,IAAV,EAAgB;gBAClB,IAAK,SAASA,IAAV,KAAoB,KAAxB,EAA+B;kBAC3BA,IAAI,CAACmP,GAAL,GAAWC,MAAM,CAACC,iBAAlB;gBACH;cACJ,CALc;cAMfV,KAAK,EAAE,UAAUC,GAAV,EAAeC,IAAf,EAAqB;gBACxBA,IAAI,CAACM,GAAL,GAAWG,IAAI,CAACH,GAAL,CAASP,GAAG,CAACO,GAAb,EAAkBN,IAAI,CAACM,GAAvB,CAAX;cACH,CARc;cASfL,UAAU,EAAE,UAAUC,GAAV,EAAe/X,KAAf,EAAsB;gBAC9B+X,GAAG,CAACI,GAAJ,GAAUG,IAAI,CAACH,GAAL,CAASnY,KAAT,EAAgB+X,GAAG,CAACI,GAApB,CAAV;cACH,CAXc;cAYfjW,MAAM,EAAE,UAAU8G,IAAV,EAAgB;gBAAE,OAAOoP,MAAM,CAACG,QAAP,CAAgBvP,IAAI,CAACmP,GAArB,IAA4BnP,IAAI,CAACmP,GAAjC,GAAuCK,GAA9C;cAAoD,CAZ/D;cAafR,MAAM,EAAE,UAAUhY,KAAV,EAAiB;gBAAE,OAAOA,KAAK,CAACiY,OAAN,CAAc,CAAd,CAAP;cAA0B;YAbtC,CAAnB;YAeA;AACJ;AACA;;YACI,IAAIQ,YAAY,GAAG;cACfhL,IAAI,EAAE,UAAUzE,IAAV,EAAgB;gBAClB,IAAK,SAASA,IAAV,KAAoB,KAAxB,EAA+B;kBAC3BA,IAAI,CAAC0P,GAAL,GAAWN,MAAM,CAACO,iBAAlB;gBACH;cACJ,CALc;cAMfhB,KAAK,EAAE,UAAUC,GAAV,EAAeC,IAAf,EAAqB;gBACxBA,IAAI,CAACa,GAAL,GAAWJ,IAAI,CAACI,GAAL,CAASd,GAAG,CAACc,GAAb,EAAkBb,IAAI,CAACa,GAAvB,CAAX;cACH,CARc;cASfZ,UAAU,EAAE,UAAUC,GAAV,EAAe/X,KAAf,EAAsB;gBAC9B+X,GAAG,CAACW,GAAJ,GAAUJ,IAAI,CAACI,GAAL,CAAS1Y,KAAT,EAAgB+X,GAAG,CAACW,GAApB,CAAV;cACH,CAXc;cAYfxW,MAAM,EAAE,UAAU8G,IAAV,EAAgB;gBAAE,OAAOoP,MAAM,CAACG,QAAP,CAAgBvP,IAAI,CAAC0P,GAArB,IAA4B1P,IAAI,CAAC0P,GAAjC,GAAuCF,GAA9C;cAAoD,CAZ/D;cAafR,MAAM,EAAE,UAAUhY,KAAV,EAAiB;gBAAE,OAAOA,KAAK,CAACiY,OAAN,CAAc,CAAd,CAAP;cAA0B;YAbtC,CAAnB;YAeA;AACJ;AACA;;YACI,IAAIW,gBAAgB,GAAG;cACnBnL,IAAI,EAAE,UAAUzE,IAAV,EAAgB;gBAClB,IAAK,WAAWA,IAAZ,KAAsB,KAA1B,EAAiC;kBAC7BA,IAAI,CAAC6P,IAAL,GAAY,CAAZ;kBACA7P,IAAI,CAAC8P,KAAL,GAAa,CAAb;gBACH;cACJ,CANkB;cAOnBnB,KAAK,EAAE,UAAUC,GAAV,EAAeC,IAAf,EAAqB;gBACxBA,IAAI,CAACgB,IAAL,IAAajB,GAAG,CAACiB,IAAjB;gBACAhB,IAAI,CAACiB,KAAL,IAAclB,GAAG,CAACkB,KAAlB;cACH,CAVkB;cAWnBhB,UAAU,EAAE,UAAUC,GAAV,EAAe/X,KAAf,EAAsB;gBAC9B+X,GAAG,CAACc,IAAJ,IAAY7Y,KAAZ;gBACA+X,GAAG,CAACe,KAAJ,IAAa,CAAb;cACH,CAdkB;cAenB5W,MAAM,EAAE,UAAU8G,IAAV,EAAgB;gBAAE,OAAOA,IAAI,CAAC6P,IAAL,GAAY7P,IAAI,CAAC8P,KAAxB;cAAgC,CAfvC;cAgBnBd,MAAM,EAAE,UAAUhY,KAAV,EAAiB;gBAAE,OAAOA,KAAK,CAACiY,OAAN,CAAc,CAAd,CAAP;cAA0B;YAhBlC,CAAvB;YAmBA;AACJ;AACA;;YACI,IAAIc,SAAS,GAAG,UAAU/Y,KAAV,EAAiB;cAAE,OAAOA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAKvB,SAAnC;YAA+C,CAAlF;YACA;AACJ;AACA;;;YACI,IAAIua,OAAO,GAAG,UAAUhZ,KAAV,EAAiB;cAAE,OAAOA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAKvB,SAAnC;YAA+C,CAAhF;YACA;AACJ;AACA;;;YACI,IAAImX,OAAO,GAAG,UAAU5V,KAAV,EAAiB;cAAE,OAAOyH,KAAK,CAACmO,OAAN,CAAc5V,KAAd,CAAP;YAA8B,CAA/D;YACA;AACJ;AACA;;;YACI,IAAIiZ,UAAU,GAAG,UAAUjZ,KAAV,EAAiB;cAAE,OAAO,OAAOA,KAAP,KAAiB,UAAxB;YAAqC,CAAzE;YACA;AACJ;AACA;;;YACI,IAAIkZ,QAAQ,GAAG,UAAUlZ,KAAV,EAAiB;cAAE,OAAO,OAAOA,KAAP,KAAiB,QAAxB;YAAmC,CAArE;YACA;AACJ;AACA;;;YACI,IAAImZ,mBAAmB,GAAG,UAAUnZ,KAAV,EAAiB;cAAE,OAAOgZ,OAAO,CAAChZ,KAAD,CAAP,IAAkBA,KAAK,CAACoZ,IAAN,GAAavZ,MAAb,KAAwB,CAAjD;YAAqD,CAAlG;YACA;AACJ;AACA;;;YACI,IAAIwZ,sBAAsB,GAAG,UAAUrZ,KAAV,EAAiB;cAAE,OAAO,CAACmZ,mBAAmB,CAACnZ,KAAD,CAA3B;YAAqC,CAArF;YACA;AACJ;AACA;;;YACI,IAAIsZ,SAAS,GAAG,UAAUtZ,KAAV,EAAiB;cAAE,OAAO,CAACuZ,KAAK,CAACvZ,KAAK,GAAGwZ,UAAU,CAACxZ,KAAD,CAAnB,CAAb;YAA2C,CAA9E;YACA;AACJ;AACA;;;YACI,IAAIyZ,MAAM,GAAG,UAAUzZ,KAAV,EAAiB;cAAE,OAAOA,KAAK,IAAIA,KAAK,CAAC0Z,OAAtB;YAAgC,CAAhE,CA9jDgD,CAgkDhD;;YACA;AACJ;AACA;AACA;;;YACI,IAAIC,2BAA2B,GAAG,UAAUC,MAAV,EAAkB;cAChD,OAAOb,SAAS,CAACa,MAAM,CAACpa,OAAR,CAAhB;YACH,CAFD;YAIA;AACJ;AACA;;;YACI,IAAIqa,MAAM,GAAG,UAAUC,SAAV,EAAqBC,KAArB,EAA4BC,IAA5B,EAAkC;cAAE,OAAO,UAAUha,KAAV,EAAiB;gBAAE,OAAO8Z,SAAS,CAAC9Z,KAAD,CAAT,GAAmB+Z,KAAK,CAAC/Z,KAAD,CAAxB,GAAkCga,IAAI,CAACha,KAAD,CAA7C;cAAuD,CAAjF;YAAoF,CAArI;YACA;AACJ;AACA;AACA;;;YACI,IAAIia,OAAO,GAAG,YAAY;cACtB,IAAIC,IAAI,GAAG,EAAX;;cACA,KAAK,IAAI3Z,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGC,SAAS,CAACX,MAAhC,EAAwCU,EAAE,EAA1C,EAA8C;gBAC1C2Z,IAAI,CAAC3Z,EAAD,CAAJ,GAAWC,SAAS,CAACD,EAAD,CAApB;cACH;;cACD,OAAO,UAAUyI,IAAV,EAAgB;gBAAE,OAAOkR,IAAI,CAACC,WAAL,CAAiB,UAAUpC,GAAV,EAAeqC,IAAf,EAAqB;kBAAE,OAAOA,IAAI,CAACrC,GAAD,CAAX;gBAAmB,CAA3D,EAA6D/O,IAA7D,CAAP;cAA4E,CAArG;YACH,CAND;YAQA;AACJ;AACA;;;YACI,IAAIqR,KAAK,GAAG,UAAUC,IAAV,EAAgB;cACxB,OAAO,IAAIC,IAAJ,CAASA,IAAI,CAACC,GAAL,CAASF,IAAI,CAACG,WAAL,EAAT,EAA6BH,IAAI,CAACI,QAAL,EAA7B,EAA8CJ,IAAI,CAACK,OAAL,EAA9C,EAA8DL,IAAI,CAACM,QAAL,EAA9D,EAA+EN,IAAI,CAACO,UAAL,EAA/E,EAAkGP,IAAI,CAACQ,UAAL,EAAlG,EAAqHR,IAAI,CAACS,eAAL,EAArH,CAAT,CAAP;YACH,CAFD;YAGA;AACJ;AACA;;;YACI,IAAIC,WAAW,GAAG,UAAUC,CAAV,EAAa;cAAE,OAAOxB,MAAM,CAACwB,CAAC,CAACjb,KAAH,CAAb;YAAyB,CAA1D;;YAEA,IAAIkb,WAAW,GAAG,EAAlB;YACA,IAAIC,WAAW,GAAG,qDAAlB,CArmDgD,CAsmDhD;;YACAD,WAAW,CAAC,WAAD,CAAX,GAA2B,UAAUvI,GAAV,EAAe;cAAE,OAAOA,GAAP;YAAa,CAAzD;YACA;AACJ;AACA;;;YACI,IAAIyI,MAAM,GAAG,UAAUlb,KAAV,EAAiBmb,IAAjB,EAAuB;cAChC,IAAI9P,GAAG,GAAGrL,KAAK,GAAGmb,IAAlB;;cACA,IAAIH,WAAW,CAAC3P,GAAD,CAAf,EAAsB;gBAClB,OAAO2P,WAAW,CAAC3P,GAAD,CAAlB;cACH;;cACD,IAAI+P,MAAM,GAAG,EAAb;cACApb,KAAK,CAACS,OAAN,CAAcwa,WAAd,EAA2B,UAAU1U,CAAV,EAAa/F,KAAb,EAAoB6a,aAApB,EAAmCrb,KAAnC,EAA0C;gBACjEob,MAAM,CAAC5Z,IAAP,CAAYqX,SAAS,CAACrY,KAAD,CAAT,GAAmBA,KAAnB,GAA4B6a,aAAa,IAAIrb,KAAzD;gBACA,OAAOzB,SAAP;cACH,CAHD;;cAIAyc,WAAW,CAAC3P,GAAD,CAAX,GAAmB,UAAUoH,GAAV,EAAe;gBAC9B,IAAIzQ,MAAM,GAAGyQ,GAAb;;gBACA,KAAK,IAAI/S,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAG0b,MAAM,CAACzb,MAA/B,EAAuCD,GAAG,EAA1C,EAA8C;kBAC1CsC,MAAM,GAAGA,MAAM,CAACoZ,MAAM,CAAC1b,GAAD,CAAP,CAAf;;kBACA,IAAI,CAACmZ,SAAS,CAAC7W,MAAD,CAAV,IAAsBmZ,IAA1B,EAAgC;oBAC5B,OAAOnZ,MAAP;kBACH;gBACJ;;gBACD,OAAOA,MAAP;cACH,CATD;;cAUA,OAAOgZ,WAAW,CAAC3P,GAAD,CAAlB;YACH,CArBD;;YAuBA,IAAIiQ,QAAQ,GAAG,UAAUjQ,GAAV,EAAe;cAAE,OAAO,UAAUvL,KAAV,EAAiB;gBAAE,OAAO,CAACuL,GAAD,EAAMvL,KAAN,CAAP;cAAsB,CAAhD;YAAmD,CAAnF;;YACA,IAAIyb,KAAK,GAAG,YAAY;cAAE,OAAO,IAAP;YAAc,CAAxC;;YACA,IAAIC,eAAe,GAAG,UAAU1b,KAAV,EAAiB;cAAE,OAAO+Y,SAAS,CAAC/Y,KAAD,CAAT,IAAoB4V,OAAO,CAAC5V,KAAD,CAA3B,IAAsCA,KAAK,CAACH,MAAN,GAAe,CAA5D;YAAgE,CAAzG;;YACA,IAAI8b,UAAU,GAAG,UAAUC,QAAV,EAAoB;cAAE,OAAO,UAAU5b,KAAV,EAAiB;gBAAE,OAAO0b,eAAe,CAACE,QAAQ,CAAC5b,KAAD,CAAT,CAAtB;cAA0C,CAApE;YAAuE,CAA9G;;YACA,IAAI6b,UAAU,GAAG,UAAU/B,SAAV,EAAqBgC,EAArB,EAAyB;cAAE,OAAOjC,MAAM,CAACC,SAAD,EAAYgC,EAAZ,EAAgBL,KAAhB,CAAb;YAAsC,CAAlF;;YACA,IAAIM,QAAQ,GAAG,UAAU/X,EAAV,EAAc;cACzB,IAAIgY,IAAI,GAAGhY,EAAE,CAACgY,IAAd;cAAA,IAAoBC,IAAI,GAAGjY,EAAE,CAACiY,IAA9B;cACA,OAAO3D,IAAI,CAAC4D,KAAL,CAAW,CAACF,IAAI,IAAI,CAAT,IAAcC,IAAzB,IAAiC,CAAxC;YACH,CAHD;;YAIA,IAAIE,iBAAiB,GAAG,UAAUP,QAAV,EAAoBQ,SAApB,EAA+B;cAAE,OAAO,UAAUlO,KAAV,EAAiB;gBAAE,OAAQ0N,QAAQ,CAAC1N,KAAD,CAAR,CAAgB5F,GAAhB,CAAoB8T,SAApB,EAA+Bra,IAA/B,CAAoC,GAApC,CAAR;cAAoD,CAA9E;YAAiF,CAA1I;;YACA,IAAIsa,WAAW,GAAG,UAAUC,IAAV,EAAgB;cAAE,OAAO,UAAUjc,GAAV,EAAe;gBAAE,OAAOA,GAAG,CAAC4C,KAAJ,CAAU,CAAV,EAAa5C,GAAG,CAACoC,OAAJ,CAAY6Z,IAAZ,CAAb,CAAP;cAAyC,CAAjE;YAAoE,CAAxG;;YACA,IAAI3b,OAAO,GAAG,UAAU4b,QAAV,EAAoB;cAC9B,OAAOtC,OAAO,CAACzb,KAAR,CAAc,KAAK,CAAnB,EAAsB+d,QAAQ,CAACjU,GAAT,CAAa,UAAUtE,EAAV,EAAc;gBACpD,IAAIgW,IAAI,GAAGhW,EAAE,CAAC,CAAD,CAAb;gBAAA,IAAkB+V,KAAK,GAAG/V,EAAE,CAAC,CAAD,CAA5B;gBACA,OAAO,UAAUiB,CAAV,EAAa;kBAAE,OAAOA,CAAC,CAACtE,OAAF,CAAU,IAAIC,MAAJ,CAAWoZ,IAAX,EAAiB,GAAjB,CAAV,EAAiCD,KAAjC,CAAP;gBAAiD,CAAvE;cACH,CAH4B,CAAtB,CAAP;YAIH,CALD;;YAMA,IAAIyC,oBAAoB,GAAG7b,OAAO,CAAC,CAAC,CAAC,IAAD,EAAO,EAAP,CAAD,EAAa,CAAC,GAAD,EAAM,GAAN,CAAb,CAAD,CAAlC;YACA,IAAI8b,cAAc,GAAGJ,WAAW,CAAC,GAAD,CAAhC;;YACA,IAAIK,kBAAkB,GAAG,UAAU1Y,EAAV,EAAc;cACnC,IAAI9D,KAAK,GAAG8D,EAAE,CAAC9D,KAAf;cAAA,IAAsBgE,EAAE,GAAGF,EAAE,CAACR,GAA9B;cAAA,IAAmCA,GAAG,GAAGU,EAAE,KAAK,KAAK,CAAZ,GAAgB,KAAhB,GAAwBA,EAAjE;cACA,OAAOhE,KAAK,GAAG,GAAR,GAAcsD,GAArB;YACH,CAHD;;YAIA,IAAImZ,kBAAkB,GAAG,UAAU3Y,EAAV,EAAc;cACnC,IAAI9D,KAAK,GAAG8D,EAAE,CAAC9D,KAAf;cAAA,IAAsB0c,SAAS,GAAG5Y,EAAE,CAAC4Y,SAArC;cACA,OAAO1c,KAAK,GAAG,GAAR,GAAc0c,SAArB;YACH,CAHD;;YAIA,IAAIX,IAAI,GAAGb,MAAM,CAAC,MAAD,CAAjB;YACA,IAAIyB,UAAU,GAAGzB,MAAM,CAAC,YAAD,CAAvB;YACAA,MAAM,CAAC,MAAD,CAAN;YACA,IAAI0B,KAAK,GAAG1B,MAAM,CAAC,OAAD,CAAlB;YACA,IAAIpa,IAAI,GAAGoa,MAAM,CAAC,MAAD,EAAS,IAAT,CAAjB;YACA,IAAI2B,UAAU,GAAGZ,iBAAiB,CAACnb,IAAD,EAAO0b,kBAAP,CAAlC;YACA,IAAIM,WAAW,GAAGb,iBAAiB,CAACW,KAAD,EAAQJ,kBAAR,CAAnC;YACA,IAAIO,gBAAgB,GAAGd,iBAAiB,CAACU,UAAD,EAAaF,kBAAb,CAAxC;;YACA,IAAIO,eAAe,GAAG,UAAUld,KAAV,EAAiB;cAAE,OAAO,cAAcA,KAAd,GAAsB,GAA7B;YAAmC,CAA5E;;YACA,IAAImd,eAAe,GAAGlD,OAAO,CAACiD,eAAD,EAAkBT,cAAlB,EAAkCD,oBAAlC,EAAwDjO,IAAI,CAACqE,SAA7D,EAAwEyH,KAAxE,CAA7B;;YACA,IAAI+C,UAAU,GAAG,UAAUpZ,EAAV,EAAc;cAC3B,IAAI9D,KAAK,GAAG8D,EAAE,CAAC9D,KAAf;cAAA,IAAsBF,KAAK,GAAGgE,EAAE,CAAChE,KAAjC;cAAA,IAAwCqd,UAAU,GAAGrZ,EAAE,CAACqZ,UAAxD;cAAA,IAAoEld,QAAQ,GAAG6D,EAAE,CAAC7D,QAAlF;cACA,OAAQ;gBACJH,KAAK,EAAEmd,eAAe,CAACnd,KAAD,CADlB;gBAEJE,KAAK,EAAEA,KAFH;gBAGJmd,UAAU,EAAEA,UAHR;gBAIJld,QAAQ,EAAEA;cAJN,CAAR;YAMH,CARD;;YASA,IAAImd,aAAa,GAAG,UAAUpP,KAAV,EAAiB;cAAE,OAAOpJ,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBmJ,KAAlB,EAAyB;gBACnElN,IAAI,EAAE,CAACA,IAAI,CAACkN,KAAD,CAAJ,IAAe,EAAhB,EAAoB1J,MAApB,CAA2B,UAAUR,EAAV,EAAc;kBAC3C,IAAIR,GAAG,GAAGQ,EAAE,CAACR,GAAb;kBACA,OAAO6V,sBAAsB,CAAC7V,GAAD,CAA7B;gBACH,CAHK;cAD6D,CAAzB,CAAP;YAKlC,CALL;;YAMAyW,OAAO,CAACuB,QAAQ,CAAC,MAAD,CAAT,EAAmBO,QAAnB,CAAP;YACA9B,OAAO,CAACuB,QAAQ,CAAC,UAAD,CAAT,EAAuBS,IAAvB,CAAP;YACAhC,OAAO,CAACuB,QAAQ,CAAC,OAAD,CAAT,EAAoBwB,WAApB,CAAP;YACA,IAAIO,aAAa,GAAGtD,OAAO,CAACuB,QAAQ,CAAC,MAAD,CAAT,EAAmBuB,UAAnB,CAA3B;YACA9C,OAAO,CAACuB,QAAQ,CAAC,WAAD,CAAT,EAAwByB,gBAAxB,CAAP;YACAhD,OAAO,CAAC4B,UAAU,CAACF,UAAU,CAAC3a,IAAD,CAAX,EAAmBuc,aAAnB,CAAX,EAA8CD,aAA9C,CAAP;;YACA,IAAIE,eAAe,GAAG,UAAUxZ,EAAV,EAAc;cAChC,IAAI9D,KAAK,GAAG8D,EAAE,CAAC9D,KAAf;cAAA,IAAsBC,QAAQ,GAAG6D,EAAE,CAAC7D,QAApC;cAAA,IAA8CH,KAAK,GAAGgE,EAAE,CAAChE,KAAzD;cACA,OAAOE,KAAK,GAAG,GAAR,GAAcC,QAAd,GAAyB,GAAzB,GAA+BH,KAAtC;YACH,CAHD;;YAIA6Z,MAAM,CAACmB,WAAD,EAAcf,OAAO,CAACuD,eAAD,EAAkBJ,UAAlB,CAArB,EAAoDI,eAApD,CAAN,CAhsDgD,CAksDhD;;YACA,IAAI5O,GAAG,GAAG,UAAU1O,KAAV,EAAiBud,MAAjB,EAAyBzd,KAAzB,EAAgC;cACtCyd,MAAM,CAACvd,KAAD,CAAN,GAAgBF,KAAhB;cACA,OAAOyd,MAAP;YACH,CAHD;;YAIA,IAAIC,OAAO,GAAG,UAAUC,MAAV,EAAkB;cAAE,OAAO,UAAUrd,MAAV,EAAkB;gBAAE,OAAOwE,MAAM,CAACwJ,IAAP,CAAYhO,MAAZ,EAAoBsd,MAApB,CAA2BD,MAAM,CAACE,IAAP,CAAY,IAAZ,EAAkBvd,MAAlB,CAA3B,EAAsD,EAAtD,CAAP;cAAmE,CAA9F;YAAiG,CAAnI;;YACA,IAAIwd,kBAAkB,GAAGJ,OAAO,CAAC,UAAU9D,MAAV,EAAkB7B,GAAlB,EAAuB7X,KAAvB,EAA8B;cAAE,OAAO0O,GAAG,CAAC1O,KAAK,CAAC6d,WAAN,EAAD,EAAsBhG,GAAtB,EAA2B6B,MAAM,CAAC1Z,KAAD,CAAjC,CAAV;YAAsD,CAAvF,CAAhC;YACA,IAAI8d,mBAAmB,GAAGN,OAAO,CAAC,UAAU9D,MAAV,EAAkB7B,GAAlB,EAAuB7X,KAAvB,EAA8B;cAAE,OAAO0O,GAAG,CAAC1O,KAAD,EAAQ6X,GAAR,EAAa+F,kBAAkB,CAAClE,MAAM,CAAC1Z,KAAD,CAAP,CAA/B,CAAV;YAA4D,CAA7F,CAAjC;;YACA,IAAI+d,cAAc,GAAG,UAAUje,KAAV,EAAiBke,YAAjB,EAA+B;cAAE,OAAOnF,SAAS,CAAC/Y,KAAD,CAAT,GAAmBA,KAAnB,GAA2Bke,YAAlC;YAAiD,CAAvG;;YACA,IAAIC,cAAc,GAAG,UAAUrB,KAAV,EAAiB;cAAE,OAAQ;gBAC5CD,UAAU,EAAEC,KAAK,CAACsB,UAAN,IAAoBtB,KAAK,CAACD,UADM;gBAE5C3c,KAAK,EAAE4c,KAAK,CAACuB,MAAN,IAAgBvB,KAAK,CAAC1a,MAAtB,IAAgC0a,KAAK,CAAC5c,KAFD;gBAG5Coe,YAAY,EAAExB,KAAK,CAACyB,YAAN,IAAsBzB,KAAK,CAACwB,YAA5B,IAA4C,KAHd;gBAI5CE,KAAK,EAAE1B,KAAK,CAAC2B,KAAN,IAAe3B,KAAK,CAAC0B,KAJgB;gBAK5Cxe,KAAK,EAAEie,cAAc,CAACnB,KAAK,CAAC4B,GAAP,EAAYT,cAAc,CAACnB,KAAK,CAACvR,GAAP,EAAYuR,KAAK,CAAC9c,KAAlB,CAA1B;cALuB,CAAR;YAMnC,CANL;;YAOA,IAAI2e,cAAc,GAAG1E,OAAO,CAAC,UAAUjW,EAAV,EAAc;cACvC,IAAI9D,KAAK,GAAG8D,EAAE,CAAC9D,KAAf;cAAA,IAAsBoe,YAAY,GAAGta,EAAE,CAACsa,YAAxC;cAAA,IAAsDte,KAAK,GAAGgE,EAAE,CAAChE,KAAjE;cAAA,IAAwE6c,UAAU,GAAG7Y,EAAE,CAAC6Y,UAAxF;cAAA,IAAoG2B,KAAK,GAAGxa,EAAE,CAACwa,KAA/G;cACA,OAAQ;gBACJ3B,UAAU,EAAEmB,mBAAmB,CAACnB,UAAD,CAD3B;gBAEJ3c,KAAK,EAAEA,KAFH;gBAGJse,KAAK,EAAEF,YAAY,GAAGE,KAAK,CAAClW,GAAN,CAAUqW,cAAV,CAAH,GAA+BH,KAH9C;gBAIJxe,KAAK,EAAEA;cAJH,CAAR;YAMH,CAR2B,EAQzBme,cARyB,CAA5B;YAUA,IAAIS,KAAK,GAAG;cACR,MAAM;gBACF5c,MAAM,EAAE,UAAU+V,GAAV,EAAe+D,EAAf,EAAmB;kBAAE,OAAO,UAAUnU,CAAV,EAAa;oBAAE,OAAOoQ,GAAG,CAACpQ,CAAD,CAAH,IAAUmU,EAAE,CAACnU,CAAD,CAAnB;kBAAyB,CAA/C;gBAAkD,CAD7E;gBAEFkX,QAAQ,EAAE,YAAY;kBAAE,OAAO,KAAP;gBAAe;cAFrC,CADE;cAKR,OAAO;gBACH7c,MAAM,EAAE,UAAU+V,GAAV,EAAe+D,EAAf,EAAmB;kBAAE,OAAO,UAAUnU,CAAV,EAAa;oBAAE,OAAOoQ,GAAG,CAACpQ,CAAD,CAAH,IAAUmU,EAAE,CAACnU,CAAD,CAAnB;kBAAyB,CAA/C;gBAAkD,CAD5E;gBAEHkX,QAAQ,EAAE,YAAY;kBAAE,OAAO,IAAP;gBAAc;cAFnC;YALC,CAAZ;YAUA,IAAIC,YAAY,GAAG;cACf/f,QAAQ,EAAE,UAAU4I,CAAV,EAAauL,CAAb,EAAgB;gBAAE,OAAO,CAACvL,CAAC,IAAI,EAAN,EAAUlF,OAAV,CAAkByQ,CAAlB,KAAwB,CAA/B;cAAmC,CADhD;cAEflU,cAAc,EAAE,UAAU2I,CAAV,EAAauL,CAAb,EAAgB;gBAAE,OAAO,CAACvL,CAAC,IAAI,EAAN,EAAUlF,OAAV,CAAkByQ,CAAlB,MAAyB,CAAC,CAAjC;cAAqC,CAFxD;cAGf6L,cAAc,EAAE,UAAUpX,CAAV,EAAauL,CAAb,EAAgB;gBAAE,OAAO,CAACvL,CAAC,IAAI,EAAN,EAAUlF,OAAV,CAAkByQ,CAAlB,EAAqB,CAACvL,CAAC,IAAI,EAAN,EAAU9H,MAAV,GAAmB,CAACqT,CAAC,IAAI,EAAN,EAAUrT,MAAlD,IAA4D,CAAnE;cAAuE,CAH1F;cAIfmf,gBAAgB,EAAE,UAAUrX,CAAV,EAAauL,CAAb,EAAgB;gBAAE,OAAO,CAACvL,CAAC,IAAI,EAAN,EAAUsX,WAAV,CAAsB/L,CAAtB,EAAyB,CAAzB,MAAgC,CAAC,CAAxC;cAA4C,CAJjE;cAKfjU,QAAQ,EAAE,UAAU0I,CAAV,EAAauL,CAAb,EAAgB;gBAAE,OAAO,CAACvL,CAAC,IAAI,EAAN,EAAUlF,OAAV,CAAkByQ,CAAlB,EAAqB,CAACvL,CAAC,IAAI,EAAN,EAAU9H,MAAV,GAAmB,CAACqT,CAAC,IAAI,EAAN,EAAUrT,MAAlD,KAA6D,CAApE;cAAwE,CALrF;cAMfX,EAAE,EAAE,UAAUyI,CAAV,EAAauL,CAAb,EAAgB;gBAAE,OAAOvL,CAAC,KAAKuL,CAAb;cAAiB,CANxB;cAOfgM,EAAE,EAAE,UAAUvX,CAAV,EAAauL,CAAb,EAAgB;gBAAE,OAAOvL,CAAC,GAAGuL,CAAX;cAAe,CAPtB;cAQfiM,GAAG,EAAE,UAAUxX,CAAV,EAAauL,CAAb,EAAgB;gBAAE,OAAOvL,CAAC,IAAIuL,CAAZ;cAAgB,CARxB;cASfkM,OAAO,EAAE,UAAUzX,CAAV,EAAa;gBAAE,OAAOA,CAAC,KAAK,EAAb;cAAkB,CAT3B;cAUf0X,UAAU,EAAE,UAAU1X,CAAV,EAAa;gBAAE,OAAOA,CAAC,KAAK,EAAb;cAAkB,CAV9B;cAWf2X,SAAS,EAAE,UAAU3X,CAAV,EAAa;gBAAE,OAAOoR,SAAS,CAACpR,CAAD,CAAhB;cAAsB,CAXjC;cAYf4X,MAAM,EAAE,UAAU5X,CAAV,EAAa;gBAAE,OAAOqR,OAAO,CAACrR,CAAD,CAAd;cAAoB,CAZ5B;cAaf6X,EAAE,EAAE,UAAU7X,CAAV,EAAauL,CAAb,EAAgB;gBAAE,OAAOvL,CAAC,GAAGuL,CAAX;cAAe,CAbtB;cAcfuM,GAAG,EAAE,UAAU9X,CAAV,EAAauL,CAAb,EAAgB;gBAAE,OAAOvL,CAAC,IAAIuL,CAAZ;cAAgB,CAdxB;cAef/T,GAAG,EAAE,UAAUwI,CAAV,EAAauL,CAAb,EAAgB;gBAAE,OAAOvL,CAAC,IAAIuL,CAAZ;cAAgB,CAfxB;cAgBf9T,UAAU,EAAE,UAAUuI,CAAV,EAAauL,CAAb,EAAgB;gBAAE,OAAO,CAACvL,CAAC,IAAI,EAAN,EAAUsX,WAAV,CAAsB/L,CAAtB,EAAyB,CAAzB,MAAgC,CAAvC;cAA2C;YAhB1D,CAAnB;YAkBA,IAAIwM,UAAU,GAAG,qBAAjB;;YACA,IAAIC,YAAY,GAAG,UAAU3f,KAAV,EAAiBqd,UAAjB,EAA6B;cAC5C,IAAIrd,KAAK,IAAI,IAAT,IAAiBkZ,QAAQ,CAAClZ,KAAD,CAA7B,EAAsC;gBAClC,IAAIsa,IAAI,GAAGoF,UAAU,CAACE,IAAX,CAAgB5f,KAAhB,CAAX;;gBACA,IAAIsa,IAAJ,EAAU;kBACN,OAAO,IAAIC,IAAJ,CAAS,CAACD,IAAI,CAAC,CAAD,CAAd,EAAmBZ,OAAnB,EAAP;gBACH,CAFD,MAGK,IAAI2D,UAAJ,EAAgB;kBACjB,OAAOrd,KAAK,CAAC+d,WAAN,EAAP;gBACH;cACJ,CARD,MASK,IAAI/d,KAAK,IAAI,IAAT,IAAiByZ,MAAM,CAACzZ,KAAD,CAA3B,EAAoC;gBACrC,OAAOA,KAAK,CAAC0Z,OAAN,EAAP;cACH;;cACD,OAAO1Z,KAAP;YACH,CAdD;;YAeA,IAAI6f,WAAW,GAAG,UAAUC,IAAV,EAAgB9f,KAAhB,EAAuBqd,UAAvB,EAAmC;cACjD,IAAI,CAACtE,SAAS,CAAC/Y,KAAD,CAAd,EAAuB;gBACnB,OAAO8f,IAAP;cACH;;cACD,IAAI/H,GAAG,GAAG+H,IAAV;;cACA,IAAI5G,QAAQ,CAAClZ,KAAD,CAAZ,EAAqB;gBACjB,IAAIsa,IAAI,GAAGoF,UAAU,CAACE,IAAX,CAAgB5f,KAAhB,CAAX;;gBACA,IAAIsa,IAAJ,EAAU;kBACNta,KAAK,GAAG,IAAIua,IAAJ,CAAS,CAACD,IAAI,CAAC,CAAD,CAAd,CAAR;gBACH,CAFD,MAGK;kBACDvC,GAAG,GAAG,UAAUpQ,CAAV,EAAa;oBACf,IAAIsT,CAAC,GAAG6E,IAAI,CAACnY,CAAD,CAAZ;;oBACA,IAAI,OAAOsT,CAAP,KAAa,QAAb,IAAyBoC,UAA7B,EAAyC;sBACrC,OAAOpC,CAAC,CAAC8C,WAAF,EAAP;oBACH,CAFD,MAGK;sBACD,OAAOzE,SAAS,CAAC2B,CAAD,CAAT,GAAeA,CAAC,GAAG,EAAnB,GAAwBA,CAA/B;oBACH;kBACJ,CARD;gBASH;cACJ;;cACD,IAAIxB,MAAM,CAACzZ,KAAD,CAAV,EAAmB;gBACf,OAAO,UAAU2H,CAAV,EAAa;kBAChB,IAAIsT,CAAC,GAAGlD,GAAG,CAACpQ,CAAD,CAAX;kBACA,OAAO8R,MAAM,CAACwB,CAAD,CAAN,GAAYA,CAAC,CAACvB,OAAF,EAAZ,GAA0BuB,CAAjC;gBACH,CAHD;cAIH;;cACD,OAAOlD,GAAP;YACH,CA7BD;;YA8BA,IAAIgI,eAAe,GAAG,UAAU/b,EAAV,EAAc;cAChC,IAAI9D,KAAK,GAAG8D,EAAE,CAAC9D,KAAf;cAAA,IAAsBmd,UAAU,GAAGrZ,EAAE,CAACqZ,UAAtC;cAAA,IAAkDrd,KAAK,GAAGgE,EAAE,CAAChE,KAA7D;cAAA,IAAoEG,QAAQ,GAAG6D,EAAE,CAAC7D,QAAlF;cACAD,KAAK,GAAG,CAAC6Y,SAAS,CAAC7Y,KAAD,CAAV,GAAoB,UAAUyH,CAAV,EAAa;gBAAE,OAAOA,CAAP;cAAW,CAA9C,GAAiDzH,KAAzD;cACAmd,UAAU,GAAGtE,SAAS,CAACsE,UAAD,CAAT,GAAwBA,UAAxB,GAAqC,IAAlD;cACA,IAAI2C,QAAQ,GAAGH,WAAW,CAAC5G,UAAU,CAAC/Y,KAAD,CAAV,GAAoBA,KAApB,GAA4Bkb,MAAM,CAAClb,KAAD,EAAQ,IAAR,CAAnC,EAAkDF,KAAlD,EAAyDqd,UAAzD,CAA1B;cACArd,KAAK,GAAG2f,YAAY,CAAC3f,KAAD,EAAQqd,UAAR,CAApB;cACA,IAAIjW,EAAE,GAAG6R,UAAU,CAAC9Y,QAAD,CAAV,GAAuBA,QAAvB,GAAkC2e,YAAY,CAAC3e,QAAD,CAAvD;cACA,OAAO,UAAUwH,CAAV,EAAa;gBAAE,OAAOP,EAAE,CAAC4Y,QAAQ,CAACrY,CAAD,CAAT,EAAc3H,KAAd,EAAqBqd,UAArB,CAAT;cAA4C,CAAlE;YACH,CARD;YASA;AACJ;AACA;;;YACI,IAAI4C,wBAAwB,GAAG,UAAUzb,MAAV,EAAkB;cAC7C,IAAI0b,QAAQ,GAAGtB,KAAK,CAACpa,MAAM,CAACoa,KAAR,CAApB;cACA,OAAOpa,MAAM,CAAChF,OAAP,CACFgF,MADE,CACKuU,SADL,EAEFzQ,GAFE,CAEE,UAAU2S,CAAV,EAAa;gBAAE,OAAOtB,2BAA2B,CAACsB,CAAD,CAA3B,GAAiCgF,wBAAwB,CAAChF,CAAD,CAAzD,GAA+D8E,eAAe,CAAC9E,CAAD,CAArF;cAA2F,CAF5G,EAGF2C,MAHE,CAGKsC,QAAQ,CAACle,MAHd,EAGsBke,QAAQ,CAACrB,QAH/B,CAAP;YAIH,CAND,CAlzDgD,CA0zDhD;;YACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACI;;;YACA,IAAIsB,aAAa,GAAG,UAAUC,UAAV,EAAsB;cACtC,IAAI,CAACA,UAAD,IAAeA,UAAU,CAAC5gB,OAAX,CAAmBK,MAAnB,KAA8B,CAAjD,EAAoD;gBAChD,OAAO,YAAY;kBAAE,OAAO,IAAP;gBAAc,CAAnC;cACH;;cACD,OAAOogB,wBAAwB,CAACG,UAAD,CAA/B;YACH,CALD;;YAOA,SAASC,WAAT,CAAqBC,IAArB,EAA2BC,UAA3B,EAAuC;cACnC,IAAI,aAAaD,IAAjB,EAAuB;gBACnBA,IAAI,CAAC9gB,OAAL,CAAa8I,GAAb,CAAiB,UAAU5F,KAAV,EAAiB;kBAAE,OAAO2d,WAAW,CAAC3d,KAAD,EAAQ6d,UAAR,CAAlB;gBAAwC,CAA5E;cACH,CAFD,MAGK;gBACDA,UAAU,CAACD,IAAD,CAAV;cACH;YACJ;;YACD,IAAIE,YAAY,GAAG,UAAUhc,MAAV,EAAkBic,QAAlB,EAA4B;cAC3C,IAAIpS,WAAW,GAAG5G,KAAK,CAACmO,OAAN,CAAcpR,MAAd,IAAwBA,MAAxB,GAAiCA,MAAM,CAAChF,OAA1D;cACA6O,WAAW,CAAC5N,OAAZ,CAAoB,UAAU6f,IAAV,EAAgB;gBAAE,OAAOD,WAAW,CAACC,IAAD,EAAOG,QAAP,CAAlB;cAAqC,CAA3E;YACH,CAHD;YAIA;;;YACA,IAAIC,mBAAmB,GAAG,UAAU3X,IAAV,EAAgBF,OAAhB,EAAyBrE,MAAzB,EAAiC;cACvD,IAAImc,eAAe,GAAGnc,MAAM,GACvBiD,KAAK,CAACmO,OAAN,CAAcpR,MAAd,IAAwB;gBAAEoa,KAAK,EAAE,KAAT;gBAAgBpf,OAAO,EAAEgF;cAAzB,CAAxB,GAA4DA,MADrC,GAC+C/F,SAD3E;cAEA,IAAIqb,SAAS,GAAG6G,eAAe,GAAGR,aAAa,CAACQ,eAAD,CAAhB,GAAoC,YAAY;gBAAE,OAAO,IAAP;cAAc,CAA/F;cACA,IAAIzY,IAAI,GAAGa,IAAI,CAAC/G,MAAL,CAAY6G,OAAZ,CAAX;cACA,IAAI+X,WAAW,GAAG,EAAlB;cACAJ,YAAY,CAAChc,MAAM,IAAI,EAAX,EAAe,UAAU8b,IAAV,EAAgB;gBACvC,IAAI,WAAWA,IAAX,IAAmBA,IAAI,CAACpgB,KAA5B,EAAmC;kBAC/B0gB,WAAW,CAAClf,IAAZ,CAAiB4e,IAAI,CAACpgB,KAAtB;gBACH;cACJ,CAJW,CAAZ;cAKA,IAAIgC,MAAM,GAAG;gBAAE2e,SAAS,EAAE,KAAb;gBAAoB/G,SAAS,EAAEA,SAA/B;gBAA0CgH,aAAa,EAAE;cAAzD,CAAb;;cACA,IAAIF,WAAW,CAACre,IAAZ,CAAiB,UAAUjE,CAAV,EAAa;gBAAE,OAAO,OAAOA,CAAP,KAAa,UAApB;cAAiC,CAAjE,CAAJ,EAAwE;gBACpE4D,MAAM,CAAC4e,aAAP,GAAuB5Y,IAAI,CAACjF,KAAL,EAAvB;cACH,CAFD,MAGK,IAAI2d,WAAW,CAAC/gB,MAAZ,GAAqB,CAAzB,EAA4B;gBAC7B,IAAIkhB,iBAAiB,GAAGtZ,KAAK,CAACU,IAAN,CAAW,IAAI0G,GAAJ,CAAQ+R,WAAR,EAAqBtgB,MAArB,EAAX,CAAxB;gBACA,IAAIwgB,aAAa,GAAG5Y,IAAI,CAAC1D,MAAL,CAAY,UAAUmD,CAAV,EAAa;kBAAE,OAAOoZ,iBAAiB,CAACte,OAAlB,CAA0BkF,CAAC,CAAC4D,GAA5B,KAAoC,CAA3C;gBAA+C,CAA1E,CAApB;gBACArJ,MAAM,CAAC4e,aAAP,GAAuBA,aAAvB;cACH;;cACD5e,MAAM,CAAC2e,SAAP,GAAmB3e,MAAM,CAAC4e,aAAP,CAAqBjhB,MAArB,GAA8B,CAAjD;cACA,OAAOqC,MAAP;YACH,CAtBD;YAwBA;;;YACA,IAAI8e,OAAO,GAAG,UAAUtX,IAAV,EAAgBxJ,KAAhB,EAAuB+gB,WAAvB,EAAoC;cAC9C,IAAIC,SAAS,GAAGxX,IAAI,CAAC2I,GAAL,CAASnS,KAAT,CAAhB;;cACA,IAAI,CAACghB,SAAL,EAAgB;gBACZA,SAAS,GAAGD,WAAW,IAAI,IAAIjP,GAAJ,EAA3B;gBACAtI,IAAI,CAACkF,GAAL,CAAS1O,KAAT,EAAgBghB,SAAhB;cACH;;cACD,OAAOA,SAAP;YACH,CAPD;;YAQA,IAAIC,SAAS,GAAG,GAAhB;YACA;;YACA,IAAIC,SAAS,GAAG,UAAU7V,GAAV,EAAevL,KAAf,EAAsB;cAAE,OAAOuL,GAAG,GAAG4V,SAAN,GAAkBnhB,KAAzB;YAAiC,CAAzE;YACA;;;YACA,IAAIqhB,aAAa,GAAG,UAAUC,QAAV,EAAoB;cACpC,IAAIC,cAAc,GAAGD,QAAQ,CAAC7e,OAAT,CAAiB0e,SAAjB,CAArB;;cACA,IAAII,cAAc,KAAK,CAAC,CAAxB,EAA2B;gBACvB,IAAIhW,GAAG,GAAG+V,QAAQ,CAACE,SAAT,CAAmB,CAAnB,EAAsBD,cAAtB,CAAV;gBACA,IAAIvhB,KAAK,GAAGshB,QAAQ,CAACE,SAAT,CAAmBD,cAAc,GAAG,CAApC,CAAZ;gBACA,OAAO,CAAChW,GAAD,EAAMvL,KAAN,CAAP;cACH,CAJD,MAKK;gBACD,OAAO,CAACshB,QAAD,EAAW7iB,SAAX,CAAP;cACH;YACJ,CAVD;;YAYA,IAAIgjB,mBAAmB,GAAG,UAAU/X,IAAV,EAAgB3I,QAAhB,EAA0B2gB,SAA1B,EAAqC;cAC3DhY,IAAI,CAACjJ,OAAL,CAAa,UAAUygB,SAAV,EAAqBxZ,CAArB,EAAwB;gBACjC,IAAIA,CAAC,KAAKga,SAAV,EAAqB;kBACjB,IAAIR,SAAS,CAACnS,IAAV,GAAiB,CAArB,EAAwB;oBACpB0S,mBAAmB,CAACP,SAAD,EAAYngB,QAAZ,EAAsB2gB,SAAtB,CAAnB;kBACH;;kBACD,IAAIC,WAAW,GAAGT,SAAS,CAAC7O,GAAV,CAAcqP,SAAd,CAAlB;kBACA,IAAIE,YAAY,GAAGZ,OAAO,CAACtX,IAAD,EAAOgY,SAAP,EAAkB,EAAlB,CAA1B;kBACA3gB,QAAQ,CAACN,OAAT,CAAiB,UAAUqR,CAAV,EAAa;oBAC1BA,CAAC,CAAC8K,SAAF,CAAYnP,IAAZ,CAAiBmU,YAAjB;oBACA9P,CAAC,CAAC8K,SAAF,CAAYjF,KAAZ,CAAkBgK,WAAlB,EAA+BC,YAA/B;kBACH,CAHD;gBAIH;cACJ,CAZD;YAaH,CAdD;YAeA;;;YACA,IAAIC,UAAU,GAAG,UAAUjK,GAAV,EAAeC,IAAf,EAAqB9W,QAArB,EAA+B2gB,SAA/B,EAA0C;cACvD9J,GAAG,CAACnX,OAAJ,CAAY,UAAUqhB,QAAV,EAAoBpa,CAApB,EAAuB;gBAC/B,IAAIqa,SAAJ;;gBACA,IAAIra,CAAC,KAAKga,SAAV,EAAqB;kBACjBK,SAAS,GAAGf,OAAO,CAACnJ,IAAD,EAAOnQ,CAAP,CAAnB;kBACAma,UAAU,CAACC,QAAD,EAAWC,SAAX,EAAsBhhB,QAAtB,EAAgC2gB,SAAhC,CAAV;gBACH,CAHD,MAIK;kBACDK,SAAS,GAAGf,OAAO,CAACnJ,IAAD,EAAOnQ,CAAP,EAAU,EAAV,CAAnB;kBACA3G,QAAQ,CAACN,OAAT,CAAiB,UAAUqR,CAAV,EAAa;oBAC1BA,CAAC,CAAC8K,SAAF,CAAYnP,IAAZ,CAAiBsU,SAAjB;oBACAjQ,CAAC,CAAC8K,SAAF,CAAYjF,KAAZ,CAAkBmK,QAAlB,EAA4BC,SAA5B;kBACH,CAHD;gBAIH;cACJ,CAbD;YAcH,CAfD;;YAgBA,IAAIC,gBAAgB,GAAG,UAAUtY,IAAV,EAAgB3I,QAAhB,EAA0BkhB,WAA1B,EAAuCP,SAAvC,EAAkD;cACrEhY,IAAI,CAACjJ,OAAL,CAAa,UAAUygB,SAAV,EAAqBxZ,CAArB,EAAwB;gBACjC,IAAIA,CAAC,KAAKua,WAAV,EAAuB;kBACnB,IAAIf,SAAS,CAACnS,IAAV,GAAiB,CAArB,EAAwB;oBACpBiT,gBAAgB,CAACd,SAAD,EAAYngB,QAAZ,EAAsBkhB,WAAtB,EAAmCP,SAAnC,CAAhB;kBACH;;kBACD,IAAIQ,UAAU,GAAGlB,OAAO,CAACE,SAAD,EAAYe,WAAZ,CAAxB;kBACA,IAAIE,WAAW,GAAGnB,OAAO,CAACtX,IAAD,EAAOuY,WAAP,CAAzB;kBACAJ,UAAU,CAACK,UAAD,EAAaC,WAAb,EAA0BphB,QAA1B,EAAoC2gB,SAApC,CAAV;gBACH;cACJ,CATD;YAUH,CAXD;YAYA;;;YACA,IAAIU,cAAc,GAAG,UAAUpZ,IAAV,EAAgBD,IAAhB,EAAsBF,OAAtB,EAA+B9H,QAA/B,EAAyCua,MAAzC,EAAiD9W,MAAjD,EAAyD;cAC1E,IAAItC,MAAM,GAAG,IAAI8P,GAAJ,EAAb;cACA,IAAIqQ,KAAK,GAAG,IAAIrQ,GAAJ,EAAZ;cACA,IAAI9J,IAAI,GAAGa,IAAI,CAAC/G,MAAL,CAAY6G,OAAZ,CAAX;cACA,IAAIyZ,SAAS,GAAG,IAAIzT,GAAJ,EAAhB;cACA,IAAI6S,SAAS,GAAGpG,MAAM,CAACoG,SAAvB;cAAA,IAAkCO,WAAW,GAAG3G,MAAM,CAAC2G,WAAvD;;cACA,IAAIje,EAAE,GAAG0c,mBAAmB,CAAC3X,IAAD,EAAOF,OAAP,EAAgBrE,MAAhB,CAA5B;cAAA,IAAqDqc,SAAS,GAAG7c,EAAE,CAAC6c,SAApE;cAAA,IAA+E/G,SAAS,GAAG9V,EAAE,CAAC8V,SAA9F;cAAA,IAAyGgH,aAAa,GAAG9c,EAAE,CAAC8c,aAA5H;;cACA,IAAIrF,KAAK,GAAG,EAAZ;cACAzS,IAAI,CAACvI,OAAL,CAAa,UAAU8hB,QAAV,EAAoB;gBAC7B,IAAI1B,SAAJ,EAAe;kBACX,IAAI2B,mBAAmB,GAAG,EAA1B;kBACA1B,aAAa,CAACrgB,OAAd,CAAsB,UAAUwI,IAAV,EAAgB;oBAAEuZ,mBAAmB,CAACvZ,IAAI,CAACsC,GAAN,CAAnB,GAAgCtC,IAAI,CAACwZ,YAAL,CAAkBF,QAAlB,CAAhC;kBAA8D,CAAtG;;kBACA,IAAI,CAACzI,SAAS,CAAC0I,mBAAD,CAAd,EAAqC;oBACjC;kBACH;gBACJ;;gBACD,IAAIliB,MAAM,GAAG4H,IAAI,CAACI,GAAL,CAAS,UAAUX,CAAV,EAAa;kBAAE,OAAOA,CAAC,CAAC8a,YAAF,CAAeF,QAAf,CAAP;gBAAkC,CAA1D,CAAb;gBACA,IAAIG,OAAO,GAAGjH,KAAK,CAACzZ,MAAN,CAAaxD,KAAb,CAAmBid,KAAnB,EAA0Bnb,MAA1B,CAAd;gBACA,IAAIqiB,QAAQ,GAAGN,KAAK,CAAChQ,GAAN,CAAUqQ,OAAV,CAAf;;gBACA,IAAI,CAACC,QAAL,EAAe;kBACX,IAAIC,MAAM,GAAG1gB,MAAb;;kBACA,IAAI2gB,QAAQ,GAAG,UAAU5Z,IAAV,EAAgB;oBAC3B2Z,MAAM,GAAG5B,OAAO,CAAC4B,MAAD,EAASxB,SAAS,CAACnY,IAAI,CAACsC,GAAN,EAAWtC,IAAI,CAACwZ,YAAL,CAAkBF,QAAlB,CAAX,CAAlB,CAAhB;kBACH,CAFD;;kBAGAxZ,IAAI,CAACtI,OAAL,CAAaoiB,QAAb;kBACAD,MAAM,GAAG5B,OAAO,CAAC4B,MAAD,EAASX,WAAT,CAAhB;kBACAK,SAAS,CAACxT,GAAV,CAAc8T,MAAd;kBACA/Z,OAAO,CAACpI,OAAR,CAAgBoiB,QAAhB;kBACAF,QAAQ,GAAG,EAAX;kBACAC,MAAM,CAAChU,GAAP,CAAW8S,SAAX,EAAsBiB,QAAtB;kBACAN,KAAK,CAACzT,GAAN,CAAU8T,OAAV,EAAmBC,QAAnB;kBACA5hB,QAAQ,CAACN,OAAT,CAAiB,UAAUqR,CAAV,EAAa;oBAC1BA,CAAC,CAAC8K,SAAF,CAAYnP,IAAZ,CAAiBkV,QAAjB;kBACH,CAFD;gBAGH;;gBACD5hB,QAAQ,CAACN,OAAT,CAAiB,UAAUqR,CAAV,EAAa;kBAC1BA,CAAC,CAAC8K,SAAF,CAAY9E,UAAZ,CAAuB6K,QAAvB,EAAiC7Q,CAAC,CAAC9R,KAAF,CAAQuiB,QAAR,CAAjC;gBACH,CAFD;cAGH,CA9BD;cA+BAD,SAAS,CAAC7hB,OAAV,CAAkB,UAAUqiB,IAAV,EAAgB;gBAAE,OAAOrB,mBAAmB,CAACqB,IAAD,EAAO/hB,QAAP,EAAiB2gB,SAAjB,CAA1B;cAAwD,CAA5F;cACAM,gBAAgB,CAAC9f,MAAD,EAASnB,QAAT,EAAmBkhB,WAAnB,EAAgCP,SAAhC,CAAhB;cACA,OAAOxf,MAAP;YACH,CA1CD;YA2CA;;;YACA,IAAI6gB,aAAa,GAAG,UAAUC,QAAV,EAAoBtB,SAApB,EAA+B3gB,QAA/B,EAAyC;cACzD,IAAImB,MAAM,GAAG,IAAI8P,GAAJ,EAAb;cACA6P,UAAU,CAACmB,QAAD,EAAW9gB,MAAX,EAAmBnB,QAAnB,EAA6B2gB,SAA7B,CAAV;cACA,OAAOxf,MAAP;YACH,CAJD;;YAMA,IAAI+gB,UAAU,GAAG,UAAUphB,IAAV,EAAgBqG,IAAhB,EAAsBoH,IAAtB,EAA4B;cACzC,IAAItL,EAAE,GAAGqd,aAAa,CAACxf,IAAD,CAAtB;cAAA,IAA8B0J,GAAG,GAAGvH,EAAE,CAAC,CAAD,CAAtC;cAAA,IAA2ChE,KAAK,GAAGgE,EAAE,CAAC,CAAD,CAArD;;cACA,IAAI9B,MAAM,GAAGoN,IAAI,CAACrM,KAAL,EAAb;;cACA,IAAIsI,GAAG,IAAIvL,KAAX,EAAkB;gBACd,IAAIiJ,IAAI,GAAGf,IAAI,CAACuJ,IAAL,CAAU,UAAU9J,CAAV,EAAa;kBAAE,OAAOA,CAAC,CAAC4D,GAAF,KAAUA,GAAjB;gBAAuB,CAAhD,CAAX;gBACA,IAAI2X,SAAS,GAAGja,IAAI,GAAGA,IAAI,CAACgB,OAAR,GAAkB,EAAtC;gBACA,OAAO/H,MAAM,CAACoG,GAAP,CAAW,UAAUnD,CAAV,EAAa;kBAAE,OAAOA,CAAC,KAAK+d,SAAN,GAAkBrhB,IAAlB,GAAyBsD,CAAhC;gBAAoC,CAA9D,CAAP;cACH;;cACD,OAAOjD,MAAP;YACH,CATD;;YAUA,IAAIihB,WAAW,GAAG,UAAUrO,IAAV,EAAgBhU,OAAhB,EAAyBZ,KAAzB,EAAgCkjB,YAAhC,EAA8CriB,QAA9C,EAAwD2gB,SAAxD,EAAmEW,KAAnE,EAA0E;cACxF,IAAIgB,SAAS,GAAGhB,KAAK,IAAI,IAAIrQ,GAAJ,EAAzB;cACA,IAAI1C,IAAI,GAAG8T,YAAY,CAAC9a,GAAb,CAAiB,UAAUX,CAAV,EAAa;gBAAE,OAAOA,CAAC,CAACsC,OAAT;cAAmB,CAAnD,CAAX;;cACA,OAAOnJ,OAAO,CAACjB,MAAR,GAAiB,CAAjB,IAAsBujB,YAAY,CAAC7gB,IAAb,CAAkB,UAAUoF,CAAV,EAAa;gBAAE,OAAOA,CAAC,CAACsC,OAAF,KAAcnJ,OAAO,CAACA,OAAO,CAACjB,MAAR,GAAiB,CAAlB,CAAP,CAA4BoK,OAAjD;cAA2D,CAA5F,CAA7B,EAA4H;gBACxHnJ,OAAO,CAAC8C,GAAR;gBACA0L,IAAI,CAAC1L,GAAL;cACH;;cACD,IAAI8F,IAAI,GAAGoL,IAAX;cACAhU,OAAO,CAACL,OAAR,CAAgB,UAAUqR,CAAV,EAAa5M,CAAb,EAAgB;gBAC5BoK,IAAI,GAAG2T,UAAU,CAACnR,CAAC,CAACjQ,IAAH,EAASuhB,YAAT,EAAuB9T,IAAvB,CAAjB;;gBACA,IAAI5F,IAAI,IAAI,CAAC0Z,YAAY,CAAC7gB,IAAb,CAAkB,UAAUoF,CAAV,EAAa;kBAAE,OAAOA,CAAC,CAACsC,OAAF,KAAc6H,CAAC,CAACjQ,IAAvB;gBAA8B,CAA/D,CAAb,EAA+E;kBAC3E,IAAI,CAAC6H,IAAI,CAAC4Z,GAAL,CAASxR,CAAC,CAACjQ,IAAX,CAAD,IAAqB,CAACwhB,SAAS,CAACC,GAAV,CAAchU,IAAI,CAACrM,KAAL,CAAW,CAAX,EAAcqM,IAAI,CAAC7M,OAAL,CAAaqP,CAAC,CAACjQ,IAAf,IAAuB,CAArC,EAAwCE,IAAxC,CAA6C,GAA7C,CAAd,CAA1B,EAA4F;oBACxF,IAAIwhB,YAAY,GAAG9b,KAAK,CAACU,IAAN,CAAWuB,IAAX,EAAiB+H,IAAjB,CAAsB,UAAUjP,CAAV,EAAa;sBAAE,OAAOA,CAAC,CAAC,CAAD,CAAD,KAAStC,KAAhB;oBAAwB,CAA7D,CAAnB;oBACA,IAAIsjB,gBAAgB,GAAGD,YAAY,IAAIA,YAAY,CAAC,CAAD,CAAnD;oBACA,IAAIE,YAAY,GAAGD,gBAAgB,IAAInC,aAAa,CAACmC,gBAAD,CAAb,CAAgC,CAAhC,CAAvC;oBACA,IAAIxT,KAAK,GAAGyT,YAAY,GAAGve,CAAC,GAAGke,YAAY,CAAChT,SAAb,CAAuB,UAAUzI,CAAV,EAAa;sBAAE,OAAOA,CAAC,CAAC4D,GAAF,KAAUkY,YAAjB;oBAAgC,CAAtE,CAAP,GAAiF,CAAzG;;oBACA,IAAIpS,OAAO,GAAG,UAAUrM,CAAV,EAAa;sBACvB,IAAIgE,IAAI,GAAG,EAAX;sBACAU,IAAI,CAACjJ,OAAL,CAAa,UAAUT,KAAV,EAAiBuL,GAAjB,EAAsB;wBAC/B,IAAIA,GAAG,KAAKrL,KAAZ,EAAmB;0BACf8I,IAAI,CAACtH,IAAL,CAAUlD,KAAV,CAAgBwK,IAAhB,EAAsBvB,KAAK,CAACU,IAAN,CAAWnI,KAAX,EAAkBwE,MAAlB,CAAyB,UAAUkf,CAAV,EAAa;4BAAE,OAAOA,CAAC,CAAC,CAAD,CAAD,KAASxjB,KAAhB;0BAAwB,CAAhE,CAAtB;wBACH;sBACJ,CAJD;sBAKA,IAAIgG,IAAI,GAAG,IAAI8L,GAAJ,EAAX;sBACAhJ,IAAI,CAACvI,OAAL,CAAa,UAAU2R,IAAV,EAAgB;wBACzB,IAAIlM,IAAI,CAACod,GAAL,CAASlR,IAAI,CAAC,CAAD,CAAb,CAAJ,EAAuB;0BACnB,IAAIyF,IAAI,GAAG3R,IAAI,CAACmM,GAAL,CAASD,IAAI,CAAC,CAAD,CAAb,CAAX;0BACA,IAAIwF,GAAG,GAAGxF,IAAI,CAAC,CAAD,CAAd;0BACA,IAAIuR,OAAO,GAAG,IAAI3R,GAAJ,EAAd;0BACA6P,UAAU,CAAChK,IAAD,EAAO8L,OAAP,EAAgB5iB,QAAhB,EAA0B2gB,SAA1B,CAAV;0BACAG,UAAU,CAACjK,GAAD,EAAM+L,OAAN,EAAe5iB,QAAf,EAAyB2gB,SAAzB,CAAV;0BACAxb,IAAI,CAAC0I,GAAL,CAASwD,IAAI,CAAC,CAAD,CAAb,EAAkBuR,OAAlB;wBACH,CAPD,MAQK;0BACDzd,IAAI,CAAC0I,GAAL,CAASwD,IAAI,CAAC,CAAD,CAAb,EAAkB,IAAIJ,GAAJ,CAAQI,IAAI,CAAC,CAAD,CAAZ,CAAlB;wBACH;sBACJ,CAZD;sBAaA,IAAIwR,WAAW,GAAGtU,IAAI,CAACrM,KAAL,CAAW,CAAX,EAAcqM,IAAI,CAAC7M,OAAL,CAAaqP,CAAC,CAACjQ,IAAf,CAAd,CAAlB;sBACAqE,IAAI,CAACzF,OAAL,CAAa,UAAUT,KAAV,EAAiBuL,GAAjB,EAAsB;wBAC/B8X,SAAS,CAACzU,GAAV,CAAcqU,UAAU,CAAC1X,GAAD,EAAM6X,YAAN,EAAoBQ,WAAW,CAAC5hB,MAAZ,CAAmB,CAACuJ,GAAD,CAAnB,CAApB,CAAV,CAAyDxJ,IAAzD,CAA8D,GAA9D,CAAd,EAAkF/B,KAAlF;sBACH,CAFD;sBAGAkG,IAAI,CAAC0I,GAAL,CAAS1O,KAAT,EAAgBwJ,IAAI,CAAC2I,GAAL,CAASnS,KAAT,CAAhB;sBACAwJ,IAAI,GAAGxD,IAAP;oBACH,CA3BD;;oBA4BA,KAAK,IAAIlB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgL,KAApB,EAA2BhL,CAAC,EAA5B,EAAgC;sBAC5BqM,OAAO,CAACrM,CAAD,CAAP;oBACH;kBACJ;;kBACD0E,IAAI,GAAGA,IAAI,CAAC2I,GAAL,CAASP,CAAC,CAACjQ,IAAX,KAAoBwhB,SAAS,CAAChR,GAAV,CAAc/C,IAAI,CAACrM,KAAL,CAAW,CAAX,EAAcqM,IAAI,CAAC7M,OAAL,CAAaqP,CAAC,CAACjQ,IAAf,IAAuB,CAArC,EAAwCE,IAAxC,CAA6C,GAA7C,CAAd,CAA3B;gBACH;cACJ,CA1CD;cA2CA,OAAO2H,IAAP;YACH,CApDD;YAqDA;;;YACA,IAAIma,QAAQ,GAAG,UAAUb,QAAV,EAAoBc,SAApB,EAA+BC,YAA/B,EAA6CzI,MAA7C,EAAqD0I,cAArD,EAAqEC,WAArE,EAAkFljB,QAAlF,EAA4F;cACvG,IAAIiI,IAAI,GAAG,EAAX;cACA,IAAI0Y,SAAS,GAAGpG,MAAM,CAACoG,SAAvB;cAAA,IAAkCO,WAAW,GAAG3G,MAAM,CAAC2G,WAAvD;cACA,IAAIiC,SAAS,GAAG,IAAIlS,GAAJ,EAAhB;cACA8R,SAAS,CAACrjB,OAAV,CAAkB,UAAUiL,GAAV,EAAe;gBAC7B,IAAIyY,OAAO,GAAGhB,WAAW,CAACH,QAAD,EAAWtX,GAAG,CAAC5K,OAAJ,CAAYmC,KAAZ,EAAX,EAAgCgf,WAAhC,EAA6CgC,WAA7C,EAA0DljB,QAA1D,EAAoE2gB,SAApE,EAA+EwC,SAA/E,CAAzB;gBACA,IAAIE,cAAc,GAAGD,OAAO,IAAIA,OAAO,CAAC9R,GAAR,CAAY4P,WAAZ,CAAhC;gBACA8B,YAAY,CAACtjB,OAAb,CAAqB,UAAU4jB,GAAV,EAAe;kBAChC,IAAIvjB,OAAO,GAAGujB,GAAG,CAACvjB,OAAJ,CAAYmC,KAAZ,EAAd;kBACA,IAAId,OAAO,GAAGpB,QAAQ,CAAC,CAAD,CAAtB;;kBACA,IAAID,OAAO,CAACA,OAAO,CAACjB,MAAR,GAAiB,CAAlB,CAAP,CAA4BuK,SAA5B,KAA0C,4BAA9C,EAA4E;oBACxE,IAAIka,gBAAgB,GAAGxjB,OAAO,CAAC8C,GAAR,EAAvB;oBACAzB,OAAO,GAAGpB,QAAQ,CAAC0Q,IAAT,CAAc,UAAUK,CAAV,EAAa;sBAAE,OAAO7R,MAAM,CAAC6R,CAAC,CAACjQ,IAAH,CAAN,KAAmByiB,gBAAgB,CAACra,OAA3C;oBAAqD,CAAlF,KAAuF9H,OAAjG;kBACH;;kBACD,IAAIoiB,OAAO,GAAGH,cAAc,IAAIjB,WAAW,CAACiB,cAAD,EAAiBtjB,OAAjB,EAA0B4gB,SAA1B,EAAqCsC,cAArC,EAAqDjjB,QAArD,EAA+D2gB,SAA/D,CAA3C;kBACA,IAAI1hB,KAAK,GAAG,EAAZ;kBAAA,IAAgBwI,QAAQ,GAAG,EAA3B;kBAAA,IAA+BE,OAAO,GAAG,CAAzC;;kBACA,IAAI6b,OAAO,IAAIpiB,OAAf,EAAwB;oBACpB,IAAID,MAAM,GAAGC,OAAO,CAACya,SAAR,CAAkB1a,MAAlB,CAAyBqiB,OAAO,CAAClS,GAAR,CAAYqP,SAAZ,CAAzB,CAAb;oBACA1hB,KAAK,GAAGC,MAAM,CAACiC,MAAD,CAAd;oBACAsG,QAAQ,GAAGrG,OAAO,CAACya,SAAR,CAAkB5E,MAAlB,CAAyB9V,MAAzB,CAAX;kBACH;;kBACD8G,IAAI,CAACtH,IAAL,CAAU;oBACN+H,WAAW,EAAE4a,GADP;oBAENrb,IAAI,EAAE;sBAAER,QAAQ,EAAEA,QAAZ;sBAAsBE,OAAO,EAAEA,OAA/B;sBAAwC1I,KAAK,EAAEA;oBAA/C,CAFA;oBAGNuJ,QAAQ,EAAEmC;kBAHJ,CAAV;gBAKH,CAnBD;cAoBH,CAvBD;cAwBA,OAAO1C,IAAP;YACH,CA7BD;;YA+BA,IAAIwb,kBAAkB,GAAG,UAAUC,YAAV,EAAwBC,YAAxB,EAAsC;cAC3D,IAAIC,QAAQ,GAAG;gBAAE7jB,OAAO,EAAE;cAAX,CAAf;cACA2jB,YAAY,CAAChkB,OAAb,CAAqB,UAAUmkB,QAAV,EAAoB;gBACrC,IAAI3b,IAAI,GAAGyb,YAAY,CAACjT,IAAb,CAAkB,UAAU9J,CAAV,EAAa;kBAAE,OAAOA,CAAC,CAAC4D,GAAF,KAAUqZ,QAAjB;gBAA4B,CAA7D,CAAX;gBACA,IAAI3a,OAAO,GAAGhB,IAAI,GAAGA,IAAI,CAACgB,OAAR,GAAkB,EAApC;gBACA,IAAI7H,MAAM,GAAG;kBACT6H,OAAO,EAAEA,OADA;kBAETC,QAAQ,EAAE,EAFD;kBAGTF,WAAW,EAAE,IAHJ;kBAITM,UAAU,EAAE,EAJH;kBAKTD,QAAQ,EAAE,CALD;kBAMTD,SAAS,EAAEH,OANF;kBAOTE,SAAS,EAAEya,QAPF;kBAQT/iB,IAAI,EAAEoI;gBARG,CAAb;gBAUA0a,QAAQ,CAAC7jB,OAAT,CAAiBY,IAAjB,CAAsBU,MAAtB;cACH,CAdD;cAeA,OAAOuiB,QAAP;YACH,CAlBD;;YAmBA,IAAIE,QAAQ,GAAG,UAAUzE,UAAV,EAAsB0E,GAAtB,EAA2B;cACtC,OAAO,UAAUnd,CAAV,EAAauL,CAAb,EAAgB;gBACnB,IAAI6R,KAAK,GAAG3E,UAAU,CAAC5c,GAAvB;gBACA,IAAIwhB,SAAS,GAAGF,GAAG,CAACG,SAAJ,CAAc5D,aAAa,CAAC1Z,CAAC,CAAC,CAAD,CAAF,CAAb,CAAoB,CAApB,CAAd,CAAhB;gBACA,IAAIud,SAAS,GAAGJ,GAAG,CAACG,SAAJ,CAAc5D,aAAa,CAACnO,CAAC,CAAC,CAAD,CAAF,CAAb,CAAoB,CAApB,CAAd,CAAhB;;gBACA,IAAI8R,SAAS,GAAGE,SAAhB,EAA2B;kBACvB,OAAOH,KAAK,KAAK,KAAV,GAAkB,CAAC,CAAnB,GAAuB,CAA9B;gBACH;;gBACD,IAAIC,SAAS,GAAGE,SAAhB,EAA2B;kBACvB,OAAOH,KAAK,KAAK,KAAV,GAAkB,CAAlB,GAAsB,CAAC,CAA9B;gBACH;;gBACD,OAAO,CAAP;cACH,CAXD;YAYH,CAbD;;YAcA,IAAII,SAAS,GAAG,UAAUvN,GAAV,EAAeC,IAAf,EAAqBuN,OAArB,EAA8B;cAC1CxN,GAAG,CAACnX,OAAJ,CAAY,UAAUqhB,QAAV,EAAoBpa,CAApB,EAAuB;gBAC/B,IAAI,CAAC0d,OAAO,CAAC1d,CAAD,CAAZ,EAAiB;kBACb,IAAIqa,SAAS,GAAGf,OAAO,CAACnJ,IAAD,EAAOnQ,CAAP,CAAvB;kBACAyd,SAAS,CAACrD,QAAD,EAAWC,SAAX,EAAsBqD,OAAtB,CAAT;gBACH;cACJ,CALD;YAMH,CAPD;;YAQA,IAAIC,cAAc,GAAG,UAAUrC,QAAV,EAAoB1U,IAApB,EAA0B8W,OAA1B,EAAmC;cACpD,IAAIljB,MAAM,GAAG,EAAb;;cACA,IAAIygB,QAAQ,GAAG,UAAUjZ,IAAV,EAAgB;gBAAE,OAAOjC,KAAK,CAACU,IAAN,CAAWuB,IAAX,EAAiBlF,MAAjB,CAAwB,UAAUhC,CAAV,EAAa;kBAAE,OAAO,CAAC4iB,OAAO,CAAC5iB,CAAC,CAAC,CAAD,CAAF,CAAf;gBAAwB,CAA/D,CAAP;cAA0E,CAA3G;;cACA,IAAI8iB,OAAO,GAAG,IAAItT,GAAJ,CAAQgR,QAAR,CAAd;cACA,IAAI9c,IAAJ;;cACA,IAAImL,OAAO,GAAG,UAAUnM,CAAV,EAAa;gBACvBgB,IAAI,GAAGof,OAAO,CAACjT,GAAR,CAAY/D,IAAI,CAACpJ,CAAD,CAAhB,CAAP;;gBACA,IAAIgB,IAAJ,EAAU;kBACNof,OAAO,GAAG,IAAItT,GAAJ,CAAQ9L,IAAR,CAAV;gBACH,CAFD,MAGK,IAAIhB,CAAC,GAAGoJ,IAAI,CAACzO,MAAL,GAAc,CAAlB,IAAuB4H,KAAK,CAACU,IAAN,CAAWmd,OAAX,EAAoB/iB,IAApB,CAAyB,UAAU4D,CAAV,EAAa;kBAAE,OAAOkb,aAAa,CAAClb,CAAC,CAAC,CAAD,CAAF,CAAb,CAAoB,CAApB,MAA2BmI,IAAI,CAACpJ,CAAD,CAAtC;gBAA4C,CAApF,CAA3B,EAAkH;kBACnH,IAAIqgB,UAAU,GAAG,EAAjB;kBACAD,OAAO,CAAC7kB,OAAR,CAAgB,UAAUiC,KAAV,EAAiB6I,GAAjB,EAAsB;oBAClC,IAAI,CAAC6Z,OAAO,CAAC7Z,GAAD,CAAZ,EAAmB;sBACfga,UAAU,CAAC7jB,IAAX,CAAgBlD,KAAhB,CAAsB+mB,UAAtB,EAAkC5C,QAAQ,CAAC,IAAI3Q,GAAJ,CAAQtP,KAAR,CAAD,CAA1C;oBACH;kBACJ,CAJD;kBAKA4iB,OAAO,GAAG,IAAItT,GAAJ,EAAV;kBACAuT,UAAU,CAAC9kB,OAAX,CAAmB,UAAU2R,IAAV,EAAgB;oBAC/B,IAAIkT,OAAO,CAAChC,GAAR,CAAYlR,IAAI,CAAC,CAAD,CAAhB,CAAJ,EAA0B;sBACtB,IAAIyF,IAAI,GAAGyN,OAAO,CAACjT,GAAR,CAAYD,IAAI,CAAC,CAAD,CAAhB,CAAX;sBACA,IAAIwF,GAAG,GAAGxF,IAAI,CAAC,CAAD,CAAd;sBACA,IAAIuR,OAAO,GAAG,IAAI3R,GAAJ,EAAd;sBACAmT,SAAS,CAACtN,IAAD,EAAO8L,OAAP,EAAgByB,OAAhB,CAAT;sBACAD,SAAS,CAACvN,GAAD,EAAM+L,OAAN,EAAeyB,OAAf,CAAT;sBACAE,OAAO,CAAC1W,GAAR,CAAYwD,IAAI,CAAC,CAAD,CAAhB,EAAqBuR,OAArB;oBACH,CAPD,MAQK;sBACD2B,OAAO,CAAC1W,GAAR,CAAYwD,IAAI,CAAC,CAAD,CAAhB,EAAqB,IAAIJ,GAAJ,CAAQI,IAAI,CAAC,CAAD,CAAZ,CAArB;oBACH;kBACJ,CAZD;gBAaH,CArBI,MAsBA,IAAIlN,CAAC,KAAK,CAAN,IAAWA,CAAC,KAAKoJ,IAAI,CAACzO,MAAL,GAAc,CAAnC,EAAsC;kBACvC,IAAI4H,KAAK,CAACU,IAAN,CAAWmd,OAAX,EAAoB/iB,IAApB,CAAyB,UAAU4D,CAAV,EAAa;oBAAE,OAAOkb,aAAa,CAAClb,CAAC,CAAC,CAAD,CAAF,CAAb,CAAoB,CAApB,MAA2BmI,IAAI,CAACpJ,CAAD,CAAtC;kBAA4C,CAApF,CAAJ,EAA2F;oBACvFhD,MAAM,CAACR,IAAP,CAAYlD,KAAZ,CAAkB0D,MAAlB,EAA0BygB,QAAQ,CAAC2C,OAAD,CAAlC;kBACH;gBACJ;cACJ,CAhCD;;cAiCA,KAAK,IAAIpgB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoJ,IAAI,CAACzO,MAAzB,EAAiCqF,CAAC,EAAlC,EAAsC;gBAClCmM,OAAO,CAACnM,CAAD,CAAP;cACH;;cACD,OAAOhD,MAAP;YACH,CA1CD;YA2CA;;;YACA,IAAIsjB,UAAU,GAAG,UAAUC,WAAV,EAAuB;cACpC,IAAInK,MAAM,GAAG,IAAIzM,GAAJ,EAAb;cACA4W,WAAW,CAAChlB,OAAZ,CAAoB,UAAU2R,IAAV,EAAgB;gBAChC,IAAIA,IAAI,CAACvQ,IAAL,CAAUhC,MAAV,KAAqB,CAArB,IAA0B,CAACwhB,aAAa,CAACjP,IAAI,CAACvQ,IAAL,CAAU,CAAV,CAAD,CAAb,CAA4B,CAA5B,CAA/B,EAA+D;kBAC3DyZ,MAAM,CAACxM,GAAP,CAAWsD,IAAI,CAACvQ,IAAL,CAAU,CAAV,CAAX;gBACH;cACJ,CAJD;cAKA,OAAOyZ,MAAP;YACH,CARD;YASA;;;YACA,IAAIoK,YAAY,GAAG,UAAUhB,YAAV,EAAwBe,WAAxB,EAAqCzC,QAArC,EAA+C2C,eAA/C,EAAgEC,aAAhE,EAA+E;cAC9F,IAAInB,YAAY,GAAGe,UAAU,CAACC,WAAD,CAA7B;cACA,IAAII,WAAW,GAAG,EAAlB;cACA,IAAIC,QAAQ,GAAGtB,kBAAkB,CAACC,YAAD,EAAeC,YAAf,CAAjC;cACAmB,WAAW,CAACnkB,IAAZ,CAAiBokB,QAAjB;;cACA,IAAIxS,OAAO,GAAG,UAAUpO,CAAV,EAAa;gBACvB,IAAI6gB,OAAO,GAAGN,WAAW,CAACvgB,CAAD,CAAzB;;gBACA,IAAI6gB,OAAO,CAAClkB,IAAR,CAAahC,MAAb,KAAwB,CAAxB,IAA6B,CAACkmB,OAAO,CAAChjB,MAAtC,IAAgD0hB,YAAY,CAACnB,GAAb,CAAiByC,OAAO,CAAClkB,IAAR,CAAa,CAAb,CAAjB,CAApD,EAAuF;kBACnF,OAAO,UAAP;gBACH;;gBACD,IAAImkB,SAAS,GAAG,IAAInX,GAAJ,CAAQ4V,YAAY,CAACnW,IAAb,EAAR,CAAhB;gBACA,IAAI2X,cAAc,GAAG,EAArB;gBACA,IAAI3X,IAAI,GAAG,EAAX;gBACA,IAAIxF,MAAM,GAAG,EAAb;gBACA,IAAIgc,GAAJ;gBACAiB,OAAO,CAAClkB,IAAR,CAAapB,OAAb,CAAqB,UAAU6kB,OAAV,EAAmB5kB,KAAnB,EAA0B;kBAC3C,IAAIsD,EAAJ;;kBACA,IAAIE,EAAE,GAAGmd,aAAa,CAACiE,OAAD,CAAtB;kBAAA,IAAiCplB,KAAK,GAAGgE,EAAE,CAAC,CAAD,CAA3C;kBAAA,IAAgDlE,KAAK,GAAGkE,EAAE,CAAC,CAAD,CAA1D;;kBACA4gB,GAAG,GAAGJ,YAAY,CAACjT,IAAb,CAAkB,UAAU9J,CAAV,EAAa;oBAAE,OAAOA,CAAC,CAAC4D,GAAF,KAAUrL,KAAjB;kBAAyB,CAA1D,CAAN;;kBACA,IAAIF,KAAJ,EAAW;oBACPgmB,SAAS,CAACE,MAAV,CAAiBhmB,KAAjB;oBACAoO,IAAI,CAAC5M,IAAL,CAAU4jB,OAAV;oBACA,IAAIljB,MAAM,GAAG;sBACT8H,QAAQ,EAAE,EADD;sBAETD,OAAO,EAAEjK,KAFA;sBAGTmK,SAAS,EAAEjK,KAHF;sBAITmK,QAAQ,EAAE,CAJD;sBAKTD,SAAS,EAAElK,KAAK,GAAG,GAAR,GAAcA,KALhB;sBAMT2B,IAAI,EAAEyjB,OANG;sBAOThb,UAAU,EAAEwa,GAAG,GAAGA,GAAG,CAAC7a,OAAP,GAAiB;oBAPvB,CAAb;oBASAgc,cAAc,CAACvkB,IAAf,CAAoBU,MAApB;kBACH,CAbD,MAcK,IAAI2jB,OAAO,CAAChjB,MAAR,IAAkBgjB,OAAO,CAAClkB,IAAR,CAAahC,MAAb,GAAsB,CAAtB,KAA4Ba,KAAlD,EAAyD;oBAC1DslB,SAAS,CAACE,MAAV,CAAiBZ,OAAjB;oBACAhX,IAAI,CAAC5M,IAAL,CAAU4jB,OAAV;oBACA,IAAIpb,QAAQ,GAAGmb,cAAc,CAACrC,QAAD,EAAW1U,IAAX,EAAiBsX,aAAjB,CAA7B;oBACA,IAAIxF,UAAU,GAAGuF,eAAe,CAAClU,IAAhB,CAAqB,UAAU6O,IAAV,EAAgB;sBAAE,OAAOA,IAAI,CAACpgB,KAAL,KAAeA,KAAtB;oBAA8B,CAArE,CAAjB;;oBACA,IAAIkgB,UAAU,IAAIA,UAAU,CAAC5c,GAA7B,EAAkC;sBAC9B0G,QAAQ,CAAClJ,IAAT,CAAc6jB,QAAQ,CAACzE,UAAD,EAAa0E,GAAb,CAAtB;oBACH;;oBACD,KAAK,IAAIzb,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGa,QAAQ,CAACrK,MAA7B,EAAqCwJ,CAAC,EAAtC,EAA0C;sBACtC,IAAI8c,SAAS,GAAGjc,QAAQ,CAACb,CAAD,CAAR,CAAY,CAAZ,CAAhB;sBACA,IAAI+c,SAAS,GAAG;wBAAEtlB,OAAO,EAAE;sBAAX,CAAhB;sBACAgI,MAAM,CAACpH,IAAP,CAAY0kB,SAAZ;sBACA,IAAInc,OAAO,GAAGoX,aAAa,CAAC8E,SAAD,CAAb,CAAyB,CAAzB,CAAd;sBACArB,GAAG,GAAGJ,YAAY,CAACjT,IAAb,CAAkB,UAAU9J,CAAV,EAAa;wBAAE,OAAOA,CAAC,CAAC4D,GAAF,KAAU+Z,OAAjB;sBAA2B,CAA5D,CAAN;sBACA,IAAIljB,MAAM,GAAG;wBACT6H,OAAO,EAAEA,OADA;wBAETC,QAAQ,EAAE,EAFD;wBAGTE,SAAS,EAAEkb,OAAO,GAAG,GAAV,GAAgBA,OAHlB;wBAITjb,QAAQ,EAAE,CAJD;wBAKTC,UAAU,EAAEwa,GAAG,GAAGA,GAAG,CAAC7a,OAAP,GAAiB,EALvB;wBAMTE,SAAS,EAAEmb,OANF;wBAOTzjB,IAAI,EAAEskB;sBAPG,CAAb;;sBASA,CAACniB,EAAE,GAAGoiB,SAAS,CAACtlB,OAAhB,EAAyBY,IAAzB,CAA8BlD,KAA9B,CAAoCwF,EAApC,EAAwCiiB,cAAxC;;sBACAG,SAAS,CAACtlB,OAAV,CAAkBY,IAAlB,CAAuBU,MAAvB;oBACH;kBACJ,CA1BI,MA2BA,IAAI2jB,OAAO,CAAChjB,MAAZ,EAAoB;oBACrB+hB,GAAG,GAAGJ,YAAY,CAACjT,IAAb,CAAkB,UAAU9J,CAAV,EAAa;sBAAE,OAAOA,CAAC,CAAC4D,GAAF,KAAU+Z,OAAjB;oBAA2B,CAA5D,CAAN;oBACA,IAAIe,WAAW,GAAGvB,GAAG,GAAGA,GAAG,CAAC7a,OAAP,GAAiB,EAAtC;oBACA+b,SAAS,CAACE,MAAV,CAAiBZ,OAAjB;oBACAhX,IAAI,CAAC5M,IAAL,CAAU4jB,OAAV;oBACA,IAAIljB,MAAM,GAAG;sBACT8H,QAAQ,EAAE,EADD;sBAETD,OAAO,EAAEoc,WAFA;sBAGTlc,SAAS,EAAEmb,OAHF;sBAITlb,SAAS,EAAEic,WAJF;sBAKThc,QAAQ,EAAE,CALD;sBAMTxI,IAAI,EAAEwkB,WANG;sBAOT/b,UAAU,EAAE;oBAPH,CAAb;oBASA2b,cAAc,CAACvkB,IAAf,CAAoBU,MAApB;kBACH;;kBACD4jB,SAAS,CAACvlB,OAAV,CAAkB,UAAU8K,GAAV,EAAe;oBAC7BzC,MAAM,CAACrI,OAAP,CAAe,UAAUoJ,KAAV,EAAiB;sBAC5Bib,GAAG,GAAGJ,YAAY,CAACjT,IAAb,CAAkB,UAAU9J,CAAV,EAAa;wBAAE,OAAOA,CAAC,CAAC4D,GAAF,KAAUA,GAAjB;sBAAuB,CAAxD,CAAN;sBACA,IAAI+a,UAAU,GAAGxB,GAAG,GAAGA,GAAG,CAAC7a,OAAP,GAAiB,EAArC;sBACA,IAAI7H,MAAM,GAAG;wBACT8H,QAAQ,EAAE,EADD;wBAETF,WAAW,EAAE,IAFJ;wBAGTC,OAAO,EAAEqc,UAHA;wBAITnc,SAAS,EAAEoB,GAJF;wBAKTnB,SAAS,EAAEkc,UALF;wBAMTjc,QAAQ,EAAE,CAND;wBAOTxI,IAAI,EAAEykB,UAPG;wBAQThc,UAAU,EAAE;sBARH,CAAb;sBAUAT,KAAK,CAAC/I,OAAN,CAAcY,IAAd,CAAmBU,MAAnB;oBACH,CAdD;kBAeH,CAhBD;kBAiBAyjB,WAAW,CAACnkB,IAAZ,CAAiBlD,KAAjB,CAAuBqnB,WAAvB,EAAoC/c,MAApC;gBACH,CA/ED;cAgFH,CA1FD;;cA2FA,KAAK,IAAI5D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGugB,WAAW,CAAC5lB,MAAhC,EAAwCqF,CAAC,EAAzC,EAA6C;gBACzCoO,OAAO,CAACpO,CAAD,CAAP;cACH;;cACD,OAAO2gB,WAAP;YACH,CApGD;;YAqGA,IAAIU,UAAU,GAAG,UAAU1c,KAAV,EAAiB1H,OAAjB,EAA0B;cACvC,IAAIqkB,aAAa,GAAG;gBAChBvc,OAAO,EAAEhK,MAAM,CAACkC,OAAO,CAACN,IAAT,CADC;gBAEhBqI,QAAQ,EAAE,EAFM;gBAGhBF,WAAW,EAAE,KAHG;gBAIhBG,SAAS,EAAE,YAJK;gBAKhBC,SAAS,EAAE,4BALK;gBAMhBC,QAAQ,EAAE,CANM;gBAOhBxI,IAAI,EAAE,iBAAiBM,OAAO,CAACN,IAAzB,GAAgC,GAPtB;gBAQhByI,UAAU,EAAE;cARI,CAApB;cAUA,IAAImc,SAAS,GAAGrV,IAAI,CAACvH,KAAD,CAApB;cACA4c,SAAS,CAAC3lB,OAAV,CAAkBY,IAAlB,CAAuB8kB,aAAvB;cACA,OAAOC,SAAP;YACH,CAdD;YAeA;;;YACA,IAAIC,mBAAmB,GAAG,UAAU5d,MAAV,EAAkB/H,QAAlB,EAA4B;cAClD,IAAIA,QAAQ,CAAClB,MAAT,GAAkB,CAAtB,EAAyB;gBACrB,OAAOiJ,MAAP;cACH;;cACD,IAAI5G,MAAM,GAAG4G,MAAM,CAAC7F,KAAP,EAAb;;cACA,KAAK,IAAIiC,CAAC,GAAGhD,MAAM,CAACrC,MAAP,GAAgB,CAA7B,EAAgCqF,CAAC,IAAI,CAArC,EAAwCA,CAAC,EAAzC,EAA6C;gBACzC,IAAI2E,KAAK,GAAG3H,MAAM,CAACgD,CAAD,CAAlB;gBACAhD,MAAM,CAACgD,CAAD,CAAN,GAAYqhB,UAAU,CAACrkB,MAAM,CAACgD,CAAD,CAAP,EAAYnE,QAAQ,CAAC,CAAD,CAApB,CAAtB;;gBACA,KAAK,IAAI+Q,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG/Q,QAAQ,CAAClB,MAA7B,EAAqCiS,CAAC,EAAtC,EAA0C;kBACtC,IAAI6U,gBAAgB,GAAGJ,UAAU,CAAC1c,KAAD,EAAQ9I,QAAQ,CAAC+Q,CAAD,CAAhB,CAAjC;kBACA5P,MAAM,CAACuO,MAAP,CAAcvL,CAAC,GAAG,CAAlB,EAAqB,CAArB,EAAwByhB,gBAAxB;gBACH;cACJ;;cACD,OAAOzkB,MAAP;YACH,CAdD;YAeA;;;YACA,IAAI0kB,oBAAoB,GAAG,UAAU1M,IAAV,EAAgB;cACvC,IAAIlW,EAAJ;;cACA,IAAIgf,QAAQ,GAAG9I,IAAI,CAAC8I,QAApB;cAAA,IAA8BiB,WAAW,GAAG/J,IAAI,CAAC+J,WAAjD;cAAA,IAA8DD,cAAc,GAAG9J,IAAI,CAAC8J,cAApF;cAAA,IAAoG7f,OAAO,GAAG+V,IAAI,CAAC/V,OAAnH;cAAA,IAA4HF,UAAU,GAAGiW,IAAI,CAACjW,UAA9I;cAAA,IAA0JlD,QAAQ,GAAGmZ,IAAI,CAACnZ,QAA1K;cAAA,IAAoLC,IAAI,GAAGkZ,IAAI,CAAClZ,IAAhM;cAAA,IAAsMsa,MAAM,GAAGpB,IAAI,CAACoB,MAApN;cACA,IAAI8J,OAAO,IAAIphB,EAAE,GAAG,EAAL,EAASA,EAAE,CAACsX,MAAM,CAAC2G,WAAR,CAAF,GAAyB3G,MAAM,CAAC2G,WAAzC,EAAsDje,EAAE,CAACsX,MAAM,CAACoG,SAAR,CAAF,GAAuBpG,MAAM,CAACoG,SAApF,EAA+F1d,EAAnG,CAAX;cACA,IAAI+f,YAAY,GAAG2C,mBAAmB,CAAChB,YAAY,CAAC1B,cAAD,EAAiB/f,UAAjB,EAA6B+e,QAAQ,CAAC3Q,GAAT,CAAaiJ,MAAM,CAAC2G,WAApB,CAA7B,EAA+DjhB,IAA/D,EAAqEokB,OAArE,CAAb,EAA4FrkB,QAA5F,CAAtC;cACA,IAAI+iB,SAAS,GAAG4B,YAAY,CAACzB,WAAD,EAAc9f,OAAd,EAAuB6e,QAAvB,EAAiChiB,IAAjC,EAAuCokB,OAAvC,CAA5B;cACA,IAAIyB,UAAU,GAAGhD,QAAQ,CAACb,QAAD,EAAWc,SAAX,EAAsBC,YAAtB,EAAoCzI,MAApC,EAA4C0I,cAA5C,EAA4DC,WAA5D,EAAyEljB,QAAzE,CAAzB;cACA,OAAO;gBACH8H,OAAO,EAAEkb,YADN;gBAEH/a,IAAI,EAAE6d,UAFH;gBAGH9d,IAAI,EAAE+a;cAHH,CAAP;YAKH,CAZD;YAcA;;;YACA,IAAIgD,0BAA0B,GAAG,UAAUC,UAAV,EAAsBhmB,QAAtB,EAAgC;cAC7D,IAAImB,MAAM,GAAG4C,MAAM,CAACwJ,IAAP,CAAYyY,UAAZ,EAAwBze,GAAxB,CAA4B,UAAU0e,GAAV,EAAe;gBAAE,OAAQ;kBAC9D/c,OAAO,EAAE+c,GADqD;kBAE9Dra,gBAAgB,EAAEqa,GAF4C;kBAG9Drb,WAAW,EAAE,EAHiD;kBAI9D9J,IAAI,EAAEmlB,GAJwD;kBAK9Djb,UAAU,EAAEib,GALkD;kBAM9D9Z,mBAAmB,EAAE8Z,GANyC;kBAO9D7kB,OAAO,EAAE,IAPqD;kBAQ9DyJ,IAAI,EAAE,CARwD,CAQtD;;gBARsD,CAAR;cASrD,CATQ,CAAb;;cAUA,IAAI7K,QAAQ,CAAClB,MAAb,EAAqB;gBACjBqC,MAAM,CAACR,IAAP,CAAY;kBACRuI,OAAO,EAAE,UADD;kBAERC,QAAQ,EAAEnJ,QAAQ,CAACuH,GAAT,CAAa,UAAUwJ,CAAV,EAAa;oBAAE,OAAQ;sBAC1C9F,UAAU,EAAE,GAD8B;sBAE1C/B,OAAO,EAAEhK,MAAM,CAAC6R,CAAC,CAACjQ,IAAH,CAF2B;sBAG1CsK,aAAa,EAAE,EAH2B;sBAI1CR,WAAW,EAAE,EAJ6B;sBAK1CO,aAAa,EAAE,EAL2B;sBAM1CD,SAAS,EAAEhM,MAAM,CAAC6R,CAAC,CAACjQ,IAAH,CANyB;sBAO1CA,IAAI,EAAE5B,MAAM,CAAC6R,CAAC,CAACjQ,IAAH,CAP8B;sBAQ1CkK,UAAU,EAAE9L,MAAM,CAAC6R,CAAC,CAACjQ,IAAH;oBARwB,CAAR;kBASjC,CATK,CAFF;kBAYR+J,IAAI,EAAE,CAZE;kBAaRD,WAAW,EAAE,EAbL;kBAcR9J,IAAI,EAAE,UAdE;kBAeRkK,UAAU,EAAE;gBAfJ,CAAZ;cAiBH;;cACD,OAAO7J,MAAP;YACH,CA/BD;;YAiCAjE,OAAO,CAAC+U,MAAR,GAAiBA,MAAjB;YACA/U,OAAO,CAACyoB,mBAAR,GAA8BA,mBAA9B;YACAzoB,OAAO,CAAC2a,gBAAR,GAA2BA,gBAA3B;YACA3a,OAAO,CAAC8U,gBAAR,GAA2BA,gBAA3B;YACA9U,OAAO,CAAC8kB,aAAR,GAAwBA,aAAxB;YACA9kB,OAAO,CAACkV,WAAR,GAAsBA,WAAtB;YACAlV,OAAO,CAACgX,mBAAR,GAA8BA,mBAA9B;YACAhX,OAAO,CAACkQ,qBAAR,GAAgCA,qBAAhC;YACAlQ,OAAO,CAACgQ,eAAR,GAA0BA,eAA1B;YACAhQ,OAAO,CAACmkB,cAAR,GAAyBA,cAAzB;YACAnkB,OAAO,CAAC+M,kBAAR,GAA6BA,kBAA7B;YACA/M,OAAO,CAAC6oB,0BAAR,GAAqCA,0BAArC;YACA7oB,OAAO,CAAC2oB,oBAAR,GAA+BA,oBAA/B;YACA3oB,OAAO,CAAC6F,iBAAR,GAA4BA,iBAA5B;YACA7F,OAAO,CAACynB,YAAR,GAAuBA,YAAvB;YACAznB,OAAO,CAACsM,gBAAR,GAA2BA,gBAA3B;YACAtM,OAAO,CAACsP,SAAR,GAAoBA,SAApB;YACAtP,OAAO,CAAC+P,aAAR,GAAwBA,aAAxB;YACA/P,OAAO,CAACoW,cAAR,GAAyBA,cAAzB;YACApW,OAAO,CAACwa,YAAR,GAAuBA,YAAvB;YACAxa,OAAO,CAAC4jB,UAAR,GAAqBA,UAArB;YACA5jB,OAAO,CAACia,YAAR,GAAuBA,YAAvB;YACAja,OAAO,CAAC4J,aAAR,GAAwBA,aAAxB;YACA5J,OAAO,CAAC4lB,QAAR,GAAmBA,QAAnB;YACA5lB,OAAO,CAACunB,UAAR,GAAqBA,UAArB;YACAvnB,OAAO,CAACyQ,SAAR,GAAoBA,SAApB;YACAzQ,OAAO,CAACwQ,OAAR,GAAkBA,OAAlB;YACAxQ,OAAO,CAACwZ,YAAR,GAAuBA,YAAvB;YACAxZ,OAAO,CAACwU,SAAR,GAAoBA,SAApB;YACAxU,OAAO,CAAC0T,MAAR,GAAiBA,MAAjB;YACA1T,OAAO,CAACyU,MAAR,GAAiBA,MAAjB;YACAzU,OAAO,CAACiT,MAAR,GAAiBA,MAAjB;YAEApM,MAAM,CAACmiB,cAAP,CAAsBhpB,OAAtB,EAA+B,YAA/B,EAA6C;cAAE+B,KAAK,EAAE;YAAT,CAA7C;YAEA,OAAO/B,OAAP;UAEH,CAx4E+B,CAw4E7B,EAx4E6B,CAAhC;QA04EC,CA74ED;MA+4EC,CAx5E+F,EAw5E7FC,mBAAmB,CAACgpB,IAx5EyE;MA05EhG;;IAAO,CA/5E8B;;IAi6ErC;IAAM;IACN;IAAO,UAASlpB,MAAT,EAAiB;MAExB;;MACAA,MAAM,CAACC,OAAP,GAAiBkpB,OAAO,CAAC,eAAD,CAAxB;MAEA;IAAO;IAEP;;EAz6EqC,CAA3B;EA06EV;;EACA;EAAU;;EACV;;EAAU,IAAIC,wBAAwB,GAAG,EAA/B;EACV;;EACA;EAAU;;EACV;;EAAU,SAASlpB,mBAAT,CAA6BmpB,QAA7B,EAAuC;IACjD;IAAW;;IACX;IAAW,IAAIC,YAAY,GAAGF,wBAAwB,CAACC,QAAD,CAA3C;IACX;;IAAW,IAAIC,YAAY,KAAK7oB,SAArB,EAAgC;MAC3C;MAAY,OAAO6oB,YAAY,CAACrpB,OAApB;MACZ;IAAY;IACZ;IAAW;;IACX;;;IAAW,IAAID,MAAM,GAAGopB,wBAAwB,CAACC,QAAD,CAAxB,GAAqC;MAC7D;MAAY;;MACZ;MAAY;;MACZ;MAAYppB,OAAO,EAAE;MACrB;;IAJ6D,CAAlD;IAKX;;IACA;IAAW;;IACX;;IAAWF,mBAAmB,CAACspB,QAAD,CAAnB,CAA8BrpB,MAA9B,EAAsCA,MAAM,CAACC,OAA7C,EAAsDC,mBAAtD;IACX;;IACA;IAAW;;IACX;;;IAAW,OAAOF,MAAM,CAACC,OAAd;IACX;EAAW;EACX;;EACA;;EACA;;EAAU;;EACV;;;EAAU,CAAC,YAAW;IACtB;IAAWC,mBAAmB,CAACgpB,IAApB,GAA2B,YAAY;MAClD;MAAY,MAAM,IAAIK,KAAJ,CAAU,gCAAV,CAAN;MACZ;IAAY,CAFD;IAGX;;EAAW,CAJA,EAAD;EAKV;;EACA;;EACA;;EACA;EAAU;;EACV;EAAU;;EACV;EAAU;;EACV;;EAAU,IAAIC,mBAAmB,GAAGtpB,mBAAmB,CAAC,KAAD,CAA7C;EACV;;;EAAUF,MAAM,CAACC,OAAP,GAAiBupB,mBAAjB;EACV;;EACA;AAAU,CAp9ED"},"metadata":{},"sourceType":"script"}