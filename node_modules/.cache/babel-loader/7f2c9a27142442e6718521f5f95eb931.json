{"ast":null,"code":"require(\"core-js/modules/es.error.cause.js\");\n\n/******/\n(function () {\n  // webpackBootstrap\n\n  /******/\n  var __webpack_modules__ = {\n    /***/\n    5277:\n    /***/\n    function (module, exports, __webpack_require__) {\n      var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n      (function (f, define) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(81477)], __WEBPACK_AMD_DEFINE_FACTORY__ = f, __WEBPACK_AMD_DEFINE_RESULT__ = typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n      })(function () {\n        var __meta__ = {\n          id: \"scheduler.timelineview\",\n          name: \"Scheduler Timeline View\",\n          category: \"web\",\n          description: \"The Scheduler Timeline View\",\n          depends: [\"scheduler.view\"],\n          hidden: true\n        };\n\n        (function ($, undefined) {\n          var kendo = window.kendo,\n              ui = kendo.ui,\n              setTime = kendo.date.setTime,\n              SchedulerView = ui.SchedulerView,\n              outerWidth = kendo._outerWidth,\n              outerHeight = kendo._outerHeight,\n              extend = $.extend,\n              getDate = kendo.date.getDate,\n              getMilliseconds = kendo.date.getMilliseconds,\n              MS_PER_DAY = kendo.date.MS_PER_DAY,\n              MS_PER_MINUTE = kendo.date.MS_PER_MINUTE,\n              CURRENT_TIME_MARKER_CLASS = \"k-current-time\",\n              CURRENT_TIME_MARKER_ARROW_CLASS = \"k-current-time-arrow\",\n              SCHEDULER_HEADER_WRAP_CLASS = \"k-scheduler-header-wrap\",\n              INVERSE_COLOR_CLASS = \"k-event-inverse\",\n              BORDER_SIZE_COEFF = 0.8666,\n              NS = \".kendoTimelineView\";\n          var EVENT_TEMPLATE = kendo.template('<div>' + '<div class=\"k-event-template k-event-time\">#:kendo.format(\"{0:t} - {1:t}\", start, end)#</div>' + '<div class=\"k-event-template\">${title}</div></div>'),\n              DATA_HEADER_TEMPLATE = kendo.template(\"<span class='k-link k-nav-day'>#=kendo.format('{0:m}', date)#</span>\"),\n              EVENT_WRAPPER_STRING = '<div role=\"button\" ' + 'aria-label=\"#: ariaLabel #\" ' + 'data-#=ns#uid=\"#=uid#\"' + '#if (resources[0]) { #' + 'style=\"background-color:#=resources[0].color#; border-color: #=resources[0].color#\"' + 'class=\"k-event\" ' + '#} else {#' + 'class=\"k-event\"' + '#}#' + '>' + '<span class=\"k-event-actions\">' + '# if(data.tail) {#' + '<span class=\"k-icon k-i-arrow-60-left\"></span>' + '#}#' + '# if(data.isException()) {#' + '<span class=\"k-icon k-i-non-recurrence\"></span>' + '# } else if(data.isRecurring()) {#' + '<span class=\"k-icon k-i-reload\"></span>' + '# } #' + '</span>' + '{0}' + '<span class=\"k-event-actions\">' + '#if (showDelete) {#' + '<a href=\"\\\\#\" class=\"k-link k-event-delete\" title=\"${data.messages.destroy}\" aria-label=\"${data.messages.destroy}\"><span class=\"k-icon k-i-close\"></span></a>' + '#}#' + '# if(data.head) {#' + '<span class=\"k-icon k-i-arrow-60-right\"></span>' + '#}#' + '</span>' + '#if(resizable && !data.tail){#' + '<span class=\"k-resize-handle k-resize-w\"></span>' + '#}#' + '#if(resizable && !data.head){#' + '<span class=\"k-resize-handle k-resize-e\"></span>' + '#}#' + '</div>';\n\n          function toInvariantTime(date) {\n            var staticDate = new Date(1980, 1, 1, 0, 0, 0);\n            setTime(staticDate, getMilliseconds(date));\n            return staticDate;\n          }\n\n          function getWorkDays(options) {\n            if (options.workDays && options.workDays.length) {\n              return options.workDays;\n            }\n\n            var workDays = [];\n            var dayIndex = options.workWeekStart % 7;\n            var workWeekEnd = Math.abs(options.workWeekEnd % 7);\n            workDays.push(dayIndex);\n\n            while (workWeekEnd != dayIndex) {\n              if (dayIndex > 6) {\n                dayIndex -= 7;\n              } else {\n                dayIndex++;\n              }\n\n              workDays.push(dayIndex);\n            }\n\n            return workDays;\n          }\n\n          function setColspan(columnLevel) {\n            var count = 0;\n\n            if (columnLevel.columns) {\n              for (var i = 0; i < columnLevel.columns.length; i++) {\n                count += setColspan(columnLevel.columns[i]);\n              }\n\n              columnLevel.colspan = count;\n              return count;\n            } else {\n              columnLevel.colspan = 1;\n              return 1;\n            }\n          }\n\n          function collidingEvents(elements, left, right) {\n            var idx, startPosition, overlaps, endPosition;\n\n            for (idx = elements.length - 1; idx >= 0; idx--) {\n              startPosition = elements[idx].rectLeft;\n              endPosition = elements[idx].rectRight;\n              overlaps = startPosition <= left && endPosition >= left;\n\n              if (overlaps || startPosition >= left && endPosition <= right || left <= startPosition && right >= startPosition) {\n                if (startPosition < left) {\n                  left = startPosition;\n                }\n\n                if (endPosition > right) {\n                  right = endPosition;\n                }\n              }\n            }\n\n            return eventsForSlot(elements, left, right);\n          }\n\n          function eventsForSlot(elements, left, right) {\n            var events = [];\n\n            for (var idx = 0; idx < elements.length; idx++) {\n              var event = {\n                rectLeft: elements[idx].rectLeft,\n                rectRight: elements[idx].rectRight\n              };\n\n              if (event.rectLeft < left && event.rectRight > left || event.rectLeft >= left && event.rectRight <= right) {\n                events.push(elements[idx]);\n              }\n            }\n\n            return events;\n          }\n\n          var TimelineGroupedView = kendo.Class.extend({\n            init: function (view) {\n              this._view = view;\n            },\n            _getTimeSlotByPosition: function (x, y, groupIndex) {\n              var group = this._view.groups[groupIndex];\n              return group.timeSlotByPosition(x, y);\n            },\n            _hideHeaders: function () {\n              var view = this._view;\n              view.timesHeader.find(\"table tr\").last().hide();\n              /*Chrome fix, use CSS selector*/\n\n              view.datesHeader.find(\"table tr\").last().hide();\n            },\n            _setColspan: function (timeColumn) {\n              setColspan(timeColumn);\n            },\n            _createRowsLayout: function (resources, rows, groupHeaderTemplate) {\n              var view = this._view;\n              return view._createRowsLayout(resources, rows, groupHeaderTemplate);\n            },\n            _createVerticalColumnsLayout: function (resources, rows, groupHeaderTemplate, columns) {\n              return columns;\n            },\n            _createColumnsLayout: function (resources, columns, groupHeaderTemplate) {\n              var view = this._view;\n              return view._createColumnsLayout(resources, columns, groupHeaderTemplate);\n            },\n            _getRowCount: function () {\n              var view = this._view;\n              return view._groupCount();\n            },\n            _getGroupsCount: function () {\n              return 1;\n            },\n            _addContent: function (dates, columnCount, groupsCount, rowCount, start, end, slotTemplate, isVerticalGrouped) {\n              var view = this._view;\n              var html = '';\n              var options = view.options;\n\n              var appendRow = function (date) {\n                var content = \"\";\n                var classes = \"\";\n                var tmplDate;\n\n                var resources = function (groupIndex) {\n                  return function () {\n                    return view._resourceBySlot({\n                      groupIndex: groupIndex\n                    });\n                  };\n                };\n\n                if (kendo.date.isToday(dates[idx])) {\n                  classes += \"k-today\";\n                }\n\n                if (kendo.date.getMilliseconds(date) < kendo.date.getMilliseconds(options.workDayStart) || kendo.date.getMilliseconds(date) >= kendo.date.getMilliseconds(options.workDayEnd) || !view._isWorkDay(dates[idx])) {\n                  classes += \" k-nonwork-hour\";\n                }\n\n                content += '<td' + (classes !== \"\" ? ' class=\"' + classes + '\"' : \"\") + \">\";\n                tmplDate = kendo.date.getDate(dates[idx]);\n                kendo.date.setTime(tmplDate, kendo.date.getMilliseconds(date));\n                content += slotTemplate({\n                  date: tmplDate,\n                  resources: resources(isVerticalGrouped ? rowIdx : groupIdx)\n                });\n                content += \"</td>\";\n                return content;\n              };\n\n              for (var rowIdx = 0; rowIdx < rowCount; rowIdx++) {\n                html += '<tr>';\n\n                for (var groupIdx = 0; groupIdx < groupsCount; groupIdx++) {\n                  for (var idx = 0, length = columnCount; idx < length; idx++) {\n                    html += view._forTimeRange(start, end, appendRow);\n                  }\n                }\n\n                html += \"</tr>\";\n              }\n\n              return html;\n            },\n            _addTimeSlotsCollections: function (groupCount, datesCount, tableRows, interval, isVerticallyGrouped) {\n              var view = this._view;\n              var rowCount = tableRows.length;\n\n              if (isVerticallyGrouped) {\n                rowCount = Math.floor(rowCount / groupCount);\n              }\n\n              for (var groupIndex = 0; groupIndex < groupCount; groupIndex++) {\n                var rowMultiplier = 0;\n                var group = view.groups[groupIndex];\n                var time;\n\n                if (isVerticallyGrouped) {\n                  rowMultiplier = groupIndex;\n                }\n\n                var rowIndex = rowMultiplier * rowCount;\n                var cellMultiplier = 0;\n\n                if (!isVerticallyGrouped) {\n                  cellMultiplier = groupIndex;\n                }\n\n                var cells = tableRows[rowIndex].children;\n                var cellsPerGroup = cells.length / (!isVerticallyGrouped ? groupCount : 1);\n                var cellsPerDay = cellsPerGroup / datesCount;\n\n                for (var dateIndex = 0; dateIndex < datesCount; dateIndex++) {\n                  var cellOffset = dateIndex * cellsPerDay + cellsPerGroup * cellMultiplier;\n                  time = getMilliseconds(new Date(+view.startTime()));\n\n                  for (var cellIndex = 0; cellIndex < cellsPerDay; cellIndex++) {\n                    view._addTimeSlotToCollection(group, cells, cellIndex, cellOffset, dateIndex, time, interval);\n\n                    time += interval;\n                  }\n                }\n              }\n            },\n            _getVerticalGroupCount: function (groupsCount) {\n              return groupsCount;\n            },\n            _getVerticalRowCount: function (eventGroups, groupIndex, maxRowCount) {\n              var view = this._view;\n              return view._isVerticallyGrouped() ? eventGroups[groupIndex].maxRowCount : maxRowCount;\n            },\n            _renderEvent: function (eventGroup, event, adjustedEvent, group, range, container) {\n              var view = this._view;\n              var element;\n              element = view._createEventElement(adjustedEvent.occurrence, event, range.head || adjustedEvent.head, range.tail || adjustedEvent.tail);\n              element.appendTo(container).css({\n                top: 0,\n                height: view.options.eventHeight\n              });\n              var eventObject = {\n                start: adjustedEvent.occurrence._startTime || adjustedEvent.occurrence.start,\n                end: adjustedEvent.occurrence._endTime || adjustedEvent.occurrence.end,\n                element: element,\n                uid: event.uid,\n                slotRange: range,\n                rowIndex: 0,\n                offsetTop: 0\n              };\n              eventGroup.events[event.uid] = eventObject;\n\n              view._inverseEventColor(element);\n\n              view.addContinuousEvent(group, range, element, event.isAllDay);\n\n              view._arrangeRows(eventObject, range, eventGroup);\n            },\n            _verticalCountForLevel: function (level) {\n              var view = this._view;\n              return view._rowCountForLevel(level);\n            },\n            _horizontalCountForLevel: function (level) {\n              var view = this._view;\n              return view._columnCountForLevel(level);\n            },\n            _updateCurrentVerticalTimeMarker: function (ranges, currentTime) {\n              var view = this._view;\n              var elementHtml = \"<div class='\" + CURRENT_TIME_MARKER_CLASS + \"'></div>\";\n              var headerWrap = view.datesHeader.find(\".\" + SCHEDULER_HEADER_WRAP_CLASS);\n              var left = Math.round(ranges[0].innerRect(currentTime, new Date(currentTime.getTime() + 1), false).left);\n              var timesTableMarker = $(elementHtml).prependTo(headerWrap).addClass(CURRENT_TIME_MARKER_ARROW_CLASS + \"-down\");\n              timesTableMarker.css({\n                left: view._adjustLeftPosition(left - outerWidth(timesTableMarker) * BORDER_SIZE_COEFF / 2),\n                top: headerWrap.find(\"tr\").last().prev().position().top\n              });\n              $(elementHtml).prependTo(view.content).css({\n                left: view._adjustLeftPosition(left),\n                width: \"1px\",\n                height: view.content[0].scrollHeight - 1,\n                top: 0\n              });\n            },\n            _changeGroup: function () {\n              return undefined;\n            },\n            _prevGroupSlot: function (slot, group, isDay) {\n              var view = this._view;\n\n              if (view._isVerticallyGrouped()) {\n                return slot;\n              } else {\n                var collection = group._collection(0, isDay);\n\n                return collection.last();\n              }\n            },\n            _nextGroupSlot: function (slot, group, isDay) {\n              var view = this._view;\n\n              if (view._isVerticallyGrouped()) {\n                return slot;\n              } else {\n                var collection = group._collection(0, isDay);\n\n                return collection.first();\n              }\n            },\n            _verticalSlots: function (selection, reverse) {\n              var view = this._view;\n              return view._changeGroup(selection, reverse);\n            },\n            _verticalMethod: function (reverse) {\n              return reverse ? \"leftSlot\" : \"rightSlot\";\n            },\n            _normalizeVerticalSelection: function () {\n              return undefined;\n            },\n            _horizontalSlots: function (selection, group, method, startSlot, endSlot, multiple, reverse) {\n              var view = this._view;\n              var result = {};\n              result.startSlot = group[method](startSlot);\n              result.endSlot = group[method](endSlot);\n\n              if (!multiple && view._isHorizontallyGrouped() && (!result.startSlot || !result.endSlot)) {\n                result.startSlot = result.endSlot = view._changeGroup(selection, reverse);\n              }\n\n              return result;\n            },\n            _changeVerticalViewPeriod: function () {\n              return false;\n            },\n            _changeHorizontalViewPeriod: function (slots, shift, selection, reverse) {\n              var view = this._view;\n\n              if ((!slots.startSlot || !slots.endSlot) && !shift && view._changeViewPeriod(selection, reverse, false)) {\n                return true;\n              }\n\n              return false;\n            },\n            _updateDirection: function (selection, ranges, shift, reverse) {\n              var view = this._view;\n\n              view._updateDirection(selection, ranges, shift, reverse, true);\n            },\n            _createMoveHint: function (range, adjustedEvent) {\n              var view = this._view;\n              var startSlot = range.start;\n\n              var hint = view._createEventElement(adjustedEvent.occurrence, adjustedEvent.occurrence, false, false);\n\n              hint.addClass(\"k-event-drag-hint\");\n              var rect = range.innerRect(adjustedEvent.occurrence.start, adjustedEvent.occurrence.end, view.options.snap);\n              var width = rect.right - rect.left;\n\n              if (width < 0) {\n                width = 0;\n              }\n\n              var left = view._adjustLeftPosition(rect.left);\n\n              var css = {\n                left: left,\n                top: startSlot.offsetTop,\n                height: startSlot.offsetHeight,\n                width: width\n              };\n              hint.css(css);\n\n              if (adjustedEvent.occurrence.inverseColor) {\n                hint.addClass(INVERSE_COLOR_CLASS);\n              }\n\n              view._appendMoveHint(hint);\n            },\n            _adjustLeftPosition: function (left) {\n              var view = this._view;\n\n              if (view._isRtl) {\n                left -= view.content[0].scrollWidth - view.content[0].clientWidth;\n              }\n\n              return left;\n            }\n          });\n          var TimelineGroupedByDateView = kendo.Class.extend({\n            init: function (view) {\n              this._view = view;\n            },\n            _getTimeSlotByPosition: function (x, y, groupIndex) {\n              var group = this._view.groups[groupIndex];\n              return group.timeSlotByPosition(x, y, true);\n            },\n            _hideHeaders: function () {\n              var view = this._view;\n\n              if (!view._isVerticallyGrouped()) {\n                view.timesHeader.find(\"table tr\").eq(2).hide();\n                view.datesHeader.find(\"table tr\").eq(2).hide();\n              } else {\n                view.times.find(\".k-last\").hide();\n              }\n            },\n            _setColspan: function () {},\n            _createRowsLayout: function (resources, rows, groupHeaderTemplate, columns) {\n              var view = this._view;\n              return view._createDateLayout(columns, null, true);\n            },\n            _createVerticalColumnsLayout: function (resources, rows, groupHeaderTemplate) {\n              var view = this._view;\n              return view._createColumnsLayout(resources, null, groupHeaderTemplate);\n            },\n            _createColumnsLayout: function (resources, columns, groupHeaderTemplate, subColumns) {\n              var view = this._view;\n              return view._createColumnsLayout(resources, columns, groupHeaderTemplate, subColumns, true);\n            },\n            _getRowCount: function (level) {\n              var view = this._view;\n              return view._rowCountForLevel(level);\n            },\n            _getGroupsCount: function () {\n              var view = this._view;\n              return view._groupCount();\n            },\n            _addContent: function (dates, columnCount, groupsCount, rowCount, start, end, slotTemplate, isVerticalGrouped) {\n              var view = this._view;\n              var html = '';\n              var options = view.options;\n\n              var appendRow = function (date, isMajorTickColumn, isMiddleColumn, isLastSlotColumn, minorTickColumns, groupIdx) {\n                var content = \"\";\n                var classes = \"\";\n                var tmplDate;\n                var workDateIndex = view._isVerticallyGrouped() ? dateIndex : idx;\n\n                var resources = function (groupIndex) {\n                  return function () {\n                    return view._resourceBySlot({\n                      groupIndex: groupIndex\n                    });\n                  };\n                };\n\n                if (kendo.date.isToday(dates[idx])) {\n                  classes += \"k-today\";\n                }\n\n                if (kendo.date.getMilliseconds(date) < kendo.date.getMilliseconds(options.workDayStart) || kendo.date.getMilliseconds(date) >= kendo.date.getMilliseconds(options.workDayEnd) || !view._isWorkDay(dates[workDateIndex])) {\n                  classes += \" k-nonwork-hour\";\n                }\n\n                content += '<td' + (classes !== \"\" ? ' class=\"' + classes + '\"' : \"\") + \">\";\n                tmplDate = kendo.date.getDate(dates[idx]);\n                kendo.date.setTime(tmplDate, kendo.date.getMilliseconds(date));\n                content += slotTemplate({\n                  date: tmplDate,\n                  resources: resources(groupIdx)\n                });\n                content += \"</td>\";\n                return content;\n              };\n\n              var tempStart = new Date(start),\n                  minorTickCount = view.options.minorTickCount,\n                  msMajorInterval = view.options.majorTick * MS_PER_MINUTE,\n                  msInterval = msMajorInterval / minorTickCount || 1,\n                  dateIndex;\n\n              for (var rowIdx = 0; rowIdx < rowCount; rowIdx++) {\n                html += '<tr>';\n\n                if (rowIdx % (rowCount / view._dates.length) === 0) {\n                  dateIndex = rowIdx / (rowCount / view._dates.length);\n                  tempStart = new Date(view._dates[dateIndex]);\n                  kendo.date.setTime(tempStart, kendo.date.getMilliseconds(start));\n                }\n\n                for (var idx = 0, length = columnCount; idx < length; idx++) {\n                  html += view._forTimeRange(tempStart, end, appendRow, isVerticalGrouped, groupsCount);\n\n                  if (isVerticalGrouped) {\n                    setTime(tempStart, msInterval, false);\n                    break;\n                  }\n                }\n\n                html += \"</tr>\";\n              }\n\n              return html;\n            },\n            _addTimeSlotsCollections: function (groupCount, datesCount, tableRows, interval, isVerticallyGrouped) {\n              var view = this._view;\n              var rowCount = tableRows.length;\n\n              if (isVerticallyGrouped) {\n                rowCount = rowCount / datesCount;\n              }\n\n              for (var dateIndex = 0; dateIndex < datesCount; dateIndex++) {\n                var rowMultiplier = 0;\n                var time;\n\n                if (isVerticallyGrouped) {\n                  rowMultiplier = dateIndex;\n                }\n\n                var rowIndex = rowMultiplier * rowCount;\n                var cellMultiplier = 0;\n                var cells = tableRows[rowIndex].children;\n                var cellsPerGroup = isVerticallyGrouped ? rowCount : cells.length / (datesCount * groupCount);\n                var cellsPerDay = cells.length / datesCount;\n                var cellOffset;\n                time = getMilliseconds(new Date(+view.startTime()));\n\n                for (var cellIndex = 0; cellIndex < cellsPerGroup; cellIndex++) {\n                  if (!isVerticallyGrouped) {\n                    cellOffset = dateIndex * cellsPerDay + groupCount * cellIndex;\n                    cellMultiplier++;\n                  } else {\n                    cellOffset = 0;\n                    cells = tableRows[cellIndex + cellsPerGroup * dateIndex].children;\n                  }\n\n                  for (var groupIndex = 0; groupIndex < groupCount; groupIndex++) {\n                    var group = view.groups[groupIndex];\n\n                    view._addTimeSlotToCollection(group, cells, groupIndex, cellOffset, dateIndex, time, interval);\n                  }\n\n                  time += interval;\n                }\n              }\n            },\n            _getVerticalGroupCount: function () {\n              var view = this._view;\n              return view.content.find(\"tr\").length;\n            },\n            _getVerticalRowCount: function (eventGroups, groupIndex, maxRowCount) {\n              return maxRowCount;\n            },\n            _renderEvent: function (eventGroup, event, adjustedEvent, group, range, container, startIndex, endIndex) {\n              var view = this._view;\n              var element;\n              var eventObjects = [];\n\n              for (var i = range.start.index; i <= range.end.index; i++) {\n                element = view._createEventElement(adjustedEvent.occurrence, event, i !== endIndex, i !== startIndex);\n                element.appendTo(container).css({\n                  top: 0,\n                  height: view.options.eventHeight\n                });\n                var currentSlot = group._timeSlotCollections[0]._slots[i];\n                var dateRange = group.timeSlotRanges(currentSlot.start, currentSlot.end, false)[0];\n                var eventObject = {\n                  start: i === startIndex ? adjustedEvent.occurrence._startTime || adjustedEvent.occurrence.start : currentSlot.start,\n                  end: i === endIndex ? adjustedEvent.occurrence._endTime || adjustedEvent.occurrence.end : currentSlot.end,\n                  element: element,\n                  uid: event.uid,\n                  slotRange: dateRange,\n                  rowIndex: 0,\n                  offsetTop: 0\n                };\n                eventGroup.events[event.uid] = eventObject;\n                eventObjects.push(eventObject);\n                view.addContinuousEvent(group, dateRange, element, event.isAllDay);\n\n                view._arrangeRows(eventObject, dateRange, eventGroup);\n              }\n\n              eventGroup.events[event.uid] = eventObjects;\n            },\n            _verticalCountForLevel: function (level) {\n              var view = this._view;\n              return view._columnCountForLevel(level);\n            },\n            _horizontalCountForLevel: function (level, columnLevel) {\n              var view = this._view;\n              return view._columnCountForLevel(columnLevel) / view._columnCountForLevel(2);\n            },\n            _updateCurrentVerticalTimeMarker: function (ranges, currentTime) {\n              var view = this._view;\n              var firstTimesCell = view.times.find(\"tr\").first().find(\"th\").first();\n              var lastTimesCell = view.times.find(\"tr\").first().find(\"th\").last();\n              var elementHtml = \"<div class='\" + CURRENT_TIME_MARKER_CLASS + \"'></div>\";\n              var timesTableMarker = $(elementHtml).prependTo(view.times);\n              var markerTopPosition = Math.round(ranges[0].innerRect(currentTime, new Date(currentTime.getTime() + 1), false).top);\n              var timesTableMarkerCss = {};\n\n              if (this._isRtl) {\n                timesTableMarkerCss.right = firstTimesCell.position().left + outerHeight(firstTimesCell) - outerHeight(lastTimesCell);\n                timesTableMarker.addClass(CURRENT_TIME_MARKER_ARROW_CLASS + \"-left\");\n              } else {\n                timesTableMarkerCss.left = lastTimesCell.position().left;\n                timesTableMarker.addClass(CURRENT_TIME_MARKER_ARROW_CLASS + \"-right\");\n              }\n\n              timesTableMarkerCss.top = markerTopPosition - outerWidth(timesTableMarker) * BORDER_SIZE_COEFF / 2;\n              timesTableMarker.css(timesTableMarkerCss);\n              $(elementHtml).prependTo(view.content).css({\n                top: markerTopPosition,\n                height: \"1px\",\n                right: \"1px\",\n                width: view.content[0].scrollWidth,\n                left: 0\n              });\n            },\n            _changeGroup: function (selection, previous, slot) {\n              var view = this._view;\n\n              if (!slot) {\n                selection.groupIndex = previous ? view.groups.length - 1 : 0;\n              }\n            },\n            _prevGroupSlot: function (slot) {\n              return slot;\n            },\n            _nextGroupSlot: function (slot) {\n              return slot;\n            },\n            _changeDate: function (selection, reverse, slot) {\n              var view = this._view;\n              var group = view.groups[selection.groupIndex];\n              var collections, index;\n\n              if (reverse) {\n                collections = group._getCollections(false);\n                index = slot.index - 1;\n\n                if (index >= 0) {\n                  return collections[0]._slots[index];\n                }\n              } else {\n                collections = group._getCollections(false);\n                index = slot.index + 1;\n\n                if (collections[0] && collections[0]._slots[index]) {\n                  return collections[0]._slots[index];\n                }\n              }\n            },\n            _verticalSlots: function (selection, reverse, slot) {\n              return this._changeDate(selection, reverse, slot);\n            },\n            _verticalMethod: function (reverse, multiple) {\n              if (multiple) {\n                return reverse ? \"upSlot\" : \"downSlot\";\n              } else {\n                return reverse ? \"leftSlot\" : \"rightSlot\";\n              }\n            },\n            _normalizeVerticalSelection: function (selection, ranges, reverse, multiple) {\n              var view = this._view;\n\n              if (!multiple) {\n                return view._normalizeVerticalSelection(selection, ranges, reverse);\n              }\n\n              return undefined;\n            },\n            _horizontalSlots: function (selection, group, method, startSlot, endSlot, multiple, reverse) {\n              var view = this._view;\n\n              var tempSlot = view._changeGroup(selection, reverse);\n\n              var result = {};\n\n              if (!tempSlot) {\n                if (!view._isVerticallyGrouped()) {\n                  result.startSlot = group[method](startSlot);\n                  result.endSlot = group[method](endSlot);\n                }\n              } else {\n                result.startSlot = result.endSlot = tempSlot;\n              }\n\n              return result;\n            },\n            _changeVerticalViewPeriod: function (slots, shift, selection, reverse) {\n              var view = this._view;\n\n              if ((!slots.startSlot || !slots.endSlot) && !shift && view._changeViewPeriod(selection, reverse, view._isVerticallyGrouped())) {\n                return true;\n              }\n\n              return false;\n            },\n            _changeHorizontalViewPeriod: function (slots, shift, selection, reverse) {\n              var view = this._view;\n\n              if (view._isVerticallyGrouped()) {\n                return false;\n              }\n\n              if ((!slots.startSlot || !slots.endSlot) && !shift && view._changeViewPeriod(selection, reverse, false)) {\n                return true;\n              }\n\n              return false;\n            },\n            _updateDirection: function (selection, ranges, shift, reverse) {\n              var view = this._view;\n\n              view._updateDirection(selection, ranges, shift, reverse, !view._isVerticallyGrouped());\n            },\n            _createMoveHint: function (range, adjustedEvent) {\n              var view = this._view;\n              var startSlot = range.start;\n              var startEnd = range.end;\n\n              for (var slotIdx = startSlot.index; slotIdx <= startEnd.index; slotIdx++) {\n                var slot = range.collection._slots[slotIdx];\n\n                var hint = view._createEventElement(adjustedEvent.occurrence, adjustedEvent.occurrence, false, false);\n\n                hint.addClass(\"k-event-drag-hint\");\n                var css = {\n                  left: slot.offsetLeft + 2,\n                  top: slot.offsetTop,\n                  height: view.options.eventHeight,\n                  width: slot.offsetWidth\n                };\n                hint.css(css);\n\n                if (adjustedEvent.occurrence.inverseColor) {\n                  hint.addClass(INVERSE_COLOR_CLASS);\n                }\n\n                view._appendMoveHint(hint);\n              }\n            },\n            _adjustLeftPosition: function (left) {\n              var view = this._view;\n\n              if (view._isRtl && !view._isVerticallyGrouped()) {\n                left -= view.content[0].scrollWidth - view.content[0].offsetWidth;\n              }\n\n              return left;\n            }\n          });\n          kendo.ui.scheduler.TimelineGroupedView = TimelineGroupedView;\n          kendo.ui.scheduler.TimelineGroupedByDateView = TimelineGroupedByDateView;\n          var TimelineView = SchedulerView.extend({\n            init: function (element, options) {\n              var that = this;\n              SchedulerView.fn.init.call(that, element, options);\n              that._groupedView = that._getGroupedView();\n              that.title = that.options.title || that.options.name;\n              that._workDays = getWorkDays(that.options);\n\n              that._templates();\n\n              that._editable();\n\n              that.calculateDateRange();\n\n              that._groups();\n\n              that._currentTime(true);\n            },\n            name: \"timeline\",\n            _isVirtualized: function () {\n              return false;\n            },\n            _getGroupedView: function () {\n              if (this._isGroupedByDate()) {\n                return new kendo.ui.scheduler.TimelineGroupedByDateView(this);\n              } else {\n                return new kendo.ui.scheduler.TimelineGroupedView(this);\n              }\n            },\n            _getNextEventIndexBySlot: function (slot, sortedEvents, groupIndex) {\n              if (this._isVerticallyGrouped()) {\n                return kendo.ui.SchedulerView.fn._getNextEventIndexBySlot.call(this, slot, sortedEvents, groupIndex);\n              }\n\n              var tempIndex = 0;\n\n              for (var i = 0; i < sortedEvents.length; i++) {\n                if (slot.startDate() > sortedEvents[i].start.startDate()) {\n                  tempIndex++;\n                  continue;\n                }\n\n                if (slot.startDate().getTime() === sortedEvents[i].start.startDate().getTime() && groupIndex > sortedEvents[i].start.groupIndex) {\n                  tempIndex++;\n                  continue;\n                }\n\n                break;\n              }\n\n              return tempIndex;\n            },\n            _getSelectedSlot: function (slot, sortedEvents, event, idx, pad, prev) {\n              if (this._isVerticallyGrouped()) {\n                return kendo.ui.SchedulerView.fn._getSelectedSlot.call(this, slot, sortedEvents, event, idx, pad, prev);\n              }\n\n              return slot;\n            },\n            _getSortedEvents: function (uniqueAllEvents) {\n              if (this._isVerticallyGrouped()) {\n                return kendo.ui.SchedulerView.fn._getSortedEvents.call(this, uniqueAllEvents);\n              }\n\n              return uniqueAllEvents.sort(function (first, second) {\n                var result = first.start.startDate().getTime() - second.start.startDate().getTime();\n\n                if (result === 0) {\n                  if (first.start.isDaySlot && !second.start.isDaySlot) {\n                    result = -1;\n                  }\n\n                  if (!first.start.isDaySlot && second.start.isDaySlot) {\n                    result = 1;\n                  }\n                }\n\n                if (result === 0) {\n                  result = first.start.groupIndex - second.start.groupIndex;\n                }\n\n                if (result === 0) {\n                  result = $(first.element).index() - $(second.element).index();\n                }\n\n                return result;\n              });\n            },\n            _currentTimeMarkerUpdater: function () {\n              this._updateCurrentTimeMarker(new Date());\n            },\n            _scrollTo: function (element, container) {\n              SchedulerView.fn._scrollTo.call(this, element, container);\n\n              var elementOffset = element.offsetLeft,\n                  elementOffsetDir = element.offsetWidth,\n                  containerScroll = container.scrollLeft,\n                  containerOffsetDir = container.clientWidth,\n                  rightDistance = elementOffset + elementOffsetDir,\n                  result = 0;\n\n              if (containerScroll > elementOffset) {\n                result = elementOffset;\n              } else if (rightDistance > containerScroll + containerOffsetDir) {\n                if (elementOffsetDir <= containerOffsetDir) {\n                  result = rightDistance - containerOffsetDir;\n                } else {\n                  result = elementOffset;\n                }\n              } else {\n                result = containerScroll;\n              }\n\n              container.scrollLeft = result;\n            },\n            _updateCurrentTimeMarker: function (currentTime) {\n              var options = this.options;\n              this.datesHeader.find(\".\" + CURRENT_TIME_MARKER_CLASS).remove();\n              this.times.find(\".\" + CURRENT_TIME_MARKER_CLASS).remove();\n              this.content.find(\".\" + CURRENT_TIME_MARKER_CLASS).remove();\n\n              if (!this._isInDateSlot({\n                start: currentTime,\n                end: currentTime\n              })) {\n                return;\n              }\n\n              if (options.currentTimeMarker.useLocalTimezone === false) {\n                var timezone = options.dataSource.options.schema.timezone;\n\n                if (options.dataSource && timezone) {\n                  var timezoneOffset = kendo.timezone.offset(currentTime, timezone);\n                  currentTime = kendo.timezone.convert(currentTime, currentTime.getTimezoneOffset(), timezoneOffset);\n                }\n              }\n\n              var groupsCount = !options.group || options.group.orientation == \"vertical\" ? 1 : this.groups.length;\n\n              for (var groupIndex = 0; groupIndex < groupsCount; groupIndex++) {\n                var currentGroup = this.groups[groupIndex];\n\n                if (!currentGroup) {\n                  return;\n                }\n\n                var utcCurrentTime = kendo.date.toUtcTime(currentTime);\n                var ranges = currentGroup.timeSlotRanges(utcCurrentTime, utcCurrentTime + 1);\n\n                if (ranges.length === 0) {\n                  return;\n                }\n\n                var collection = ranges[0].collection;\n                var slotElement = collection.slotByStartDate(currentTime);\n\n                if (slotElement) {\n                  if (this._isVerticallyGrouped()) {\n                    this._groupedView._updateCurrentVerticalTimeMarker(ranges, currentTime);\n                  } else {\n                    var elementHtml = \"<div class='\" + CURRENT_TIME_MARKER_CLASS + \"'></div>\";\n                    var headerWrap = this.datesHeader.find(\".\" + SCHEDULER_HEADER_WRAP_CLASS);\n                    var left = Math.round(ranges[0].innerRect(currentTime, new Date(currentTime.getTime() + 1), false).left);\n                    var timesTableMarker = $(elementHtml).prependTo(headerWrap).addClass(CURRENT_TIME_MARKER_ARROW_CLASS + \"-down\");\n                    timesTableMarker.css({\n                      left: this._adjustLeftPosition(left - outerWidth(timesTableMarker) * BORDER_SIZE_COEFF / 2),\n                      top: headerWrap.find(\"tr\").last().prev().position().top\n                    });\n                    $(elementHtml).prependTo(this.content).css({\n                      left: this._adjustLeftPosition(left),\n                      width: \"1px\",\n                      height: this.content[0].scrollHeight - 1,\n                      top: 0\n                    });\n                  }\n                }\n              }\n            },\n            _adjustLeftPosition: function (left) {\n              return this._groupedView._adjustLeftPosition(left);\n            },\n            _currentTime: function (setUpdateTimer) {\n              var that = this;\n              var markerOptions = that.options.currentTimeMarker;\n\n              if (markerOptions !== false && markerOptions.updateInterval !== undefined) {\n                that._currentTimeMarkerUpdater();\n\n                if (setUpdateTimer) {\n                  that._currentTimeUpdateTimer = setInterval(this._currentTimeMarkerUpdater.bind(that), markerOptions.updateInterval);\n                }\n              }\n            },\n            _editable: function () {\n              if (this.options.editable) {\n                if (this._isMobile()) {\n                  this._touchEditable();\n                } else {\n                  this._mouseEditable();\n                }\n              }\n            },\n            _mouseEditable: function () {\n              var that = this;\n              that.element.on(\"click\" + NS, \".k-event a:has(.k-i-close)\", function (e) {\n                that.trigger(\"remove\", {\n                  uid: $(this).closest(\".k-event\").attr(kendo.attr(\"uid\"))\n                });\n                e.preventDefault();\n              });\n\n              if (that.options.editable.create !== false) {\n                that.element.on(\"dblclick\" + NS, \".k-scheduler-content td\", function (e) {\n                  var slot = that._slotByPosition(e.pageX, e.pageY);\n\n                  if (slot) {\n                    var resourceInfo = that._resourceBySlot(slot);\n\n                    that.trigger(\"add\", {\n                      eventInfo: extend({\n                        start: slot.startDate(),\n                        end: slot.endDate()\n                      }, resourceInfo)\n                    });\n                  }\n\n                  e.preventDefault();\n                });\n              }\n\n              if (that.options.editable.update !== false) {\n                that.element.on(\"dblclick\" + NS, \".k-event\", function (e) {\n                  that.trigger(\"edit\", {\n                    uid: $(this).closest(\".k-event\").attr(kendo.attr(\"uid\"))\n                  });\n                  e.preventDefault();\n                });\n              }\n            },\n            _touchEditable: function () {\n              var that = this;\n              var threshold = 0;\n\n              if (kendo.support.mobileOS.android) {\n                threshold = 5;\n              }\n\n              if (that.options.editable.create !== false) {\n                that._addUserEvents = new kendo.UserEvents(that.element, {\n                  threshold: threshold,\n                  useClickAsTap: !kendo.support.browser.edge,\n                  filter: \".k-scheduler-content td\",\n                  tap: function (e) {\n                    if (that._scrolling) {\n                      return;\n                    }\n\n                    var x = e.x.location !== undefined ? e.x.location : e.x;\n                    var y = e.y.location !== undefined ? e.y.location : e.y;\n\n                    var slot = that._slotByPosition(x, y);\n\n                    if (slot) {\n                      var resourceInfo = that._resourceBySlot(slot);\n\n                      that.trigger(\"add\", {\n                        eventInfo: extend({\n                          start: slot.startDate(),\n                          end: slot.endDate()\n                        }, resourceInfo)\n                      });\n                    }\n\n                    e.preventDefault();\n                  }\n                });\n              }\n\n              if (that.options.editable.update !== false) {\n                that._editUserEvents = new kendo.UserEvents(that.element, {\n                  threshold: threshold,\n                  useClickAsTap: !kendo.support.browser.edge,\n                  filter: \".k-event\",\n                  tap: function (e) {\n                    if (that._scrolling) {\n                      return;\n                    }\n\n                    var eventElement = $(e.target).closest(\".k-event\");\n                    var touchElement = $(e.touch.initialTouch);\n\n                    if (touchElement.hasClass(\"k-i-close\")) {\n                      that.trigger(\"remove\", {\n                        uid: eventElement.attr(kendo.attr(\"uid\"))\n                      });\n                    } else if (!eventElement.hasClass(\"k-event-active\")) {\n                      that.trigger(\"edit\", {\n                        uid: eventElement.attr(kendo.attr(\"uid\"))\n                      });\n                    }\n\n                    e.preventDefault();\n                  }\n                });\n              }\n            },\n            _slotByPosition: function (x, y) {\n              var slot;\n              var content = this.content;\n              var offset = content.offset();\n              var groupIndex;\n              x -= offset.left;\n              y -= offset.top;\n\n              if (this._isRtl) {\n                var browser = kendo.support.browser;\n\n                if (browser.mozilla || browser.webkit && browser.version >= 85) {\n                  x += content[0].scrollWidth - content[0].offsetWidth;\n                  x += content[0].scrollLeft;\n                } else if (browser.msie) {\n                  x -= kendo.scrollLeft(content);\n                  x += content[0].scrollWidth - content[0].offsetWidth;\n                } else if (browser.webkit) {\n                  x += content[0].scrollLeft;\n                }\n              } else {\n                x += content[0].scrollLeft;\n              }\n\n              y += content[0].scrollTop;\n              x = Math.ceil(x);\n              y = Math.ceil(y);\n\n              for (groupIndex = 0; groupIndex < this.groups.length; groupIndex++) {\n                slot = this._groupedView._getTimeSlotByPosition(x, y, groupIndex);\n\n                if (slot) {\n                  return slot;\n                }\n              }\n\n              return null;\n            },\n            options: {\n              name: \"TimelineView\",\n              title: \"Timeline\",\n              selectedDateFormat: \"{0:D}\",\n              selectedShortDateFormat: \"{0:d}\",\n              selectedMobileDateFormat: \"{0:MMM dd}\",\n              date: kendo.date.today(),\n              startTime: kendo.date.today(),\n              endTime: kendo.date.today(),\n              showWorkHours: false,\n              minorTickCount: 2,\n              editable: true,\n              workDayStart: new Date(1980, 1, 1, 8, 0, 0),\n              workDayEnd: new Date(1980, 1, 1, 17, 0, 0),\n              workWeekStart: 1,\n              workWeekEnd: 5,\n              majorTick: 60,\n              eventHeight: 25,\n              eventMinWidth: 0,\n              columnWidth: 100,\n              groupHeaderTemplate: \"#=text#\",\n              majorTimeHeaderTemplate: \"#=kendo.toString(date, 't')#\",\n              slotTemplate: \"&nbsp;\",\n              eventTemplate: EVENT_TEMPLATE,\n              dateHeaderTemplate: DATA_HEADER_TEMPLATE,\n              footer: {\n                command: \"workDay\"\n              },\n              currentTimeMarker: {\n                updateInterval: 10000,\n                useLocalTimezone: true\n              },\n              messages: {\n                defaultRowText: \"All events\",\n                showFullDay: \"Show full day\",\n                showWorkDay: \"Show business hours\"\n              }\n            },\n            events: [\"remove\", \"add\", \"edit\"],\n            _templates: function () {\n              var options = this.options,\n                  settings = extend({}, kendo.Template, options.templateSettings);\n              this.eventTemplate = this._eventTmpl(options.eventTemplate, EVENT_WRAPPER_STRING);\n              this.majorTimeHeaderTemplate = kendo.template(options.majorTimeHeaderTemplate, settings);\n              this.dateHeaderTemplate = kendo.template(options.dateHeaderTemplate, settings);\n              this.slotTemplate = kendo.template(options.slotTemplate, settings);\n              this.groupHeaderTemplate = kendo.template(options.groupHeaderTemplate, settings);\n            },\n            _render: function (dates) {\n              var that = this;\n              dates = dates || [];\n              that._dates = dates;\n              that._startDate = dates[0];\n              that._endDate = dates[dates.length - 1 || 0];\n\n              that._calculateSlotRanges();\n\n              that.createLayout(that._layout(dates));\n\n              that._content(dates);\n\n              that._footer();\n\n              that._setContentWidth();\n\n              that.refreshLayout();\n              that.datesHeader.on(\"click\" + NS, \".k-nav-day\", function (e) {\n                var th = $(e.currentTarget).closest(\"th\");\n\n                var slot = that._slotByPosition(th.offset().left, that.content.offset().top);\n\n                that.trigger(\"navigate\", {\n                  view: \"timeline\",\n                  date: slot.startDate()\n                });\n              });\n\n              that._groupedView._hideHeaders();\n            },\n            _setContentWidth: function () {\n              var content = this.content;\n              var contentWidth = content.width();\n              var contentTable = this.content.find(\"table\");\n              var columnCount = contentTable.find(\"tr\").first().children().length;\n              var minWidth = 100;\n              var calculatedWidth = columnCount * this.options.columnWidth;\n\n              if (contentWidth < calculatedWidth) {\n                minWidth = Math.ceil(calculatedWidth / contentWidth * 100);\n              }\n\n              contentTable.add(this.datesHeader.find(\"table\")).css(\"width\", minWidth + \"%\");\n            },\n            _calculateSlotRanges: function () {\n              var dates = this._dates;\n              var slotStartTime = this.startTime();\n              var slotEndTime = this.endTime();\n              slotEndTime = getMilliseconds(slotEndTime);\n              slotStartTime = getMilliseconds(slotStartTime);\n\n              if (slotEndTime === slotStartTime) {\n                slotEndTime += MS_PER_DAY - 1;\n              } else if (slotEndTime < slotStartTime) {\n                slotEndTime += MS_PER_DAY;\n              }\n\n              var slotRanges = [];\n\n              for (var i = 0; i < dates.length; i++) {\n                var rangeStart = getDate(dates[i]);\n                setTime(rangeStart, slotStartTime);\n                var rangeEnd = getDate(dates[i]);\n                setTime(rangeEnd, slotEndTime);\n                slotRanges.push({\n                  start: kendo.date.toUtcTime(rangeStart),\n                  end: kendo.date.toUtcTime(rangeEnd)\n                });\n              }\n\n              this._slotRanges = slotRanges;\n            },\n            _forTimeRange: function (min, max, action, verticalByDate, groupsCount) {\n              min = toInvariantTime(min); //convert the date to 1/2/1980 and sets the time\n\n              max = toInvariantTime(max);\n              var that = this,\n                  msMin = getMilliseconds(min),\n                  msMax = getMilliseconds(max),\n                  minorTickCount = that.options.minorTickCount,\n                  msMajorInterval = that.options.majorTick * MS_PER_MINUTE,\n                  msInterval = msMajorInterval / minorTickCount || 1,\n                  start = new Date(+min),\n                  idx = 0,\n                  length,\n                  html = \"\";\n              length = MS_PER_DAY / msInterval;\n\n              if (msMin != msMax) {\n                if (msMin > msMax) {\n                  msMax += MS_PER_DAY;\n                }\n\n                length = (msMax - msMin) / msInterval;\n              }\n\n              length = verticalByDate ? 1 : Math.round(length);\n\n              if (groupsCount) {\n                length = length * groupsCount;\n              }\n\n              for (; idx < length; idx++) {\n                var majorTickDivider = idx % (msMajorInterval / msInterval);\n                var isMajorTickColumn = majorTickDivider === 0;\n                var isMiddleColumn = majorTickDivider < minorTickCount - 1;\n                var isLastSlotColumn = majorTickDivider === minorTickCount - 1;\n                var minorTickColumns = minorTickCount;\n\n                if (length % minorTickCount !== 0) {\n                  var isLastMajorSlot = length - (idx + 1) < minorTickCount;\n\n                  if (isMajorTickColumn && isLastMajorSlot) {\n                    minorTickColumns = length % minorTickCount;\n                  }\n                }\n\n                html += action(start, isMajorTickColumn, isMiddleColumn, isLastSlotColumn, minorTickColumns, idx % groupsCount);\n\n                if (!verticalByDate) {\n                  if (groupsCount) {\n                    if (idx % groupsCount === groupsCount - 1) {\n                      setTime(start, msInterval, false);\n                    }\n                  } else {\n                    setTime(start, msInterval, false);\n                  }\n                }\n              }\n\n              return html;\n            },\n            _layout: function (dates) {\n              var timeColumns = [];\n              var columns = [];\n              var that = this;\n              var rows = [{\n                text: that.options.messages.defaultRowText\n              }];\n              var groupedView = that._groupedView;\n              var minorTickSlots = [];\n\n              for (var minorTickIndex = 0; minorTickIndex < that.options.minorTickCount; minorTickIndex++) {\n                minorTickSlots.push({\n                  text: \"&#8203;\",\n                  className: \"k-last\",\n                  minorTicks: true\n                });\n              }\n\n              this._forTimeRange(that.startTime(), that.endTime(), function (date, majorTick, middleColumn, lastSlotColumn, minorSlotsCount) {\n                var template = that.majorTimeHeaderTemplate;\n\n                if (majorTick) {\n                  var timeColumn = {\n                    text: template({\n                      date: date\n                    }),\n                    className: lastSlotColumn ? \"k-slot-cell\" : \"\",\n                    columns: minorTickSlots.slice(0, minorSlotsCount)\n                  };\n\n                  groupedView._setColspan(timeColumn);\n\n                  timeColumns.push(timeColumn);\n                }\n              });\n\n              for (var idx = 0; idx < dates.length; idx++) {\n                columns.push({\n                  text: that.dateHeaderTemplate({\n                    date: dates[idx]\n                  }),\n                  className: \"k-slot-cell\",\n                  columns: timeColumns.slice(0)\n                });\n              }\n\n              var resources = this.groupedResources;\n\n              if (resources.length) {\n                if (this._groupOrientation() === \"vertical\") {\n                  rows = groupedView._createRowsLayout(resources, null, this.groupHeaderTemplate, columns);\n                  columns = groupedView._createVerticalColumnsLayout(resources, null, this.groupHeaderTemplate, columns);\n                } else {\n                  columns = groupedView._createColumnsLayout(resources, columns, this.groupHeaderTemplate, columns);\n                }\n              }\n\n              return {\n                columns: columns,\n                rows: rows\n              };\n            },\n            _footer: function () {\n              var options = this.options;\n\n              if (options.footer !== false) {\n                var html = '<div class=\"k-scheduler-footer k-toolbar\">';\n                var command = options.footer.command;\n\n                if (this._isMobile()) {\n                  html += '<span class=\"k-scheduler-today\"><a tabindex=\"-1\" href=\"#\" class=\"k-link\">';\n                  html += options.messages.today + '</a></span>';\n                }\n\n                if (command && command === \"workDay\") {\n                  if (this._isMobile()) {\n                    html += '<span class=\"k-scheduler-fullday\"><a tabindex=\"-1\" href=\"#\" class=\"k-link\">';\n                    html += (options.showWorkHours ? options.messages.showFullDay : options.messages.showWorkDay) + '</a></span>';\n                  } else {\n                    html += '<button tabindex=\"-1\" type=\"button\" class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-scheduler-fullday\">';\n                    html += '<span class=\"k-button-icon k-icon k-i-clock\"></span>';\n                    html += '<span class=\"k-button-text\">';\n                    html += options.showWorkHours ? options.messages.showFullDay : options.messages.showWorkDay;\n                    html += '</span>';\n                    html += '</button>';\n                  }\n                }\n\n                html += \"</div>\";\n                this.footer = $(html).appendTo(this.element);\n                var that = this;\n                this.footer.on(\"click\" + NS, \".k-scheduler-fullday\", function (e) {\n                  e.preventDefault();\n                  that.toggleFullDay();\n                });\n                this.footer.on(\"click\" + NS, \".k-scheduler-today\", function (e) {\n                  e.preventDefault();\n                  var timezone = that.options.timezone;\n                  var action = \"today\";\n                  var currentDate = new Date();\n                  var date;\n\n                  if (timezone) {\n                    var timezoneOffset = kendo.timezone.offset(currentDate, timezone);\n                    date = kendo.timezone.convert(currentDate, currentDate.getTimezoneOffset(), timezoneOffset);\n                  } else {\n                    date = currentDate;\n                  }\n\n                  that.trigger(\"navigate\", {\n                    view: that.name || options.name,\n                    action: action,\n                    date: date\n                  });\n                });\n              }\n            },\n            toggleFullDay: function () {\n              var options = this.options;\n              this.trigger(\"navigate\", {\n                view: this.name || options.name,\n                date: options.date,\n                isWorkDay: !options.showWorkHours\n              });\n            },\n            _columnCountForLevel: function (level) {\n              var columnLevel = this.columnLevels[level];\n              return columnLevel ? columnLevel.length : 0;\n            },\n            _rowCountForLevel: function (level) {\n              var rowLevel = this.rowLevels[level];\n              return rowLevel ? rowLevel.length : 0;\n            },\n            _isWorkDay: function (date) {\n              var day = date.getDay();\n              var workDays = this._workDays;\n\n              for (var i = 0; i < workDays.length; i++) {\n                if (workDays[i] === day) {\n                  return true;\n                }\n              }\n\n              return false;\n            },\n            _content: function (dates) {\n              var that = this;\n              var start = that.startTime();\n              var end = this.endTime();\n              var groupsCount = 1;\n              var rowCount = 1;\n              var columnCount = dates.length;\n              var html = '';\n              var resources = this.groupedResources;\n              var slotTemplate = this.slotTemplate;\n              var isVerticalGrouped = false;\n\n              if (resources.length) {\n                isVerticalGrouped = that._groupOrientation() === \"vertical\";\n\n                if (isVerticalGrouped) {\n                  rowCount = that._groupedView._getRowCount(this.rowLevels.length - 1);\n                  groupsCount = that._groupedView._getGroupsCount();\n                } else {\n                  groupsCount = that._groupCount();\n                }\n              }\n\n              html += '<tbody>';\n              html += that._groupedView._addContent(dates, columnCount, groupsCount, rowCount, start, end, slotTemplate, isVerticalGrouped);\n              html += '</tbody>';\n              this.content.find(\"table\").append(html);\n            },\n            _groups: function () {\n              var groupCount = this._groupCount();\n\n              var dates = this._dates;\n              var columnCount = dates.length;\n              this.groups = [];\n\n              for (var idx = 0; idx < groupCount; idx++) {\n                var view = this._addResourceView(idx);\n\n                var start = dates[0];\n                var end = dates[dates.length - 1 || 0];\n                var startTime = getMilliseconds(this.startTime());\n                var endTime = getMilliseconds(this.endTime());\n\n                if (startTime !== 0 && endTime <= startTime) {\n                  start = getDate(start);\n                  setTime(start, startTime);\n                  end = getDate(end);\n                  setTime(end, endTime);\n                }\n\n                view.addTimeSlotCollection(start, kendo.date.addDays(end, 1));\n              }\n\n              this._timeSlotGroups(groupCount, columnCount);\n            },\n            _isHorizontallyGrouped: function () {\n              return this.groupedResources.length && this._groupOrientation() === \"horizontal\";\n            },\n            _timeSlotGroups: function (groupCount, datesCount) {\n              var interval = this._timeSlotInterval();\n\n              var isVerticallyGrouped = this._isVerticallyGrouped();\n\n              var tableRows = this.content.find(\"tr\");\n\n              this._groupedView._addTimeSlotsCollections(groupCount, datesCount, tableRows, interval, isVerticallyGrouped);\n            },\n            _addTimeSlotToCollection: function (group, cells, cellIndex, cellOffset, dateIndex, time, interval) {\n              var cell = cells[cellIndex + cellOffset];\n              var collection = group.getTimeSlotCollection(0);\n              var currentDate = this._dates[dateIndex];\n              var currentTime = Date.UTC(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate());\n              var start = currentTime + time;\n              var end = start + interval;\n              collection.addTimeSlot(cell, start, end, true);\n            },\n            startDate: function () {\n              return this._startDate;\n            },\n            endDate: function () {\n              return this._endDate;\n            },\n            visibleEndDate: function () {\n              var startTime = getMilliseconds(this.startTime());\n              var endTime = getMilliseconds(this.endTime());\n              var endDate = this.endDate();\n\n              if (startTime !== 0 && endTime <= startTime) {\n                endDate = kendo.date.addDays(endDate, 1);\n              }\n\n              return endDate;\n            },\n            startTime: function () {\n              var options = this.options;\n              return options.showWorkHours ? options.workDayStart : options.startTime;\n            },\n            endTime: function () {\n              var options = this.options;\n              return options.showWorkHours ? options.workDayEnd : options.endTime;\n            },\n            _timeSlotInterval: function () {\n              var options = this.options;\n              return options.majorTick / options.minorTickCount * MS_PER_MINUTE;\n            },\n            nextDate: function () {\n              return kendo.date.nextDay(this.endDate());\n            },\n            previousDate: function () {\n              return kendo.date.previousDay(this.startDate());\n            },\n            calculateDateRange: function () {\n              this._render([this.options.date]);\n            },\n            render: function (events) {\n              this._headerColumnCount = 0;\n\n              this._groups();\n\n              this.element.find(\".k-event\").remove();\n              events = new kendo.data.Query(events).sort([{\n                field: \"start\",\n                dir: \"asc\"\n              }, {\n                field: \"end\",\n                dir: \"desc\"\n              }]).toArray();\n              var eventsByResource = [];\n\n              this._eventsByResource(events, this.groupedResources, eventsByResource);\n\n              var eventGroups = [];\n              var maxRowCount = 0;\n\n              for (var groupIndex = 0; groupIndex < eventsByResource.length; groupIndex++) {\n                var eventGroup = {\n                  groupIndex: groupIndex,\n                  maxRowCount: 0,\n                  events: {}\n                };\n                eventGroups.push(eventGroup);\n\n                this._renderEvents(eventsByResource[groupIndex], groupIndex, eventGroup);\n\n                if (maxRowCount < eventGroup.maxRowCount) {\n                  maxRowCount = eventGroup.maxRowCount;\n                }\n              }\n\n              this._setRowsHeight(eventGroups, eventsByResource.length, maxRowCount);\n\n              this._positionEvents(eventGroups, eventsByResource.length);\n\n              this._currentTime(false);\n\n              this.trigger(\"activate\");\n            },\n            _positionEvents: function (eventGroups, groupsCount) {\n              for (var groupIndex = 0; groupIndex < groupsCount; groupIndex++) {\n                var eventsForGroup = eventGroups[groupIndex].events;\n\n                for (var eventUid in eventsForGroup) {\n                  var eventObject = eventsForGroup[eventUid];\n\n                  if (Array.isArray(eventObject)) {\n                    for (var eventIndex = 0; eventIndex < eventObject.length; eventIndex++) {\n                      this._positionEvent(eventObject[eventIndex]);\n                    }\n                  } else {\n                    this._positionEvent(eventObject);\n                  }\n                }\n              }\n            },\n            _setRowsHeight: function (eventGroups, groupsCount, maxRowCount) {\n              var eventHeight = this.options.eventHeight;\n\n              var eventBottomOffset = this._getBottomRowOffset();\n\n              var groupedView = this._groupedView;\n\n              var verticalGroupCount = groupedView._getVerticalGroupCount(groupsCount);\n\n              groupsCount = this._isVerticallyGrouped() ? verticalGroupCount : 1;\n\n              for (var groupIndex = 0; groupIndex < groupsCount; groupIndex++) {\n                var rowsCount = groupedView._getVerticalRowCount(eventGroups, groupIndex, maxRowCount);\n\n                rowsCount = rowsCount ? rowsCount : 1;\n                var rowHeight = (eventHeight + 2) * rowsCount + eventBottomOffset;\n                var timesRow = $(this.times.find(\"tr\")[groupIndex]);\n                var row = $(this.content.find(\"tr\")[groupIndex]);\n                timesRow.height(rowHeight);\n                row.height(rowHeight);\n              }\n\n              this._setContentWidth();\n\n              this.refreshLayout();\n\n              this._refreshSlots();\n            },\n            _getBottomRowOffset: function () {\n              var eventBottomOffset = this.options.eventHeight * 0.50;\n\n              var isMobile = this._isMobile();\n\n              var minOffset;\n              var maxOffset;\n\n              if (isMobile) {\n                minOffset = 30;\n                maxOffset = 60;\n              } else {\n                minOffset = 15;\n                maxOffset = 30;\n              }\n\n              if (eventBottomOffset > maxOffset) {\n                eventBottomOffset = maxOffset;\n              } else if (eventBottomOffset < minOffset) {\n                eventBottomOffset = minOffset;\n              }\n\n              return eventBottomOffset;\n            },\n            _positionEvent: function (eventObject) {\n              var eventHeight = this.options.eventHeight;\n              var eventOffset = 2;\n              var rect = eventObject.slotRange.innerRect(eventObject.start, eventObject.end, false);\n\n              var left = this._adjustLeftPosition(rect.left);\n\n              var width = rect.right - rect.left;\n\n              if (width < 0) {\n                width = 0;\n              }\n\n              if (width < this.options.eventMinWidth) {\n                var slotsCollection = eventObject.slotRange.collection;\n                var lastSlot = slotsCollection._slots[slotsCollection._slots.length - 1];\n                var offsetRight = lastSlot.offsetLeft + lastSlot.offsetWidth;\n                width = this.options.eventMinWidth;\n\n                if (offsetRight < left + width) {\n                  width = offsetRight - rect.left;\n                }\n              }\n\n              eventObject.element.css({\n                top: eventObject.slotRange.start.offsetTop + eventObject.rowIndex * (eventHeight + eventOffset) + \"px\",\n                left: left,\n                width: width\n              });\n            },\n            _refreshSlots: function () {\n              for (var groupIndex = 0; groupIndex < this.groups.length; groupIndex++) {\n                this.groups[groupIndex].refresh();\n              }\n            },\n            _eventsByResource: function (events, resources, result, parentValue) {\n              var resource = resources[0];\n\n              if (resource) {\n                var view = resource.dataSource.view();\n                view = view.filter(function (item) {\n                  var itemParentValue = kendo.getter(resource.dataParentValueField)(item);\n                  return itemParentValue === null || itemParentValue === undefined || itemParentValue === parentValue;\n                });\n\n                for (var itemIdx = 0; itemIdx < view.length; itemIdx++) {\n                  var value = this._resourceValue(resource, view[itemIdx]);\n\n                  var eventsFilteredByResource = new kendo.data.Query(events).filter({\n                    field: resource.field,\n                    operator: SchedulerView.groupEqFilter(value)\n                  }).toArray();\n\n                  if (resources.length > 1) {\n                    this._eventsByResource(eventsFilteredByResource, resources.slice(1), result, value);\n                  } else {\n                    result.push(eventsFilteredByResource);\n                  }\n                }\n              } else {\n                result.push(events);\n              }\n            },\n            _isInDateSlot: function (event) {\n              var startTime = event.start;\n              var endTime = event.end;\n              var rangeStart = getDate(this._startDate);\n              var rangeEnd = kendo.date.addDays(getDate(this.visibleEndDate()), 1);\n\n              if (startTime < rangeEnd && rangeStart <= endTime) {\n                return true;\n              }\n\n              return false;\n            },\n            _isInTimeSlot: function (event) {\n              var startTime = event._startTime || kendo.date.toUtcTime(event.start);\n              var endTime = event._endTime || kendo.date.toUtcTime(event.end);\n              var slotRanges = this._slotRanges;\n\n              if (startTime === endTime) {\n                endTime = endTime + 1;\n              }\n\n              for (var slotIndex = 0; slotIndex < slotRanges.length; slotIndex++) {\n                if (startTime < slotRanges[slotIndex].end && slotRanges[slotIndex].start < endTime) {\n                  return true;\n                }\n              }\n\n              return false;\n            },\n            _adjustEvent: function (event) {\n              var start = event.start;\n              var end = event.end;\n\n              var eventStartTime = event._time(\"start\");\n\n              var eventEndTime = event._time(\"end\");\n\n              var startTime = getMilliseconds(this.startTime());\n              var endTime = getMilliseconds(this.endTime());\n              var adjustedStartDate = null;\n              var adjustedEndDate = null;\n              var occurrence;\n              var head = false;\n              var tail = false;\n\n              if (event.isAllDay) {\n                start = getDate(start);\n                eventStartTime = 0;\n                end = getDate(end);\n                eventEndTime = MS_PER_DAY;\n                adjustedEndDate = kendo.date.addDays(end, 1);\n              }\n\n              if (endTime === 0) {\n                endTime = MS_PER_DAY;\n              }\n\n              if (endTime <= startTime) {\n                if (eventStartTime < startTime && eventStartTime >= endTime) {\n                  adjustedStartDate = getDate(start);\n                  setTime(adjustedStartDate, startTime);\n                  tail = true;\n                }\n\n                if (eventEndTime > endTime && eventEndTime <= startTime) {\n                  adjustedEndDate = getDate(end);\n                  setTime(adjustedEndDate, endTime);\n                  head = true;\n                }\n              } else {\n                if (startTime > eventStartTime) {\n                  adjustedStartDate = getDate(start);\n                  setTime(adjustedStartDate, startTime);\n                  tail = true;\n                } else if (endTime <= eventStartTime) {\n                  adjustedStartDate = getDate(start);\n                  adjustedStartDate = kendo.date.addDays(adjustedStartDate, 1);\n                  setTime(adjustedStartDate, startTime);\n                  tail = true;\n                }\n\n                if (endTime < eventEndTime) {\n                  adjustedEndDate = getDate(end);\n                  setTime(adjustedEndDate, endTime);\n                  head = true;\n                } else if (startTime > eventEndTime) {\n                  adjustedEndDate = getDate(end);\n                  adjustedEndDate = kendo.date.addDays(adjustedEndDate, -1);\n                  setTime(adjustedEndDate, endTime);\n                  head = true;\n                }\n              }\n\n              occurrence = event.clone({\n                start: adjustedStartDate ? adjustedStartDate : start,\n                end: adjustedEndDate ? adjustedEndDate : end,\n                _startTime: adjustedStartDate ? kendo.date.toUtcTime(adjustedStartDate) : event._startTime,\n                _endTime: adjustedEndDate ? kendo.date.toUtcTime(adjustedEndDate) : event._endTime,\n                isAllDay: false\n              });\n              return {\n                occurrence: occurrence,\n                head: head,\n                tail: tail\n              };\n            },\n            _renderEvents: function (events, groupIndex, eventGroup) {\n              var event;\n              var idx;\n              var length;\n\n              for (idx = 0, length = events.length; idx < length; idx++) {\n                event = events[idx];\n\n                if (this._isInDateSlot(event)) {\n                  var isMultiDayEvent = event.isAllDay || event.duration() >= MS_PER_DAY;\n                  var container = this.content;\n\n                  if (isMultiDayEvent || this._isInTimeSlot(event)) {\n                    var adjustedEvent = this._adjustEvent(event);\n\n                    var group = this.groups[groupIndex];\n\n                    if (!group._continuousEvents) {\n                      group._continuousEvents = [];\n                    }\n\n                    if (this._isInTimeSlot(adjustedEvent.occurrence)) {\n                      var ranges = group.slotRanges(adjustedEvent.occurrence, false);\n                      var range = ranges[0];\n                      var startIndex = range.start.index;\n                      var endIndex = range.end.index;\n\n                      this._groupedView._renderEvent(eventGroup, event, adjustedEvent, group, range, container, startIndex, endIndex);\n                    }\n                  }\n                }\n              }\n            },\n            addContinuousEvent: function (group, range, element, isAllDay) {\n              var events = group._continuousEvents;\n              events.push({\n                element: element,\n                isAllDay: isAllDay,\n                uid: element.attr(kendo.attr(\"uid\")),\n                start: range.start,\n                end: range.end\n              });\n            },\n            _createEventElement: function (occurrence, event, head, tail) {\n              var template = this.eventTemplate;\n              var editable = this.options.editable;\n\n              var isMobile = this._isMobile();\n\n              var showDelete = editable && editable.destroy !== false && !isMobile;\n              var resizable = editable && editable.resize !== false;\n\n              var eventStartTime = event._time(\"start\");\n\n              var eventEndTime = event._time(\"end\");\n\n              var eventStartDate = event.start;\n              var eventEndDate = event.end;\n              var resources = this.eventResources(event);\n\n              if (event._startTime && eventStartTime !== kendo.date.getMilliseconds(event.start)) {\n                eventStartDate = new Date(eventStartTime);\n                eventStartDate = kendo.timezone.apply(eventStartDate, \"Etc/UTC\");\n              }\n\n              if (event._endTime && eventEndTime !== kendo.date.getMilliseconds(event.end)) {\n                eventEndDate = new Date(eventEndTime);\n                eventEndDate = kendo.timezone.apply(eventEndDate, \"Etc/UTC\");\n              }\n\n              var data = extend({}, {\n                ns: kendo.ns,\n                resizable: resizable,\n                showDelete: showDelete,\n                head: head,\n                tail: tail,\n                singleDay: this._dates.length == 1,\n                resources: resources,\n                inverseColor: false,\n                messages: this.options.messages,\n                ariaLabel: this._formatEventAriaLabel(event.title, eventStartDate, eventEndDate, event.isAllDay)\n              }, event, {\n                start: eventStartDate,\n                end: eventEndDate\n              });\n              var element = $(template(data));\n              this.angular(\"compile\", function () {\n                return {\n                  elements: element,\n                  data: [{\n                    dataItem: data\n                  }]\n                };\n              });\n              return element;\n            },\n            _arrangeRows: function (eventObject, slotRange, eventGroup) {\n              var startIndex = slotRange.start.index;\n              var endIndex = slotRange.end.index;\n              var rect = eventObject.slotRange.innerRect(eventObject.start, eventObject.end, false);\n              var rectRight = rect.right + this.options.eventMinWidth;\n              var events = collidingEvents(slotRange.events(), rect.left, rectRight);\n              slotRange.addEvent({\n                slotIndex: startIndex,\n                start: startIndex,\n                end: endIndex,\n                rectLeft: rect.left,\n                rectRight: rectRight,\n                element: eventObject.element,\n                uid: eventObject.uid\n              });\n              events.push({\n                start: startIndex,\n                end: endIndex,\n                uid: eventObject.uid\n              });\n              var rows = SchedulerView.createRows(events);\n\n              if (eventGroup.maxRowCount < rows.length) {\n                eventGroup.maxRowCount = rows.length;\n              }\n\n              for (var idx = 0, length = rows.length; idx < length; idx++) {\n                var rowEvents = rows[idx].events;\n\n                for (var j = 0, eventLength = rowEvents.length; j < eventLength; j++) {\n                  eventGroup.events[rowEvents[j].uid].rowIndex = idx;\n                }\n              }\n            },\n            _groupCount: function () {\n              var resources = this.groupedResources;\n              var groupedView = this._groupedView;\n\n              if (resources.length) {\n                if (this._groupOrientation() === \"vertical\") {\n                  return groupedView._verticalCountForLevel(resources.length - 1);\n                } else {\n                  return groupedView._horizontalCountForLevel(resources.length - 1, this.columnLevels.length - 1);\n                }\n              }\n\n              return 1;\n            },\n            _updateEventForSelection: function (event) {\n              var adjustedEvent = this._adjustEvent(event.clone());\n\n              return adjustedEvent.occurrence;\n            },\n            _eventOptionsForMove: function (event) {\n              if (event.isAllDay) {\n                return {\n                  isAllDay: false\n                };\n              }\n\n              return {};\n            },\n            _updateEventForResize: function (event) {\n              if (event.isAllDay) {\n                event.set(\"isAllDay\", false);\n              }\n            },\n            _updateMoveHint: function (event, groupIndex, distance) {\n              var group = this.groups[groupIndex];\n              var clonedEvent = event.clone({\n                start: event.start,\n                end: event.end\n              });\n              var eventDuraton = clonedEvent.duration();\n              clonedEvent.start = new Date(clonedEvent.start.getTime() + distance);\n              clonedEvent.end = new Date(+clonedEvent.start + eventDuraton);\n\n              this._removeMoveHint(event.uid);\n\n              if (this._isInDateSlot(clonedEvent)) {\n                if (clonedEvent.isAllDay || clonedEvent.duration() >= MS_PER_DAY || this._isInTimeSlot(clonedEvent)) {\n                  var adjustedEvent = this._adjustEvent(clonedEvent);\n\n                  var ranges = group.slotRanges(adjustedEvent.occurrence, false);\n\n                  for (var rangeIndex = 0; rangeIndex < ranges.length; rangeIndex++) {\n                    this._groupedView._createMoveHint(ranges[rangeIndex], adjustedEvent);\n                  }\n                }\n              }\n            },\n            _appendMoveHint: function (hint) {\n              hint.appendTo(this.content);\n              this._moveHint = this._moveHint.add(hint);\n            },\n            _updateResizeHint: function (event, groupIndex, startTime, endTime) {\n              var group = this.groups[groupIndex];\n              var ranges = group.ranges(startTime, endTime, false, false);\n\n              this._removeResizeHint();\n\n              for (var rangeIndex = 0; rangeIndex < ranges.length; rangeIndex++) {\n                var range = ranges[rangeIndex];\n                var start = range.startSlot();\n                var startRect = range.innerRect(startTime, endTime, false);\n                startRect.top = start.offsetTop;\n                var width = startRect.right - startRect.left;\n\n                if (width < 0) {\n                  for (var i = 0; i < range.events().length; i++) {\n                    if (range.events()[i].uid === event.uid) {\n                      width = range.events()[i].rectRight - startRect.left;\n                      break;\n                    }\n                  }\n                }\n\n                var height = range.endSlot().offsetTop + start.offsetHeight - startRect.top;\n\n                var left = this._adjustLeftPosition(startRect.left);\n\n                var hint = SchedulerView.fn._createResizeHint.call(this, left, startRect.top, width, height);\n\n                this._resizeHint = this._resizeHint.add(hint);\n              }\n\n              var format = \"t\";\n              var container = this.content;\n\n              this._resizeHint.appendTo(container);\n\n              this._resizeHint.find(\".k-label-top,.k-label-bottom\").text(\"\");\n\n              this._resizeHint.first().addClass(\"k-first\").find(\".k-label-top\").text(kendo.toString(kendo.timezone.toLocalDate(startTime), format));\n\n              this._resizeHint.last().addClass(\"k-last\").find(\".k-label-bottom\").text(kendo.toString(kendo.timezone.toLocalDate(endTime), format));\n            },\n            selectionByElement: function (cell) {\n              var offset = cell.offset();\n              return this._slotByPosition(offset.left, offset.top);\n            },\n            _updateDirection: function (selection, ranges, multiple, reverse, vertical) {\n              var startSlot = ranges[0].start;\n              var endSlot = ranges[ranges.length - 1].end;\n\n              if (multiple && !vertical) {\n                if (startSlot.index === endSlot.index && startSlot.collectionIndex === endSlot.collectionIndex) {\n                  selection.backward = reverse;\n                }\n              }\n            },\n            _changeGroup: function (selection, previous) {\n              var method = previous ? \"prevGroupSlot\" : \"nextGroupSlot\";\n              var slot = this[method](selection.start, selection.groupIndex, false);\n\n              if (slot) {\n                selection.groupIndex += previous ? -1 : 1;\n              }\n\n              this._groupedView._changeGroup(selection, previous, slot);\n\n              return slot;\n            },\n            prevGroupSlot: function (date, groupIndex, isDay) {\n              var group = this.groups[groupIndex];\n              var slot = group.ranges(date, date, isDay, false)[0].start;\n\n              if (groupIndex <= 0) {\n                return;\n              }\n\n              return this._groupedView._prevGroupSlot(slot, group, isDay);\n            },\n            nextGroupSlot: function (date, groupIndex, isDay) {\n              var group = this.groups[groupIndex];\n              var slot = group.ranges(date, date, isDay, false)[0].start;\n\n              if (groupIndex >= this.groups.length - 1) {\n                return;\n              }\n\n              return this._groupedView._nextGroupSlot(slot, group, isDay);\n            },\n            _verticalSlots: function (selection, ranges, multiple, reverse) {\n              var groupedView = this._groupedView;\n\n              var method = groupedView._verticalMethod(reverse, multiple);\n\n              var startSlot = ranges[0].start;\n              var endSlot = ranges[ranges.length - 1].end;\n              var group = this.groups[selection.groupIndex];\n\n              var slot = groupedView._normalizeVerticalSelection(selection, ranges, reverse, multiple);\n\n              if (slot) {\n                startSlot = endSlot = slot;\n              }\n\n              startSlot = group[method](startSlot);\n              endSlot = group[method](endSlot);\n\n              if (!multiple && this._isVerticallyGrouped() && (!startSlot || !endSlot)) {\n                startSlot = endSlot = groupedView._verticalSlots(selection, reverse, slot);\n              }\n\n              return {\n                startSlot: startSlot,\n                endSlot: endSlot\n              };\n            },\n            _horizontalSlots: function (selection, ranges, multiple, reverse) {\n              var method = reverse ? \"upSlot\" : \"downSlot\";\n              var startSlot = ranges[0].start;\n              var endSlot = ranges[ranges.length - 1].end;\n              var group = this.groups[selection.groupIndex];\n              var result = {};\n\n              if (!multiple) {\n                result = this._groupedView._horizontalSlots(selection, group, method, startSlot, endSlot, multiple, reverse);\n              } else {\n                result.startSlot = group[method](startSlot);\n                result.endSlot = group[method](endSlot);\n\n                if (!multiple && this._isHorizontallyGrouped() && (!startSlot || !endSlot)) {\n                  result.startSlot = result.endSlot = this._changeGroup(selection, reverse);\n                }\n              }\n\n              return result;\n            },\n            _changeViewPeriod: function (selection, reverse) {\n              var date = reverse ? this.previousDate() : this.nextDate();\n              var start = selection.start;\n              var end = selection.end;\n              var newStart, newEnd;\n              newStart = new Date(date);\n              newEnd = new Date(date);\n\n              if (this._isInRange(newStart, newEnd)) {\n                return false;\n              }\n\n              selection.start = newStart;\n              selection.end = newEnd;\n\n              if (this._isHorizontallyGrouped()) {\n                selection.groupIndex = reverse ? this.groups.length - 1 : 0;\n              }\n\n              var duration = end - start;\n\n              if (reverse) {\n                end = getMilliseconds(this.endTime());\n                end = end === 0 ? MS_PER_DAY : end;\n                setTime(selection.start, end - duration);\n                setTime(selection.end, end);\n              } else {\n                start = getMilliseconds(this.startTime());\n                setTime(selection.start, start);\n                setTime(selection.end, start + duration);\n              }\n\n              selection.events = [];\n              return true;\n            },\n            move: function (selection, key, shift) {\n              var handled = false;\n              var group = this.groups[selection.groupIndex];\n              var keys = kendo.keys;\n              var groupedView = this._groupedView;\n              var ranges = group.ranges(selection.start, selection.end, false, false);\n              var startSlot, endSlot, reverse, slots;\n\n              if (key === keys.DOWN || key === keys.UP) {\n                handled = true;\n                reverse = key === keys.UP;\n\n                groupedView._updateDirection(selection, ranges, shift, reverse);\n\n                slots = this._verticalSlots(selection, ranges, shift, reverse);\n\n                if (groupedView._changeVerticalViewPeriod(slots, shift, selection, reverse)) {\n                  return handled;\n                }\n              } else if (key === keys.LEFT || key === keys.RIGHT) {\n                handled = true;\n                reverse = key === keys.LEFT;\n\n                this._updateDirection(selection, ranges, shift, reverse, false);\n\n                slots = this._horizontalSlots(selection, ranges, shift, reverse);\n\n                if (groupedView._changeHorizontalViewPeriod(slots, shift, selection, reverse)) {\n                  return handled;\n                }\n              }\n\n              if (handled) {\n                startSlot = slots.startSlot;\n                endSlot = slots.endSlot;\n\n                if (shift) {\n                  var backward = selection.backward;\n\n                  if (backward && startSlot) {\n                    selection.start = startSlot.startDate();\n                  } else if (!backward && endSlot) {\n                    selection.end = endSlot.endDate();\n                  }\n                } else if (startSlot && endSlot) {\n                  selection.start = startSlot.startDate();\n                  selection.end = endSlot.endDate();\n                }\n\n                selection.events = [];\n              }\n\n              return handled;\n            },\n            destroy: function () {\n              var that = this;\n\n              if (that.element) {\n                that.element.off(NS);\n              }\n\n              if (that.footer) {\n                that.footer.remove();\n              }\n\n              if (that._currentTimeUpdateTimer) {\n                clearInterval(that._currentTimeUpdateTimer);\n              }\n\n              SchedulerView.fn.destroy.call(this);\n\n              if (this._isMobile() && that.options.editable) {\n                if (that.options.editable.create !== false) {\n                  that._addUserEvents.destroy();\n                }\n\n                if (that.options.editable.update !== false) {\n                  that._editUserEvents.destroy();\n                }\n              }\n            },\n            _resourceBySlot: function (slot) {\n              var resources = this.groupedResources;\n              var result = {},\n                  groupOptions = this.options.group;\n\n              if (resources.length && groupOptions.orientation === \"horizontal\" && groupOptions.date) {\n                var resourceIndex = slot.groupIndex,\n                    levels = this.columnLevels,\n                    groupLevel = levels[levels.length - 1],\n                    resource = resources[resources.length - 1],\n                    groupLevelMember = groupLevel[resourceIndex],\n                    passedChildren,\n                    numberOfChildren,\n                    j,\n                    i;\n\n                this._setResourceValue(groupLevelMember, resource, result);\n\n                for (j = levels.length - 2; j >= 3; j--) {\n                  groupLevel = levels[j];\n                  resource = resources[j - 3];\n                  passedChildren = 0;\n\n                  for (i = 0; i < groupLevel.length; i++) {\n                    groupLevelMember = groupLevel[i];\n                    numberOfChildren = groupLevelMember.columns.length;\n\n                    if (numberOfChildren > resourceIndex - passedChildren) {\n                      this._setResourceValue(groupLevelMember, resource, result);\n\n                      i = groupLevel.length;\n                    } else {\n                      passedChildren += numberOfChildren;\n                    }\n                  }\n                }\n\n                return result;\n              } else {\n                return SchedulerView.fn._resourceBySlot.call(this, slot);\n              }\n            }\n          });\n          extend(true, ui, {\n            TimelineView: TimelineView,\n            TimelineWeekView: TimelineView.extend({\n              options: {\n                name: \"TimelineWeekView\",\n                title: \"Timeline Week\",\n                selectedDateFormat: \"{0:D} - {1:D}\",\n                selectedShortDateFormat: \"{0:d} - {1:d}\",\n                selectedMobileDateFormat: \"{0:MMM dd} - {1:dd}\",\n                majorTick: 120\n              },\n              name: \"timelineWeek\",\n              calculateDateRange: function () {\n                var selectedDate = this.options.date,\n                    start = kendo.date.dayOfWeek(selectedDate, this.calendarInfo().firstDay, -1),\n                    idx,\n                    length,\n                    dates = [];\n\n                for (idx = 0, length = 7; idx < length; idx++) {\n                  dates.push(start);\n                  start = kendo.date.nextDay(start);\n                }\n\n                this._render(dates);\n              }\n            }),\n            TimelineWorkWeekView: TimelineView.extend({\n              options: {\n                name: \"TimelineWorkWeekView\",\n                title: \"Timeline Work Week\",\n                selectedDateFormat: \"{0:D} - {1:D}\",\n                selectedShortDateFormat: \"{0:d} - {1:d}\",\n                selectedMobileDateFormat: \"{0:MMM dd} - {1:dd}\",\n                majorTick: 120\n              },\n              name: \"timelineWorkWeek\",\n              nextDate: function () {\n                var weekStart = kendo.date.dayOfWeek(kendo.date.nextDay(this.endDate()), this.calendarInfo().firstDay, 1);\n                return kendo.date.addDays(weekStart, this._workDays[0]);\n              },\n              previousDate: function () {\n                var weekStart = kendo.date.dayOfWeek(this.startDate(), this.calendarInfo().firstDay, -1);\n                var workDays = this._workDays;\n                return kendo.date.addDays(weekStart, workDays[workDays.length - 1] - 7);\n              },\n              calculateDateRange: function () {\n                var options = this.options,\n                    selectedDate = options.date,\n                    dayOfWeek = kendo.date.dayOfWeek,\n                    weekStart = dayOfWeek(selectedDate, this.calendarInfo().firstDay, -1),\n                    start = dayOfWeek(weekStart, options.workWeekStart, 1),\n                    end = dayOfWeek(start, options.workWeekEnd, 1),\n                    dates = [],\n                    workDays = options.workDays && options.workDays.length ? options.workDays.map(function (day) {\n                  return dayOfWeek(weekStart, day, 1).getTime();\n                }) : null;\n\n                if (workDays) {\n                  start = weekStart;\n                  end = dayOfWeek(start, this.calendarInfo().firstDay + 6, 1);\n                }\n\n                while (start <= end) {\n                  if (workDays && workDays.indexOf(start.getTime()) > -1) {\n                    dates.push(start);\n                  } else if (!workDays) {\n                    dates.push(start);\n                  }\n\n                  start = kendo.date.nextDay(start);\n                }\n\n                this._render(dates);\n              }\n            }),\n            TimelineMonthView: TimelineView.extend({\n              options: {\n                name: \"TimelineMonthView\",\n                title: \"Timeline Month\",\n                selectedDateFormat: \"{0:D} - {1:D}\",\n                selectedShortDateFormat: \"{0:d} - {1:d}\",\n                workDayStart: new Date(1980, 1, 1, 0, 0, 0),\n                workDayEnd: new Date(1980, 1, 1, 23, 59, 59),\n                footer: false,\n                majorTick: 1440,\n                minorTickCount: 1\n              },\n              name: \"timelineMonth\",\n              calculateDateRange: function () {\n                var selectedDate = this.options.date,\n                    start = kendo.date.firstDayOfMonth(selectedDate),\n                    end = kendo.date.lastDayOfMonth(selectedDate),\n                    idx,\n                    length,\n                    dates = [];\n\n                for (idx = 0, length = end.getDate(); idx < length; idx++) {\n                  dates.push(start);\n                  start = kendo.date.nextDay(start);\n                }\n\n                this._render(dates);\n              }\n            })\n          });\n        })(window.kendo.jQuery);\n\n        return window.kendo;\n      }, __webpack_require__.amdD);\n      /***/\n\n    },\n\n    /***/\n    81477:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./kendo.scheduler.view\");\n      /***/\n    }\n    /******/\n\n  };\n  /************************************************************************/\n\n  /******/\n  // The module cache\n\n  /******/\n\n  var __webpack_module_cache__ = {};\n  /******/\n\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n    // Check if module is in cache\n\n    /******/\n    var cachedModule = __webpack_module_cache__[moduleId];\n    /******/\n\n    if (cachedModule !== undefined) {\n      /******/\n      return cachedModule.exports;\n      /******/\n    }\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n\n    var module = __webpack_module_cache__[moduleId] = {\n      /******/\n      // no module.id needed\n\n      /******/\n      // no module.loaded needed\n\n      /******/\n      exports: {}\n      /******/\n\n    };\n    /******/\n\n    /******/\n    // Execute the module function\n\n    /******/\n\n    __webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n    /******/\n\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n\n    return module.exports;\n    /******/\n  }\n  /******/\n\n  /************************************************************************/\n\n  /******/\n\n  /* webpack/runtime/amd define */\n\n  /******/\n\n\n  !function () {\n    /******/\n    __webpack_require__.amdD = function () {\n      /******/\n      throw new Error('define cannot be used indirect');\n      /******/\n    };\n    /******/\n\n  }();\n  /******/\n\n  /************************************************************************/\n\n  /******/\n\n  /******/\n  // startup\n\n  /******/\n  // Load entry module and return exports\n\n  /******/\n  // This entry module used 'module' so it can't be inlined\n\n  /******/\n\n  var __webpack_exports__ = __webpack_require__(5277);\n  /******/\n\n\n  module.exports = __webpack_exports__;\n  /******/\n\n  /******/\n})();","map":{"version":3,"names":["__webpack_modules__","module","exports","__webpack_require__","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","f","define","apply","undefined","__meta__","id","name","category","description","depends","hidden","$","kendo","window","ui","setTime","date","SchedulerView","outerWidth","_outerWidth","outerHeight","_outerHeight","extend","getDate","getMilliseconds","MS_PER_DAY","MS_PER_MINUTE","CURRENT_TIME_MARKER_CLASS","CURRENT_TIME_MARKER_ARROW_CLASS","SCHEDULER_HEADER_WRAP_CLASS","INVERSE_COLOR_CLASS","BORDER_SIZE_COEFF","NS","EVENT_TEMPLATE","template","DATA_HEADER_TEMPLATE","EVENT_WRAPPER_STRING","toInvariantTime","staticDate","Date","getWorkDays","options","workDays","length","dayIndex","workWeekStart","workWeekEnd","Math","abs","push","setColspan","columnLevel","count","columns","i","colspan","collidingEvents","elements","left","right","idx","startPosition","overlaps","endPosition","rectLeft","rectRight","eventsForSlot","events","event","TimelineGroupedView","Class","init","view","_view","_getTimeSlotByPosition","x","y","groupIndex","group","groups","timeSlotByPosition","_hideHeaders","timesHeader","find","last","hide","datesHeader","_setColspan","timeColumn","_createRowsLayout","resources","rows","groupHeaderTemplate","_createVerticalColumnsLayout","_createColumnsLayout","_getRowCount","_groupCount","_getGroupsCount","_addContent","dates","columnCount","groupsCount","rowCount","start","end","slotTemplate","isVerticalGrouped","html","appendRow","content","classes","tmplDate","_resourceBySlot","isToday","workDayStart","workDayEnd","_isWorkDay","rowIdx","groupIdx","_forTimeRange","_addTimeSlotsCollections","groupCount","datesCount","tableRows","interval","isVerticallyGrouped","floor","rowMultiplier","time","rowIndex","cellMultiplier","cells","children","cellsPerGroup","cellsPerDay","dateIndex","cellOffset","startTime","cellIndex","_addTimeSlotToCollection","_getVerticalGroupCount","_getVerticalRowCount","eventGroups","maxRowCount","_isVerticallyGrouped","_renderEvent","eventGroup","adjustedEvent","range","container","element","_createEventElement","occurrence","head","tail","appendTo","css","top","height","eventHeight","eventObject","_startTime","_endTime","uid","slotRange","offsetTop","_inverseEventColor","addContinuousEvent","isAllDay","_arrangeRows","_verticalCountForLevel","level","_rowCountForLevel","_horizontalCountForLevel","_columnCountForLevel","_updateCurrentVerticalTimeMarker","ranges","currentTime","elementHtml","headerWrap","round","innerRect","getTime","timesTableMarker","prependTo","addClass","_adjustLeftPosition","prev","position","width","scrollHeight","_changeGroup","_prevGroupSlot","slot","isDay","collection","_collection","_nextGroupSlot","first","_verticalSlots","selection","reverse","_verticalMethod","_normalizeVerticalSelection","_horizontalSlots","method","startSlot","endSlot","multiple","result","_isHorizontallyGrouped","_changeVerticalViewPeriod","_changeHorizontalViewPeriod","slots","shift","_changeViewPeriod","_updateDirection","_createMoveHint","hint","rect","snap","offsetHeight","inverseColor","_appendMoveHint","_isRtl","scrollWidth","clientWidth","TimelineGroupedByDateView","eq","times","_createDateLayout","subColumns","isMajorTickColumn","isMiddleColumn","isLastSlotColumn","minorTickColumns","workDateIndex","tempStart","minorTickCount","msMajorInterval","majorTick","msInterval","_dates","startIndex","endIndex","eventObjects","index","currentSlot","_timeSlotCollections","_slots","dateRange","timeSlotRanges","firstTimesCell","lastTimesCell","markerTopPosition","timesTableMarkerCss","previous","_changeDate","collections","_getCollections","tempSlot","startEnd","slotIdx","offsetLeft","offsetWidth","scheduler","TimelineView","that","fn","call","_groupedView","_getGroupedView","title","_workDays","_templates","_editable","calculateDateRange","_groups","_currentTime","_isVirtualized","_isGroupedByDate","_getNextEventIndexBySlot","sortedEvents","tempIndex","startDate","_getSelectedSlot","pad","_getSortedEvents","uniqueAllEvents","sort","second","isDaySlot","_currentTimeMarkerUpdater","_updateCurrentTimeMarker","_scrollTo","elementOffset","elementOffsetDir","containerScroll","scrollLeft","containerOffsetDir","rightDistance","remove","_isInDateSlot","currentTimeMarker","useLocalTimezone","timezone","dataSource","schema","timezoneOffset","offset","convert","getTimezoneOffset","orientation","currentGroup","utcCurrentTime","toUtcTime","slotElement","slotByStartDate","setUpdateTimer","markerOptions","updateInterval","_currentTimeUpdateTimer","setInterval","bind","editable","_isMobile","_touchEditable","_mouseEditable","on","e","trigger","closest","attr","preventDefault","create","_slotByPosition","pageX","pageY","resourceInfo","eventInfo","endDate","update","threshold","support","mobileOS","android","_addUserEvents","UserEvents","useClickAsTap","browser","edge","filter","tap","_scrolling","location","_editUserEvents","eventElement","target","touchElement","touch","initialTouch","hasClass","mozilla","webkit","version","msie","scrollTop","ceil","selectedDateFormat","selectedShortDateFormat","selectedMobileDateFormat","today","endTime","showWorkHours","eventMinWidth","columnWidth","majorTimeHeaderTemplate","eventTemplate","dateHeaderTemplate","footer","command","messages","defaultRowText","showFullDay","showWorkDay","settings","Template","templateSettings","_eventTmpl","_render","_startDate","_endDate","_calculateSlotRanges","createLayout","_layout","_content","_footer","_setContentWidth","refreshLayout","th","currentTarget","contentWidth","contentTable","minWidth","calculatedWidth","add","slotStartTime","slotEndTime","slotRanges","rangeStart","rangeEnd","_slotRanges","min","max","action","verticalByDate","msMin","msMax","majorTickDivider","isLastMajorSlot","timeColumns","text","groupedView","minorTickSlots","minorTickIndex","className","minorTicks","middleColumn","lastSlotColumn","minorSlotsCount","slice","groupedResources","_groupOrientation","toggleFullDay","currentDate","isWorkDay","columnLevels","rowLevel","rowLevels","day","getDay","append","_addResourceView","addTimeSlotCollection","addDays","_timeSlotGroups","_timeSlotInterval","cell","getTimeSlotCollection","UTC","getFullYear","getMonth","addTimeSlot","visibleEndDate","nextDate","nextDay","previousDate","previousDay","render","_headerColumnCount","data","Query","field","dir","toArray","eventsByResource","_eventsByResource","_renderEvents","_setRowsHeight","_positionEvents","eventsForGroup","eventUid","Array","isArray","eventIndex","_positionEvent","eventBottomOffset","_getBottomRowOffset","verticalGroupCount","rowsCount","rowHeight","timesRow","row","_refreshSlots","isMobile","minOffset","maxOffset","eventOffset","slotsCollection","lastSlot","offsetRight","refresh","parentValue","resource","item","itemParentValue","getter","dataParentValueField","itemIdx","value","_resourceValue","eventsFilteredByResource","operator","groupEqFilter","_isInTimeSlot","slotIndex","_adjustEvent","eventStartTime","_time","eventEndTime","adjustedStartDate","adjustedEndDate","clone","isMultiDayEvent","duration","_continuousEvents","showDelete","destroy","resizable","resize","eventStartDate","eventEndDate","eventResources","ns","singleDay","ariaLabel","_formatEventAriaLabel","angular","dataItem","addEvent","createRows","rowEvents","j","eventLength","_updateEventForSelection","_eventOptionsForMove","_updateEventForResize","set","_updateMoveHint","distance","clonedEvent","eventDuraton","_removeMoveHint","rangeIndex","_moveHint","_updateResizeHint","_removeResizeHint","startRect","_createResizeHint","_resizeHint","format","toString","toLocalDate","selectionByElement","vertical","collectionIndex","backward","prevGroupSlot","nextGroupSlot","newStart","newEnd","_isInRange","move","key","handled","keys","DOWN","UP","LEFT","RIGHT","off","clearInterval","groupOptions","resourceIndex","levels","groupLevel","groupLevelMember","passedChildren","numberOfChildren","_setResourceValue","TimelineWeekView","selectedDate","dayOfWeek","calendarInfo","firstDay","TimelineWorkWeekView","weekStart","map","indexOf","TimelineMonthView","firstDayOfMonth","lastDayOfMonth","jQuery","amdD","require","__webpack_module_cache__","moduleId","cachedModule","Error","__webpack_exports__"],"sources":["C:/Users/abodean/restapi-nodejs/client/app-router/node_modules/@progress/kendo-ui/js/kendo.scheduler.timelineview.js"],"sourcesContent":["/******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 5277:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(f, define) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(81477) ], __WEBPACK_AMD_DEFINE_FACTORY__ = (f),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n})(function() {\n\nvar __meta__ = {\n    id: \"scheduler.timelineview\",\n    name: \"Scheduler Timeline View\",\n    category: \"web\",\n    description: \"The Scheduler Timeline View\",\n    depends: [ \"scheduler.view\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        setTime = kendo.date.setTime,\n        SchedulerView = ui.SchedulerView,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n        extend = $.extend,\n        getDate = kendo.date.getDate,\n        getMilliseconds = kendo.date.getMilliseconds,\n        MS_PER_DAY = kendo.date.MS_PER_DAY,\n        MS_PER_MINUTE = kendo.date.MS_PER_MINUTE,\n        CURRENT_TIME_MARKER_CLASS = \"k-current-time\",\n        CURRENT_TIME_MARKER_ARROW_CLASS = \"k-current-time-arrow\",\n        SCHEDULER_HEADER_WRAP_CLASS = \"k-scheduler-header-wrap\",\n        INVERSE_COLOR_CLASS = \"k-event-inverse\",\n        BORDER_SIZE_COEFF = 0.8666,\n        NS = \".kendoTimelineView\";\n\n    var EVENT_TEMPLATE = kendo.template('<div>' +\n        '<div class=\"k-event-template k-event-time\">#:kendo.format(\"{0:t} - {1:t}\", start, end)#</div>' +\n        '<div class=\"k-event-template\">${title}</div></div>'),\n        DATA_HEADER_TEMPLATE = kendo.template(\"<span class='k-link k-nav-day'>#=kendo.format('{0:m}', date)#</span>\"),\n        EVENT_WRAPPER_STRING = '<div role=\"button\" ' +\n                'aria-label=\"#: ariaLabel #\" ' +\n                'data-#=ns#uid=\"#=uid#\"' +\n                '#if (resources[0]) { #' +\n                    'style=\"background-color:#=resources[0].color#; border-color: #=resources[0].color#\"' +\n                    'class=\"k-event\" ' +\n                '#} else {#' +\n                    'class=\"k-event\"' +\n                '#}#' +\n                '>' +\n                '<span class=\"k-event-actions\">' +\n                    '# if(data.tail) {#' +\n                        '<span class=\"k-icon k-i-arrow-60-left\"></span>' +\n                    '#}#' +\n                    '# if(data.isException()) {#' +\n                        '<span class=\"k-icon k-i-non-recurrence\"></span>' +\n                    '# } else if(data.isRecurring()) {#' +\n                        '<span class=\"k-icon k-i-reload\"></span>' +\n                    '# } #' +\n                '</span>' +\n                '{0}' +\n                '<span class=\"k-event-actions\">' +\n                    '#if (showDelete) {#' +\n                        '<a href=\"\\\\#\" class=\"k-link k-event-delete\" title=\"${data.messages.destroy}\" aria-label=\"${data.messages.destroy}\"><span class=\"k-icon k-i-close\"></span></a>' +\n                    '#}#' +\n                    '# if(data.head) {#' +\n                        '<span class=\"k-icon k-i-arrow-60-right\"></span>' +\n                    '#}#' +\n                '</span>' +\n                '#if(resizable && !data.tail){#' +\n                '<span class=\"k-resize-handle k-resize-w\"></span>' +\n                '#}#' +\n                '#if(resizable && !data.head){#' +\n                '<span class=\"k-resize-handle k-resize-e\"></span>' +\n                '#}#' +\n                '</div>';\n\n    function toInvariantTime(date) {\n        var staticDate = new Date(1980, 1, 1, 0, 0, 0);\n        setTime(staticDate, getMilliseconds(date));\n        return staticDate;\n    }\n\n    function getWorkDays(options) {\n        if (options.workDays && options.workDays.length) {\n            return options.workDays;\n        }\n\n        var workDays = [];\n        var dayIndex = options.workWeekStart % 7;\n        var workWeekEnd = Math.abs(options.workWeekEnd % 7);\n\n        workDays.push(dayIndex);\n\n        while (workWeekEnd != dayIndex) {\n            if (dayIndex > 6 ) {\n                dayIndex -= 7;\n            } else {\n                dayIndex++;\n            }\n            workDays.push(dayIndex);\n        }\n        return workDays;\n    }\n\n    function setColspan(columnLevel) {\n        var count = 0;\n        if (columnLevel.columns) {\n            for (var i = 0; i < columnLevel.columns.length; i++) {\n                count += setColspan(columnLevel.columns[i]);\n            }\n            columnLevel.colspan = count;\n            return count;\n        } else {\n            columnLevel.colspan = 1;\n            return 1;\n        }\n    }\n\n    function collidingEvents(elements, left, right) {\n        var idx,\n            startPosition,\n            overlaps,\n            endPosition;\n\n        for (idx = elements.length - 1; idx >= 0; idx--) {\n            startPosition = elements[idx].rectLeft;\n            endPosition = elements[idx].rectRight;\n\n            overlaps = startPosition <= left && endPosition >= left;\n\n            if (overlaps || (startPosition >= left && endPosition <= right) || (left <= startPosition && right >= startPosition)) {\n                if (startPosition < left) {\n                    left = startPosition;\n                }\n\n                if (endPosition > right) {\n                    right = endPosition;\n                }\n            }\n        }\n\n        return eventsForSlot(elements, left, right);\n    }\n\n    function eventsForSlot(elements, left, right) {\n        var events = [];\n\n        for (var idx = 0; idx < elements.length; idx++) {\n            var event = {\n                rectLeft: elements[idx].rectLeft,\n                rectRight: elements[idx].rectRight\n            };\n\n            if ((event.rectLeft < left && event.rectRight > left) || (event.rectLeft >= left && event.rectRight <= right)) {\n                events.push(elements[idx]);\n            }\n        }\n\n        return events;\n    }\n\n    var TimelineGroupedView = kendo.Class.extend({\n        init: function(view) {\n            this._view = view;\n        },\n\n        _getTimeSlotByPosition: function(x, y, groupIndex) {\n            var group = this._view.groups[groupIndex];\n\n            return group.timeSlotByPosition(x, y);\n        },\n\n        _hideHeaders: function() {\n            var view = this._view;\n\n            view.timesHeader.find(\"table tr\").last().hide(); /*Chrome fix, use CSS selector*/\n            view.datesHeader.find(\"table tr\").last().hide();\n        },\n\n        _setColspan: function(timeColumn) {\n            setColspan(timeColumn);\n        },\n\n        _createRowsLayout: function(resources, rows, groupHeaderTemplate) {\n            var view = this._view;\n\n            return view._createRowsLayout(resources, rows, groupHeaderTemplate);\n        },\n\n        _createVerticalColumnsLayout: function(resources, rows, groupHeaderTemplate, columns) {\n\n            return columns;\n        },\n\n        _createColumnsLayout: function(resources, columns, groupHeaderTemplate) {\n            var view = this._view;\n\n            return view._createColumnsLayout(resources, columns, groupHeaderTemplate);\n        },\n\n        _getRowCount: function() {\n            var view = this._view;\n\n            return view._groupCount();\n        },\n\n        _getGroupsCount: function() {\n            return 1;\n        },\n\n        _addContent: function(dates, columnCount, groupsCount, rowCount, start, end, slotTemplate, isVerticalGrouped) {\n            var view = this._view;\n            var html = '';\n            var options = view.options;\n\n            var appendRow = function(date) {\n                var content = \"\";\n                var classes = \"\";\n                var tmplDate;\n\n                var resources = function(groupIndex) {\n                    return function() {\n                        return view._resourceBySlot({ groupIndex: groupIndex });\n                    };\n                };\n\n                if (kendo.date.isToday(dates[idx])) {\n                    classes += \"k-today\";\n                }\n\n                if (kendo.date.getMilliseconds(date) < kendo.date.getMilliseconds(options.workDayStart) ||\n                    kendo.date.getMilliseconds(date) >= kendo.date.getMilliseconds(options.workDayEnd) ||\n                    !view._isWorkDay(dates[idx])) {\n                    classes += \" k-nonwork-hour\";\n                }\n\n                content += '<td' + (classes !== \"\" ? ' class=\"' + classes + '\"' : \"\") + \">\";\n                tmplDate = kendo.date.getDate(dates[idx]);\n                kendo.date.setTime(tmplDate, kendo.date.getMilliseconds(date));\n\n                content += slotTemplate({ date: tmplDate, resources: resources(isVerticalGrouped ? rowIdx : groupIdx) });\n                content += \"</td>\";\n\n                return content;\n            };\n\n            for (var rowIdx = 0; rowIdx < rowCount; rowIdx++) {\n                html += '<tr>';\n                for (var groupIdx = 0; groupIdx < groupsCount; groupIdx++) {\n                    for (var idx = 0, length = columnCount; idx < length; idx++) {\n                        html += view._forTimeRange(start, end, appendRow);\n                    }\n                }\n                html += \"</tr>\";\n            }\n            return html;\n        },\n\n        _addTimeSlotsCollections: function(groupCount, datesCount, tableRows, interval, isVerticallyGrouped) {\n            var view = this._view;\n            var rowCount = tableRows.length;\n\n            if (isVerticallyGrouped) {\n                rowCount = Math.floor(rowCount / groupCount);\n            }\n\n            for (var groupIndex = 0; groupIndex < groupCount; groupIndex++) {\n                var rowMultiplier = 0;\n                var group = view.groups[groupIndex];\n                var time;\n\n                if (isVerticallyGrouped) {\n                    rowMultiplier = groupIndex;\n                }\n\n                var rowIndex = rowMultiplier * rowCount;\n                var cellMultiplier = 0;\n\n                if (!isVerticallyGrouped) {\n                    cellMultiplier = groupIndex;\n                }\n\n                var cells = tableRows[rowIndex].children;\n                var cellsPerGroup = cells.length / (!isVerticallyGrouped ? groupCount : 1);\n                var cellsPerDay = cellsPerGroup / datesCount;\n\n                for (var dateIndex = 0; dateIndex < datesCount; dateIndex++) {\n                    var cellOffset = dateIndex * cellsPerDay + (cellsPerGroup * cellMultiplier);\n                    time = getMilliseconds(new Date(+view.startTime()));\n\n                    for (var cellIndex = 0; cellIndex < cellsPerDay; cellIndex++) {\n\n                        view._addTimeSlotToCollection(group, cells, cellIndex, cellOffset, dateIndex, time, interval);\n                        time += interval;\n                    }\n                }\n            }\n        },\n\n        _getVerticalGroupCount: function(groupsCount) {\n\n            return groupsCount;\n        },\n\n        _getVerticalRowCount: function(eventGroups, groupIndex, maxRowCount) {\n            var view = this._view;\n\n            return view._isVerticallyGrouped() ? eventGroups[groupIndex].maxRowCount : maxRowCount;\n        },\n\n        _renderEvent: function(eventGroup, event, adjustedEvent, group, range, container) {\n            var view = this._view;\n            var element;\n\n            element = view._createEventElement(adjustedEvent.occurrence, event, range.head || adjustedEvent.head, range.tail || adjustedEvent.tail);\n            element.appendTo(container).css({ top: 0, height: view.options.eventHeight });\n\n            var eventObject = {\n                start: adjustedEvent.occurrence._startTime || adjustedEvent.occurrence.start,\n                end: adjustedEvent.occurrence._endTime || adjustedEvent.occurrence.end,\n                element: element,\n                uid: event.uid,\n                slotRange: range,\n                rowIndex: 0,\n                offsetTop: 0\n            };\n\n            eventGroup.events[event.uid] = eventObject;\n\n            view._inverseEventColor(element);\n            view.addContinuousEvent(group, range, element, event.isAllDay);\n            view._arrangeRows(eventObject, range, eventGroup);\n        },\n\n        _verticalCountForLevel: function(level) {\n            var view = this._view;\n\n            return view._rowCountForLevel(level);\n        },\n\n        _horizontalCountForLevel: function(level) {\n            var view = this._view;\n\n            return view._columnCountForLevel(level);\n        },\n\n        _updateCurrentVerticalTimeMarker: function(ranges, currentTime) {\n            var view = this._view;\n            var elementHtml = \"<div class='\" + CURRENT_TIME_MARKER_CLASS + \"'></div>\";\n            var headerWrap = view.datesHeader.find(\".\" + SCHEDULER_HEADER_WRAP_CLASS);\n            var left = Math.round(ranges[0].innerRect(currentTime, new Date(currentTime.getTime() + 1), false).left);\n            var timesTableMarker = $(elementHtml)\n                    .prependTo(headerWrap)\n                    .addClass(CURRENT_TIME_MARKER_ARROW_CLASS + \"-down\");\n\n            timesTableMarker.css({\n                left: view._adjustLeftPosition(left - (outerWidth(timesTableMarker) * BORDER_SIZE_COEFF / 2)),\n                top: headerWrap.find(\"tr\").last().prev().position().top\n            });\n\n            $(elementHtml).prependTo(view.content).css({\n                left: view._adjustLeftPosition(left),\n                width: \"1px\",\n                height: view.content[0].scrollHeight - 1,\n                top: 0\n            });\n        },\n\n        _changeGroup: function() {\n            return undefined;\n        },\n\n        _prevGroupSlot: function(slot, group, isDay) {\n            var view = this._view;\n\n            if (view._isVerticallyGrouped()) {\n                return slot;\n            } else {\n                var collection = group._collection(0, isDay);\n                return collection.last();\n            }\n        },\n\n        _nextGroupSlot: function(slot, group, isDay) {\n            var view = this._view;\n\n            if (view._isVerticallyGrouped()) {\n                return slot;\n            } else {\n                var collection = group._collection(0, isDay);\n                return collection.first();\n            }\n        },\n\n        _verticalSlots: function(selection, reverse) {\n             var view = this._view;\n\n             return view._changeGroup(selection, reverse);\n        },\n\n         _verticalMethod: function(reverse) {\n\n              return reverse ? \"leftSlot\" : \"rightSlot\";\n         },\n\n         _normalizeVerticalSelection: function() {\n             return undefined;\n         },\n\n         _horizontalSlots: function(selection, group, method, startSlot, endSlot, multiple, reverse) {\n            var view = this._view;\n            var result = {};\n\n            result.startSlot = group[method](startSlot);\n            result.endSlot = group[method](endSlot);\n\n            if (!multiple && view._isHorizontallyGrouped() && (!result.startSlot || !result.endSlot)) {\n                result.startSlot = result.endSlot = view._changeGroup(selection, reverse);\n            }\n\n            return result;\n        },\n\n        _changeVerticalViewPeriod: function() {\n            return false;\n        },\n\n        _changeHorizontalViewPeriod: function(slots, shift, selection, reverse) {\n            var view = this._view;\n\n            if ((!slots.startSlot || !slots.endSlot ) && !shift && view._changeViewPeriod(selection, reverse, false)) {\n                return true;\n            }\n            return false;\n        },\n\n        _updateDirection: function(selection, ranges, shift, reverse) {\n            var view = this._view;\n\n            view._updateDirection(selection, ranges, shift, reverse, true);\n        },\n\n         _createMoveHint: function(range, adjustedEvent) {\n                var view = this._view;\n                var startSlot = range.start;\n\n                var hint = view._createEventElement(adjustedEvent.occurrence ,adjustedEvent.occurrence, false, false);\n\n                hint.addClass(\"k-event-drag-hint\");\n\n                var rect = range.innerRect(adjustedEvent.occurrence.start, adjustedEvent.occurrence.end, view.options.snap);\n                var width = rect.right - rect.left;\n\n                if (width < 0) {\n                    width = 0;\n                }\n\n                var left = view._adjustLeftPosition(rect.left);\n\n                var css = {\n                    left: left,\n                    top: startSlot.offsetTop,\n                    height: startSlot.offsetHeight,\n                    width: width\n                };\n\n                hint.css(css);\n\n                if (adjustedEvent.occurrence.inverseColor) {\n                    hint.addClass(INVERSE_COLOR_CLASS);\n                }\n\n                view._appendMoveHint(hint);\n         },\n\n         _adjustLeftPosition: function(left) {\n            var view = this._view;\n\n            if (view._isRtl) {\n                left -= (view.content[0].scrollWidth - view.content[0].clientWidth);\n            }\n\n            return left;\n         }\n    });\n\n    var TimelineGroupedByDateView = kendo.Class.extend({\n        init: function(view) {\n            this._view = view;\n        },\n\n        _getTimeSlotByPosition: function(x, y, groupIndex) {\n            var group = this._view.groups[groupIndex];\n\n            return group.timeSlotByPosition(x, y, true);\n        },\n\n        _hideHeaders: function() {\n            var view = this._view;\n\n            if (!view._isVerticallyGrouped()) {\n                view.timesHeader.find(\"table tr\").eq(2).hide();\n                view.datesHeader.find(\"table tr\").eq(2).hide();\n            } else {\n                        view.times.find(\".k-last\").hide();\n            }\n        },\n        _setColspan: function() {},\n\n        _createRowsLayout: function(resources, rows, groupHeaderTemplate, columns) {\n            var view = this._view;\n\n            return view._createDateLayout(columns, null, true);\n        },\n\n        _createVerticalColumnsLayout: function(resources, rows, groupHeaderTemplate) {\n            var view = this._view;\n\n            return view._createColumnsLayout(resources, null, groupHeaderTemplate);\n        },\n\n        _createColumnsLayout: function(resources, columns, groupHeaderTemplate, subColumns) {\n            var view = this._view;\n\n            return view._createColumnsLayout(resources, columns, groupHeaderTemplate, subColumns, true);\n        },\n\n        _getRowCount: function(level) {\n            var view = this._view;\n\n            return view._rowCountForLevel(level);\n        },\n\n        _getGroupsCount: function() {\n            var view = this._view;\n\n            return view._groupCount();\n        },\n\n        _addContent: function(dates, columnCount, groupsCount, rowCount, start, end, slotTemplate, isVerticalGrouped) {\n            var view = this._view;\n            var html = '';\n            var options = view.options;\n\n            var appendRow = function(date, isMajorTickColumn, isMiddleColumn, isLastSlotColumn, minorTickColumns, groupIdx) {\n                var content = \"\";\n                var classes = \"\";\n                var tmplDate;\n                var workDateIndex = view._isVerticallyGrouped() ? dateIndex : idx;\n\n                var resources = function(groupIndex) {\n                    return function() {\n                        return view._resourceBySlot({ groupIndex: groupIndex });\n                    };\n                };\n\n                if (kendo.date.isToday(dates[idx])) {\n                    classes += \"k-today\";\n                }\n\n                if (kendo.date.getMilliseconds(date) < kendo.date.getMilliseconds(options.workDayStart) ||\n                    kendo.date.getMilliseconds(date) >= kendo.date.getMilliseconds(options.workDayEnd) ||\n                    !view._isWorkDay(dates[workDateIndex])) {\n                    classes += \" k-nonwork-hour\";\n                }\n\n                content += '<td' + (classes !== \"\" ? ' class=\"' + classes + '\"' : \"\") + \">\";\n                tmplDate = kendo.date.getDate(dates[idx]);\n                kendo.date.setTime(tmplDate, kendo.date.getMilliseconds(date));\n\n                content += slotTemplate({ date: tmplDate, resources: resources(groupIdx) });\n                content += \"</td>\";\n\n                return content;\n            };\n\n            var tempStart = new Date(start),\n                minorTickCount = view.options.minorTickCount,\n                msMajorInterval = view.options.majorTick * MS_PER_MINUTE,\n                msInterval = msMajorInterval / minorTickCount || 1,\n                dateIndex;\n\n            for (var rowIdx = 0; rowIdx < rowCount; rowIdx++) {\n                html += '<tr>';\n\n                 if ((rowIdx % (rowCount / view._dates.length)) === 0) {\n                   dateIndex = (rowIdx / (rowCount / view._dates.length));\n                   tempStart = new Date(view._dates[dateIndex]);\n                   kendo.date.setTime(tempStart, kendo.date.getMilliseconds(start));\n                  }\n\n                for (var idx = 0, length = columnCount; idx < length; idx++) {\n\n                    html += view._forTimeRange(tempStart, end, appendRow, isVerticalGrouped, groupsCount);\n\n                    if (isVerticalGrouped) {\n                    setTime(tempStart, msInterval, false);\n                        break;\n                    }\n                }\n               html += \"</tr>\";\n            }\n\n            return html;\n        },\n\n        _addTimeSlotsCollections: function(groupCount, datesCount, tableRows, interval, isVerticallyGrouped) {\n            var view = this._view;\n            var rowCount = tableRows.length;\n\n             if (isVerticallyGrouped) {\n                rowCount = rowCount / datesCount;\n             }\n\n            for (var dateIndex = 0; dateIndex < datesCount; dateIndex++) {\n                var rowMultiplier = 0;\n                var time;\n\n                if (isVerticallyGrouped) {\n                    rowMultiplier = dateIndex;\n                }\n\n                var rowIndex = rowMultiplier * rowCount;\n                var cellMultiplier = 0;\n                var cells = tableRows[rowIndex].children;\n                var cellsPerGroup = isVerticallyGrouped ? rowCount : cells.length / (datesCount * groupCount);\n                var cellsPerDay = cells.length / datesCount;\n                var cellOffset;\n\n                time = getMilliseconds(new Date(+view.startTime()));\n\n                for (var cellIndex = 0; cellIndex < cellsPerGroup; cellIndex++) {\n                    if (!isVerticallyGrouped) {\n                        cellOffset = (dateIndex * cellsPerDay) + (groupCount * cellIndex);\n                        cellMultiplier++;\n                    } else {\n                        cellOffset = 0;\n                        cells = tableRows[cellIndex + (cellsPerGroup * dateIndex)].children;\n                    }\n\n                    for (var groupIndex = 0; groupIndex < groupCount; groupIndex++) {\n                        var group = view.groups[groupIndex];\n\n                        view._addTimeSlotToCollection(group, cells, groupIndex, cellOffset, dateIndex, time, interval);\n                    }\n                    time += interval;\n                }\n             }\n        },\n\n        _getVerticalGroupCount: function() {\n            var view = this._view;\n\n            return view.content.find(\"tr\").length;\n        },\n\n        _getVerticalRowCount: function(eventGroups, groupIndex, maxRowCount) {\n\n            return maxRowCount;\n        },\n\n        _renderEvent: function(eventGroup, event, adjustedEvent, group, range, container, startIndex, endIndex) {\n            var view = this._view;\n            var element;\n            var eventObjects = [];\n\n            for (var i = range.start.index; i <= range.end.index; i++) {\n                element = view._createEventElement(adjustedEvent.occurrence, event, i !== endIndex, i !== startIndex);\n                element.appendTo(container).css({ top: 0, height: view.options.eventHeight });\n                var currentSlot = group._timeSlotCollections[0]._slots[i];\n                var dateRange = group.timeSlotRanges(currentSlot.start, currentSlot.end, false)[0];\n\n                    var eventObject = {\n                    start: i === startIndex ? adjustedEvent.occurrence._startTime || adjustedEvent.occurrence.start : currentSlot.start,\n                    end: i === endIndex ? adjustedEvent.occurrence._endTime || adjustedEvent.occurrence.end : currentSlot.end,\n                    element: element,\n                    uid: event.uid,\n                    slotRange: dateRange,\n                    rowIndex: 0,\n                    offsetTop: 0\n                };\n\n                eventGroup.events[event.uid] = eventObject;\n                eventObjects.push(eventObject);\n\n                view.addContinuousEvent(group, dateRange, element, event.isAllDay);\n                view._arrangeRows(eventObject, dateRange, eventGroup);\n            }\n            eventGroup.events[event.uid] = eventObjects;\n        },\n\n        _verticalCountForLevel: function(level) {\n            var view = this._view;\n\n            return view._columnCountForLevel(level);\n        },\n\n        _horizontalCountForLevel: function(level, columnLevel) {\n            var view = this._view;\n\n            return view._columnCountForLevel(columnLevel) / view._columnCountForLevel(2);\n        },\n\n        _updateCurrentVerticalTimeMarker: function(ranges,currentTime) {\n            var view = this._view;\n            var firstTimesCell = view.times.find(\"tr\").first().find(\"th\").first();\n            var lastTimesCell = view.times.find(\"tr\").first().find(\"th\").last();\n            var elementHtml = \"<div class='\" + CURRENT_TIME_MARKER_CLASS + \"'></div>\";\n            var timesTableMarker = $(elementHtml).prependTo(view.times);\n            var markerTopPosition = Math.round(ranges[0].innerRect(currentTime, new Date(currentTime.getTime() + 1), false).top);\n            var timesTableMarkerCss = {};\n\n            if (this._isRtl) {\n                timesTableMarkerCss.right = firstTimesCell.position().left + outerHeight(firstTimesCell) - outerHeight(lastTimesCell);\n                timesTableMarker.addClass(CURRENT_TIME_MARKER_ARROW_CLASS + \"-left\");\n            } else {\n                timesTableMarkerCss.left = lastTimesCell.position().left;\n                timesTableMarker.addClass(CURRENT_TIME_MARKER_ARROW_CLASS + \"-right\");\n            }\n\n            timesTableMarkerCss.top = markerTopPosition - (outerWidth(timesTableMarker) * BORDER_SIZE_COEFF / 2);\n\n            timesTableMarker.css(timesTableMarkerCss);\n\n            $(elementHtml).prependTo(view.content).css({\n                top: markerTopPosition,\n                height: \"1px\",\n                right: \"1px\",\n                width: view.content[0].scrollWidth,\n                left: 0\n            });\n        },\n\n        _changeGroup: function(selection, previous, slot) {\n             var view = this._view;\n\n             if (!slot) {\n                selection.groupIndex = previous ? view.groups.length - 1 : 0;\n             }\n        },\n\n         _prevGroupSlot: function(slot) {\n              return slot;\n        },\n\n        _nextGroupSlot: function(slot) {\n              return slot;\n        },\n\n        _changeDate: function(selection, reverse, slot) {\n            var view = this._view;\n            var group = view.groups[selection.groupIndex];\n            var collections, index;\n\n            if (reverse) {\n                  collections = group._getCollections(false);\n                  index = slot.index - 1;\n\n                  if (index >= 0) {\n                      return collections[0]._slots[index];\n                  }\n              } else {\n                  collections = group._getCollections(false);\n                  index = slot.index + 1;\n\n                  if (collections[0] && collections[0]._slots[index]) {\n                      return collections[0]._slots[index];\n                  }\n               }\n        },\n\n        _verticalSlots: function(selection, reverse, slot) {\n            return this._changeDate(selection, reverse, slot);\n        },\n\n        _verticalMethod: function(reverse, multiple) {\n            if (multiple) {\n               return reverse ? \"upSlot\" : \"downSlot\";\n            } else {\n               return reverse ? \"leftSlot\" : \"rightSlot\";\n            }\n        },\n\n        _normalizeVerticalSelection: function(selection, ranges, reverse, multiple) {\n            var view = this._view;\n\n            if (!multiple) {\n                return view._normalizeVerticalSelection(selection, ranges, reverse);\n            }\n\n            return undefined;\n        },\n\n        _horizontalSlots: function(selection, group, method, startSlot, endSlot, multiple, reverse) {\n             var view = this._view;\n             var tempSlot = view._changeGroup(selection, reverse);\n             var result = {};\n\n            if (!tempSlot) {\n                if (!view._isVerticallyGrouped()) {\n                    result.startSlot = group[method](startSlot);\n                    result.endSlot = group[method](endSlot);\n                }\n\n            } else {\n                result.startSlot = result.endSlot = tempSlot;\n            }\n\n            return result;\n        },\n\n        _changeVerticalViewPeriod: function(slots, shift, selection, reverse) {\n            var view = this._view;\n\n            if ((!slots.startSlot || !slots.endSlot) && !shift &&\n                view._changeViewPeriod(selection, reverse, view._isVerticallyGrouped())) {\n                return true;\n            }\n            return false;\n        },\n\n        _changeHorizontalViewPeriod: function(slots, shift, selection, reverse) {\n           var view = this._view;\n\n           if ( view._isVerticallyGrouped()) {\n               return false;\n           }\n\n           if ((!slots.startSlot || !slots.endSlot ) && !shift && view._changeViewPeriod(selection, reverse, false)) {\n                return true;\n            }\n            return false;\n        },\n\n        _updateDirection: function(selection, ranges, shift, reverse) {\n            var view = this._view;\n\n            view._updateDirection(selection, ranges, shift, reverse, !view._isVerticallyGrouped());\n        },\n\n         _createMoveHint: function(range, adjustedEvent) {\n                var view = this._view;\n                var startSlot = range.start;\n                var startEnd = range.end;\n\n                for (var slotIdx = startSlot.index; slotIdx <= startEnd.index; slotIdx++) {\n                    var slot = range.collection._slots[slotIdx];\n                    var hint = view._createEventElement(adjustedEvent.occurrence ,adjustedEvent.occurrence, false, false);\n\n                    hint.addClass(\"k-event-drag-hint\");\n\n                    var css = {\n                        left: slot.offsetLeft + 2,\n                        top: slot.offsetTop,\n                        height: view.options.eventHeight,\n                        width: slot.offsetWidth\n                    };\n\n                    hint.css(css);\n\n                    if (adjustedEvent.occurrence.inverseColor) {\n                        hint.addClass(INVERSE_COLOR_CLASS);\n                    }\n\n                    view._appendMoveHint(hint);\n                }\n         },\n\n         _adjustLeftPosition: function(left) {\n             var view = this._view;\n\n            if (view._isRtl && !view._isVerticallyGrouped()) {\n                left -= (view.content[0].scrollWidth - view.content[0].offsetWidth);\n            }\n\n            return left;\n         }\n });\n\n    kendo.ui.scheduler.TimelineGroupedView = TimelineGroupedView;\n    kendo.ui.scheduler.TimelineGroupedByDateView = TimelineGroupedByDateView;\n\n    var TimelineView = SchedulerView.extend({\n        init: function(element, options) {\n            var that = this;\n\n            SchedulerView.fn.init.call(that, element, options);\n\n            that._groupedView = that._getGroupedView();\n\n            that.title = that.options.title || that.options.name;\n\n            that._workDays = getWorkDays(that.options);\n\n            that._templates();\n\n            that._editable();\n\n            that.calculateDateRange();\n\n            that._groups();\n\n            that._currentTime(true);\n        },\n        name: \"timeline\",\n\n        _isVirtualized: function() {\n            return false;\n        },\n\n        _getGroupedView: function() {\n\n            if (this._isGroupedByDate()) {\n                   return new kendo.ui.scheduler.TimelineGroupedByDateView(this);\n            } else {\n                   return new kendo.ui.scheduler.TimelineGroupedView(this);\n            }\n        },\n\n        _getNextEventIndexBySlot: function(slot, sortedEvents, groupIndex) {\n           if (this._isVerticallyGrouped()) {\n               return kendo.ui.SchedulerView.fn._getNextEventIndexBySlot.call(this, slot, sortedEvents, groupIndex);\n           }\n\n            var tempIndex = 0;\n\n            for (var i = 0; i < sortedEvents.length; i++) {\n                if (slot.startDate() > sortedEvents[i].start.startDate()) {\n                    tempIndex++;\n                    continue;\n                }\n\n                if (slot.startDate().getTime() === sortedEvents[i].start.startDate().getTime() &&\n                 groupIndex > sortedEvents[i].start.groupIndex) {\n                      tempIndex++;\n                      continue;\n                }\n\n                 break;\n\n            }\n            return tempIndex;\n        },\n\n        _getSelectedSlot: function(slot, sortedEvents, event, idx, pad, prev) {\n            if (this._isVerticallyGrouped()) {\n               return kendo.ui.SchedulerView.fn._getSelectedSlot.call(this, slot, sortedEvents, event, idx, pad, prev);\n            }\n\n            return slot;\n        },\n\n        _getSortedEvents: function(uniqueAllEvents) {\n            if (this._isVerticallyGrouped()) {\n               return kendo.ui.SchedulerView.fn._getSortedEvents.call(this, uniqueAllEvents);\n            }\n\n            return uniqueAllEvents.sort(function(first, second) {\n                var result = first.start.startDate().getTime() - second.start.startDate().getTime();\n\n                if (result === 0) {\n                    if (first.start.isDaySlot && !second.start.isDaySlot) {\n                            result = -1;\n                    }\n\n                    if (!first.start.isDaySlot && second.start.isDaySlot) {\n                            result = 1;\n                    }\n                }\n\n                if (result === 0) {\n                    result = first.start.groupIndex - second.start.groupIndex;\n                }\n\n                if (result === 0) {\n                    result = $(first.element).index() - $(second.element).index();\n                }\n\n                return result;\n            });\n        },\n\n        _currentTimeMarkerUpdater: function() {\n            this._updateCurrentTimeMarker(new Date());\n        },\n\n        _scrollTo: function(element, container) {\n            SchedulerView.fn._scrollTo.call(this, element, container);\n\n            var elementOffset = element.offsetLeft,\n                elementOffsetDir = element.offsetWidth,\n                containerScroll = container.scrollLeft,\n                containerOffsetDir = container.clientWidth,\n                rightDistance = elementOffset + elementOffsetDir,\n                result = 0;\n\n                if (containerScroll > elementOffset) {\n                    result = elementOffset;\n                } else if (rightDistance > (containerScroll + containerOffsetDir)) {\n                    if (elementOffsetDir <= containerOffsetDir) {\n                        result = (rightDistance - containerOffsetDir);\n                    } else {\n                        result = elementOffset;\n                    }\n                } else {\n                    result = containerScroll;\n                }\n                container.scrollLeft = result;\n        },\n\n        _updateCurrentTimeMarker: function(currentTime) {\n            var options = this.options;\n\n            this.datesHeader.find(\".\" + CURRENT_TIME_MARKER_CLASS).remove();\n            this.times.find(\".\" + CURRENT_TIME_MARKER_CLASS).remove();\n            this.content.find(\".\" + CURRENT_TIME_MARKER_CLASS).remove();\n\n            if (!this._isInDateSlot({ start: currentTime, end: currentTime })) {\n                return;\n            }\n\n            if (options.currentTimeMarker.useLocalTimezone === false) {\n                var timezone = options.dataSource.options.schema.timezone;\n\n                if (options.dataSource && timezone) {\n                    var timezoneOffset = kendo.timezone.offset(currentTime, timezone);\n                    currentTime = kendo.timezone.convert(currentTime, currentTime.getTimezoneOffset(), timezoneOffset);\n                }\n            }\n\n            var groupsCount = !options.group || options.group.orientation == \"vertical\" ? 1 : this.groups.length;\n\n            for (var groupIndex = 0; groupIndex < groupsCount; groupIndex++) {\n                var currentGroup = this.groups[groupIndex];\n\n                if (!currentGroup) {\n                    return;\n                }\n\n                var utcCurrentTime = kendo.date.toUtcTime(currentTime);\n                var ranges = currentGroup.timeSlotRanges(utcCurrentTime, utcCurrentTime + 1);\n\n                if (ranges.length === 0) {\n                    return;\n                }\n\n                var collection = ranges[0].collection;\n                var slotElement = collection.slotByStartDate(currentTime);\n\n                if (slotElement) {\n\n                    if (this._isVerticallyGrouped()) {\n                        this._groupedView._updateCurrentVerticalTimeMarker(ranges,currentTime);\n                    } else {\n                        var elementHtml = \"<div class='\" + CURRENT_TIME_MARKER_CLASS + \"'></div>\";\n                        var headerWrap = this.datesHeader.find(\".\" + SCHEDULER_HEADER_WRAP_CLASS);\n                        var left = Math.round(ranges[0].innerRect(currentTime, new Date(currentTime.getTime() + 1), false).left);\n                        var timesTableMarker = $(elementHtml)\n                                .prependTo(headerWrap)\n                                .addClass(CURRENT_TIME_MARKER_ARROW_CLASS + \"-down\");\n\n                        timesTableMarker.css({\n                            left: this._adjustLeftPosition(left - (outerWidth(timesTableMarker) * BORDER_SIZE_COEFF / 2)),\n                            top: headerWrap.find(\"tr\").last().prev().position().top\n                        });\n\n                        $(elementHtml).prependTo(this.content).css({\n                            left: this._adjustLeftPosition(left),\n                            width: \"1px\",\n                            height: this.content[0].scrollHeight - 1,\n                            top: 0\n                        });\n                    }\n                }\n            }\n        },\n\n        _adjustLeftPosition: function(left) {\n            return this._groupedView._adjustLeftPosition(left);\n        },\n\n        _currentTime: function(setUpdateTimer) {\n            var that = this;\n            var markerOptions = that.options.currentTimeMarker;\n\n            if (markerOptions !== false && markerOptions.updateInterval !== undefined) {\n                that._currentTimeMarkerUpdater();\n\n                if (setUpdateTimer) {\n                    that._currentTimeUpdateTimer = setInterval(this._currentTimeMarkerUpdater.bind(that), markerOptions.updateInterval);\n                }\n            }\n        },\n\n        _editable: function() {\n            if (this.options.editable) {\n                if (this._isMobile()) {\n                    this._touchEditable();\n                } else {\n                    this._mouseEditable();\n                }\n            }\n        },\n\n        _mouseEditable: function() {\n            var that = this;\n            that.element.on(\"click\" + NS, \".k-event a:has(.k-i-close)\", function(e) {\n                that.trigger(\"remove\", { uid: $(this).closest(\".k-event\").attr(kendo.attr(\"uid\")) });\n                e.preventDefault();\n            });\n\n            if (that.options.editable.create !== false) {\n                that.element.on(\"dblclick\" + NS, \".k-scheduler-content td\", function(e) {\n                    var slot = that._slotByPosition(e.pageX, e.pageY);\n\n                    if (slot) {\n                        var resourceInfo = that._resourceBySlot(slot);\n                        that.trigger(\"add\", { eventInfo: extend({ start: slot.startDate(), end: slot.endDate() }, resourceInfo) });\n                    }\n\n                    e.preventDefault();\n                });\n            }\n\n            if (that.options.editable.update !== false) {\n                that.element.on(\"dblclick\" + NS, \".k-event\", function(e) {\n                    that.trigger(\"edit\", { uid: $(this).closest(\".k-event\").attr(kendo.attr(\"uid\")) });\n                    e.preventDefault();\n                });\n            }\n        },\n\n        _touchEditable: function() {\n            var that = this;\n            var threshold = 0;\n\n            if (kendo.support.mobileOS.android) {\n                threshold = 5;\n            }\n\n            if (that.options.editable.create !== false) {\n                that._addUserEvents = new kendo.UserEvents(that.element, {\n                    threshold: threshold,\n                    useClickAsTap: !kendo.support.browser.edge,\n                    filter: \".k-scheduler-content td\",\n                    tap: function(e) {\n                        if (that._scrolling) {\n                            return;\n                        }\n                        var x = e.x.location !== undefined ? e.x.location : e.x;\n                        var y = e.y.location !== undefined ? e.y.location : e.y;\n                        var slot = that._slotByPosition(x, y);\n\n                        if (slot) {\n                            var resourceInfo = that._resourceBySlot(slot);\n                            that.trigger(\"add\", { eventInfo: extend({ start: slot.startDate(), end: slot.endDate() }, resourceInfo) });\n                        }\n\n                        e.preventDefault();\n                    }\n                });\n            }\n\n            if (that.options.editable.update !== false) {\n                that._editUserEvents = new kendo.UserEvents(that.element, {\n                    threshold: threshold,\n                    useClickAsTap: !kendo.support.browser.edge,\n                    filter: \".k-event\",\n                    tap: function(e) {\n                        if (that._scrolling) {\n                            return;\n                        }\n                        var eventElement = $(e.target).closest(\".k-event\");\n                        var touchElement = $(e.touch.initialTouch);\n\n                        if (touchElement.hasClass(\"k-i-close\")) {\n                            that.trigger(\"remove\", { uid: eventElement.attr(kendo.attr(\"uid\")) });\n                        } else if (!eventElement.hasClass(\"k-event-active\")) {\n                            that.trigger(\"edit\", { uid: eventElement.attr(kendo.attr(\"uid\")) });\n                        }\n\n                        e.preventDefault();\n                    }\n                });\n            }\n        },\n\n        _slotByPosition: function(x, y) {\n            var slot;\n            var content = this.content;\n            var offset = content.offset();\n            var groupIndex;\n\n            x -= offset.left;\n            y -= offset.top;\n\n            if (this._isRtl) {\n                var browser = kendo.support.browser;\n\n                if (browser.mozilla || (browser.webkit && browser.version >= 85)) {\n                     x += (content[0].scrollWidth - content[0].offsetWidth);\n                     x += content[0].scrollLeft;\n                } else if (browser.msie) {\n                     x -= kendo.scrollLeft(content);\n                     x += content[0].scrollWidth - content[0].offsetWidth;\n                } else if (browser.webkit) {\n                     x += content[0].scrollLeft;\n                }\n            } else {\n                x += content[0].scrollLeft;\n            }\n\n            y += content[0].scrollTop;\n\n            x = Math.ceil(x);\n            y = Math.ceil(y);\n\n            for (groupIndex = 0; groupIndex < this.groups.length; groupIndex++) {\n\n                 slot = this._groupedView._getTimeSlotByPosition(x, y, groupIndex);\n\n                 if (slot) {\n                     return slot;\n                 }\n            }\n\n            return null;\n        },\n\n        options: {\n            name: \"TimelineView\",\n            title: \"Timeline\",\n            selectedDateFormat: \"{0:D}\",\n            selectedShortDateFormat: \"{0:d}\",\n            selectedMobileDateFormat: \"{0:MMM dd}\",\n            date: kendo.date.today(),\n            startTime: kendo.date.today(),\n            endTime: kendo.date.today(),\n            showWorkHours: false,\n            minorTickCount: 2,\n            editable: true,\n            workDayStart: new Date(1980, 1, 1, 8, 0, 0),\n            workDayEnd: new Date(1980, 1, 1, 17, 0, 0),\n            workWeekStart: 1,\n            workWeekEnd: 5,\n            majorTick: 60,\n            eventHeight: 25,\n            eventMinWidth: 0,\n            columnWidth: 100,\n            groupHeaderTemplate: \"#=text#\",\n            majorTimeHeaderTemplate: \"#=kendo.toString(date, 't')#\",\n            slotTemplate: \"&nbsp;\",\n            eventTemplate: EVENT_TEMPLATE,\n            dateHeaderTemplate: DATA_HEADER_TEMPLATE,\n            footer: {\n                command: \"workDay\"\n            },\n            currentTimeMarker: {\n                updateInterval: 10000,\n                useLocalTimezone: true\n            },\n            messages: {\n                defaultRowText: \"All events\",\n                showFullDay: \"Show full day\",\n                showWorkDay: \"Show business hours\"\n            }\n        },\n\n        events: [\"remove\", \"add\", \"edit\"],\n\n        _templates: function() {\n            var options = this.options,\n                settings = extend({}, kendo.Template, options.templateSettings);\n\n            this.eventTemplate = this._eventTmpl(options.eventTemplate, EVENT_WRAPPER_STRING);\n            this.majorTimeHeaderTemplate = kendo.template(options.majorTimeHeaderTemplate, settings);\n            this.dateHeaderTemplate = kendo.template(options.dateHeaderTemplate, settings);\n            this.slotTemplate = kendo.template(options.slotTemplate, settings);\n            this.groupHeaderTemplate = kendo.template(options.groupHeaderTemplate, settings);\n        },\n\n        _render: function(dates) {\n            var that = this;\n\n            dates = dates || [];\n\n            that._dates = dates;\n\n            that._startDate = dates[0];\n\n            that._endDate = dates[(dates.length - 1) || 0];\n\n            that._calculateSlotRanges();\n\n            that.createLayout(that._layout(dates));\n\n            that._content(dates);\n\n            that._footer();\n\n            that._setContentWidth();\n\n            that.refreshLayout();\n\n            that.datesHeader.on(\"click\" + NS, \".k-nav-day\", function(e) {\n                var th = $(e.currentTarget).closest(\"th\");\n\n                var slot = that._slotByPosition(th.offset().left, that.content.offset().top);\n\n                that.trigger(\"navigate\", { view: \"timeline\", date: slot.startDate() });\n            });\n\n            that._groupedView._hideHeaders();\n        },\n\n        _setContentWidth: function() {\n            var content = this.content;\n            var contentWidth = content.width();\n            var contentTable = this.content.find(\"table\");\n            var columnCount = contentTable.find(\"tr\").first().children().length;\n\n            var minWidth = 100;\n            var calculatedWidth = columnCount * this.options.columnWidth;\n\n            if (contentWidth < calculatedWidth) {\n                minWidth = Math.ceil((calculatedWidth / contentWidth) * 100);\n            }\n\n            contentTable.add(this.datesHeader.find(\"table\"))\n                .css(\"width\", minWidth + \"%\");\n        },\n\n        _calculateSlotRanges: function() {\n            var dates = this._dates;\n            var slotStartTime = this.startTime();\n            var slotEndTime = this.endTime();\n\n            slotEndTime = getMilliseconds(slotEndTime);\n            slotStartTime = getMilliseconds(slotStartTime);\n\n            if (slotEndTime === slotStartTime) {\n                slotEndTime += MS_PER_DAY - 1;\n            } else if (slotEndTime < slotStartTime) {\n                slotEndTime += MS_PER_DAY;\n            }\n\n            var slotRanges = [];\n            for (var i = 0; i < dates.length; i++) {\n                var rangeStart = getDate(dates[i]);\n                setTime(rangeStart, slotStartTime);\n\n                var rangeEnd = getDate(dates[i]);\n                setTime(rangeEnd, slotEndTime);\n\n                slotRanges.push({\n                    start: kendo.date.toUtcTime(rangeStart),\n                    end: kendo.date.toUtcTime(rangeEnd)\n                });\n            }\n\n            this._slotRanges = slotRanges;\n        },\n\n        _forTimeRange: function(min, max, action, verticalByDate, groupsCount) {\n            min = toInvariantTime(min); //convert the date to 1/2/1980 and sets the time\n            max = toInvariantTime(max);\n\n            var that = this,\n                msMin = getMilliseconds(min),\n                msMax = getMilliseconds(max),\n                minorTickCount = that.options.minorTickCount,\n                msMajorInterval = that.options.majorTick * MS_PER_MINUTE,\n                msInterval = msMajorInterval / minorTickCount || 1,\n                start = new Date(+min),\n                idx = 0, length,\n                html = \"\";\n\n            length = MS_PER_DAY / msInterval;\n\n            if (msMin != msMax) {\n                if (msMin > msMax) {\n                    msMax += MS_PER_DAY;\n                }\n\n                length = ((msMax - msMin) / msInterval);\n            }\n\n            length = verticalByDate ? 1 : Math.round(length);\n\n            if (groupsCount) {\n                length = length * groupsCount;\n            }\n\n            for (; idx < length; idx++) {\n                var majorTickDivider = idx % (msMajorInterval / msInterval);\n                var isMajorTickColumn = majorTickDivider === 0;\n                var isMiddleColumn = majorTickDivider < minorTickCount - 1;\n                var isLastSlotColumn = majorTickDivider === minorTickCount - 1;\n                var minorTickColumns = minorTickCount;\n\n                if (length % minorTickCount !== 0) {\n                    var isLastMajorSlot = (length - (idx + 1)) < minorTickCount;\n                    if (isMajorTickColumn && isLastMajorSlot) {\n                        minorTickColumns = length % minorTickCount;\n                    }\n                }\n\n                html += action(start, isMajorTickColumn, isMiddleColumn, isLastSlotColumn, minorTickColumns, idx % groupsCount);\n\n                if (!verticalByDate) {\n                    if (groupsCount) {\n                        if ((idx % groupsCount) === groupsCount - 1) {\n                            setTime(start, msInterval, false);\n                        }\n                    } else {\n                        setTime(start, msInterval, false);\n                    }\n                }\n            }\n\n            return html;\n        },\n\n        _layout: function(dates) {\n            var timeColumns = [];\n            var columns = [];\n            var that = this;\n            var rows = [{ text: that.options.messages.defaultRowText }];\n            var groupedView = that._groupedView;\n\n            var minorTickSlots = [];\n            for (var minorTickIndex = 0; minorTickIndex < that.options.minorTickCount; minorTickIndex++) {\n                minorTickSlots.push({\n                    text: \"&#8203;\",\n                    className: \"k-last\",\n                    minorTicks: true\n                });\n            }\n\n            this._forTimeRange(that.startTime(), that.endTime(), function(date, majorTick, middleColumn, lastSlotColumn, minorSlotsCount) {\n                var template = that.majorTimeHeaderTemplate;\n\n                if (majorTick) {\n                    var timeColumn = {\n                        text: template({ date: date }),\n                        className: lastSlotColumn ? \"k-slot-cell\" : \"\",\n                        columns: minorTickSlots.slice(0, minorSlotsCount)\n                    };\n\n                    groupedView._setColspan(timeColumn);\n\n                    timeColumns.push(timeColumn);\n                }\n            });\n\n            for (var idx = 0; idx < dates.length; idx++) {\n                columns.push({\n                    text: that.dateHeaderTemplate({ date: dates[idx] }),\n                    className: \"k-slot-cell\",\n                    columns: timeColumns.slice(0)\n                });\n            }\n\n            var resources = this.groupedResources;\n            if (resources.length) {\n                if (this._groupOrientation() === \"vertical\") {\n                    rows = groupedView._createRowsLayout(resources, null, this.groupHeaderTemplate, columns);\n                    columns = groupedView._createVerticalColumnsLayout(resources, null, this.groupHeaderTemplate, columns);\n\n                } else {\n                    columns = groupedView._createColumnsLayout(resources, columns, this.groupHeaderTemplate, columns);\n                }\n            }\n\n            return {\n                columns: columns,\n                rows: rows\n            };\n        },\n\n        _footer: function() {\n            var options = this.options;\n\n            if (options.footer !== false) {\n                var html = '<div class=\"k-scheduler-footer k-toolbar\">';\n\n                var command = options.footer.command;\n\n                if (this._isMobile()) {\n                    html += '<span class=\"k-scheduler-today\"><a tabindex=\"-1\" href=\"#\" class=\"k-link\">';\n                    html += options.messages.today + '</a></span>';\n                }\n\n                if (command && command === \"workDay\") {\n                    if (this._isMobile()) {\n                        html += '<span class=\"k-scheduler-fullday\"><a tabindex=\"-1\" href=\"#\" class=\"k-link\">';\n                        html += (options.showWorkHours ? options.messages.showFullDay : options.messages.showWorkDay) + '</a></span>';\n                    } else {\n                        html += '<button tabindex=\"-1\" type=\"button\" class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-scheduler-fullday\">';\n                            html += '<span class=\"k-button-icon k-icon k-i-clock\"></span>';\n                            html += '<span class=\"k-button-text\">';\n                                html += (options.showWorkHours ? options.messages.showFullDay : options.messages.showWorkDay);\n                            html += '</span>';\n                        html += '</button>';\n                    }\n                }\n\n                html += \"</div>\";\n\n                this.footer = $(html).appendTo(this.element);\n\n                var that = this;\n\n                this.footer.on(\"click\" + NS, \".k-scheduler-fullday\", function(e) {\n                    e.preventDefault();\n                    that.toggleFullDay();\n                });\n\n                this.footer.on(\"click\" + NS, \".k-scheduler-today\", function(e) {\n                    e.preventDefault();\n                    var timezone = that.options.timezone;\n                    var action = \"today\";\n                    var currentDate = new Date();\n                    var date;\n\n                    if (timezone) {\n                        var timezoneOffset = kendo.timezone.offset(currentDate, timezone);\n                        date = kendo.timezone.convert(currentDate, currentDate.getTimezoneOffset(), timezoneOffset);\n                    } else {\n                        date = currentDate;\n                    }\n\n                    that.trigger(\"navigate\", { view: that.name || options.name, action: action, date: date });\n                });\n            }\n        },\n\n        toggleFullDay: function() {\n            var options = this.options;\n\n            this.trigger(\"navigate\", { view: this.name || options.name, date: options.date, isWorkDay: !options.showWorkHours });\n        },\n\n        _columnCountForLevel: function(level) {\n            var columnLevel = this.columnLevels[level];\n            return columnLevel ? columnLevel.length : 0;\n        },\n\n        _rowCountForLevel: function(level) {\n            var rowLevel = this.rowLevels[level];\n            return rowLevel ? rowLevel.length : 0;\n        },\n\n        _isWorkDay: function(date) {\n            var day = date.getDay();\n            var workDays = this._workDays;\n\n            for (var i = 0; i < workDays.length; i++) {\n                if (workDays[i] === day) {\n                    return true;\n                }\n            }\n            return false;\n        },\n\n        _content: function(dates) {\n            var that = this;\n            var start = that.startTime();\n            var end = this.endTime();\n            var groupsCount = 1;\n            var rowCount = 1;\n            var columnCount = dates.length;\n            var html = '';\n            var resources = this.groupedResources;\n            var slotTemplate = this.slotTemplate;\n            var isVerticalGrouped = false;\n\n            if (resources.length) {\n                isVerticalGrouped = that._groupOrientation() === \"vertical\";\n\n                if (isVerticalGrouped) {\n                    rowCount = that._groupedView._getRowCount(this.rowLevels.length - 1);\n                    groupsCount = that._groupedView._getGroupsCount();\n                } else {\n                    groupsCount = that._groupCount();\n                }\n            }\n\n            html += '<tbody>';\n            html += that._groupedView._addContent(dates, columnCount, groupsCount, rowCount, start, end, slotTemplate, isVerticalGrouped);\n            html += '</tbody>';\n\n            this.content.find(\"table\").append(html);\n        },\n\n        _groups: function() {\n            var groupCount = this._groupCount();\n            var dates = this._dates;\n            var columnCount = dates.length;\n\n            this.groups = [];\n\n            for (var idx = 0; idx < groupCount; idx++) {\n                var view = this._addResourceView(idx);\n\n                var start = dates[0];\n                var end = dates[(dates.length - 1) || 0];\n\n                var startTime = getMilliseconds(this.startTime());\n                var endTime = getMilliseconds(this.endTime());\n\n                if (startTime !== 0 && endTime <= startTime) {\n                    start = getDate(start);\n                    setTime(start, startTime);\n\n                    end = getDate(end);\n                    setTime(end, endTime);\n                }\n\n                view.addTimeSlotCollection(start, kendo.date.addDays(end, 1));\n            }\n\n            this._timeSlotGroups(groupCount, columnCount);\n        },\n\n        _isHorizontallyGrouped: function() {\n            return this.groupedResources.length && this._groupOrientation() === \"horizontal\";\n        },\n\n        _timeSlotGroups: function(groupCount, datesCount) {\n            var interval = this._timeSlotInterval();\n            var isVerticallyGrouped = this._isVerticallyGrouped();\n            var tableRows = this.content.find(\"tr\");\n\n            this._groupedView._addTimeSlotsCollections(groupCount, datesCount, tableRows, interval, isVerticallyGrouped);\n\n        },\n\n        _addTimeSlotToCollection: function(group, cells, cellIndex, cellOffset, dateIndex, time, interval) {\n              var cell = cells[cellIndex + cellOffset];\n              var collection = group.getTimeSlotCollection(0);\n              var currentDate = this._dates[dateIndex];\n              var currentTime = Date.UTC(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate());\n              var start = currentTime + time;\n              var end = start + interval;\n\n              collection.addTimeSlot(cell, start, end, true);\n        },\n\n        startDate: function() {\n            return this._startDate;\n        },\n\n        endDate: function() {\n            return this._endDate;\n        },\n\n        visibleEndDate: function() {\n            var startTime = getMilliseconds(this.startTime());\n            var endTime = getMilliseconds(this.endTime());\n            var endDate = this.endDate();\n\n            if (startTime !== 0 && endTime <= startTime) {\n                endDate = kendo.date.addDays(endDate, 1);\n            }\n\n            return endDate;\n        },\n\n        startTime: function() {\n            var options = this.options;\n            return options.showWorkHours ? options.workDayStart : options.startTime;\n        },\n\n        endTime: function() {\n            var options = this.options;\n            return options.showWorkHours ? options.workDayEnd : options.endTime;\n        },\n\n        _timeSlotInterval: function() {\n            var options = this.options;\n            return (options.majorTick / options.minorTickCount) * MS_PER_MINUTE;\n        },\n\n        nextDate: function() {\n            return kendo.date.nextDay(this.endDate());\n        },\n\n        previousDate: function() {\n            return kendo.date.previousDay(this.startDate());\n        },\n\n        calculateDateRange: function() {\n            this._render([this.options.date]);\n        },\n\n        render: function(events) {\n            this._headerColumnCount = 0;\n\n            this._groups();\n\n            this.element.find(\".k-event\").remove();\n\n            events = new kendo.data.Query(events)\n                .sort([{ field: \"start\", dir: \"asc\" },{ field: \"end\", dir: \"desc\" }])\n                .toArray();\n\n            var eventsByResource = [];\n\n            this._eventsByResource(events, this.groupedResources, eventsByResource);\n\n            var eventGroups = [];\n            var maxRowCount = 0;\n\n            for (var groupIndex = 0; groupIndex < eventsByResource.length; groupIndex++) {\n                var eventGroup = {\n                    groupIndex: groupIndex,\n                    maxRowCount: 0,\n                    events: {}\n                };\n\n                eventGroups.push(eventGroup);\n\n                this._renderEvents(eventsByResource[groupIndex], groupIndex, eventGroup);\n\n                if (maxRowCount < eventGroup.maxRowCount) {\n                    maxRowCount = eventGroup.maxRowCount;\n                }\n            }\n\n            this._setRowsHeight(eventGroups, eventsByResource.length, maxRowCount);\n\n            this._positionEvents(eventGroups, eventsByResource.length);\n\n            this._currentTime(false);\n\n            this.trigger(\"activate\");\n        },\n\n        _positionEvents: function(eventGroups, groupsCount) {\n            for (var groupIndex = 0; groupIndex < groupsCount; groupIndex++) {\n                var eventsForGroup = eventGroups[groupIndex].events;\n                for (var eventUid in eventsForGroup) {\n                    var eventObject = eventsForGroup[eventUid];\n                    if (Array.isArray(eventObject)) {\n                        for (var eventIndex = 0; eventIndex < eventObject.length; eventIndex++) {\n                            this._positionEvent(eventObject[eventIndex]);\n                        }\n                    } else {\n                        this._positionEvent(eventObject);\n                    }\n                }\n            }\n        },\n\n        _setRowsHeight: function(eventGroups, groupsCount, maxRowCount) {\n            var eventHeight = this.options.eventHeight;\n            var eventBottomOffset = this._getBottomRowOffset();\n            var groupedView = this._groupedView;\n            var verticalGroupCount = groupedView._getVerticalGroupCount(groupsCount);\n\n            groupsCount = this._isVerticallyGrouped() ? verticalGroupCount : 1;\n\n            for (var groupIndex = 0; groupIndex < groupsCount; groupIndex++) {\n                var rowsCount = groupedView._getVerticalRowCount(eventGroups, groupIndex, maxRowCount);\n\n                rowsCount = rowsCount ? rowsCount : 1;\n\n                var rowHeight = ((eventHeight + 2) * rowsCount) + eventBottomOffset;\n                var timesRow = $(this.times.find(\"tr\")[groupIndex]);\n                var row = $(this.content.find(\"tr\")[groupIndex]);\n\n                timesRow.height(rowHeight);\n                row.height(rowHeight);\n            }\n\n            this._setContentWidth();\n            this.refreshLayout();\n            this._refreshSlots();\n        },\n\n        _getBottomRowOffset: function() {\n            var eventBottomOffset = this.options.eventHeight * 0.50;\n            var isMobile = this._isMobile();\n            var minOffset;\n            var maxOffset;\n\n            if (isMobile) {\n                minOffset = 30;\n                maxOffset = 60;\n            } else {\n                minOffset = 15;\n                maxOffset = 30;\n            }\n\n            if (eventBottomOffset > maxOffset) {\n                eventBottomOffset = maxOffset;\n            } else if (eventBottomOffset < minOffset) {\n                eventBottomOffset = minOffset;\n            }\n\n            return eventBottomOffset;\n        },\n\n        _positionEvent: function(eventObject) {\n            var eventHeight = this.options.eventHeight;\n            var eventOffset = 2;\n            var rect = eventObject.slotRange.innerRect(eventObject.start, eventObject.end, false);\n            var left = this._adjustLeftPosition(rect.left);\n            var width = rect.right - rect.left;\n\n            if (width < 0) {\n                width = 0;\n            }\n\n            if (width < this.options.eventMinWidth) {\n                var slotsCollection = eventObject.slotRange.collection;\n                var lastSlot = slotsCollection._slots[slotsCollection._slots.length - 1];\n                var offsetRight = lastSlot.offsetLeft + lastSlot.offsetWidth;\n\n                width = this.options.eventMinWidth;\n\n                if (offsetRight < left + width) {\n                    width = offsetRight - rect.left;\n                }\n            }\n\n            eventObject.element.css({\n                top: eventObject.slotRange.start.offsetTop + eventObject.rowIndex * (eventHeight + eventOffset) + \"px\",\n                left: left,\n                width: width\n            });\n        },\n\n        _refreshSlots: function() {\n            for (var groupIndex = 0; groupIndex < this.groups.length; groupIndex++) {\n                this.groups[groupIndex].refresh();\n            }\n        },\n\n        _eventsByResource: function(events, resources, result, parentValue) {\n            var resource = resources[0];\n\n            if (resource) {\n                var view = resource.dataSource.view();\n\n                view = view.filter(function(item) {\n                    var itemParentValue = kendo.getter(resource.dataParentValueField)(item);\n\n                    return itemParentValue === null || itemParentValue === undefined || itemParentValue === parentValue;\n                });\n\n                for (var itemIdx = 0; itemIdx < view.length; itemIdx++) {\n                    var value = this._resourceValue(resource, view[itemIdx]);\n\n                    var eventsFilteredByResource = new kendo.data.Query(events).filter({ field: resource.field, operator: SchedulerView.groupEqFilter(value) }).toArray();\n\n                    if (resources.length > 1) {\n                        this._eventsByResource(eventsFilteredByResource, resources.slice(1), result, value);\n                    } else {\n                        result.push(eventsFilteredByResource);\n                    }\n                }\n            } else {\n                result.push(events);\n            }\n        },\n\n        _isInDateSlot: function(event) {\n            var startTime = event.start;\n            var endTime = event.end;\n            var rangeStart = getDate(this._startDate);\n            var rangeEnd = kendo.date.addDays(getDate(this.visibleEndDate()), 1);\n\n            if (startTime < rangeEnd && rangeStart <= endTime) {\n                return true;\n            }\n            return false;\n        },\n\n        _isInTimeSlot: function(event) {\n            var startTime = event._startTime || kendo.date.toUtcTime(event.start);\n            var endTime = event._endTime || kendo.date.toUtcTime(event.end);\n\n            var slotRanges = this._slotRanges;\n\n            if (startTime === endTime) {\n                endTime = endTime + 1;\n            }\n\n            for (var slotIndex = 0; slotIndex < slotRanges.length; slotIndex++) {\n                if (startTime < slotRanges[slotIndex].end && slotRanges[slotIndex].start < endTime) {\n                    return true;\n                }\n            }\n            return false;\n        },\n\n        _adjustEvent: function(event) {\n            var start = event.start;\n            var end = event.end;\n            var eventStartTime = event._time(\"start\");\n            var eventEndTime = event._time(\"end\");\n            var startTime = getMilliseconds(this.startTime());\n            var endTime = getMilliseconds(this.endTime());\n            var adjustedStartDate = null;\n            var adjustedEndDate = null;\n            var occurrence;\n            var head = false;\n            var tail = false;\n\n            if (event.isAllDay) {\n                start = getDate(start);\n                eventStartTime = 0;\n\n                end = getDate(end);\n                eventEndTime = MS_PER_DAY;\n                adjustedEndDate = kendo.date.addDays(end, 1);\n            }\n\n            if (endTime === 0) {\n                endTime = MS_PER_DAY;\n            }\n\n            if (endTime <= startTime) {\n                if (eventStartTime < startTime && eventStartTime >= endTime) {\n                    adjustedStartDate = getDate(start);\n                    setTime(adjustedStartDate, startTime);\n                    tail = true;\n                }\n\n                if (eventEndTime > endTime && eventEndTime <= startTime) {\n                    adjustedEndDate = getDate(end);\n                    setTime(adjustedEndDate, endTime);\n                    head = true;\n                }\n            } else {\n                if (startTime > eventStartTime) {\n                    adjustedStartDate = getDate(start);\n                    setTime(adjustedStartDate, startTime);\n                    tail = true;\n                } else if (endTime <= eventStartTime) {\n                    adjustedStartDate = getDate(start);\n                    adjustedStartDate = kendo.date.addDays(adjustedStartDate, 1);\n                    setTime(adjustedStartDate, startTime);\n                    tail = true;\n                }\n\n                if (endTime < eventEndTime) {\n                    adjustedEndDate = getDate(end);\n                    setTime(adjustedEndDate, endTime);\n                    head = true;\n                } else if (startTime > eventEndTime) {\n                    adjustedEndDate = getDate(end);\n                    adjustedEndDate = kendo.date.addDays(adjustedEndDate,-1);\n                    setTime(adjustedEndDate, endTime);\n                    head = true;\n                }\n            }\n\n            occurrence = event.clone({\n                start: adjustedStartDate ? adjustedStartDate : start,\n                end: adjustedEndDate ? adjustedEndDate : end,\n                _startTime: adjustedStartDate ? kendo.date.toUtcTime(adjustedStartDate) : event._startTime,\n                _endTime: adjustedEndDate ? kendo.date.toUtcTime(adjustedEndDate) : event._endTime,\n                isAllDay: false\n            });\n\n            return {\n                occurrence: occurrence,\n                head: head,\n                tail: tail\n            };\n        },\n\n        _renderEvents: function(events, groupIndex, eventGroup) {\n            var event;\n            var idx;\n            var length;\n\n            for (idx = 0, length = events.length; idx < length; idx++) {\n                event = events[idx];\n\n                if (this._isInDateSlot(event)) {\n                    var isMultiDayEvent = event.isAllDay || event.duration() >= MS_PER_DAY;\n                    var container = this.content;\n\n                    if (isMultiDayEvent || this._isInTimeSlot(event)) {\n                        var adjustedEvent = this._adjustEvent(event);\n                        var group = this.groups[groupIndex];\n\n                        if (!group._continuousEvents) {\n                            group._continuousEvents = [];\n                        }\n\n                        if (this._isInTimeSlot(adjustedEvent.occurrence)) {\n                            var ranges = group.slotRanges(adjustedEvent.occurrence, false);\n                            var range = ranges[0];\n                            var startIndex = range.start.index;\n                            var endIndex = range.end.index;\n\n                            this._groupedView._renderEvent(eventGroup, event, adjustedEvent, group, range, container, startIndex, endIndex);\n                        }\n                    }\n                }\n            }\n        },\n\n        addContinuousEvent: function(group, range, element, isAllDay) {\n            var events = group._continuousEvents;\n\n            events.push({\n                element: element,\n                isAllDay: isAllDay,\n                uid: element.attr(kendo.attr(\"uid\")),\n                start: range.start,\n                end: range.end\n            });\n        },\n\n        _createEventElement: function(occurrence, event, head, tail) {\n            var template = this.eventTemplate;\n            var editable = this.options.editable;\n            var isMobile = this._isMobile();\n            var showDelete = editable && editable.destroy !== false && !isMobile;\n            var resizable = editable && editable.resize !== false;\n            var eventStartTime = event._time(\"start\");\n            var eventEndTime = event._time(\"end\");\n            var eventStartDate = event.start;\n            var eventEndDate = event.end;\n\n            var resources = this.eventResources(event);\n\n            if (event._startTime && eventStartTime !== kendo.date.getMilliseconds(event.start)) {\n                eventStartDate = new Date(eventStartTime);\n                eventStartDate = kendo.timezone.apply(eventStartDate, \"Etc/UTC\");\n            }\n\n            if (event._endTime && eventEndTime !== kendo.date.getMilliseconds(event.end)) {\n                eventEndDate = new Date(eventEndTime);\n                eventEndDate = kendo.timezone.apply(eventEndDate, \"Etc/UTC\");\n            }\n\n            var data = extend({}, {\n                ns: kendo.ns,\n                resizable: resizable,\n                showDelete: showDelete,\n                head: head,\n                tail: tail,\n                singleDay: this._dates.length == 1,\n                resources: resources,\n                inverseColor: false,\n                messages: this.options.messages,\n                ariaLabel: this._formatEventAriaLabel(event.title, eventStartDate, eventEndDate, event.isAllDay)\n            }, event, {\n                start: eventStartDate,\n                end: eventEndDate\n            });\n\n            var element = $(template(data));\n\n            this.angular(\"compile\", function() {\n                return {\n                    elements: element,\n                    data: [ { dataItem: data } ]\n                };\n            });\n\n            return element;\n        },\n\n        _arrangeRows: function(eventObject, slotRange, eventGroup) {\n            var startIndex = slotRange.start.index;\n            var endIndex = slotRange.end.index;\n\n            var rect = eventObject.slotRange.innerRect(eventObject.start, eventObject.end, false);\n            var rectRight = rect.right + this.options.eventMinWidth;\n\n            var events = collidingEvents(slotRange.events(), rect.left, rectRight);\n\n            slotRange.addEvent({\n                slotIndex: startIndex,\n                start: startIndex,\n                end: endIndex,\n                rectLeft: rect.left,\n                rectRight: rectRight,\n                element: eventObject.element,\n                uid: eventObject.uid\n            });\n\n            events.push({\n                start: startIndex,\n                end: endIndex,\n                uid: eventObject.uid\n            });\n\n            var rows = SchedulerView.createRows(events);\n\n            if (eventGroup.maxRowCount < rows.length) {\n                eventGroup.maxRowCount = rows.length;\n            }\n\n            for (var idx = 0, length = rows.length; idx < length; idx++) {\n                var rowEvents = rows[idx].events;\n                for (var j = 0, eventLength = rowEvents.length; j < eventLength; j++) {\n                    eventGroup.events[rowEvents[j].uid].rowIndex = idx;\n                }\n            }\n        },\n\n        _groupCount: function() {\n            var resources = this.groupedResources;\n            var groupedView = this._groupedView;\n\n            if (resources.length) {\n                if (this._groupOrientation() === \"vertical\") {\n                    return groupedView._verticalCountForLevel(resources.length - 1);\n                } else {\n                    return groupedView._horizontalCountForLevel(resources.length - 1, this.columnLevels.length - 1);\n                }\n            }\n            return 1;\n        },\n\n        _updateEventForSelection: function(event) {\n            var adjustedEvent = this._adjustEvent(event.clone());\n            return adjustedEvent.occurrence;\n        },\n\n        _eventOptionsForMove: function(event) {\n            if (event.isAllDay) {\n                return { isAllDay: false };\n            }\n\n            return {};\n        },\n\n        _updateEventForResize: function(event) {\n            if (event.isAllDay) {\n                event.set(\"isAllDay\", false);\n            }\n        },\n\n        _updateMoveHint: function(event, groupIndex, distance) {\n            var group = this.groups[groupIndex];\n\n            var clonedEvent = event.clone({ start: event.start, end: event.end });\n\n            var eventDuraton = clonedEvent.duration();\n            clonedEvent.start = new Date(clonedEvent.start.getTime() + distance);\n            clonedEvent.end = new Date(+clonedEvent.start + eventDuraton);\n\n            this._removeMoveHint(event.uid);\n\n            if (this._isInDateSlot(clonedEvent)) {\n                if (clonedEvent.isAllDay || clonedEvent.duration() >= MS_PER_DAY || this._isInTimeSlot(clonedEvent)) {\n                    var adjustedEvent = this._adjustEvent(clonedEvent);\n                    var ranges = group.slotRanges(adjustedEvent.occurrence, false);\n\n                    for (var rangeIndex = 0; rangeIndex < ranges.length; rangeIndex++) {\n                        this._groupedView._createMoveHint(ranges[rangeIndex], adjustedEvent);\n                    }\n                }\n            }\n        },\n\n       _appendMoveHint: function(hint) {\n            hint.appendTo(this.content);\n\n            this._moveHint = this._moveHint.add(hint);\n       },\n\n        _updateResizeHint: function(event, groupIndex, startTime, endTime) {\n            var group = this.groups[groupIndex];\n            var ranges = group.ranges(startTime, endTime, false, false);\n\n            this._removeResizeHint();\n\n            for (var rangeIndex = 0; rangeIndex < ranges.length; rangeIndex++) {\n                var range = ranges[rangeIndex];\n                var start = range.startSlot();\n\n                var startRect = range.innerRect(startTime, endTime, false);\n                startRect.top = start.offsetTop;\n\n                var width = startRect.right - startRect.left;\n\n                if (width < 0) {\n                    for (var i = 0; i < range.events().length; i++) {\n                        if (range.events()[i].uid === event.uid) {\n                            width = range.events()[i].rectRight - startRect.left;\n                            break;\n                        }\n                    }\n                }\n\n                var height = range.endSlot().offsetTop + start.offsetHeight - startRect.top;\n\n                var left = this._adjustLeftPosition(startRect.left);\n\n                var hint = SchedulerView.fn._createResizeHint.call(this,\n                    left,\n                    startRect.top,\n                    width,\n                    height\n                );\n\n                this._resizeHint = this._resizeHint.add(hint);\n            }\n\n            var format = \"t\";\n            var container = this.content;\n\n            this._resizeHint.appendTo(container);\n\n            this._resizeHint.find(\".k-label-top,.k-label-bottom\").text(\"\");\n\n            this._resizeHint.first().addClass(\"k-first\").find(\".k-label-top\").text(kendo.toString(kendo.timezone.toLocalDate(startTime), format));\n\n            this._resizeHint.last().addClass(\"k-last\").find(\".k-label-bottom\").text(kendo.toString(kendo.timezone.toLocalDate(endTime), format));\n        },\n\n        selectionByElement: function(cell) {\n            var offset = cell.offset();\n            return this._slotByPosition(offset.left, offset.top);\n        },\n\n        _updateDirection: function(selection, ranges, multiple, reverse, vertical) {\n\n            var startSlot = ranges[0].start;\n            var endSlot = ranges[ranges.length - 1].end;\n            if (multiple && !vertical) {\n                if (startSlot.index === endSlot.index &&\n                    startSlot.collectionIndex === endSlot.collectionIndex) {\n                    selection.backward = reverse;\n                }\n            }\n        },\n\n        _changeGroup: function(selection, previous) {\n            var method = previous ? \"prevGroupSlot\" : \"nextGroupSlot\";\n\n            var slot = this[method](selection.start, selection.groupIndex, false);\n\n            if (slot) {\n                selection.groupIndex += previous ? -1 : 1;\n            }\n\n            this._groupedView._changeGroup(selection, previous, slot);\n            return slot;\n        },\n\n        prevGroupSlot: function(date, groupIndex, isDay) {\n            var group = this.groups[groupIndex];\n            var slot = group.ranges(date, date, isDay, false)[0].start;\n\n            if (groupIndex <= 0) {\n                return;\n            }\n\n            return this._groupedView._prevGroupSlot(slot, group, isDay);\n        },\n\n        nextGroupSlot: function(date, groupIndex, isDay) {\n            var group = this.groups[groupIndex];\n            var slot = group.ranges(date, date, isDay, false)[0].start;\n\n            if (groupIndex >= this.groups.length - 1) {\n                return;\n            }\n\n            return this._groupedView._nextGroupSlot(slot, group, isDay);\n        },\n\n        _verticalSlots: function(selection, ranges, multiple, reverse) {\n            var groupedView = this._groupedView;\n            var method = groupedView._verticalMethod(reverse, multiple);\n            var startSlot = ranges[0].start;\n            var endSlot = ranges[ranges.length - 1].end;\n            var group = this.groups[selection.groupIndex];\n            var slot = groupedView._normalizeVerticalSelection(selection, ranges, reverse, multiple);\n\n            if (slot) {\n                startSlot = endSlot = slot;\n            }\n\n            startSlot = group[method](startSlot);\n            endSlot = group[method](endSlot);\n\n            if (!multiple && this._isVerticallyGrouped() && (!startSlot || !endSlot)) {\n                startSlot = endSlot = groupedView._verticalSlots(selection, reverse, slot);\n            }\n\n            return {\n                startSlot: startSlot,\n                endSlot: endSlot\n            };\n        },\n\n        _horizontalSlots: function(selection, ranges, multiple, reverse) {\n            var method = reverse ? \"upSlot\" : \"downSlot\";\n            var startSlot = ranges[0].start;\n            var endSlot = ranges[ranges.length - 1].end;\n            var group = this.groups[selection.groupIndex];\n            var result = {};\n\n            if (!multiple) {\n                result = this._groupedView._horizontalSlots(selection, group, method, startSlot, endSlot, multiple, reverse);\n            } else {\n                result.startSlot = group[method](startSlot);\n                result.endSlot = group[method](endSlot);\n\n                if (!multiple && this._isHorizontallyGrouped() && (!startSlot || !endSlot)) {\n                    result.startSlot = result.endSlot = this._changeGroup(selection, reverse);\n                }\n            }\n\n            return result;\n        },\n\n        _changeViewPeriod: function(selection, reverse) {\n            var date = reverse ? this.previousDate() : this.nextDate();\n            var start = selection.start;\n            var end = selection.end;\n            var newStart, newEnd;\n\n            newStart = new Date(date);\n            newEnd = new Date(date);\n\n            if (this._isInRange(newStart, newEnd)) {\n                return false;\n            }\n            selection.start = newStart;\n            selection.end = newEnd;\n\n            if (this._isHorizontallyGrouped()) {\n               selection.groupIndex = reverse ? this.groups.length - 1 : 0;\n            }\n\n            var duration = end - start;\n\n            if (reverse) {\n                end = getMilliseconds(this.endTime());\n                end = end === 0 ? MS_PER_DAY : end;\n\n                setTime(selection.start, end - duration);\n                setTime(selection.end, end);\n            } else {\n                start = getMilliseconds(this.startTime());\n\n                setTime(selection.start, start);\n                setTime(selection.end, start + duration);\n            }\n\n            selection.events = [];\n\n            return true;\n        },\n\n        move: function(selection, key, shift) {\n            var handled = false;\n            var group = this.groups[selection.groupIndex];\n            var keys = kendo.keys;\n            var groupedView = this._groupedView;\n            var ranges = group.ranges(selection.start, selection.end, false, false);\n            var startSlot, endSlot, reverse, slots;\n\n            if (key === keys.DOWN || key === keys.UP) {\n                handled = true;\n                reverse = key === keys.UP;\n\n                groupedView._updateDirection(selection, ranges, shift, reverse);\n\n                slots = this._verticalSlots(selection, ranges, shift, reverse);\n\n                if (groupedView._changeVerticalViewPeriod(slots, shift, selection, reverse)) {\n                    return handled;\n                }\n            } else if (key === keys.LEFT || key === keys.RIGHT) {\n                handled = true;\n                reverse = key === keys.LEFT;\n\n                this._updateDirection(selection, ranges, shift, reverse, false);\n\n                slots = this._horizontalSlots(selection, ranges, shift, reverse);\n\n                if (groupedView._changeHorizontalViewPeriod(slots, shift, selection, reverse)) {\n                     return handled;\n                }\n            }\n\n           if (handled) {\n               startSlot = slots.startSlot;\n               endSlot = slots.endSlot;\n\n               if (shift) {\n                   var backward = selection.backward;\n\n                   if (backward && startSlot) {\n                       selection.start = startSlot.startDate();\n                   } else if (!backward && endSlot) {\n                       selection.end = endSlot.endDate();\n                   }\n               } else if (startSlot && endSlot) {\n                   selection.start = startSlot.startDate();\n                   selection.end = endSlot.endDate();\n               }\n\n               selection.events = [];\n           }\n\n            return handled;\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that.element) {\n                that.element.off(NS);\n            }\n\n            if (that.footer) {\n                that.footer.remove();\n            }\n\n            if (that._currentTimeUpdateTimer) {\n                clearInterval(that._currentTimeUpdateTimer);\n            }\n\n            SchedulerView.fn.destroy.call(this);\n\n            if (this._isMobile() && that.options.editable) {\n                if (that.options.editable.create !== false) {\n                    that._addUserEvents.destroy();\n                }\n\n                if (that.options.editable.update !== false) {\n                    that._editUserEvents.destroy();\n                }\n            }\n        },\n\n        _resourceBySlot: function(slot) {\n            var resources = this.groupedResources;\n            var result = {},\n            groupOptions = this.options.group;\n\n            if (resources.length && groupOptions.orientation === \"horizontal\" && groupOptions.date) {\n                var resourceIndex = slot.groupIndex,\n                    levels = this.columnLevels,\n                    groupLevel = levels[levels.length - 1],\n                    resource = resources[resources.length - 1],\n                    groupLevelMember = groupLevel[resourceIndex],\n                    passedChildren, numberOfChildren, j, i;\n\n                this._setResourceValue(groupLevelMember, resource, result);\n\n                for (j = levels.length - 2; j >= 3; j--) {\n                    groupLevel = levels[j];\n                    resource = resources[j - 3];\n                    passedChildren = 0;\n\n                    for (i = 0; i < groupLevel.length; i++) {\n                        groupLevelMember = groupLevel[i];\n                        numberOfChildren = groupLevelMember.columns.length;\n\n                        if (numberOfChildren > resourceIndex - passedChildren) {\n                            this._setResourceValue(groupLevelMember, resource, result);\n\n                            i = groupLevel.length;\n                        } else {\n                            passedChildren += numberOfChildren;\n                        }\n                    }\n                }\n\n                return result;\n            } else {\n                return SchedulerView.fn._resourceBySlot.call(this, slot);\n            }\n        }\n    });\n\n    extend(true, ui, {\n        TimelineView: TimelineView,\n        TimelineWeekView: TimelineView.extend({\n            options: {\n                name: \"TimelineWeekView\",\n                title: \"Timeline Week\",\n                selectedDateFormat: \"{0:D} - {1:D}\",\n                selectedShortDateFormat: \"{0:d} - {1:d}\",\n                selectedMobileDateFormat: \"{0:MMM dd} - {1:dd}\",\n                majorTick: 120\n            },\n            name: \"timelineWeek\",\n            calculateDateRange: function() {\n                var selectedDate = this.options.date,\n                    start = kendo.date.dayOfWeek(selectedDate, this.calendarInfo().firstDay, -1),\n                    idx, length,\n                    dates = [];\n\n                for (idx = 0, length = 7; idx < length; idx++) {\n                    dates.push(start);\n                    start = kendo.date.nextDay(start);\n                }\n                this._render(dates);\n            }\n        }),\n        TimelineWorkWeekView: TimelineView.extend({\n            options: {\n                name: \"TimelineWorkWeekView\",\n                title: \"Timeline Work Week\",\n                selectedDateFormat: \"{0:D} - {1:D}\",\n                selectedShortDateFormat: \"{0:d} - {1:d}\",\n                selectedMobileDateFormat: \"{0:MMM dd} - {1:dd}\",\n                majorTick: 120\n            },\n            name: \"timelineWorkWeek\",\n            nextDate: function() {\n                var weekStart = kendo.date.dayOfWeek(kendo.date.nextDay(this.endDate()), this.calendarInfo().firstDay, 1);\n\n                return kendo.date.addDays(weekStart, this._workDays[0]);\n            },\n            previousDate: function() {\n                var weekStart = kendo.date.dayOfWeek(this.startDate(), this.calendarInfo().firstDay, -1);\n                var workDays = this._workDays;\n\n                return kendo.date.addDays(weekStart, workDays[workDays.length - 1] - 7);\n            },\n            calculateDateRange: function() {\n                var options = this.options,\n                    selectedDate = options.date,\n                    dayOfWeek = kendo.date.dayOfWeek,\n                    weekStart = dayOfWeek(selectedDate, this.calendarInfo().firstDay, -1),\n                    start = dayOfWeek(weekStart, options.workWeekStart, 1),\n                    end = dayOfWeek(start, options.workWeekEnd, 1),\n                    dates = [],\n                    workDays = (options.workDays && options.workDays.length) ? options.workDays.map(function(day) {\n                        return dayOfWeek(weekStart, day, 1).getTime();\n                    }) : null;\n\n                if (workDays) {\n                    start = weekStart;\n                    end = dayOfWeek(start, this.calendarInfo().firstDay + 6, 1);\n                }\n\n                while (start <= end) {\n                    if (workDays && workDays.indexOf(start.getTime()) > -1) {\n                        dates.push(start);\n                    } else if (!workDays) {\n                        dates.push(start);\n                    }\n\n                    start = kendo.date.nextDay(start);\n                }\n\n                this._render(dates);\n            }\n        }),\n        TimelineMonthView: TimelineView.extend({\n            options: {\n                name: \"TimelineMonthView\",\n                title: \"Timeline Month\",\n                selectedDateFormat: \"{0:D} - {1:D}\",\n                selectedShortDateFormat: \"{0:d} - {1:d}\",\n                workDayStart: new Date(1980, 1, 1, 0, 0, 0),\n                workDayEnd: new Date(1980, 1, 1, 23, 59, 59),\n                footer: false,\n                majorTick: 1440,\n                minorTickCount: 1\n            },\n            name: \"timelineMonth\",\n            calculateDateRange: function() {\n                var selectedDate = this.options.date,\n                    start = kendo.date.firstDayOfMonth(selectedDate),\n                    end = kendo.date.lastDayOfMonth(selectedDate),\n                    idx, length,\n                    dates = [];\n\n                for (idx = 0, length = end.getDate(); idx < length; idx++) {\n                    dates.push(start);\n                    start = kendo.date.nextDay(start);\n                }\n                this._render(dates);\n            }\n        })\n    });\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, __webpack_require__.amdD);\n\n\n/***/ }),\n\n/***/ 81477:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./kendo.scheduler.view\");\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/amd define */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.amdD = function () {\n/******/ \t\t\tthrow new Error('define cannot be used indirect');\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module used 'module' so it can't be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__(5277);\n/******/ \tmodule.exports = __webpack_exports__;\n/******/ \t\n/******/ })()\n;"],"mappings":"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"},"metadata":{},"sourceType":"script"}