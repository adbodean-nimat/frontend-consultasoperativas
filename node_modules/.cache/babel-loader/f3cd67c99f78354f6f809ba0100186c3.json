{"ast":null,"code":"require(\"core-js/modules/es.error.cause.js\");\n\n/******/\n(function () {\n  // webpackBootstrap\n\n  /******/\n  var __webpack_modules__ = {\n    /***/\n    81525:\n    /***/\n    function (module, exports, __webpack_require__) {\n      var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n      (function (f, define) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(81477)], __WEBPACK_AMD_DEFINE_FACTORY__ = f, __WEBPACK_AMD_DEFINE_RESULT__ = typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n      })(function () {\n        var __meta__ = {\n          id: \"scheduler.dayview\",\n          name: \"Scheduler Day View\",\n          category: \"web\",\n          description: \"The Scheduler Day View\",\n          depends: [\"scheduler.view\"],\n          hidden: true\n        };\n\n        (function ($, undefined) {\n          var kendo = window.kendo,\n              ui = kendo.ui,\n              setTime = kendo.date.setTime,\n              SchedulerView = ui.SchedulerView,\n              outerWidth = kendo._outerWidth,\n              outerHeight = kendo._outerHeight,\n              extend = $.extend,\n              getDate = kendo.date.getDate,\n              MS_PER_MINUTE = kendo.date.MS_PER_MINUTE,\n              MS_PER_DAY = kendo.date.MS_PER_DAY,\n              CURRENT_TIME_MARKER_CLASS = \"k-current-time\",\n              CURRENT_TIME_MARKER_ARROW_CLASS = \"k-current-time-arrow\",\n              INVERSE_COLOR_CLASS = \"k-event-inverse\",\n              BORDER_SIZE_COEFF = 0.8666,\n              getMilliseconds = kendo.date.getMilliseconds,\n              NS = \".kendoMultiDayView\";\n          var DAY_VIEW_EVENT_TEMPLATE = kendo.template('<div title=\"(#=kendo.format(\"{0:t} - {1:t}\", start, end)#): #=title.replace(/\"/g,\"&\\\\#34;\")#\">' + '<div class=\"k-event-template k-event-time\">#:kendo.format(\"{0:t} - {1:t}\", start, end)#</div>' + '<div class=\"k-event-template\">${title}</div>' + '</div>'),\n              DAY_VIEW_ALL_DAY_EVENT_TEMPLATE = kendo.template('<div title=\"(#=kendo.format(\"{0:t}\", start)#): #=title.replace(/\"/g,\"&\\\\#34;\")#\">' + '<div class=\"k-event-template\">${title}</div>' + '</div>'),\n              DATA_HEADER_TEMPLATE = kendo.template(\"#var dateString = isMobile ? kendo.toString(date,'ddd')[0] : kendo.toString(date,'ddd M/dd'); #\" + \"<span class='k-link k-nav-day'>#=dateString#</span>\"),\n              ALLDAY_EVENT_WRAPPER_STRING = '<div role=\"button\" ' + 'aria-label=\"#: ariaLabel #\" ' + 'data-#=ns#uid=\"#=uid#\"' + '#if (resources[0]) { #' + 'style=\"background-color:#=resources[0].color#; border-color: #=resources[0].color#\"' + 'class=\"k-event\"' + '#} else {#' + 'class=\"k-event\"' + '#}#' + '>' + '<span class=\"k-event-actions\">' + '# if(data.tail || data.middle) {#' + '<span class=\"k-icon k-i-arrow-60-left\"></span>' + '#}#' + '# if(data.isException()) {#' + '<span class=\"k-icon k-i-non-recurrence\"></span>' + '# } else if(data.isRecurring()) {#' + '<span class=\"k-icon k-i-reload\"></span>' + '# } #' + '</span>' + '{0}' + '<span class=\"k-event-actions\">' + '#if (showDelete) {#' + '<a href=\"\\\\#\" class=\"k-link k-event-delete\" title=\"${data.messages.destroy}\" aria-label=\"${data.messages.destroy}\"><span class=\"k-icon k-i-close\"></span></a>' + '#}#' + '# if(data.head || data.middle) {#' + '<span class=\"k-icon k-i-arrow-60-right\"></span>' + '#}#' + '</span>' + '#if(resizable && !singleDay && !data.tail && !data.middle){#' + '<span class=\"k-resize-handle k-resize-w\"></span>' + '#}#' + '#if(resizable && !singleDay && !data.head && !data.middle){#' + '<span class=\"k-resize-handle k-resize-e\"></span>' + '#}#' + '</div>',\n              EVENT_WRAPPER_STRING = '<div role=\"button\" ' + 'aria-label=\"#: ariaLabel #\" ' + 'data-#=ns#uid=\"#=uid#\" ' + '#if (resources[0]) { #' + 'style=\"background-color:#=resources[0].color #; border-color: #=resources[0].color#\"' + 'class=\"k-event\"' + '#} else {#' + 'class=\"k-event\"' + '#}#' + '>' + '<span class=\"k-event-actions\">' + '# if(data.isException()) {#' + '<span class=\"k-icon k-i-non-recurrence\"></span>' + '# } else if(data.isRecurring()) {#' + '<span class=\"k-icon k-i-reload\"></span>' + '# } #' + '</span>' + '{0}' + '<span class=\"k-event-actions\">' + '#if (showDelete) {#' + '<a href=\"\\\\#\" class=\"k-link k-event-delete\" title=\"${data.messages.destroy}\" aria-label=\"${data.messages.destroy}\"><span class=\"k-icon k-i-close\"></span></a>' + '#}#' + '</span>' + '<span class=\"k-event-top-actions\">' + '# if(data.tail || data.middle) {#' + '<span class=\"k-icon k-i-arrow-60-up\"></span>' + '# } #' + '</span>' + '<span class=\"k-event-bottom-actions\">' + '# if(data.head || data.middle) {#' + '<span class=\"k-icon k-i-arrow-60-down\"></span>' + '# } #' + '</span>' + '# if(resizable && !data.tail && !data.middle) {#' + '<span class=\"k-resize-handle k-resize-n\"></span>' + '# } #' + '# if(resizable && !data.head && !data.middle) {#' + '<span class=\"k-resize-handle k-resize-s\"></span>' + '# } #' + '</div>';\n\n          function toInvariantTime(date) {\n            var staticDate = new Date(1980, 1, 1, 0, 0, 0);\n            setTime(staticDate, getMilliseconds(date));\n            return staticDate;\n          }\n\n          function isInDateRange(value, min, max) {\n            return value >= min && value <= max;\n          }\n\n          function isInTimeRange(value, min, max, overlaps) {\n            overlaps = overlaps ? value <= max : value < max;\n            return value > min && overlaps;\n          }\n\n          function addContinuousEvent(group, range, element, isAllDay) {\n            var events = group._continuousEvents;\n            var lastEvent = events[events.length - 1];\n            var startDate = getDate(range.start.startDate()).getTime(); //this handles all day event which is over multiple slots but starts\n            //after one of the time events\n\n            if (isAllDay && lastEvent && getDate(lastEvent.start.startDate()).getTime() == startDate) {\n              var idx = events.length - 1;\n\n              for (; idx > -1; idx--) {\n                if (events[idx].isAllDay || getDate(events[idx].start.startDate()).getTime() < startDate) {\n                  break;\n                }\n              }\n\n              events.splice(idx + 1, 0, {\n                element: element,\n                isAllDay: true,\n                uid: element.attr(kendo.attr(\"uid\")),\n                start: range.start,\n                end: range.end\n              });\n            } else {\n              events.push({\n                element: element,\n                isAllDay: isAllDay,\n                uid: element.attr(kendo.attr(\"uid\")),\n                start: range.start,\n                end: range.end\n              });\n            }\n          }\n\n          function getWorkDays(options) {\n            if (options.workDays && options.workDays.length) {\n              return options.workDays;\n            }\n\n            var workDays = [];\n            var dayIndex = options.workWeekStart % 7;\n            var workWeekEnd = Math.abs(options.workWeekEnd % 7);\n            workDays.push(dayIndex);\n\n            while (workWeekEnd != dayIndex) {\n              if (dayIndex > 6) {\n                dayIndex -= 7;\n              } else {\n                dayIndex++;\n              }\n\n              workDays.push(dayIndex);\n            }\n\n            return workDays;\n          }\n\n          var MultiDayView = SchedulerView.extend({\n            init: function (element, options) {\n              var that = this;\n              SchedulerView.fn.init.call(that, element, options);\n              that.title = that.options.title || that.options.name;\n              that._workDays = getWorkDays(that.options);\n\n              that._templates();\n\n              that._editable();\n\n              that.calculateDateRange();\n\n              that._groups();\n\n              that._currentTime(true);\n            },\n            _currentTimeMarkerUpdater: function () {\n              this._updateCurrentTimeMarker(new Date());\n            },\n            _updateCurrentTimeMarker: function (currentTime) {\n              var options = this.options,\n                  currentTimeMarkers,\n                  currentContentMarkers,\n                  timesTableMarkerWidth,\n                  position,\n                  elementHtml = \"<div class='\" + CURRENT_TIME_MARKER_CLASS + \"'></div>\";\n\n              if (options.currentTimeMarker.useLocalTimezone === false) {\n                var timezone = options.dataSource.options.schema.timezone;\n\n                if (options.dataSource && timezone) {\n                  var timezoneOffset = kendo.timezone.offset(currentTime, timezone);\n                  currentTime = kendo.timezone.convert(currentTime, currentTime.getTimezoneOffset(), timezoneOffset);\n                }\n              }\n\n              currentTimeMarkers = this.times.find(\".\" + CURRENT_TIME_MARKER_CLASS);\n              currentContentMarkers = this.content.find(\".\" + CURRENT_TIME_MARKER_CLASS);\n              var groupsCount = !options.group || options.group.orientation == \"horizontal\" ? 1 : this.groups.length;\n              var firstTimesCell = this.times.find(\"tr\").first().find(\"th\").first();\n              var lastTimesCell = this.times.find(\"tr\").first().find(\"th\").last();\n\n              if (firstTimesCell.length > 0 && lastTimesCell.length > 0) {\n                if (this._isRtl) {\n                  position = firstTimesCell.position().left + outerHeight(firstTimesCell) - outerHeight(lastTimesCell);\n                } else {\n                  position = lastTimesCell.position().left;\n                }\n              }\n\n              for (var groupIndex = 0; groupIndex < groupsCount; groupIndex++) {\n                var currentGroup = this.groups[groupIndex];\n\n                if (!currentGroup) {\n                  return;\n                }\n\n                var utcCurrentTime = kendo.date.toUtcTime(currentTime);\n                var ranges = currentGroup.timeSlotRanges(utcCurrentTime, utcCurrentTime + 1);\n\n                if (ranges.length === 0) {\n                  return;\n                }\n\n                var collection = ranges[0].collection;\n                var slotElement = collection.slotByStartDate(currentTime);\n\n                if (slotElement) {\n                  var timesTableMarker = currentTimeMarkers[groupIndex] ? currentTimeMarkers.eq(groupIndex) : $(elementHtml).prependTo(this.times);\n                  var markerTopPosition = Math.round(ranges[0].innerRect(currentTime, new Date(currentTime.getTime() + 1), false).top);\n                  var timesTableMarkerCss = {};\n\n                  if (this._isRtl) {\n                    timesTableMarkerCss.right = position;\n                    timesTableMarker.addClass(CURRENT_TIME_MARKER_ARROW_CLASS + \"-left\");\n                  } else {\n                    timesTableMarkerCss.left = position;\n                    timesTableMarker.addClass(CURRENT_TIME_MARKER_ARROW_CLASS + \"-right\");\n                  }\n\n                  if (!timesTableMarkerWidth) {\n                    timesTableMarkerWidth = outerWidth(timesTableMarker) * BORDER_SIZE_COEFF / 2;\n                  }\n\n                  timesTableMarkerCss.top = markerTopPosition - timesTableMarkerWidth;\n                  timesTableMarker.css(timesTableMarkerCss);\n                  var contentMarker = currentContentMarkers[groupIndex] ? currentContentMarkers.eq(groupIndex) : $(elementHtml).prependTo(this.content);\n                  contentMarker.css({\n                    top: markerTopPosition,\n                    height: \"1px\",\n                    right: 0,\n                    left: 0\n                  });\n                }\n              }\n            },\n            _currentTime: function (setUpdateTimer) {\n              var that = this;\n              var markerOptions = that.options.currentTimeMarker;\n\n              if (markerOptions !== false && markerOptions.updateInterval !== undefined) {\n                that._currentTimeMarkerUpdater();\n\n                if (setUpdateTimer) {\n                  that._currentTimeUpdateTimer = setInterval(this._currentTimeMarkerUpdater.bind(that), markerOptions.updateInterval);\n                }\n              }\n            },\n            _updateResizeHint: function (event, groupIndex, startTime, endTime) {\n              var multiday;\n\n              if (this.options.enforceAllDaySlot) {\n                multiday = event.isMultiDay();\n              } else {\n                multiday = event.isAllDay;\n              }\n\n              var group = this.groups[groupIndex];\n              var ranges = group.ranges(startTime, endTime, multiday, event.isAllDay);\n              var width, height, top, hint;\n\n              this._removeResizeHint();\n\n              for (var rangeIndex = 0; rangeIndex < ranges.length; rangeIndex++) {\n                var range = ranges[rangeIndex];\n                var start = range.startSlot();\n\n                if (this._isGroupedByDate() && multiday) {\n                  for (var slotIdx = start.index; slotIdx <= range.end.index; slotIdx++) {\n                    var slot = range.collection._slots[slotIdx];\n                    width = slot.offsetWidth;\n                    height = slot.clientHeight;\n                    top = slot.offsetTop;\n                    hint = SchedulerView.fn._createResizeHint.call(this, slot.offsetLeft, top, width, height);\n                    this._resizeHint = this._resizeHint.add(hint);\n                  }\n                } else {\n                  width = start.offsetWidth;\n                  height = start.clientHeight;\n                  top = start.offsetTop;\n\n                  if (multiday) {\n                    width = range.innerWidth();\n                  } else {\n                    var rect = range.outerRect(startTime, endTime, this.options.snap);\n                    top = rect.top;\n                    height = rect.bottom - rect.top;\n                  }\n\n                  hint = SchedulerView.fn._createResizeHint.call(this, start.offsetLeft, top, width, height);\n                  this._resizeHint = this._resizeHint.add(hint);\n                }\n              }\n\n              var format = \"t\";\n              var container = this.content;\n\n              if (multiday) {\n                format = \"M/dd\";\n                container = this.element.find(\".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div\");\n\n                if (!container.length) {\n                  container = this.content;\n                }\n              }\n\n              this._resizeHint.appendTo(container);\n\n              this._resizeHint.find(\".k-label-top,.k-label-bottom\").text(\"\");\n\n              this._resizeHint.first().addClass(\"k-first\").find(\".k-label-top\").text(kendo.toString(kendo.timezone.toLocalDate(startTime), format));\n\n              this._resizeHint.last().addClass(\"k-last\").find(\".k-label-bottom\").text(kendo.toString(kendo.timezone.toLocalDate(endTime), format));\n            },\n            _updateMoveHint: function (event, groupIndex, distance) {\n              var multiday;\n\n              if (this.options.enforceAllDaySlot) {\n                multiday = event.isMultiDay();\n              } else {\n                multiday = event.isAllDay;\n              }\n\n              var group = this.groups[groupIndex];\n              var start = kendo.date.toUtcTime(event.start) + distance;\n              var end = start + event.duration();\n              var ranges = group.ranges(start, end, multiday, event.isAllDay);\n              start = kendo.timezone.toLocalDate(start);\n              end = kendo.timezone.toLocalDate(end);\n\n              this._removeMoveHint(event.uid);\n\n              if (!multiday && getMilliseconds(end) < getMilliseconds(this.startTime()) && end < this._end().getTime() && getMilliseconds(end) !== 0 && ranges.length > 1) {\n                ranges.pop();\n              }\n\n              var eventHint = $();\n\n              for (var rangeIndex = 0; rangeIndex < ranges.length; rangeIndex++) {\n                var range = ranges[rangeIndex];\n                var startSlot = range.start;\n                var hint;\n                var css = {\n                  left: startSlot.offsetLeft + 2,\n                  top: startSlot.offsetTop\n                };\n\n                if (this._isGroupedByDate() && multiday) {\n                  for (var slotIdx = startSlot.index; slotIdx <= range.end.index; slotIdx++) {\n                    var slot = range.collection._slots[slotIdx];\n                    css.left = this._isRtl ? slot.clientWidth * 0.1 + slot.offsetLeft + 2 : slot.offsetLeft + 2;\n                    css.height = slot.offsetHeight;\n                    css.width = slot.clientWidth * 0.9 - 2;\n                    hint = this._createEventElement(event.clone({\n                      start: start,\n                      end: end\n                    }), !multiday);\n\n                    if (event.inverseColor) {\n                      hint.addClass(INVERSE_COLOR_CLASS);\n                    }\n\n                    this._appendMoveHint(hint, css);\n\n                    eventHint = eventHint.add(hint);\n                  }\n                } else {\n                  if (this._isRtl) {\n                    css.left = startSlot.clientWidth * 0.1 + startSlot.offsetLeft + 2;\n                  }\n\n                  if (multiday) {\n                    css.width = range.innerWidth() - 2;\n                  } else {\n                    var rect = range.outerRect(start, end, this.options.snap);\n                    css.top = rect.top;\n                    css.height = rect.bottom - rect.top;\n                    css.width = startSlot.clientWidth * 0.9 - 2;\n                  }\n\n                  hint = this._createEventElement(event.clone({\n                    start: start,\n                    end: end\n                  }), !multiday);\n\n                  if (event.inverseColor) {\n                    hint.addClass(INVERSE_COLOR_CLASS);\n                  }\n\n                  this._appendMoveHint(hint, css);\n\n                  eventHint = eventHint.add(hint);\n                }\n              }\n\n              var content = this.content;\n\n              if (multiday) {\n                content = this.element.find(\".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div\");\n\n                if (!content.length) {\n                  content = this.content;\n                }\n              }\n\n              eventHint.appendTo(content);\n            },\n            _appendMoveHint: function (hint, css) {\n              hint.addClass(\"k-event-drag-hint\");\n              hint.css(css);\n              this._moveHint = this._moveHint.add(hint);\n            },\n            _slotByPosition: function (x, y) {\n              var slot, offset;\n\n              if (this._isVerticallyGrouped()) {\n                offset = this.content.offset();\n                y += this.content[0].scrollTop;\n                x += this.content[0].scrollLeft;\n              } else {\n                offset = this.element.find(\".k-scheduler-header-wrap:has(.k-scheduler-header-all-day)\").find(\">div\").offset();\n              }\n\n              if (offset) {\n                x -= offset.left;\n                y -= offset.top;\n              }\n\n              x = Math.ceil(x);\n              y = Math.ceil(y);\n              var group;\n              var groupIndex;\n\n              for (groupIndex = 0; groupIndex < this.groups.length; groupIndex++) {\n                group = this.groups[groupIndex];\n                slot = group.daySlotByPosition(x, y, this._isGroupedByDate());\n\n                if (slot) {\n                  return slot;\n                }\n              }\n\n              if (offset) {\n                x += offset.left;\n                y += offset.top;\n              }\n\n              offset = this.content.offset();\n              x -= offset.left;\n              y -= offset.top;\n\n              if (!this._isVerticallyGrouped()) {\n                y += this.content[0].scrollTop;\n                x += this.content[0].scrollLeft;\n              }\n\n              x = Math.ceil(x);\n              y = Math.ceil(y);\n\n              for (groupIndex = 0; groupIndex < this.groups.length; groupIndex++) {\n                group = this.groups[groupIndex];\n                slot = group.timeSlotByPosition(x, y);\n\n                if (slot) {\n                  return slot;\n                }\n              }\n\n              return null;\n            },\n            _groupCount: function () {\n              var resources = this.groupedResources;\n\n              var byDate = this._isGroupedByDate();\n\n              if (resources.length) {\n                if (this._groupOrientation() === \"vertical\") {\n                  if (byDate) {\n                    return this._columnCountForLevel(resources.length - 1);\n                  } else {\n                    return this._rowCountForLevel(resources.length - 1);\n                  }\n                } else {\n                  if (byDate) {\n                    return this._columnCountForLevel(resources.length) / this._columnCountForLevel(0);\n                  } else {\n                    return this._columnCountForLevel(resources.length) / this._columnOffsetForResource(resources.length);\n                  }\n                }\n              }\n\n              return 1;\n            },\n            _columnCountInResourceView: function () {\n              var resources = this.groupedResources;\n\n              var byDate = this._isGroupedByDate();\n\n              if (!resources.length || this._isVerticallyGrouped()) {\n                if (byDate) {\n                  return this._rowCountForLevel(0);\n                } else {\n                  return this._columnCountForLevel(0);\n                }\n              }\n\n              if (byDate) {\n                return this._columnCountForLevel(0);\n              } else {\n                return this._columnOffsetForResource(resources.length);\n              }\n            },\n            _timeSlotGroups: function (groupCount, columnCount) {\n              var interval = this._timeSlotInterval();\n\n              var verticalViews = groupCount;\n\n              var byDate = this._isGroupedByDate();\n\n              var tableRows = this.content.find(\"tr:not(.k-scheduler-header-all-day)\");\n              var group, time, rowIndex, cellIndex;\n              var rowCount = tableRows.length;\n\n              if (this._isVerticallyGrouped()) {\n                if (byDate) {\n                  verticalViews = columnCount;\n                }\n\n                rowCount = Math.floor(rowCount / verticalViews);\n              }\n\n              for (var groupIndex = 0; groupIndex < verticalViews; groupIndex++) {\n                var rowMultiplier = 0;\n                var cellMultiplier = 0;\n\n                if (this._isVerticallyGrouped()) {\n                  rowMultiplier = groupIndex;\n                } else {\n                  cellMultiplier = groupIndex;\n                }\n\n                rowIndex = rowMultiplier * rowCount;\n\n                while (rowIndex < (rowMultiplier + 1) * rowCount) {\n                  var cells = tableRows[rowIndex].children;\n\n                  if (rowIndex % rowCount === 0) {\n                    time = getMilliseconds(new Date(+this.startTime()));\n                  }\n\n                  var timeIndex = 0;\n\n                  if (byDate) {\n                    if (this._isVerticallyGrouped()) {\n                      for (cellIndex = 0; cellIndex < groupCount; cellIndex++) {\n                        group = this.groups[cellIndex];\n\n                        this._addTimeSlotGroup(group, cells, cellIndex, time, interval, groupIndex);\n                      }\n                    } else {\n                      group = this.groups[groupIndex];\n\n                      for (cellIndex = cellMultiplier; cellIndex < groupCount * columnCount; cellIndex = cellIndex + groupCount) {\n                        this._addTimeSlotGroup(group, cells, cellIndex, time, interval, timeIndex);\n\n                        timeIndex++;\n                      }\n                    }\n                  } else {\n                    group = this.groups[groupIndex];\n\n                    for (cellIndex = cellMultiplier * columnCount; cellIndex < (cellMultiplier + 1) * columnCount; cellIndex++) {\n                      this._addTimeSlotGroup(group, cells, cellIndex, time, interval, timeIndex);\n\n                      timeIndex++;\n                    }\n                  }\n\n                  time += interval;\n                  rowIndex++;\n                }\n              }\n            },\n            _addTimeSlotGroup: function (group, cells, cellIndex, time, interval, timeIndex) {\n              var cell = cells[cellIndex];\n              var collection = group.getTimeSlotCollection(timeIndex);\n              var currentDate = this._dates[timeIndex];\n\n              if (!currentDate || !cell) {\n                return;\n              }\n\n              var currentTime = Date.UTC(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate());\n              var start = currentTime + time;\n              var end = start + interval;\n              collection.addTimeSlot(cell, start, end);\n            },\n            _addDaySlotGroup: function (collection, cells, cellIndex, columnCount, cellCount) {\n              var cell = cells[cellIndex];\n              var start = this._dates[cellCount];\n\n              if (!start) {\n                return;\n              }\n\n              var currentTime = Date.UTC(start.getFullYear(), start.getMonth(), start.getDate());\n              collection.addDaySlot(cell, currentTime, currentTime + kendo.date.MS_PER_DAY);\n            },\n            _daySlotGroups: function (groupCount, columnCount) {\n              var tableRows, cellIndex;\n              var verticalViews = groupCount;\n\n              var byDate = this._isGroupedByDate();\n\n              if (this._isVerticallyGrouped()) {\n                if (byDate) {\n                  verticalViews = columnCount;\n                }\n\n                tableRows = this.element.find(\".k-scheduler-header-all-day\");\n              } else {\n                tableRows = this.element.find(\".k-scheduler-header-all-day tr\");\n              }\n\n              for (var groupIndex = 0; groupIndex < verticalViews; groupIndex++) {\n                var rowMultiplier = 0;\n                var group, collection;\n\n                if (this._isVerticallyGrouped()) {\n                  rowMultiplier = groupIndex;\n                }\n\n                var cells = tableRows[rowMultiplier].children;\n                var cellMultiplier = 0;\n\n                if (!this._isVerticallyGrouped()) {\n                  cellMultiplier = groupIndex;\n                }\n\n                var cellCount = 0;\n\n                if (byDate) {\n                  if (this._isVerticallyGrouped()) {\n                    for (cellIndex = 0; cellIndex < groupCount; cellIndex++) {\n                      group = this.groups[cellIndex];\n                      collection = group.getDaySlotCollection(0);\n\n                      this._addDaySlotGroup(collection, cells, cellIndex, columnCount, groupIndex);\n                    }\n                  } else {\n                    group = this.groups[groupIndex];\n                    collection = group.getDaySlotCollection(0);\n\n                    for (cellIndex = cellMultiplier; cellIndex < groupCount * columnCount; cellIndex = cellIndex + groupCount) {\n                      this._addDaySlotGroup(collection, cells, cellIndex, columnCount, cellCount);\n\n                      cellCount++;\n                    }\n                  }\n                } else {\n                  group = this.groups[groupIndex];\n                  collection = group.getDaySlotCollection(0);\n\n                  for (cellIndex = cellMultiplier * columnCount; cellIndex < (cellMultiplier + 1) * columnCount; cellIndex++) {\n                    this._addDaySlotGroup(collection, cells, cellIndex, columnCount, cellCount);\n\n                    cellCount++;\n                  }\n                }\n              }\n            },\n            _groups: function () {\n              var groupCount = this._groupCount();\n\n              var columnCount = this._columnCountInResourceView();\n\n              this.groups = [];\n\n              for (var idx = 0; idx < groupCount; idx++) {\n                var view = this._addResourceView(idx);\n\n                for (var columnIndex = 0; columnIndex < columnCount; columnIndex++) {\n                  if (this._dates[columnIndex]) {\n                    view.addTimeSlotCollection(this._dates[columnIndex], kendo.date.addDays(this._dates[columnIndex], 1));\n                  }\n                }\n\n                if (this.options.allDaySlot) {\n                  view.addDaySlotCollection(this._dates[0], kendo.date.addDays(this._dates[this._dates.length - 1], 1));\n                }\n              }\n\n              this._timeSlotGroups(groupCount, columnCount);\n\n              if (this.options.allDaySlot) {\n                this._daySlotGroups(groupCount, columnCount);\n              }\n            },\n            options: {\n              name: \"MultiDayView\",\n              selectedDateFormat: \"{0:D}\",\n              selectedShortDateFormat: \"{0:d}\",\n              selectedMobileDateFormat: \"{0:MMM} {0:dd} - {1:dd}\",\n              allDaySlot: true,\n              showWorkHours: false,\n              title: \"\",\n              startTime: kendo.date.today(),\n              endTime: kendo.date.today(),\n              minorTickCount: 2,\n              majorTick: 60,\n              majorTimeHeaderTemplate: \"<span>#=kendo.toString(date, 't')#</span>\",\n              minorTimeHeaderTemplate: \"&\\\\#8203;\",\n              groupHeaderTemplate: \"#=text#\",\n              slotTemplate: \"&nbsp;\",\n              allDaySlotTemplate: \"&nbsp;\",\n              eventTemplate: DAY_VIEW_EVENT_TEMPLATE,\n              allDayEventTemplate: DAY_VIEW_ALL_DAY_EVENT_TEMPLATE,\n              dateHeaderTemplate: DATA_HEADER_TEMPLATE,\n              editable: true,\n              workDayStart: new Date(1980, 1, 1, 8, 0, 0),\n              workDayEnd: new Date(1980, 1, 1, 17, 0, 0),\n              workWeekStart: 1,\n              workWeekEnd: 5,\n              footer: {\n                command: \"workDay\"\n              },\n              messages: {\n                allDay: \"all day\",\n                showFullDay: \"Show full day\",\n                showWorkDay: \"Show business hours\"\n              },\n              currentTimeMarker: {\n                updateInterval: 10000,\n                useLocalTimezone: true\n              },\n              // a hidden option that provides us a fallback to the previous behaviour\n              // e.g. all events of 24 hours or more will be rendered in the allDaySlot\n              enforceAllDaySlot: false\n            },\n            events: [\"remove\", \"add\", \"edit\"],\n            _templates: function () {\n              var options = this.options,\n                  settings = extend({}, kendo.Template, options.templateSettings);\n              this.eventTemplate = this._eventTmpl(options.eventTemplate, EVENT_WRAPPER_STRING);\n              this.allDayEventTemplate = this._eventTmpl(options.allDayEventTemplate, ALLDAY_EVENT_WRAPPER_STRING);\n              this.majorTimeHeaderTemplate = kendo.template(options.majorTimeHeaderTemplate, settings);\n              this.minorTimeHeaderTemplate = kendo.template(options.minorTimeHeaderTemplate, settings);\n              this.dateHeaderTemplate = kendo.template(options.dateHeaderTemplate, settings);\n              this.slotTemplate = kendo.template(options.slotTemplate, settings);\n              this.allDaySlotTemplate = kendo.template(options.allDaySlotTemplate, settings);\n              this.groupHeaderTemplate = kendo.template(options.groupHeaderTemplate, settings);\n            },\n            _editable: function () {\n              if (this.options.editable) {\n                if (this._isMobile()) {\n                  this._touchEditable();\n                } else {\n                  this._mouseEditable();\n                }\n              }\n            },\n            _mouseEditable: function () {\n              var that = this;\n              that.element.on(\"click\" + NS, \".k-event a:has(.k-i-close)\", function (e) {\n                that.trigger(\"remove\", {\n                  uid: $(this).closest(\".k-event\").attr(kendo.attr(\"uid\"))\n                });\n                e.preventDefault();\n              });\n\n              if (that.options.editable.create !== false) {\n                that.element.on(\"dblclick\" + NS, \".k-scheduler-content > table td\", function (e) {\n                  if (!$(this).parent().hasClass(\"k-scheduler-header-all-day\")) {\n                    var slot = that._slotByPosition(e.pageX, e.pageY);\n\n                    if (slot) {\n                      var resourceInfo = that._resourceBySlot(slot);\n\n                      that.trigger(\"add\", {\n                        eventInfo: extend({\n                          start: slot.startDate(),\n                          end: slot.endDate()\n                        }, resourceInfo)\n                      });\n                    }\n\n                    e.preventDefault();\n                  }\n                }).on(\"dblclick\" + NS, \".k-scheduler-header-all-day td\", function (e) {\n                  var slot = that._slotByPosition(e.pageX, e.pageY);\n\n                  if (slot) {\n                    var resourceInfo = that._resourceBySlot(slot);\n\n                    that.trigger(\"add\", {\n                      eventInfo: extend({}, {\n                        isAllDay: true,\n                        start: kendo.date.getDate(slot.startDate()),\n                        end: kendo.date.getDate(slot.startDate())\n                      }, resourceInfo)\n                    });\n                  }\n\n                  e.preventDefault();\n                });\n              }\n\n              if (that.options.editable.update !== false) {\n                that.element.on(\"dblclick\" + NS, \".k-event\", function (e) {\n                  that.trigger(\"edit\", {\n                    uid: $(this).closest(\".k-event\").attr(kendo.attr(\"uid\"))\n                  });\n                  e.preventDefault();\n                });\n              }\n            },\n            _touchEditable: function () {\n              var that = this;\n              var threshold = 0;\n\n              if (kendo.support.mobileOS.android) {\n                threshold = 5;\n              }\n\n              if (that.options.editable.create !== false) {\n                that._addUserEvents = new kendo.UserEvents(that.element, {\n                  threshold: threshold,\n                  filter: \".k-scheduler-content td\",\n                  useClickAsTap: !kendo.support.browser.edge,\n                  tap: function (e) {\n                    if (that._scrolling) {\n                      return;\n                    }\n\n                    if (!$(e.target).parent().hasClass(\"k-scheduler-header-all-day\")) {\n                      var x = e.x.location !== undefined ? e.x.location : e.x;\n                      var y = e.y.location !== undefined ? e.y.location : e.y;\n\n                      var slot = that._slotByPosition(x, y);\n\n                      if (slot) {\n                        var resourceInfo = that._resourceBySlot(slot);\n\n                        that.trigger(\"add\", {\n                          eventInfo: extend({\n                            start: slot.startDate(),\n                            end: slot.endDate()\n                          }, resourceInfo)\n                        });\n                      }\n\n                      e.preventDefault();\n                    }\n                  }\n                });\n                that._allDayUserEvents = new kendo.UserEvents(that.element, {\n                  threshold: threshold,\n                  useClickAsTap: !kendo.support.browser.edge,\n                  filter: \".k-scheduler-header-all-day td\",\n                  tap: function (e) {\n                    if (that._scrolling) {\n                      return;\n                    }\n\n                    var x = e.x.location !== undefined ? e.x.location : e.x;\n                    var y = e.y.location !== undefined ? e.y.location : e.y;\n\n                    var slot = that._slotByPosition(x, y);\n\n                    if (slot) {\n                      var resourceInfo = that._resourceBySlot(slot);\n\n                      that.trigger(\"add\", {\n                        eventInfo: extend({}, {\n                          isAllDay: true,\n                          start: kendo.date.getDate(slot.startDate()),\n                          end: kendo.date.getDate(slot.startDate())\n                        }, resourceInfo)\n                      });\n                    }\n\n                    e.preventDefault();\n                  }\n                });\n              }\n\n              if (that.options.editable.update !== false) {\n                that._editUserEvents = new kendo.UserEvents(that.element, {\n                  threshold: threshold,\n                  useClickAsTap: !kendo.support.browser.edge,\n                  filter: \".k-event\",\n                  tap: function (e) {\n                    if (that._scrolling) {\n                      return;\n                    }\n\n                    var eventElement = $(e.target).closest(\".k-event\");\n                    var touchElement = $(e.touch.initialTouch);\n\n                    if (touchElement.hasClass(\"k-i-close\")) {\n                      that.trigger(\"remove\", {\n                        uid: eventElement.attr(kendo.attr(\"uid\"))\n                      });\n                    } else if (!eventElement.hasClass(\"k-event-active\")) {\n                      that.trigger(\"edit\", {\n                        uid: eventElement.attr(kendo.attr(\"uid\"))\n                      });\n                    }\n\n                    e.preventDefault();\n                  }\n                });\n              }\n            },\n            _layout: function (dates) {\n              var columns = [];\n              var rows = [];\n              var options = this.options;\n              var that = this;\n\n              var byDate = that._isGroupedByDate();\n\n              for (var idx = 0; idx < dates.length; idx++) {\n                var column = {};\n                column.text = that.dateHeaderTemplate({\n                  date: dates[idx],\n                  isMobile: that._isMobile()\n                });\n\n                if (kendo.date.isToday(dates[idx])) {\n                  column.className = \"k-today\";\n                }\n\n                columns.push(column);\n              }\n\n              var resources = this.groupedResources;\n\n              if (options.allDaySlot) {\n                rows.push({\n                  text: options.messages.allDay,\n                  allDay: true,\n                  cellContent: function (idx) {\n                    var groupIndex = idx;\n                    idx = resources.length && that._groupOrientation() !== \"vertical\" ? idx % dates.length : idx;\n                    return that.allDaySlotTemplate({\n                      date: dates[idx],\n                      resources: function () {\n                        return that._resourceBySlot({\n                          groupIndex: groupIndex\n                        });\n                      }\n                    });\n                  }\n                });\n              }\n\n              this._forTimeRange(this.startTime(), this.endTime(), function (date, majorTick, middleRow, lastSlotRow) {\n                var template = majorTick ? that.majorTimeHeaderTemplate : that.minorTimeHeaderTemplate;\n                var row = {\n                  text: template({\n                    date: date\n                  }),\n                  className: lastSlotRow ? \"k-slot-cell\" : \"\"\n                };\n                rows.push(row);\n              });\n\n              if (resources.length) {\n                if (this._groupOrientation() === \"vertical\") {\n                  if (byDate) {\n                    rows = this._createDateLayout(columns, rows);\n                    columns = this._createColumnsLayout(resources, null, this.groupHeaderTemplate);\n                  } else {\n                    rows = this._createRowsLayout(resources, rows, this.groupHeaderTemplate);\n                  }\n                } else {\n                  if (byDate) {\n                    columns = this._createColumnsLayout(resources, columns, this.groupHeaderTemplate, columns);\n                  } else {\n                    columns = this._createColumnsLayout(resources, columns, this.groupHeaderTemplate);\n                  }\n                }\n              }\n\n              return {\n                columns: columns,\n                rows: rows\n              };\n            },\n            toggleFullDay: function () {\n              var options = this.options;\n              this.trigger(\"navigate\", {\n                view: this.name || options.name,\n                date: options.date,\n                isWorkDay: !options.showWorkHours\n              });\n            },\n            _footer: function () {\n              var options = this.options;\n\n              if (options.footer !== false) {\n                var html = '<div class=\"k-scheduler-footer k-toolbar\">';\n                var command = options.footer.command;\n\n                if (this._isMobile()) {\n                  html += '<span class=\"k-scheduler-today\"><a href=\"#\" tabindex=\"-1\" class=\"k-link\">';\n                  html += options.messages.today + '</a></span>';\n                }\n\n                if (command && command === \"workDay\") {\n                  if (this._isMobile()) {\n                    html += '<span class=\"k-scheduler-fullday\"><a href=\"#\" tabindex=\"-1\" class=\"k-link\">';\n                    html += (options.showWorkHours ? options.messages.showFullDay : options.messages.showWorkDay) + '</a></span>';\n                  } else {\n                    html += '<button type=\"button\" tabindex=\"-1\" class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-scheduler-fullday\">';\n                    html += '<span class=\"k-button-icon k-icon k-i-clock\"></span>';\n                    html += '<span class=\"k-button-text\">';\n                    html += options.showWorkHours ? options.messages.showFullDay : options.messages.showWorkDay;\n                    html += '</span>';\n                    html += '</button>';\n                  }\n                }\n\n                html += \"</div>\";\n                this.footer = $(html).appendTo(this.element);\n                var that = this;\n                this.footer.on(\"click\" + NS, \".k-scheduler-fullday\", function (e) {\n                  e.preventDefault();\n                  that.toggleFullDay();\n                });\n                this.footer.on(\"click\" + NS, \".k-scheduler-today\", function (e) {\n                  e.preventDefault();\n                  var timezone = that.options.timezone;\n                  var action = \"today\";\n                  var currentDate = new Date();\n                  var date;\n\n                  if (timezone) {\n                    var timezoneOffset = kendo.timezone.offset(currentDate, timezone);\n                    date = kendo.timezone.convert(currentDate, currentDate.getTimezoneOffset(), timezoneOffset);\n                  } else {\n                    date = currentDate;\n                  }\n\n                  that.trigger(\"navigate\", {\n                    view: that.name || options.name,\n                    action: action,\n                    date: date\n                  });\n                });\n              }\n            },\n            _forTimeRange: function (min, max, action, after) {\n              min = toInvariantTime(min); //convert the date to 1/2/1980 and sets the time\n\n              max = toInvariantTime(max);\n              var that = this,\n                  msMin = getMilliseconds(min),\n                  msMax = getMilliseconds(max),\n                  minorTickCount = that.options.minorTickCount,\n                  msMajorInterval = that.options.majorTick * MS_PER_MINUTE,\n                  msInterval = msMajorInterval / minorTickCount || 1,\n                  start = new Date(+min),\n                  startDay = start.getDate(),\n                  msStart,\n                  idx = 0,\n                  length,\n                  html = \"\";\n              length = MS_PER_DAY / msInterval;\n\n              if (msMin != msMax) {\n                if (msMin > msMax) {\n                  msMax += MS_PER_DAY;\n                }\n\n                length = (msMax - msMin) / msInterval;\n              }\n\n              length = Math.round(length);\n\n              for (; idx < length; idx++) {\n                var majorTickDivider = idx % (msMajorInterval / msInterval),\n                    isMajorTickRow = majorTickDivider === 0,\n                    isMiddleRow = majorTickDivider < minorTickCount - 1,\n                    isLastSlotRow = majorTickDivider === minorTickCount - 1;\n                html += action(start, isMajorTickRow, isMiddleRow, isLastSlotRow);\n                setTime(start, msInterval, false);\n              }\n\n              if (msMax) {\n                msStart = getMilliseconds(start);\n\n                if (startDay < start.getDate()) {\n                  msStart += MS_PER_DAY;\n                }\n\n                if (msStart > msMax) {\n                  start = new Date(+max);\n                }\n              }\n\n              if (after) {\n                html += after(start);\n              }\n\n              return html;\n            },\n            _content: function (dates) {\n              var that = this;\n              var html = '';\n              html += '<tbody>';\n              html += that._renderRows(dates, that.rowLevels, that.columnLevels);\n              html += '</tbody>';\n              this.content.find(\"table\").append(html);\n            },\n            _virtualContent: function (rowLevels, columnLevels) {\n              var that = this;\n              var html = '';\n              var dates = that._dates;\n              html += that._renderRows(dates, rowLevels, columnLevels);\n              that.content.find(\"table tbody\").append(html);\n            },\n            _renderRows: function (dates, rowLevels, columnLevels) {\n              var that = this;\n              var isVerticalGroupped = that._groupOrientation() === \"vertical\";\n\n              var byDate = that._isGroupedByDate();\n\n              var dateID = 0;\n              var columnCount = dates.length;\n              var options = that.options;\n              var start = that.startTime();\n              var end = this.endTime();\n              var groupsCount = 1;\n              var rowCount = 1;\n              var resources = this.groupedResources;\n              var html = '';\n\n              if (resources.length) {\n                var levels = that._recalculateLevels(rowLevels, columnLevels);\n\n                rowCount = levels.rowCount;\n                groupsCount = levels.groupsCount;\n              }\n\n              var appendRow = function (date, majorTick, middleRow) {\n                var content = \"\";\n                var groupIdx = 0;\n                var idx, length;\n                content = '<tr' + (middleRow ? ' class=\"k-middle-row\"' : \"\") + '>';\n\n                if (byDate) {\n                  for (idx = 0, length = columnCount; idx < length; idx++) {\n                    for (groupIdx = 0; groupIdx < groupsCount; groupIdx++) {\n                      var dateIndex = idx;\n\n                      if (isVerticalGroupped) {\n                        dateIndex = dateID;\n                      }\n\n                      content = that._addCellsToContent(content, dates, date, dateIndex, groupIdx, rowIdx);\n                    }\n\n                    if (isVerticalGroupped) {\n                      break;\n                    }\n                  }\n                } else {\n                  for (; groupIdx < groupsCount; groupIdx++) {\n                    for (idx = 0, length = columnCount; idx < length; idx++) {\n                      content = that._addCellsToContent(content, dates, date, idx, groupIdx, rowIdx);\n                    }\n                  }\n                }\n\n                content += \"</tr>\";\n                return content;\n              };\n\n              for (var rowIdx = 0; rowIdx < rowCount; rowIdx++) {\n                html += options.allDaySlot && isVerticalGroupped ? this._allDayVerticalGroupRow(dates, rowIdx, groupsCount, dateID) : \"\";\n                html += this._forTimeRange(start, end, appendRow);\n\n                if (isVerticalGroupped) {\n                  dateID++;\n                }\n              }\n\n              return html;\n            },\n            _recalculateLevels: function (rowLevels, columnLevels) {\n              var that = this;\n\n              var byDate = that._isGroupedByDate();\n\n              var isVerticalGroupped = that._groupOrientation() === \"vertical\";\n              var groupsCount = 1;\n              var rowCount = 1;\n\n              if (isVerticalGroupped) {\n                rowCount = that._rowCountForLevel(rowLevels.length - 2, rowLevels);\n\n                if (byDate) {\n                  groupsCount = that._columnCountForLevel(columnLevels.length - 1);\n                }\n              } else {\n                if (byDate) {\n                  groupsCount = that._columnCountForLevel(columnLevels.length - 1) / this._columnCountForLevel(0);\n                } else {\n                  groupsCount = that._columnCountForLevel(columnLevels.length - 2);\n                }\n              }\n\n              return {\n                rowCount: rowCount,\n                groupsCount: groupsCount\n              };\n            },\n            _allDayVerticalGroupRow: function (dates, groupIndex, groupsCount, dateID) {\n              var that = this;\n              var result = '<tr class=\"k-scheduler-header-all-day\">';\n\n              var byDate = that._isGroupedByDate();\n\n              var dateGroupIndex = byDate ? 0 : groupIndex;\n              var allDaySlotTemplate = that.allDaySlotTemplate;\n\n              var resources = function () {\n                return that._resourceBySlot({\n                  groupIndex: dateGroupIndex\n                });\n              };\n\n              if (byDate) {\n                for (; dateGroupIndex < groupsCount; dateGroupIndex++) {\n                  result += \"<td>\" + allDaySlotTemplate({\n                    date: dates[dateID],\n                    resources: resources\n                  }) + \"</td>\";\n                }\n              } else {\n                for (var idx = 0; idx < dates.length; idx++) {\n                  result += \"<td>\" + allDaySlotTemplate({\n                    date: dates[idx],\n                    resources: resources\n                  }) + \"</td>\";\n                }\n              }\n\n              return result + \"</tr>\";\n            },\n            _addCellsToContent: function (content, dates, date, idx, groupIdx, rowIdx) {\n              var that = this;\n              var classes = \"\";\n              var tmplDate;\n              var slotTemplate = this.slotTemplate;\n              var isVerticalGroupped = this._groupOrientation() === \"vertical\";\n\n              var resources = function (groupIndex) {\n                return function () {\n                  return that._resourceBySlot({\n                    groupIndex: groupIndex\n                  });\n                };\n              };\n\n              if (kendo.date.isToday(dates[idx])) {\n                classes += \"k-today\";\n              }\n\n              if (kendo.date.getMilliseconds(date) < kendo.date.getMilliseconds(this.options.workDayStart) || kendo.date.getMilliseconds(date) >= kendo.date.getMilliseconds(this.options.workDayEnd) || !this._isWorkDay(dates[idx])) {\n                classes += \" k-nonwork-hour\";\n              }\n\n              content += '<td' + (classes !== \"\" ? ' class=\"' + classes + '\"' : \"\") + \">\";\n              tmplDate = kendo.date.getDate(dates[idx]);\n              kendo.date.setTime(tmplDate, kendo.date.getMilliseconds(date));\n              content += slotTemplate({\n                date: tmplDate,\n                resources: resources(isVerticalGroupped && !that._isGroupedByDate() ? rowIdx : groupIdx)\n              });\n              content += \"</td>\";\n              return content;\n            },\n            _isWorkDay: function (date) {\n              var day = date.getDay();\n              var workDays = this._workDays;\n\n              for (var i = 0; i < workDays.length; i++) {\n                if (workDays[i] === day) {\n                  return true;\n                }\n              }\n\n              return false;\n            },\n            _render: function (dates) {\n              var that = this;\n              dates = dates || [];\n              this._dates = dates;\n              this._startDate = dates[0];\n              this._endDate = dates[dates.length - 1 || 0];\n              this.createLayout(this._layout(dates));\n\n              this._content(dates);\n\n              this._footer();\n\n              this.refreshLayout();\n\n              if (this._isVirtualized()) {\n                this._tryRenderContent();\n              }\n\n              var allDayHeader = this.element.find(\".k-scheduler-header-all-day td\");\n\n              if (allDayHeader.length) {\n                this._allDayHeaderHeight = allDayHeader.first()[0].clientHeight;\n              }\n\n              that.element.on(\"click\" + NS, \".k-nav-day\", function (e) {\n                var th = $(e.currentTarget).closest(\"th\");\n                var offset = th.offset();\n                var additioanlWidth = 0;\n                var additionalHeight = outerHeight(th);\n\n                if (that._isGroupedByDate()) {\n                  if (that._isVerticallyGrouped()) {\n                    additioanlWidth = outerWidth(that.times);\n                    additionalHeight = 0;\n                  } else {\n                    additionalHeight = outerHeight(that.datesHeader);\n                  }\n                }\n\n                var slot = that._slotByPosition(offset.left + additioanlWidth, offset.top + additionalHeight);\n\n                that.trigger(\"navigate\", {\n                  view: \"day\",\n                  date: slot.startDate()\n                });\n              });\n            },\n            startTime: function () {\n              var options = this.options;\n              return options.showWorkHours ? options.workDayStart : options.startTime;\n            },\n            endTime: function () {\n              var options = this.options;\n              return options.showWorkHours ? options.workDayEnd : options.endTime;\n            },\n            startDate: function () {\n              return this._startDate;\n            },\n            endDate: function () {\n              return this._endDate;\n            },\n            _end: function (isAllDay) {\n              var time = getMilliseconds(this.endTime()) || MS_PER_DAY;\n\n              if (isAllDay) {\n                time = 0;\n              }\n\n              return new Date(this._endDate.getTime() + time);\n            },\n            nextDate: function () {\n              return kendo.date.nextDay(this.endDate());\n            },\n            previousDate: function () {\n              return kendo.date.previousDay(this.startDate());\n            },\n            calculateDateRange: function () {\n              this._render([this.options.date]);\n            },\n            destroy: function () {\n              var that = this;\n\n              if (that._currentTimeUpdateTimer) {\n                clearInterval(that._currentTimeUpdateTimer);\n              }\n\n              if (that.datesHeader) {\n                that.datesHeader.off(NS);\n              }\n\n              if (that.element) {\n                that.element.off(NS);\n              }\n\n              if (that.footer) {\n                that.footer.remove();\n              }\n\n              SchedulerView.fn.destroy.call(this);\n\n              if (this._isMobile() && that.options.editable) {\n                if (that.options.editable.create !== false) {\n                  that._addUserEvents.destroy();\n\n                  that._allDayUserEvents.destroy();\n                }\n\n                if (that.options.editable.update !== false) {\n                  that._editUserEvents.destroy();\n                }\n              }\n            },\n            inRange: function (options) {\n              var inRange = SchedulerView.fn.inRange.call(this, options);\n\n              if (options.isAllDay) {\n                return inRange;\n              }\n\n              var startTime = getMilliseconds(this.startTime());\n              var endTime = getMilliseconds(this.endTime()) || kendo.date.MS_PER_DAY;\n              var start = getMilliseconds(options.start);\n              var end = getMilliseconds(options.end) || kendo.date.MS_PER_DAY;\n              return inRange && startTime <= start && end <= endTime;\n            },\n            selectionByElement: function (cell) {\n              var offset = cell.offset(); // The magical number 5 is to buffer properly the height of the cell for all browsers\n\n              var height = Math.round(cell.innerHeight()) - 5;\n              return this._slotByPosition(offset.left, offset.top + height);\n            },\n            _timeSlotInterval: function () {\n              var options = this.options;\n              return options.majorTick / options.minorTickCount * MS_PER_MINUTE;\n            },\n            _timeSlotIndex: function (date) {\n              var options = this.options;\n              var eventStartTime = getMilliseconds(date);\n              var startTime = getMilliseconds(this.startTime());\n              var timeSlotInterval = options.majorTick / options.minorTickCount * MS_PER_MINUTE;\n              return (eventStartTime - startTime) / timeSlotInterval;\n            },\n            _slotIndex: function (date, multiday) {\n              if (multiday) {\n                return this._dateSlotIndex(date);\n              }\n\n              return this._timeSlotIndex(date);\n            },\n            _dateSlotIndex: function (date, overlaps) {\n              var idx;\n              var length;\n              var slots = this._dates || [];\n              var slotStart;\n              var slotEnd;\n              var offset = 1;\n\n              for (idx = 0, length = slots.length; idx < length; idx++) {\n                slotStart = kendo.date.getDate(slots[idx]);\n                slotEnd = new Date(kendo.date.getDate(slots[idx]).getTime() + MS_PER_DAY - (overlaps ? 0 : 1));\n\n                if (isInDateRange(date, slotStart, slotEnd)) {\n                  return idx * offset;\n                }\n              }\n\n              return -1;\n            },\n            _positionAllDayEvent: function (element, slotRange) {\n              var slotWidth = slotRange.innerWidth();\n              var startIndex = slotRange.start.index;\n              var endIndex = slotRange.end.index;\n              var allDayEvents = SchedulerView.collidingEvents(slotRange.events(), startIndex, endIndex);\n              var currentColumnCount = this._headerColumnCount || 0;\n              var leftOffset = 2;\n              var rightOffset = startIndex !== endIndex ? 3 : 2;\n              var eventHeight = this._allDayHeaderHeight;\n              var start = slotRange.startSlot();\n              element.css({\n                left: start.offsetLeft + leftOffset,\n                width: slotWidth - rightOffset\n              });\n              slotRange.addEvent({\n                slotIndex: startIndex,\n                start: startIndex,\n                end: endIndex,\n                element: element\n              });\n              allDayEvents.push({\n                slotIndex: startIndex,\n                start: startIndex,\n                end: endIndex,\n                element: element\n              });\n              var rows = SchedulerView.createRows(allDayEvents);\n\n              if (rows.length && rows.length > currentColumnCount) {\n                this._headerColumnCount = rows.length;\n              }\n\n              var top = slotRange.start.offsetTop;\n\n              for (var idx = 0, length = rows.length; idx < length; idx++) {\n                var rowEvents = rows[idx].events;\n\n                for (var j = 0, eventLength = rowEvents.length; j < eventLength; j++) {\n                  $(rowEvents[j].element).css({\n                    top: top + idx * eventHeight,\n                    // apply calculated height.\n                    // -2 is to match normal events\n                    height: eventHeight - 2\n                  });\n                }\n              }\n            },\n            _arrangeColumns: function (element, top, height, slotRange) {\n              var startSlot = slotRange.start;\n              element = {\n                element: element,\n                slotIndex: startSlot.index,\n                start: top,\n                end: top + height\n              };\n              var columns,\n                  slotWidth = startSlot.clientWidth,\n                  eventRightOffset = slotWidth * 0.10,\n                  columnEvents,\n                  eventElements = slotRange.events(),\n                  slotEvents = SchedulerView.collidingEvents(eventElements, element.start, element.end),\n                  tableEl = this.table.find(\".k-scheduler-content .k-scheduler-table\")[0],\n                  contentEl = this.table.find(\".k-scheduler-content\")[0];\n              slotRange.addEvent(element);\n              slotEvents.push(element);\n              columns = SchedulerView.createColumns(slotEvents);\n              var columnWidth = (slotWidth - eventRightOffset) / columns.length;\n\n              for (var idx = 0, length = columns.length; idx < length; idx++) {\n                columnEvents = columns[idx].events;\n\n                for (var j = 0, eventLength = columnEvents.length; j < eventLength; j++) {\n                  var calculatedWidth = columnWidth - 2;\n                  columnEvents[j].element[0].style.width = (calculatedWidth > 0 ? calculatedWidth : columnWidth) + \"px\";\n\n                  if (this._isRtl && contentEl.clientWidth < contentEl.scrollWidth) {\n                    // RTL mobile rendering with horizontal scroll\n                    columnEvents[j].element[0].style.left = eventRightOffset + startSlot.offsetLeft + idx * columnWidth - (tableEl.clientWidth - contentEl.clientWidth) + \"px\";\n                  } else {\n                    columnEvents[j].element[0].style.left = (this._isRtl ? eventRightOffset : 0) + startSlot.offsetLeft + idx * columnWidth + 2 + \"px\";\n                  }\n                }\n              }\n            },\n            _positionEvent: function (event, element, slotRange) {\n              var start = event._startTime || event.start;\n              var end = event._endTime || event.end;\n              var borderWidths = kendo.getComputedStyles(slotRange.start.element, [\"border-top-width\", \"border-bottom-width\"]);\n              var rect = slotRange.innerRect(start, end, false);\n              var height = rect.bottom - rect.top - parseFloat(borderWidths[\"border-top-width\"]) - parseFloat(borderWidths[\"border-bottom-width\"]);\n\n              if (height < 0) {\n                height = 0;\n              }\n\n              element.css({\n                top: rect.top,\n                height: height\n              });\n\n              this._arrangeColumns(element, rect.top, element[0].clientHeight, slotRange);\n            },\n            _createEventElement: function (event, isOneDayEvent, head, tail) {\n              var template = isOneDayEvent ? this.eventTemplate : this.allDayEventTemplate;\n              var options = this.options;\n              var editable = options.editable;\n\n              var isMobile = this._isMobile();\n\n              var showDelete = editable && editable.destroy !== false && !isMobile;\n              var resizable = editable && editable.resize !== false;\n              var startDate = getDate(this.startDate());\n              var endDate = getDate(this.endDate());\n              var startTime = getMilliseconds(this.startTime());\n              var endTime = getMilliseconds(this.endTime());\n\n              var eventStartTime = event._time(\"start\");\n\n              var eventEndTime = event._time(\"end\");\n\n              var middle;\n\n              if (startTime >= endTime) {\n                endTime = getMilliseconds(new Date(this.endTime().getTime() + MS_PER_DAY - 1));\n              }\n\n              if (!isOneDayEvent && !event.isAllDay) {\n                endDate = new Date(endDate.getTime() + MS_PER_DAY);\n              }\n\n              var eventStartDate = event.start;\n              var eventEndDate = event.end;\n\n              if (event.isAllDay) {\n                eventEndDate = getDate(event.end);\n              }\n\n              if (!isInDateRange(getDate(eventStartDate), startDate, endDate) && !isInDateRange(eventEndDate, startDate, endDate) || isOneDayEvent && event.start.getTime() !== event.end.getTime() && (eventStartTime < startTime || eventStartTime >= endTime) && (eventEndTime > endTime || eventEndTime <= startTime)) {\n                middle = true;\n              } else if (getDate(eventStartDate) < startDate || isOneDayEvent && eventStartTime !== 0 && event.start.getTime() !== event.end.getTime() && (eventStartTime < startTime || eventStartTime >= endTime)) {\n                tail = true;\n              } else if (eventEndDate > endDate && !isOneDayEvent || isOneDayEvent && eventEndTime !== 0 && event.start.getTime() !== event.end.getTime() && (eventEndTime > endTime || eventEndTime <= startTime)) {\n                head = true;\n              }\n\n              var resources = this.eventResources(event);\n\n              if (event._startTime && eventStartTime !== kendo.date.getMilliseconds(event.start)) {\n                eventStartDate = new Date(eventStartTime);\n                eventStartDate = kendo.timezone.apply(eventStartDate, \"Etc/UTC\");\n              }\n\n              if (event._endTime && eventEndTime !== kendo.date.getMilliseconds(event.end)) {\n                eventEndDate = new Date(eventEndTime);\n                eventEndDate = kendo.timezone.apply(eventEndDate, \"Etc/UTC\");\n              }\n\n              var data = extend({}, {\n                ns: kendo.ns,\n                resizable: resizable,\n                showDelete: showDelete,\n                middle: middle,\n                head: head,\n                tail: tail,\n                singleDay: this._dates.length == 1,\n                resources: resources,\n                inverseColor: false,\n                messages: options.messages,\n                ariaLabel: this._formatEventAriaLabel(event.title, eventStartDate, eventEndDate, event.isAllDay)\n              }, event, {\n                start: eventStartDate,\n                end: eventEndDate\n              });\n              var element = $(template(data));\n              this.angular(\"compile\", function () {\n                return {\n                  elements: element,\n                  data: [{\n                    dataItem: data\n                  }]\n                };\n              });\n              return element;\n            },\n            _isInTimeSlot: function (event) {\n              var slotStartTime = this.startTime(),\n                  slotEndTime = this.endTime(),\n                  startTime = event._startTime || event.start,\n                  endTime = event._endTime || event.end;\n\n              if (getMilliseconds(slotEndTime) === getMilliseconds(kendo.date.getDate(slotEndTime))) {\n                slotEndTime = kendo.date.getDate(slotEndTime);\n                setTime(slotEndTime, MS_PER_DAY - 1);\n              }\n\n              if (event._date(\"end\") > event._date(\"start\")) {\n                endTime = +event._date(\"end\") + (MS_PER_DAY - 1);\n              }\n\n              endTime = event._endTime ? endTime - event._date(\"end\") : getMilliseconds(new Date(endTime));\n              startTime = event._startTime ? startTime - event._date(\"start\") : getMilliseconds(new Date(startTime));\n              slotEndTime = getMilliseconds(slotEndTime);\n              slotStartTime = getMilliseconds(slotStartTime);\n\n              if (slotStartTime === startTime && startTime === endTime) {\n                return true;\n              }\n\n              var overlaps = startTime !== slotEndTime;\n              return isInTimeRange(startTime, slotStartTime, slotEndTime, overlaps) || isInTimeRange(endTime, slotStartTime, slotEndTime, overlaps) || isInTimeRange(slotStartTime, startTime, endTime) || isInTimeRange(slotEndTime, startTime, endTime) || event.end.getDate() > event.start.getDate() && endTime > slotStartTime;\n            },\n            _isInDateSlot: function (event) {\n              var groups = this.groups[0];\n              var slotStart = groups.firstSlot().start;\n              var slotEnd = groups.lastSlot().end - 1;\n              var startTime = kendo.date.toUtcTime(event.start);\n              var endTime = kendo.date.toUtcTime(event.end);\n              return (isInDateRange(startTime, slotStart, slotEnd) || isInDateRange(endTime, slotStart, slotEnd) || isInDateRange(slotStart, startTime, endTime) || isInDateRange(slotEnd, startTime, endTime)) && (!isInDateRange(endTime, slotStart, slotStart) || isInDateRange(endTime, startTime, startTime) || event.isAllDay);\n            },\n            _updateAllDayHeaderHeight: function (height) {\n              if (this._height !== height) {\n                this._height = height;\n                var allDaySlots = this.element.find(\".k-scheduler-header-all-day td\");\n\n                if (allDaySlots.length) {\n                  allDaySlots.parent().add(this.element.find(\".k-scheduler-times-all-day\").parent()).height(height);\n\n                  for (var groupIndex = 0; groupIndex < this.groups.length; groupIndex++) {\n                    this.groups[groupIndex].refresh();\n                  }\n                }\n              }\n            },\n            _renderEvents: function (events, groupIndex) {\n              var allDayEventContainer = this.datesHeader.find(\".k-scheduler-header-wrap > div\");\n\n              var byDate = this._isGroupedByDate();\n\n              var event;\n              var idx;\n              var length;\n\n              for (idx = 0, length = events.length; idx < length; idx++) {\n                event = events[idx];\n\n                if (this._isInDateSlot(event)) {\n                  var isMultiDayEvent, container, element, ranges, range, start, end, group;\n\n                  if (this.options.enforceAllDaySlot) {\n                    isMultiDayEvent = event.isAllDay || event.duration() >= MS_PER_DAY;\n                  } else {\n                    isMultiDayEvent = event.isAllDay;\n                  }\n\n                  container = isMultiDayEvent && !this._isVerticallyGrouped() ? allDayEventContainer : this.content;\n\n                  if (!isMultiDayEvent) {\n                    if (this._isInTimeSlot(event)) {\n                      group = this.groups[groupIndex];\n\n                      if (!group) {\n                        continue;\n                      }\n\n                      if (!group._continuousEvents) {\n                        group._continuousEvents = [];\n                      }\n\n                      ranges = group.slotRanges(event);\n                      var rangeCount = ranges.length;\n\n                      for (var rangeIndex = 0; rangeIndex < rangeCount; rangeIndex++) {\n                        range = ranges[rangeIndex];\n                        start = event.start;\n                        end = event.end;\n\n                        if (rangeCount > 1) {\n                          if (rangeIndex === 0) {\n                            end = range.end.endDate();\n                          } else if (rangeIndex == rangeCount - 1) {\n                            start = range.start.startDate();\n                          } else {\n                            start = range.start.startDate();\n                            end = range.end.endDate();\n                          }\n                        }\n\n                        var occurrence = event.clone({\n                          start: start,\n                          end: end,\n                          _startTime: event._startTime,\n                          _endTime: event.endTime\n                        });\n\n                        if (this._isInTimeSlot(occurrence)) {\n                          var head = range.head;\n                          element = this._createEventElement(event, !isMultiDayEvent, head, range.tail);\n                          element.appendTo(container);\n\n                          this._inverseEventColor(element);\n\n                          this._positionEvent(occurrence, element, range);\n\n                          addContinuousEvent(group, range, element, false);\n                        }\n                      }\n                    }\n                  } else if (this.options.allDaySlot) {\n                    group = this.groups[groupIndex];\n\n                    if (!group) {\n                      continue;\n                    }\n\n                    if (!group._continuousEvents) {\n                      group._continuousEvents = [];\n                    }\n\n                    ranges = group.slotRanges(event);\n\n                    if (ranges.length) {\n                      range = ranges[0];\n                      var startIndex = range.start.index;\n                      var endIndex = range.end.index;\n\n                      if (byDate && startIndex !== endIndex) {\n                        start = range.start.start;\n                        end = range.end.end;\n                        var newStart = start;\n                        var newEnd = start;\n\n                        for (var i = range.start.index; i <= range.end.index; i++) {\n                          element = this._createEventElement(event, !isMultiDayEvent, i !== endIndex, i !== startIndex);\n                          var dateRange = group.daySlotRanges(newStart, newEnd, true)[0];\n                          newStart = newEnd += kendo.date.MS_PER_DAY;\n\n                          this._positionAllDayEvent(element, dateRange);\n\n                          addContinuousEvent(group, dateRange, element, true);\n                          element.appendTo(container);\n\n                          this._inverseEventColor(element);\n                        }\n                      } else {\n                        element = this._createEventElement(event, !isMultiDayEvent);\n\n                        this._positionAllDayEvent(element, ranges[0]);\n\n                        addContinuousEvent(group, ranges[0], element, true);\n                        element.appendTo(container);\n\n                        this._inverseEventColor(element);\n                      }\n                    }\n                  }\n                }\n              }\n            },\n            render: function (events) {\n              var that = this;\n              this._headerColumnCount = 0;\n              this._cachedEvents = events;\n\n              this._groups();\n\n              this.element.find(\".k-event\").remove();\n              events = new kendo.data.Query(events).sort([{\n                field: \"start\",\n                dir: \"asc\"\n              }, {\n                field: \"end\",\n                dir: \"desc\"\n              }]).toArray();\n              var eventsByResource = [];\n\n              this._eventsByResource(events, this.groupedResources, eventsByResource);\n\n              var eventsPerDate = $.map(this._dates, function (date) {\n                return Math.max.apply(null, $.map(eventsByResource, function (events) {\n                  return $.grep(events, function (event) {\n                    if (that.options.enforceAllDaySlot) {\n                      return event.isMultiDay() && isInDateRange(date, getDate(event.start), getDate(event.end));\n                    } else {\n                      return event.isAllDay && isInDateRange(date, getDate(event.start), getDate(event.end));\n                    }\n                  }).length;\n                }));\n              });\n              var height = Math.max.apply(null, eventsPerDate);\n\n              this._updateAllDayHeaderHeight((height + 1) * this._allDayHeaderHeight);\n\n              for (var groupIndex = 0; groupIndex < eventsByResource.length; groupIndex++) {\n                this._renderEvents(eventsByResource[groupIndex], groupIndex);\n              }\n\n              this.refreshLayout();\n\n              this._currentTime(false);\n\n              this.trigger(\"activate\");\n            },\n            _eventsByResource: function (events, resources, result, parentValue) {\n              var resource = resources[0];\n\n              if (resource) {\n                var view = resource.dataSource.view();\n                view = view.filter(function (item) {\n                  var itemParentValue = kendo.getter(resource.dataParentValueField)(item);\n                  return itemParentValue === null || itemParentValue === undefined || itemParentValue === parentValue;\n                });\n\n                for (var itemIdx = 0; itemIdx < view.length; itemIdx++) {\n                  var value = this._resourceValue(resource, view[itemIdx]);\n\n                  var eventsFilteredByResource = new kendo.data.Query(events).filter({\n                    field: resource.field,\n                    operator: SchedulerView.groupEqFilter(value)\n                  }).toArray();\n\n                  if (resources.length > 1) {\n                    this._eventsByResource(eventsFilteredByResource, resources.slice(1), result, value);\n                  } else {\n                    result.push(eventsFilteredByResource);\n                  }\n                }\n              } else {\n                result.push(events);\n              }\n            },\n            _columnOffsetForResource: function (index) {\n              return this._columnCountForLevel(index) / this._columnCountForLevel(index - 1);\n            },\n            _columnCountForLevel: function (level) {\n              var columnLevel = this.columnLevels[level];\n              return columnLevel ? columnLevel.length : 0;\n            },\n            _rowCountForLevel: function (level, rowLevels) {\n              rowLevels = rowLevels || this.rowLevels;\n              var rowLevel = rowLevels[level];\n              return rowLevel ? rowLevel.length : 0;\n            },\n            clearSelection: function () {\n              this.content.add(this.datesHeader).find(\".k-selected\").removeAttr(\"id\").removeClass(\"k-selected\");\n            },\n            _updateDirection: function (selection, ranges, multiple, reverse, vertical) {\n              var isDaySlot = selection.isAllDay;\n              var startSlot = ranges[0].start;\n              var endSlot = ranges[ranges.length - 1].end;\n\n              if (multiple) {\n                if (vertical) {\n                  if (!isDaySlot && startSlot.index === endSlot.index && startSlot.collectionIndex === endSlot.collectionIndex) {\n                    selection.backward = reverse;\n                  }\n                } else {\n                  if (isDaySlot && startSlot.index === endSlot.index || !isDaySlot && startSlot.collectionIndex === endSlot.collectionIndex) {\n                    selection.backward = reverse;\n                  }\n                }\n              }\n            },\n            _changeViewPeriod: function (selection, reverse, vertical) {\n              if (!vertical) {\n                var date = reverse ? this.previousDate() : this.nextDate();\n                var start = selection.start;\n                var end = selection.end;\n\n                var verticalByDate = this._isGroupedByDate() && this._isVerticallyGrouped();\n\n                var group = this.groups[selection.groupIndex];\n                var collection = reverse ? group._timeSlotCollections : group._getCollections(group.daySlotCollectionCount());\n                var slots = collection[collection.length - 1]._slots;\n                var slotIndex = !reverse && !group.daySlotCollectionCount() ? 0 : slots.length - 1;\n                var endMilliseconds;\n                var newDateStart, newDateEnd;\n                newDateStart = new Date(date);\n                newDateEnd = new Date(date);\n\n                if (this._isInRange(newDateStart, newDateEnd)) {\n                  return false;\n                }\n\n                selection.start = newDateStart;\n                selection.end = newDateEnd;\n\n                if (verticalByDate) {\n                  var newStart = new Date(slots[slotIndex].startDate());\n                  var newEnd = new Date(slots[slotIndex].endDate());\n                  endMilliseconds = getMilliseconds(newEnd) ? getMilliseconds(newEnd) : MS_PER_DAY;\n                  setTime(selection.start, getMilliseconds(newStart));\n                  setTime(selection.end, endMilliseconds);\n\n                  if (group.daySlotCollectionCount()) {\n                    selection.isAllDay = !selection.isAllDay;\n                  }\n                } else {\n                  endMilliseconds = selection.isAllDay || !getMilliseconds(end) ? MS_PER_DAY : getMilliseconds(end);\n                  setTime(selection.start, getMilliseconds(start));\n                  setTime(selection.end, endMilliseconds);\n                }\n\n                if (!this._isVerticallyGrouped()) {\n                  selection.groupIndex = reverse ? this.groups.length - 1 : 0;\n                }\n\n                selection.events = [];\n                return true;\n              }\n            }\n          });\n          extend(true, ui, {\n            MultiDayView: MultiDayView,\n            DayView: MultiDayView.extend({\n              options: {\n                name: \"DayView\",\n                title: \"Day\",\n                selectedMobileDateFormat: \"{0:MMM d}\"\n              },\n              name: \"day\"\n            }),\n            WeekView: MultiDayView.extend({\n              options: {\n                name: \"WeekView\",\n                title: \"Week\",\n                selectedDateFormat: \"{0:D} - {1:D}\",\n                selectedShortDateFormat: \"{0:d} - {1:d}\"\n              },\n              name: \"week\",\n              calculateDateRange: function () {\n                var selectedDate = this.options.date,\n                    start = kendo.date.dayOfWeek(selectedDate, this.calendarInfo().firstDay, -1),\n                    idx,\n                    length,\n                    dates = [];\n\n                for (idx = 0, length = 7; idx < length; idx++) {\n                  dates.push(start);\n                  start = kendo.date.nextDay(start);\n                }\n\n                this._render(dates);\n              }\n            }),\n            WorkWeekView: MultiDayView.extend({\n              options: {\n                name: \"WorkWeekView\",\n                title: \"Work Week\",\n                selectedDateFormat: \"{0:D} - {1:D}\",\n                selectedShortDateFormat: \"{0:d} - {1:d}\"\n              },\n              name: \"workWeek\",\n              nextDate: function () {\n                var weekStart = kendo.date.dayOfWeek(kendo.date.nextDay(this.startDate()), this.calendarInfo().firstDay, 1);\n                return kendo.date.addDays(weekStart, this._workDays[0]);\n              },\n              previousDate: function () {\n                var weekStart = kendo.date.dayOfWeek(this.startDate(), this.calendarInfo().firstDay, -1);\n                var workDays = this._workDays;\n                return kendo.date.addDays(weekStart, workDays[workDays.length - 1] - 7);\n              },\n              calculateDateRange: function () {\n                var options = this.options,\n                    selectedDate = options.date,\n                    dayOfWeek = kendo.date.dayOfWeek,\n                    weekStart = dayOfWeek(selectedDate, this.calendarInfo().firstDay, -1),\n                    start = dayOfWeek(weekStart, options.workWeekStart, 1),\n                    end = dayOfWeek(start, options.workWeekEnd, 1),\n                    dates = [],\n                    workDays = options.workDays && options.workDays.length ? options.workDays.map(function (day) {\n                  return dayOfWeek(weekStart, day, 1).getTime();\n                }) : null;\n\n                if (workDays) {\n                  start = weekStart;\n                  end = dayOfWeek(start, this.calendarInfo().firstDay + 6, 1);\n                }\n\n                while (start <= end) {\n                  if (workDays && workDays.indexOf(start.getTime()) > -1) {\n                    dates.push(start);\n                  } else if (!workDays) {\n                    dates.push(start);\n                  }\n\n                  start = kendo.date.nextDay(start);\n                }\n\n                this._render(dates);\n              }\n            })\n          });\n        })(window.kendo.jQuery);\n\n        return window.kendo;\n      }, __webpack_require__.amdD);\n      /***/\n\n    },\n\n    /***/\n    81477:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./kendo.scheduler.view\");\n      /***/\n    }\n    /******/\n\n  };\n  /************************************************************************/\n\n  /******/\n  // The module cache\n\n  /******/\n\n  var __webpack_module_cache__ = {};\n  /******/\n\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n    // Check if module is in cache\n\n    /******/\n    var cachedModule = __webpack_module_cache__[moduleId];\n    /******/\n\n    if (cachedModule !== undefined) {\n      /******/\n      return cachedModule.exports;\n      /******/\n    }\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n\n    var module = __webpack_module_cache__[moduleId] = {\n      /******/\n      // no module.id needed\n\n      /******/\n      // no module.loaded needed\n\n      /******/\n      exports: {}\n      /******/\n\n    };\n    /******/\n\n    /******/\n    // Execute the module function\n\n    /******/\n\n    __webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n    /******/\n\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n\n    return module.exports;\n    /******/\n  }\n  /******/\n\n  /************************************************************************/\n\n  /******/\n\n  /* webpack/runtime/amd define */\n\n  /******/\n\n\n  !function () {\n    /******/\n    __webpack_require__.amdD = function () {\n      /******/\n      throw new Error('define cannot be used indirect');\n      /******/\n    };\n    /******/\n\n  }();\n  /******/\n\n  /************************************************************************/\n\n  /******/\n\n  /******/\n  // startup\n\n  /******/\n  // Load entry module and return exports\n\n  /******/\n  // This entry module used 'module' so it can't be inlined\n\n  /******/\n\n  var __webpack_exports__ = __webpack_require__(81525);\n  /******/\n\n\n  module.exports = __webpack_exports__;\n  /******/\n\n  /******/\n})();","map":{"version":3,"names":["__webpack_modules__","module","exports","__webpack_require__","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","f","define","apply","undefined","__meta__","id","name","category","description","depends","hidden","$","kendo","window","ui","setTime","date","SchedulerView","outerWidth","_outerWidth","outerHeight","_outerHeight","extend","getDate","MS_PER_MINUTE","MS_PER_DAY","CURRENT_TIME_MARKER_CLASS","CURRENT_TIME_MARKER_ARROW_CLASS","INVERSE_COLOR_CLASS","BORDER_SIZE_COEFF","getMilliseconds","NS","DAY_VIEW_EVENT_TEMPLATE","template","DAY_VIEW_ALL_DAY_EVENT_TEMPLATE","DATA_HEADER_TEMPLATE","ALLDAY_EVENT_WRAPPER_STRING","EVENT_WRAPPER_STRING","toInvariantTime","staticDate","Date","isInDateRange","value","min","max","isInTimeRange","overlaps","addContinuousEvent","group","range","element","isAllDay","events","_continuousEvents","lastEvent","length","startDate","start","getTime","idx","splice","uid","attr","end","push","getWorkDays","options","workDays","dayIndex","workWeekStart","workWeekEnd","Math","abs","MultiDayView","init","that","fn","call","title","_workDays","_templates","_editable","calculateDateRange","_groups","_currentTime","_currentTimeMarkerUpdater","_updateCurrentTimeMarker","currentTime","currentTimeMarkers","currentContentMarkers","timesTableMarkerWidth","position","elementHtml","currentTimeMarker","useLocalTimezone","timezone","dataSource","schema","timezoneOffset","offset","convert","getTimezoneOffset","times","find","content","groupsCount","orientation","groups","firstTimesCell","first","lastTimesCell","last","_isRtl","left","groupIndex","currentGroup","utcCurrentTime","toUtcTime","ranges","timeSlotRanges","collection","slotElement","slotByStartDate","timesTableMarker","eq","prependTo","markerTopPosition","round","innerRect","top","timesTableMarkerCss","right","addClass","css","contentMarker","height","setUpdateTimer","markerOptions","updateInterval","_currentTimeUpdateTimer","setInterval","bind","_updateResizeHint","event","startTime","endTime","multiday","enforceAllDaySlot","isMultiDay","width","hint","_removeResizeHint","rangeIndex","startSlot","_isGroupedByDate","slotIdx","index","slot","_slots","offsetWidth","clientHeight","offsetTop","_createResizeHint","offsetLeft","_resizeHint","add","innerWidth","rect","outerRect","snap","bottom","format","container","appendTo","text","toString","toLocalDate","_updateMoveHint","distance","duration","_removeMoveHint","_end","pop","eventHint","clientWidth","offsetHeight","_createEventElement","clone","inverseColor","_appendMoveHint","_moveHint","_slotByPosition","x","y","_isVerticallyGrouped","scrollTop","scrollLeft","ceil","daySlotByPosition","timeSlotByPosition","_groupCount","resources","groupedResources","byDate","_groupOrientation","_columnCountForLevel","_rowCountForLevel","_columnOffsetForResource","_columnCountInResourceView","_timeSlotGroups","groupCount","columnCount","interval","_timeSlotInterval","verticalViews","tableRows","time","rowIndex","cellIndex","rowCount","floor","rowMultiplier","cellMultiplier","cells","children","timeIndex","_addTimeSlotGroup","cell","getTimeSlotCollection","currentDate","_dates","UTC","getFullYear","getMonth","addTimeSlot","_addDaySlotGroup","cellCount","addDaySlot","_daySlotGroups","getDaySlotCollection","view","_addResourceView","columnIndex","addTimeSlotCollection","addDays","allDaySlot","addDaySlotCollection","selectedDateFormat","selectedShortDateFormat","selectedMobileDateFormat","showWorkHours","today","minorTickCount","majorTick","majorTimeHeaderTemplate","minorTimeHeaderTemplate","groupHeaderTemplate","slotTemplate","allDaySlotTemplate","eventTemplate","allDayEventTemplate","dateHeaderTemplate","editable","workDayStart","workDayEnd","footer","command","messages","allDay","showFullDay","showWorkDay","settings","Template","templateSettings","_eventTmpl","_isMobile","_touchEditable","_mouseEditable","on","e","trigger","closest","preventDefault","create","parent","hasClass","pageX","pageY","resourceInfo","_resourceBySlot","eventInfo","endDate","update","threshold","support","mobileOS","android","_addUserEvents","UserEvents","filter","useClickAsTap","browser","edge","tap","_scrolling","target","location","_allDayUserEvents","_editUserEvents","eventElement","touchElement","touch","initialTouch","_layout","dates","columns","rows","column","isMobile","isToday","className","cellContent","_forTimeRange","middleRow","lastSlotRow","row","_createDateLayout","_createColumnsLayout","_createRowsLayout","toggleFullDay","isWorkDay","_footer","html","action","after","msMin","msMax","msMajorInterval","msInterval","startDay","msStart","majorTickDivider","isMajorTickRow","isMiddleRow","isLastSlotRow","_content","_renderRows","rowLevels","columnLevels","append","_virtualContent","isVerticalGroupped","dateID","levels","_recalculateLevels","appendRow","groupIdx","dateIndex","_addCellsToContent","rowIdx","_allDayVerticalGroupRow","result","dateGroupIndex","classes","tmplDate","_isWorkDay","day","getDay","i","_render","_startDate","_endDate","createLayout","refreshLayout","_isVirtualized","_tryRenderContent","allDayHeader","_allDayHeaderHeight","th","currentTarget","additioanlWidth","additionalHeight","datesHeader","nextDate","nextDay","previousDate","previousDay","destroy","clearInterval","off","remove","inRange","selectionByElement","innerHeight","_timeSlotIndex","eventStartTime","timeSlotInterval","_slotIndex","_dateSlotIndex","slots","slotStart","slotEnd","_positionAllDayEvent","slotRange","slotWidth","startIndex","endIndex","allDayEvents","collidingEvents","currentColumnCount","_headerColumnCount","leftOffset","rightOffset","eventHeight","addEvent","slotIndex","createRows","rowEvents","j","eventLength","_arrangeColumns","eventRightOffset","columnEvents","eventElements","slotEvents","tableEl","table","contentEl","createColumns","columnWidth","calculatedWidth","style","scrollWidth","_positionEvent","_startTime","_endTime","borderWidths","getComputedStyles","parseFloat","isOneDayEvent","head","tail","showDelete","resizable","resize","_time","eventEndTime","middle","eventStartDate","eventEndDate","eventResources","data","ns","singleDay","ariaLabel","_formatEventAriaLabel","angular","elements","dataItem","_isInTimeSlot","slotStartTime","slotEndTime","_date","_isInDateSlot","firstSlot","lastSlot","_updateAllDayHeaderHeight","_height","allDaySlots","refresh","_renderEvents","allDayEventContainer","isMultiDayEvent","slotRanges","rangeCount","occurrence","_inverseEventColor","newStart","newEnd","dateRange","daySlotRanges","render","_cachedEvents","Query","sort","field","dir","toArray","eventsByResource","_eventsByResource","eventsPerDate","map","grep","parentValue","resource","item","itemParentValue","getter","dataParentValueField","itemIdx","_resourceValue","eventsFilteredByResource","operator","groupEqFilter","slice","level","columnLevel","rowLevel","clearSelection","removeAttr","removeClass","_updateDirection","selection","multiple","reverse","vertical","isDaySlot","endSlot","collectionIndex","backward","_changeViewPeriod","verticalByDate","_timeSlotCollections","_getCollections","daySlotCollectionCount","endMilliseconds","newDateStart","newDateEnd","_isInRange","DayView","WeekView","selectedDate","dayOfWeek","calendarInfo","firstDay","WorkWeekView","weekStart","indexOf","jQuery","amdD","require","__webpack_module_cache__","moduleId","cachedModule","Error","__webpack_exports__"],"sources":["C:/Users/abodean/restapi-nodejs/client/app-router/node_modules/@progress/kendo-ui/js/kendo.scheduler.dayview.js"],"sourcesContent":["/******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 81525:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(f, define) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(81477) ], __WEBPACK_AMD_DEFINE_FACTORY__ = (f),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n})(function() {\n\nvar __meta__ = {\n    id: \"scheduler.dayview\",\n    name: \"Scheduler Day View\",\n    category: \"web\",\n    description: \"The Scheduler Day View\",\n    depends: [ \"scheduler.view\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        setTime = kendo.date.setTime,\n        SchedulerView = ui.SchedulerView,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n        extend = $.extend,\n        getDate = kendo.date.getDate,\n        MS_PER_MINUTE = kendo.date.MS_PER_MINUTE,\n        MS_PER_DAY = kendo.date.MS_PER_DAY,\n        CURRENT_TIME_MARKER_CLASS = \"k-current-time\",\n        CURRENT_TIME_MARKER_ARROW_CLASS = \"k-current-time-arrow\",\n        INVERSE_COLOR_CLASS = \"k-event-inverse\",\n        BORDER_SIZE_COEFF = 0.8666,\n        getMilliseconds = kendo.date.getMilliseconds,\n        NS = \".kendoMultiDayView\";\n\n    var DAY_VIEW_EVENT_TEMPLATE = kendo.template('<div title=\"(#=kendo.format(\"{0:t} - {1:t}\", start, end)#): #=title.replace(/\"/g,\"&\\\\#34;\")#\">' +\n                    '<div class=\"k-event-template k-event-time\">#:kendo.format(\"{0:t} - {1:t}\", start, end)#</div>' +\n                    '<div class=\"k-event-template\">${title}</div>' +\n                '</div>'),\n        DAY_VIEW_ALL_DAY_EVENT_TEMPLATE = kendo.template('<div title=\"(#=kendo.format(\"{0:t}\", start)#): #=title.replace(/\"/g,\"&\\\\#34;\")#\">' +\n                    '<div class=\"k-event-template\">${title}</div>' +\n                '</div>'),\n        DATA_HEADER_TEMPLATE = kendo.template(\"#var dateString = isMobile ? kendo.toString(date,'ddd')[0] : kendo.toString(date,'ddd M/dd'); #\" +\n                \"<span class='k-link k-nav-day'>#=dateString#</span>\"),\n        ALLDAY_EVENT_WRAPPER_STRING = '<div role=\"button\" ' +\n                'aria-label=\"#: ariaLabel #\" ' +\n                'data-#=ns#uid=\"#=uid#\"' +\n                '#if (resources[0]) { #' +\n                    'style=\"background-color:#=resources[0].color#; border-color: #=resources[0].color#\"' +\n                    'class=\"k-event\"' +\n                '#} else {#' +\n                    'class=\"k-event\"' +\n                '#}#' +\n                '>' +\n                '<span class=\"k-event-actions\">' +\n                    '# if(data.tail || data.middle) {#' +\n                        '<span class=\"k-icon k-i-arrow-60-left\"></span>' +\n                    '#}#' +\n                    '# if(data.isException()) {#' +\n                        '<span class=\"k-icon k-i-non-recurrence\"></span>' +\n                    '# } else if(data.isRecurring()) {#' +\n                        '<span class=\"k-icon k-i-reload\"></span>' +\n                    '# } #' +\n                '</span>' +\n                '{0}' +\n                '<span class=\"k-event-actions\">' +\n                    '#if (showDelete) {#' +\n                        '<a href=\"\\\\#\" class=\"k-link k-event-delete\" title=\"${data.messages.destroy}\" aria-label=\"${data.messages.destroy}\"><span class=\"k-icon k-i-close\"></span></a>' +\n                    '#}#' +\n                    '# if(data.head || data.middle) {#' +\n                        '<span class=\"k-icon k-i-arrow-60-right\"></span>' +\n                    '#}#' +\n                '</span>' +\n                '#if(resizable && !singleDay && !data.tail && !data.middle){#' +\n                '<span class=\"k-resize-handle k-resize-w\"></span>' +\n                '#}#' +\n                '#if(resizable && !singleDay && !data.head && !data.middle){#' +\n                '<span class=\"k-resize-handle k-resize-e\"></span>' +\n                '#}#' +\n                '</div>',\n        EVENT_WRAPPER_STRING = '<div role=\"button\" ' +\n                'aria-label=\"#: ariaLabel #\" ' +\n                'data-#=ns#uid=\"#=uid#\" ' +\n                '#if (resources[0]) { #' +\n                    'style=\"background-color:#=resources[0].color #; border-color: #=resources[0].color#\"' +\n                    'class=\"k-event\"' +\n                '#} else {#' +\n                    'class=\"k-event\"' +\n                '#}#' +\n                '>' +\n                 '<span class=\"k-event-actions\">' +\n                    '# if(data.isException()) {#' +\n                        '<span class=\"k-icon k-i-non-recurrence\"></span>' +\n                    '# } else if(data.isRecurring()) {#' +\n                        '<span class=\"k-icon k-i-reload\"></span>' +\n                    '# } #' +\n                '</span>' +\n                '{0}' +\n                '<span class=\"k-event-actions\">' +\n                    '#if (showDelete) {#' +\n                        '<a href=\"\\\\#\" class=\"k-link k-event-delete\" title=\"${data.messages.destroy}\" aria-label=\"${data.messages.destroy}\"><span class=\"k-icon k-i-close\"></span></a>' +\n                    '#}#' +\n                '</span>' +\n                '<span class=\"k-event-top-actions\">' +\n                    '# if(data.tail || data.middle) {#' +\n                    '<span class=\"k-icon k-i-arrow-60-up\"></span>' +\n                    '# } #' +\n                '</span>' +\n                '<span class=\"k-event-bottom-actions\">' +\n                    '# if(data.head || data.middle) {#' +\n                        '<span class=\"k-icon k-i-arrow-60-down\"></span>' +\n                    '# } #' +\n                '</span>' +\n                '# if(resizable && !data.tail && !data.middle) {#' +\n                '<span class=\"k-resize-handle k-resize-n\"></span>' +\n                '# } #' +\n                '# if(resizable && !data.head && !data.middle) {#' +\n                    '<span class=\"k-resize-handle k-resize-s\"></span>' +\n                '# } #' +\n                '</div>';\n\n    function toInvariantTime(date) {\n        var staticDate = new Date(1980, 1, 1, 0, 0, 0);\n        setTime(staticDate, getMilliseconds(date));\n        return staticDate;\n    }\n\n    function isInDateRange(value, min, max) {\n        return value >= min && value <= max;\n    }\n\n    function isInTimeRange(value, min, max, overlaps) {\n        overlaps = overlaps ? value <= max : value < max;\n        return value > min && overlaps;\n    }\n\n    function addContinuousEvent(group, range, element, isAllDay) {\n        var events = group._continuousEvents;\n        var lastEvent = events[events.length - 1];\n        var startDate = getDate(range.start.startDate()).getTime();\n\n        //this handles all day event which is over multiple slots but starts\n        //after one of the time events\n        if (isAllDay && lastEvent &&\n            getDate(lastEvent.start.startDate()).getTime() == startDate) {\n\n                var idx = events.length - 1;\n                for ( ; idx > -1; idx --) {\n                    if (events[idx].isAllDay ||\n                        getDate(events[idx].start.startDate()).getTime() < startDate) {\n                            break;\n                        }\n                }\n\n                events.splice(idx + 1, 0, {\n                    element: element,\n                    isAllDay: true,\n                    uid: element.attr(kendo.attr(\"uid\")),\n                    start: range.start,\n                    end: range.end\n                });\n            } else {\n                events.push({\n                    element: element,\n                    isAllDay: isAllDay,\n                    uid: element.attr(kendo.attr(\"uid\")),\n                    start: range.start,\n                    end: range.end\n                });\n            }\n    }\n\n    function getWorkDays(options) {\n        if (options.workDays && options.workDays.length) {\n            return options.workDays;\n        }\n\n        var workDays = [];\n        var dayIndex = options.workWeekStart % 7;\n        var workWeekEnd = Math.abs(options.workWeekEnd % 7);\n\n        workDays.push(dayIndex);\n\n        while (workWeekEnd != dayIndex) {\n            if (dayIndex > 6 ) {\n                dayIndex -= 7;\n            } else {\n                dayIndex++;\n            }\n            workDays.push(dayIndex);\n        }\n        return workDays;\n    }\n\n    var MultiDayView = SchedulerView.extend({\n        init: function(element, options) {\n            var that = this;\n\n            SchedulerView.fn.init.call(that, element, options);\n\n            that.title = that.options.title || that.options.name;\n\n            that._workDays = getWorkDays(that.options);\n\n            that._templates();\n\n            that._editable();\n\n            that.calculateDateRange();\n\n            that._groups();\n\n            that._currentTime(true);\n        },\n\n        _currentTimeMarkerUpdater: function() {\n            this._updateCurrentTimeMarker(new Date());\n        },\n\n        _updateCurrentTimeMarker: function(currentTime) {\n            var options = this.options,\n                currentTimeMarkers, currentContentMarkers, timesTableMarkerWidth, position,\n                elementHtml = \"<div class='\" + CURRENT_TIME_MARKER_CLASS + \"'></div>\";\n\n            if (options.currentTimeMarker.useLocalTimezone === false) {\n                var timezone = options.dataSource.options.schema.timezone;\n\n                if (options.dataSource && timezone) {\n                   var timezoneOffset = kendo.timezone.offset(currentTime, timezone);\n                   currentTime = kendo.timezone.convert(currentTime, currentTime.getTimezoneOffset(), timezoneOffset);\n                }\n            }\n\n            currentTimeMarkers = this.times.find(\".\" + CURRENT_TIME_MARKER_CLASS);\n            currentContentMarkers = this.content.find(\".\" + CURRENT_TIME_MARKER_CLASS);\n\n            var groupsCount = !options.group || options.group.orientation == \"horizontal\" ? 1 : this.groups.length;\n            var firstTimesCell = this.times.find(\"tr\").first().find(\"th\").first();\n            var lastTimesCell = this.times.find(\"tr\").first().find(\"th\").last();\n\n            if (firstTimesCell.length > 0 && lastTimesCell.length > 0) {\n                if (this._isRtl) {\n                    position = firstTimesCell.position().left + outerHeight(firstTimesCell) - outerHeight(lastTimesCell);\n                } else {\n                    position = lastTimesCell.position().left;\n                }\n            }\n\n            for (var groupIndex = 0; groupIndex < groupsCount; groupIndex++) {\n                var currentGroup = this.groups[groupIndex];\n\n                if (!currentGroup) {\n                    return;\n                }\n\n                var utcCurrentTime = kendo.date.toUtcTime(currentTime);\n                var ranges = currentGroup.timeSlotRanges(utcCurrentTime, utcCurrentTime + 1);\n\n                if (ranges.length === 0) {\n                    return;\n                }\n\n                var collection = ranges[0].collection;\n                var slotElement = collection.slotByStartDate(currentTime);\n\n                if (slotElement) {\n                    var timesTableMarker = currentTimeMarkers[groupIndex] ? currentTimeMarkers.eq(groupIndex) : $(elementHtml).prependTo(this.times);\n                    var markerTopPosition = Math.round(ranges[0].innerRect(currentTime, new Date(currentTime.getTime() + 1), false).top);\n\n                    var timesTableMarkerCss = {};\n\n                    if (this._isRtl) {\n                        timesTableMarkerCss.right = position;\n                        timesTableMarker.addClass(CURRENT_TIME_MARKER_ARROW_CLASS + \"-left\");\n                    } else {\n                        timesTableMarkerCss.left = position;\n                        timesTableMarker.addClass(CURRENT_TIME_MARKER_ARROW_CLASS + \"-right\");\n                    }\n\n                    if (!timesTableMarkerWidth) {\n                        timesTableMarkerWidth = (outerWidth(timesTableMarker) * BORDER_SIZE_COEFF / 2);\n                    }\n\n                    timesTableMarkerCss.top = markerTopPosition - timesTableMarkerWidth;\n\n                    timesTableMarker.css(timesTableMarkerCss);\n\n                    var contentMarker = currentContentMarkers[groupIndex] ? currentContentMarkers.eq(groupIndex) : $(elementHtml).prependTo(this.content);\n\n                    contentMarker.css({\n                        top: markerTopPosition,\n                        height: \"1px\",\n                        right: 0,\n                        left: 0\n                    });\n                }\n            }\n        },\n\n        _currentTime: function(setUpdateTimer) {\n            var that = this;\n            var markerOptions = that.options.currentTimeMarker;\n\n            if (markerOptions !== false && markerOptions.updateInterval !== undefined) {\n                that._currentTimeMarkerUpdater();\n\n                if (setUpdateTimer) {\n                    that._currentTimeUpdateTimer = setInterval(this._currentTimeMarkerUpdater.bind(that), markerOptions.updateInterval);\n                }\n            }\n        },\n\n        _updateResizeHint: function(event, groupIndex, startTime, endTime) {\n            var multiday;\n\n            if (this.options.enforceAllDaySlot) {\n                multiday = event.isMultiDay();\n            } else {\n                multiday = event.isAllDay;\n            }\n\n            var group = this.groups[groupIndex];\n\n            var ranges = group.ranges(startTime, endTime, multiday, event.isAllDay);\n            var width, height, top, hint;\n\n            this._removeResizeHint();\n\n            for (var rangeIndex = 0; rangeIndex < ranges.length; rangeIndex++) {\n                var range = ranges[rangeIndex];\n                var start = range.startSlot();\n\n                if (this._isGroupedByDate() && multiday) {\n                    for (var slotIdx = start.index; slotIdx <= range.end.index; slotIdx++) {\n                        var slot = range.collection._slots[slotIdx];\n                        width = slot.offsetWidth;\n                        height = slot.clientHeight;\n                        top = slot.offsetTop;\n\n                        hint = SchedulerView.fn._createResizeHint.call(this,\n                            slot.offsetLeft,\n                            top,\n                            width,\n                            height\n                        );\n\n                        this._resizeHint = this._resizeHint.add(hint);\n                    }\n                } else {\n                    width = start.offsetWidth;\n                    height = start.clientHeight;\n                    top = start.offsetTop;\n\n                    if (multiday) {\n                        width = range.innerWidth();\n                    } else {\n                        var rect = range.outerRect(startTime, endTime, this.options.snap);\n                        top = rect.top;\n                        height = rect.bottom - rect.top;\n                    }\n\n                    hint = SchedulerView.fn._createResizeHint.call(this,\n                        start.offsetLeft,\n                        top,\n                        width,\n                        height\n                    );\n\n                   this._resizeHint = this._resizeHint.add(hint);\n                }\n            }\n\n            var format = \"t\";\n            var container = this.content;\n\n            if (multiday) {\n                format = \"M/dd\";\n                container = this.element.find(\".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div\");\n                if (!container.length) {\n                    container = this.content;\n                }\n            }\n\n            this._resizeHint.appendTo(container);\n\n            this._resizeHint.find(\".k-label-top,.k-label-bottom\").text(\"\");\n\n            this._resizeHint.first().addClass(\"k-first\").find(\".k-label-top\").text(kendo.toString(kendo.timezone.toLocalDate(startTime), format));\n\n            this._resizeHint.last().addClass(\"k-last\").find(\".k-label-bottom\").text(kendo.toString(kendo.timezone.toLocalDate(endTime), format));\n        },\n\n        _updateMoveHint: function(event, groupIndex, distance) {\n            var multiday;\n\n            if (this.options.enforceAllDaySlot) {\n                multiday = event.isMultiDay();\n            } else {\n                multiday = event.isAllDay;\n            }\n\n            var group = this.groups[groupIndex];\n\n            var start = kendo.date.toUtcTime(event.start) + distance;\n\n            var end = start + event.duration();\n\n            var ranges = group.ranges(start, end, multiday, event.isAllDay);\n\n            start = kendo.timezone.toLocalDate(start);\n\n            end = kendo.timezone.toLocalDate(end);\n\n            this._removeMoveHint(event.uid);\n\n            if (!multiday &&\n                getMilliseconds(end) < getMilliseconds(this.startTime()) &&\n                (end < this._end().getTime()) &&\n                getMilliseconds(end) !== 0 &&\n                ranges.length > 1) {\n                    ranges.pop();\n            }\n\n            var eventHint = $();\n\n            for (var rangeIndex = 0; rangeIndex < ranges.length; rangeIndex++) {\n                var range = ranges[rangeIndex];\n                var startSlot = range.start;\n                var hint;\n                var css = {\n                    left: startSlot.offsetLeft + 2,\n                    top: startSlot.offsetTop\n                };\n\n                if (this._isGroupedByDate() && multiday) {\n                    for (var slotIdx = startSlot.index; slotIdx <= range.end.index; slotIdx++) {\n                        var slot = range.collection._slots[slotIdx];\n\n                        css.left = this._isRtl ? slot.clientWidth * 0.1 + slot.offsetLeft + 2 : slot.offsetLeft + 2;\n                        css.height = slot.offsetHeight;\n                        css.width = slot.clientWidth * 0.9 - 2;\n\n                        hint = this._createEventElement(event.clone({ start: start, end: end }), !multiday);\n\n                        if (event.inverseColor) {\n                            hint.addClass(INVERSE_COLOR_CLASS);\n                        }\n\n                        this._appendMoveHint(hint, css);\n                        eventHint = eventHint.add(hint);\n                    }\n                } else {\n                    if (this._isRtl) {\n                       css.left = startSlot.clientWidth * 0.1 + startSlot.offsetLeft + 2;\n                    }\n\n                    if (multiday) {\n                        css.width = range.innerWidth() - 2;\n                    } else {\n                        var rect = range.outerRect(start, end, this.options.snap);\n                        css.top = rect.top;\n                        css.height = rect.bottom - rect.top;\n                        css.width = startSlot.clientWidth * 0.9 - 2;\n                    }\n\n                    hint = this._createEventElement(event.clone({ start: start, end: end }), !multiday);\n\n                    if (event.inverseColor) {\n                        hint.addClass(INVERSE_COLOR_CLASS);\n                    }\n\n                    this._appendMoveHint(hint, css);\n                    eventHint = eventHint.add(hint);\n                }\n            }\n\n            var content = this.content;\n\n            if (multiday) {\n                content = this.element.find(\".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div\");\n                if (!content.length) {\n                    content = this.content;\n                }\n            }\n\n            eventHint.appendTo(content);\n        },\n\n        _appendMoveHint: function(hint, css) {\n            hint.addClass(\"k-event-drag-hint\");\n\n            hint.css(css);\n\n            this._moveHint = this._moveHint.add(hint);\n       },\n\n       _slotByPosition: function(x, y) {\n           var slot, offset;\n\n           if (this._isVerticallyGrouped()) {\n               offset = this.content.offset();\n               y += this.content[0].scrollTop;\n               x += this.content[0].scrollLeft;\n           } else {\n               offset = this.element.find(\".k-scheduler-header-wrap:has(.k-scheduler-header-all-day)\").find(\">div\").offset();\n           }\n\n           if (offset) {\n               x -= offset.left;\n               y -= offset.top;\n           }\n\n           x = Math.ceil(x);\n           y = Math.ceil(y);\n\n           var group;\n           var groupIndex;\n\n           for (groupIndex = 0; groupIndex < this.groups.length; groupIndex++) {\n                group = this.groups[groupIndex];\n\n                slot = group.daySlotByPosition(x, y, this._isGroupedByDate());\n\n                if (slot) {\n                    return slot;\n                }\n           }\n\n           if (offset) {\n               x += offset.left;\n               y += offset.top;\n           }\n\n           offset = this.content.offset();\n\n           x -= offset.left;\n           y -= offset.top;\n\n           if (!this._isVerticallyGrouped()) {\n               y += this.content[0].scrollTop;\n               x += this.content[0].scrollLeft;\n           }\n\n           x = Math.ceil(x);\n           y = Math.ceil(y);\n\n           for (groupIndex = 0; groupIndex < this.groups.length; groupIndex++) {\n                group = this.groups[groupIndex];\n\n                slot = group.timeSlotByPosition(x, y);\n\n                if (slot) {\n                    return slot;\n                }\n           }\n\n           return null;\n       },\n\n       _groupCount: function() {\n            var resources = this.groupedResources;\n            var byDate = this._isGroupedByDate();\n\n            if (resources.length) {\n                if (this._groupOrientation() === \"vertical\") {\n                    if (byDate) {\n                        return this._columnCountForLevel(resources.length - 1);\n                    } else {\n                        return this._rowCountForLevel(resources.length - 1);\n                    }\n                } else {\n                    if (byDate) {\n                        return this._columnCountForLevel(resources.length) / this._columnCountForLevel(0);\n                    } else {\n                          return this._columnCountForLevel(resources.length) / this._columnOffsetForResource(resources.length);\n                    }\n                }\n            }\n            return 1;\n        },\n\n        _columnCountInResourceView: function() {\n            var resources = this.groupedResources;\n            var byDate = this._isGroupedByDate();\n\n            if (!resources.length || this._isVerticallyGrouped()) {\n                if (byDate) {\n                     return this._rowCountForLevel(0);\n                } else {\n                     return this._columnCountForLevel(0);\n                }\n            }\n\n            if (byDate) {\n                return this._columnCountForLevel(0);\n            } else {\n                return this._columnOffsetForResource(resources.length);\n            }\n        },\n\n        _timeSlotGroups: function(groupCount, columnCount) {\n            var interval = this._timeSlotInterval();\n            var verticalViews = groupCount;\n            var byDate = this._isGroupedByDate();\n            var tableRows = this.content.find(\"tr:not(.k-scheduler-header-all-day)\");\n            var group, time, rowIndex, cellIndex;\n            var rowCount = tableRows.length;\n\n            if (this._isVerticallyGrouped()) {\n                if (byDate) {\n                    verticalViews = columnCount;\n                }\n                rowCount = Math.floor(rowCount / verticalViews);\n            }\n\n            for (var groupIndex = 0; groupIndex < verticalViews; groupIndex++) {\n                var rowMultiplier = 0;\n                var cellMultiplier = 0;\n\n                if (this._isVerticallyGrouped()) {\n                    rowMultiplier = groupIndex;\n                } else {\n                    cellMultiplier = groupIndex;\n                }\n\n                rowIndex = rowMultiplier * rowCount;\n\n              while (rowIndex < (rowMultiplier + 1) * rowCount) {\n                    var cells = tableRows[rowIndex].children;\n\n                    if (rowIndex % rowCount === 0) {\n                        time = getMilliseconds(new Date(+this.startTime()));\n                    }\n\n                    var timeIndex = 0;\n                    if (byDate) {\n                        if (this._isVerticallyGrouped()) {\n                            for (cellIndex = 0; cellIndex < groupCount; cellIndex++) {\n                                group = this.groups[cellIndex];\n                                this._addTimeSlotGroup(group, cells, cellIndex, time, interval, groupIndex);\n                            }\n                        } else {\n                            group = this.groups[groupIndex];\n                            for (cellIndex = cellMultiplier; cellIndex < groupCount * columnCount; cellIndex = cellIndex + groupCount) {\n                                this._addTimeSlotGroup(group, cells, cellIndex, time, interval, timeIndex);\n                                timeIndex++;\n                            }\n                        }\n                    } else {\n                        group = this.groups[groupIndex];\n                        for (cellIndex = cellMultiplier * columnCount; cellIndex < (cellMultiplier + 1) * columnCount; cellIndex++) {\n\n                            this._addTimeSlotGroup(group, cells, cellIndex, time, interval, timeIndex);\n                             timeIndex++;\n                        }\n                    }\n\n                    time += interval;\n                    rowIndex ++;\n                }\n            }\n        },\n\n        _addTimeSlotGroup: function(group, cells, cellIndex, time, interval, timeIndex) {\n              var cell = cells[cellIndex];\n              var collection = group.getTimeSlotCollection(timeIndex);\n              var currentDate = this._dates[timeIndex];\n              if (!currentDate || !cell) {\n                  return;\n              }\n              var currentTime = Date.UTC(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate());\n              var start = currentTime + time;\n              var end = start + interval;\n\n              collection.addTimeSlot(cell, start, end);\n        },\n\n         _addDaySlotGroup: function(collection, cells, cellIndex, columnCount, cellCount) {\n                var cell = cells[cellIndex];\n                var start = this._dates[cellCount];\n                if (!start) {\n                    return;\n                }\n                var currentTime = Date.UTC(start.getFullYear(), start.getMonth(), start.getDate());\n\n                collection.addDaySlot(cell, currentTime, currentTime + kendo.date.MS_PER_DAY);\n        },\n\n        _daySlotGroups: function(groupCount, columnCount) {\n            var tableRows, cellIndex;\n            var verticalViews = groupCount;\n            var byDate = this._isGroupedByDate();\n\n            if (this._isVerticallyGrouped()) {\n                if (byDate) {\n                    verticalViews = columnCount;\n                }\n                tableRows = this.element.find(\".k-scheduler-header-all-day\");\n            } else {\n                tableRows = this.element.find(\".k-scheduler-header-all-day tr\");\n            }\n\n            for (var groupIndex = 0; groupIndex < verticalViews; groupIndex++) {\n                var rowMultiplier = 0;\n                var group, collection;\n\n                if (this._isVerticallyGrouped()) {\n                    rowMultiplier = groupIndex;\n                }\n\n                var cells = tableRows[rowMultiplier].children;\n                var cellMultiplier = 0;\n\n                if (!this._isVerticallyGrouped()) {\n                    cellMultiplier = groupIndex;\n                }\n\n                var cellCount = 0;\n                if (byDate) {\n                    if (this._isVerticallyGrouped()) {\n                        for (cellIndex = 0; cellIndex < groupCount; cellIndex++) {\n                            group = this.groups[cellIndex];\n                            collection = group.getDaySlotCollection(0);\n                            this._addDaySlotGroup(collection, cells, cellIndex, columnCount, groupIndex);\n                        }\n                    } else {\n                        group = this.groups[groupIndex];\n                        collection = group.getDaySlotCollection(0);\n                        for (cellIndex = cellMultiplier; cellIndex < groupCount * columnCount; cellIndex = cellIndex + groupCount) {\n                            this._addDaySlotGroup(collection, cells, cellIndex, columnCount, cellCount);\n                            cellCount++;\n                        }\n                    }\n                } else {\n                    group = this.groups[groupIndex];\n                    collection = group.getDaySlotCollection(0);\n                    for (cellIndex = cellMultiplier * columnCount; cellIndex < (cellMultiplier + 1) * columnCount; cellIndex++) {\n\n                        this._addDaySlotGroup(collection, cells, cellIndex, columnCount, cellCount);\n                        cellCount++;\n                    }\n                }\n            }\n        },\n\n        _groups: function() {\n            var groupCount = this._groupCount();\n            var columnCount = this._columnCountInResourceView();\n\n            this.groups = [];\n\n            for (var idx = 0; idx < groupCount; idx++) {\n                var view = this._addResourceView(idx);\n\n                for (var columnIndex = 0; columnIndex < columnCount; columnIndex++) {\n                    if (this._dates[columnIndex]) {\n                        view.addTimeSlotCollection(this._dates[columnIndex], kendo.date.addDays(this._dates[columnIndex], 1));\n                    }\n                }\n\n                if (this.options.allDaySlot) {\n                    view.addDaySlotCollection(this._dates[0], kendo.date.addDays(this._dates[this._dates.length - 1], 1));\n                }\n            }\n\n            this._timeSlotGroups(groupCount, columnCount);\n\n            if (this.options.allDaySlot) {\n                this._daySlotGroups(groupCount, columnCount);\n            }\n        },\n\n        options: {\n            name: \"MultiDayView\",\n            selectedDateFormat: \"{0:D}\",\n            selectedShortDateFormat: \"{0:d}\",\n            selectedMobileDateFormat: \"{0:MMM} {0:dd} - {1:dd}\",\n            allDaySlot: true,\n            showWorkHours: false,\n            title: \"\",\n            startTime: kendo.date.today(),\n            endTime: kendo.date.today(),\n            minorTickCount: 2,\n            majorTick: 60,\n            majorTimeHeaderTemplate: \"<span>#=kendo.toString(date, 't')#</span>\",\n            minorTimeHeaderTemplate: \"&\\\\#8203;\",\n            groupHeaderTemplate: \"#=text#\",\n            slotTemplate: \"&nbsp;\",\n            allDaySlotTemplate: \"&nbsp;\",\n            eventTemplate: DAY_VIEW_EVENT_TEMPLATE,\n            allDayEventTemplate: DAY_VIEW_ALL_DAY_EVENT_TEMPLATE,\n            dateHeaderTemplate: DATA_HEADER_TEMPLATE,\n            editable: true,\n            workDayStart: new Date(1980, 1, 1, 8, 0, 0),\n            workDayEnd: new Date(1980, 1, 1, 17, 0, 0),\n            workWeekStart: 1,\n            workWeekEnd: 5,\n            footer: {\n                command: \"workDay\"\n            },\n            messages: {\n                allDay: \"all day\",\n                showFullDay: \"Show full day\",\n                showWorkDay: \"Show business hours\"\n            },\n            currentTimeMarker: {\n                 updateInterval: 10000,\n                 useLocalTimezone: true\n            },\n            // a hidden option that provides us a fallback to the previous behaviour\n            // e.g. all events of 24 hours or more will be rendered in the allDaySlot\n            enforceAllDaySlot: false\n        },\n\n        events: [\"remove\", \"add\", \"edit\"],\n\n        _templates: function() {\n            var options = this.options,\n                settings = extend({}, kendo.Template, options.templateSettings);\n\n            this.eventTemplate = this._eventTmpl(options.eventTemplate, EVENT_WRAPPER_STRING);\n            this.allDayEventTemplate = this._eventTmpl(options.allDayEventTemplate, ALLDAY_EVENT_WRAPPER_STRING);\n\n            this.majorTimeHeaderTemplate = kendo.template(options.majorTimeHeaderTemplate, settings);\n            this.minorTimeHeaderTemplate = kendo.template(options.minorTimeHeaderTemplate, settings);\n            this.dateHeaderTemplate = kendo.template(options.dateHeaderTemplate, settings);\n            this.slotTemplate = kendo.template(options.slotTemplate, settings);\n            this.allDaySlotTemplate = kendo.template(options.allDaySlotTemplate, settings);\n            this.groupHeaderTemplate = kendo.template(options.groupHeaderTemplate, settings);\n        },\n\n        _editable: function() {\n            if (this.options.editable) {\n                if (this._isMobile()) {\n                    this._touchEditable();\n                } else {\n                    this._mouseEditable();\n                }\n            }\n        },\n\n        _mouseEditable: function() {\n            var that = this;\n            that.element.on(\"click\" + NS, \".k-event a:has(.k-i-close)\", function(e) {\n                that.trigger(\"remove\", { uid: $(this).closest(\".k-event\").attr(kendo.attr(\"uid\")) });\n                e.preventDefault();\n            });\n\n            if (that.options.editable.create !== false) {\n                that.element.on(\"dblclick\" + NS, \".k-scheduler-content > table td\", function(e) {\n                    if (!$(this).parent().hasClass(\"k-scheduler-header-all-day\")) {\n                        var slot = that._slotByPosition(e.pageX, e.pageY);\n\n                        if (slot) {\n                            var resourceInfo = that._resourceBySlot(slot);\n                            that.trigger(\"add\", { eventInfo: extend({ start: slot.startDate(), end: slot.endDate() }, resourceInfo) });\n                        }\n\n                        e.preventDefault();\n                    }\n                }).on(\"dblclick\" + NS, \".k-scheduler-header-all-day td\", function(e) {\n                    var slot = that._slotByPosition(e.pageX, e.pageY);\n                    if (slot) {\n                        var resourceInfo = that._resourceBySlot(slot);\n                        that.trigger(\"add\", { eventInfo: extend({}, { isAllDay: true, start: kendo.date.getDate(slot.startDate()), end: kendo.date.getDate(slot.startDate()) }, resourceInfo) });\n                    }\n                    e.preventDefault();\n                });\n            }\n\n            if (that.options.editable.update !== false) {\n                that.element.on(\"dblclick\" + NS, \".k-event\", function(e) {\n                    that.trigger(\"edit\", { uid: $(this).closest(\".k-event\").attr(kendo.attr(\"uid\")) });\n                    e.preventDefault();\n                });\n            }\n        },\n\n        _touchEditable: function() {\n            var that = this;\n            var threshold = 0;\n\n            if (kendo.support.mobileOS.android) {\n                threshold = 5;\n            }\n\n            if (that.options.editable.create !== false) {\n                that._addUserEvents = new kendo.UserEvents(that.element, {\n                    threshold: threshold,\n                    filter: \".k-scheduler-content td\",\n                    useClickAsTap: !kendo.support.browser.edge,\n                    tap: function(e) {\n                        if (that._scrolling) {\n                            return;\n                        }\n                        if (!$(e.target).parent().hasClass(\"k-scheduler-header-all-day\")) {\n                            var x = e.x.location !== undefined ? e.x.location : e.x;\n                            var y = e.y.location !== undefined ? e.y.location : e.y;\n                            var slot = that._slotByPosition(x, y);\n\n                            if (slot) {\n                                var resourceInfo = that._resourceBySlot(slot);\n                                that.trigger(\"add\", { eventInfo: extend({ start: slot.startDate(), end: slot.endDate() }, resourceInfo) });\n                            }\n\n                            e.preventDefault();\n                        }\n                    }\n                });\n\n                that._allDayUserEvents = new kendo.UserEvents(that.element, {\n                    threshold: threshold,\n                    useClickAsTap: !kendo.support.browser.edge,\n                    filter: \".k-scheduler-header-all-day td\",\n                    tap: function(e) {\n                        if (that._scrolling) {\n                            return;\n                        }\n                        var x = e.x.location !== undefined ? e.x.location : e.x;\n                        var y = e.y.location !== undefined ? e.y.location : e.y;\n                        var slot = that._slotByPosition(x, y);\n\n                        if (slot) {\n                            var resourceInfo = that._resourceBySlot(slot);\n                            that.trigger(\"add\", { eventInfo: extend({}, { isAllDay: true, start: kendo.date.getDate(slot.startDate()), end: kendo.date.getDate(slot.startDate()) }, resourceInfo) });\n                        }\n\n                        e.preventDefault();\n                    }\n                });\n            }\n\n            if (that.options.editable.update !== false) {\n                that._editUserEvents = new kendo.UserEvents(that.element, {\n                    threshold: threshold,\n                    useClickAsTap: !kendo.support.browser.edge,\n                    filter: \".k-event\",\n                    tap: function(e) {\n                        if (that._scrolling) {\n                            return;\n                        }\n                        var eventElement = $(e.target).closest(\".k-event\");\n                        var touchElement = $(e.touch.initialTouch);\n\n                        if (touchElement.hasClass(\"k-i-close\")) {\n                            that.trigger(\"remove\", { uid: eventElement.attr(kendo.attr(\"uid\")) });\n                        } else if (!eventElement.hasClass(\"k-event-active\")) {\n                            that.trigger(\"edit\", { uid: eventElement.attr(kendo.attr(\"uid\")) });\n                        }\n\n                        e.preventDefault();\n                    }\n                });\n            }\n        },\n\n        _layout: function(dates) {\n            var columns = [];\n            var rows = [];\n            var options = this.options;\n            var that = this;\n            var byDate = that._isGroupedByDate();\n\n            for (var idx = 0; idx < dates.length; idx++) {\n                var column = {};\n\n                column.text = that.dateHeaderTemplate({ date: dates[idx], isMobile: that._isMobile() });\n\n                if (kendo.date.isToday(dates[idx])) {\n                    column.className = \"k-today\";\n                }\n\n                columns.push(column);\n            }\n\n            var resources = this.groupedResources;\n\n            if (options.allDaySlot) {\n                rows.push({\n                    text: options.messages.allDay, allDay: true,\n                    cellContent: function(idx) {\n                        var groupIndex = idx;\n\n                        idx = resources.length && that._groupOrientation() !== \"vertical\" ? idx % dates.length : idx;\n\n                        return that.allDaySlotTemplate({ date: dates[idx], resources: function() {\n                                return that._resourceBySlot({ groupIndex: groupIndex });\n                            }\n                        });\n                    }\n                });\n            }\n\n            this._forTimeRange(this.startTime(), this.endTime(), function(date, majorTick, middleRow, lastSlotRow) {\n                var template = majorTick ? that.majorTimeHeaderTemplate : that.minorTimeHeaderTemplate;\n\n                var row = {\n                    text: template({ date: date }),\n                    className: lastSlotRow ? \"k-slot-cell\" : \"\"\n                };\n\n                rows.push(row);\n            });\n\n\n            if (resources.length) {\n                if (this._groupOrientation() === \"vertical\") {\n                    if (byDate) {\n                        rows = this._createDateLayout(columns, rows);\n                        columns = this._createColumnsLayout(resources, null, this.groupHeaderTemplate);\n                    } else {\n                        rows = this._createRowsLayout(resources, rows, this.groupHeaderTemplate);\n                    }\n                } else {\n                      if (byDate) {\n                         columns = this._createColumnsLayout(resources, columns, this.groupHeaderTemplate, columns);\n                      } else {\n                         columns = this._createColumnsLayout(resources, columns, this.groupHeaderTemplate);\n                      }\n                }\n            }\n\n            return {\n                columns: columns,\n                rows: rows\n            };\n        },\n\n        toggleFullDay: function() {\n            var options = this.options;\n\n            this.trigger(\"navigate\", { view: this.name || options.name, date: options.date, isWorkDay: !options.showWorkHours });\n        },\n\n        _footer: function() {\n            var options = this.options;\n\n            if (options.footer !== false) {\n                var html = '<div class=\"k-scheduler-footer k-toolbar\">';\n\n                var command = options.footer.command;\n\n                if (this._isMobile()) {\n                    html += '<span class=\"k-scheduler-today\"><a href=\"#\" tabindex=\"-1\" class=\"k-link\">';\n                    html += options.messages.today + '</a></span>';\n                }\n                if (command && command === \"workDay\") {\n                    if (this._isMobile()) {\n                        html += '<span class=\"k-scheduler-fullday\"><a href=\"#\" tabindex=\"-1\" class=\"k-link\">';\n                        html += (options.showWorkHours ? options.messages.showFullDay : options.messages.showWorkDay) + '</a></span>';\n                    } else {\n                        html += '<button type=\"button\" tabindex=\"-1\" class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-scheduler-fullday\">';\n                            html += '<span class=\"k-button-icon k-icon k-i-clock\"></span>';\n                            html += '<span class=\"k-button-text\">';\n                                html += (options.showWorkHours ? options.messages.showFullDay : options.messages.showWorkDay);\n                            html += '</span>';\n                        html += '</button>';\n                    }\n                }\n\n                html += \"</div>\";\n\n                this.footer = $(html).appendTo(this.element);\n\n                var that = this;\n\n                this.footer.on(\"click\" + NS, \".k-scheduler-fullday\", function(e) {\n                    e.preventDefault();\n                    that.toggleFullDay();\n                });\n\n                this.footer.on(\"click\" + NS, \".k-scheduler-today\", function(e) {\n                    e.preventDefault();\n                    var timezone = that.options.timezone;\n                    var action = \"today\";\n                    var currentDate = new Date();\n                    var date;\n\n                    if (timezone) {\n                        var timezoneOffset = kendo.timezone.offset(currentDate, timezone);\n                        date = kendo.timezone.convert(currentDate, currentDate.getTimezoneOffset(), timezoneOffset);\n                    } else {\n                        date = currentDate;\n                    }\n\n                    that.trigger(\"navigate\", { view: that.name || options.name, action: action, date: date });\n                });\n            }\n        },\n\n        _forTimeRange: function(min, max, action, after) {\n            min = toInvariantTime(min); //convert the date to 1/2/1980 and sets the time\n            max = toInvariantTime(max);\n\n            var that = this,\n                msMin = getMilliseconds(min),\n                msMax = getMilliseconds(max),\n                minorTickCount = that.options.minorTickCount,\n                msMajorInterval = that.options.majorTick * MS_PER_MINUTE,\n                msInterval = msMajorInterval / minorTickCount || 1,\n                start = new Date(+min),\n                startDay = start.getDate(),\n                msStart,\n                idx = 0, length,\n                html = \"\";\n\n            length = MS_PER_DAY / msInterval;\n\n            if (msMin != msMax) {\n                if (msMin > msMax) {\n                    msMax += MS_PER_DAY;\n                }\n\n                length = ((msMax - msMin) / msInterval);\n            }\n\n            length = Math.round(length);\n\n            for (; idx < length; idx++) {\n                var majorTickDivider = idx % (msMajorInterval / msInterval),\n                    isMajorTickRow = majorTickDivider === 0,\n                    isMiddleRow = majorTickDivider < minorTickCount - 1,\n                    isLastSlotRow = majorTickDivider === minorTickCount - 1;\n\n                html += action(start, isMajorTickRow, isMiddleRow, isLastSlotRow);\n\n                setTime(start, msInterval, false);\n            }\n\n            if (msMax) {\n                msStart = getMilliseconds(start);\n                if (startDay < start.getDate()) {\n                    msStart += MS_PER_DAY;\n                }\n\n                if (msStart > msMax) {\n                    start = new Date(+max);\n                }\n            }\n\n            if (after) {\n                html += after(start);\n            }\n\n            return html;\n        },\n\n        _content: function(dates) {\n            var that = this;\n            var html = '';\n\n            html += '<tbody>';\n\n            html += that._renderRows(dates, that.rowLevels, that.columnLevels);\n\n            html += '</tbody>';\n\n            this.content.find(\"table\").append(html);\n        },\n\n        _virtualContent: function(rowLevels, columnLevels) {\n            var that = this;\n            var html = '';\n            var dates = that._dates;\n\n            html += that._renderRows(dates, rowLevels, columnLevels);\n\n            that.content.find(\"table tbody\").append(html);\n        },\n\n        _renderRows: function(dates, rowLevels, columnLevels) {\n            var that = this;\n            var isVerticalGroupped = that._groupOrientation() === \"vertical\";\n            var byDate = that._isGroupedByDate();\n            var dateID = 0;\n            var columnCount = dates.length;\n            var options = that.options;\n            var start = that.startTime();\n            var end = this.endTime();\n            var groupsCount = 1;\n            var rowCount = 1;\n            var resources = this.groupedResources;\n            var html = '';\n\n            if (resources.length) {\n                var levels = that._recalculateLevels(rowLevels, columnLevels);\n\n                rowCount = levels.rowCount;\n                groupsCount = levels.groupsCount;\n            }\n\n            var appendRow = function(date, majorTick, middleRow) {\n                var content = \"\";\n                var groupIdx = 0;\n                var idx, length;\n\n                content = '<tr' + (middleRow ? ' class=\"k-middle-row\"' : \"\") + '>';\n\n                if (byDate) {\n                    for (idx = 0, length = columnCount; idx < length; idx++) {\n                        for (groupIdx = 0; groupIdx < groupsCount; groupIdx++) {\n                            var dateIndex = idx;\n                            if (isVerticalGroupped) {\n                                dateIndex = dateID;\n                            }\n                            content = that._addCellsToContent(content, dates, date, dateIndex, groupIdx, rowIdx);\n\n                        }\n                        if (isVerticalGroupped) {\n\n                            break;\n                        }\n                    }\n                } else {\n                     for (; groupIdx < groupsCount; groupIdx++) {\n                        for (idx = 0, length = columnCount; idx < length; idx++) {\n                            content = that._addCellsToContent(content, dates, date, idx, groupIdx, rowIdx);\n                        }\n                     }\n                }\n\n                content += \"</tr>\";\n\n                return content;\n            };\n\n            for (var rowIdx = 0; rowIdx < rowCount; rowIdx++) {\n                html += options.allDaySlot && isVerticalGroupped ? this._allDayVerticalGroupRow(dates, rowIdx, groupsCount, dateID) : \"\";\n\n                html += this._forTimeRange(start, end, appendRow);\n                if (isVerticalGroupped) {\n                        dateID++;\n                }\n            }\n\n            return html;\n        },\n\n        _recalculateLevels: function(rowLevels, columnLevels) {\n            var that = this;\n            var byDate = that._isGroupedByDate();\n            var isVerticalGroupped = that._groupOrientation() === \"vertical\";\n            var groupsCount = 1;\n            var rowCount = 1;\n\n            if (isVerticalGroupped) {\n                rowCount = that._rowCountForLevel(rowLevels.length - 2, rowLevels);\n\n                if (byDate) {\n                     groupsCount = that._columnCountForLevel(columnLevels.length - 1);\n                }\n            } else {\n                if (byDate) {\n                     groupsCount = that._columnCountForLevel(columnLevels.length - 1) / this._columnCountForLevel(0);\n                } else {\n                     groupsCount = that._columnCountForLevel(columnLevels.length - 2);\n                }\n            }\n\n            return {\n                rowCount: rowCount,\n                groupsCount: groupsCount\n            };\n        },\n\n        _allDayVerticalGroupRow: function(dates, groupIndex, groupsCount, dateID) {\n            var that = this;\n            var result = '<tr class=\"k-scheduler-header-all-day\">';\n            var byDate = that._isGroupedByDate();\n            var dateGroupIndex = byDate ? 0 : groupIndex;\n            var allDaySlotTemplate = that.allDaySlotTemplate;\n\n            var resources = function() {\n                return that._resourceBySlot({ groupIndex: dateGroupIndex });\n            };\n\n            if (byDate) {\n                for (; dateGroupIndex < groupsCount; dateGroupIndex++) {\n                    result += \"<td>\" + allDaySlotTemplate({ date: dates[dateID], resources: resources }) + \"</td>\";\n                }\n            } else {\n                for (var idx = 0; idx < dates.length; idx++) {\n                    result += \"<td>\" + allDaySlotTemplate({ date: dates[idx], resources: resources }) + \"</td>\";\n                }\n            }\n\n            return result + \"</tr>\";\n        },\n\n        _addCellsToContent: function(content, dates, date, idx, groupIdx, rowIdx) {\n            var that = this;\n            var classes = \"\";\n            var tmplDate;\n            var slotTemplate = this.slotTemplate;\n            var isVerticalGroupped = this._groupOrientation() === \"vertical\";\n            var resources = function(groupIndex) {\n                return function() {\n                    return that._resourceBySlot({ groupIndex: groupIndex });\n                };\n            };\n\n            if (kendo.date.isToday(dates[idx])) {\n                classes += \"k-today\";\n            }\n\n            if (kendo.date.getMilliseconds(date) < kendo.date.getMilliseconds(this.options.workDayStart) ||\n                kendo.date.getMilliseconds(date) >= kendo.date.getMilliseconds(this.options.workDayEnd) ||\n                !this._isWorkDay(dates[idx])) {\n                classes += \" k-nonwork-hour\";\n            }\n\n            content += '<td' + (classes !== \"\" ? ' class=\"' + classes + '\"' : \"\") + \">\";\n            tmplDate = kendo.date.getDate(dates[idx]);\n            kendo.date.setTime(tmplDate, kendo.date.getMilliseconds(date));\n\n            content += slotTemplate({ date: tmplDate, resources: resources(isVerticalGroupped && !that._isGroupedByDate() ? rowIdx : groupIdx) });\n            content += \"</td>\";\n            return content;\n        },\n\n        _isWorkDay: function(date) {\n            var day = date.getDay();\n            var workDays = this._workDays;\n\n            for (var i = 0; i < workDays.length; i++) {\n                if (workDays[i] === day) {\n                    return true;\n                }\n            }\n            return false;\n        },\n\n        _render: function(dates) {\n            var that = this;\n\n            dates = dates || [];\n\n            this._dates = dates;\n\n            this._startDate = dates[0];\n\n            this._endDate = dates[(dates.length - 1) || 0];\n\n            this.createLayout(this._layout(dates));\n\n            this._content(dates);\n\n            this._footer();\n\n            this.refreshLayout();\n\n            if (this._isVirtualized()) {\n                this._tryRenderContent();\n            }\n\n            var allDayHeader = this.element.find(\".k-scheduler-header-all-day td\");\n\n            if (allDayHeader.length) {\n                this._allDayHeaderHeight = allDayHeader.first()[0].clientHeight;\n            }\n\n            that.element.on(\"click\" + NS, \".k-nav-day\", function(e) {\n                var th = $(e.currentTarget).closest(\"th\");\n                var offset = th.offset();\n                var additioanlWidth = 0;\n                var additionalHeight = outerHeight(th);\n\n                if (that._isGroupedByDate()) {\n                    if (that._isVerticallyGrouped()) {\n                        additioanlWidth = outerWidth(that.times);\n                        additionalHeight = 0;\n                    } else {\n                        additionalHeight = outerHeight(that.datesHeader);\n                    }\n                }\n\n                var slot = that._slotByPosition(offset.left + additioanlWidth, offset.top + additionalHeight);\n\n                that.trigger(\"navigate\", { view: \"day\", date: slot.startDate() });\n            });\n        },\n\n        startTime: function() {\n            var options = this.options;\n            return options.showWorkHours ? options.workDayStart : options.startTime;\n        },\n\n        endTime: function() {\n            var options = this.options;\n            return options.showWorkHours ? options.workDayEnd : options.endTime;\n        },\n\n        startDate: function() {\n            return this._startDate;\n        },\n\n        endDate: function() {\n            return this._endDate;\n        },\n\n        _end: function(isAllDay) {\n            var time = getMilliseconds(this.endTime()) || MS_PER_DAY;\n\n            if (isAllDay) {\n                time = 0;\n            }\n\n            return new Date(this._endDate.getTime() + time);\n        },\n\n        nextDate: function() {\n            return kendo.date.nextDay(this.endDate());\n        },\n\n        previousDate: function() {\n            return kendo.date.previousDay(this.startDate());\n        },\n\n        calculateDateRange: function() {\n            this._render([this.options.date]);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that._currentTimeUpdateTimer) {\n                clearInterval(that._currentTimeUpdateTimer);\n            }\n\n            if (that.datesHeader) {\n                that.datesHeader.off(NS);\n            }\n\n            if (that.element) {\n                that.element.off(NS);\n            }\n\n            if (that.footer) {\n                that.footer.remove();\n            }\n\n            SchedulerView.fn.destroy.call(this);\n\n            if (this._isMobile() && that.options.editable) {\n                if (that.options.editable.create !== false) {\n                    that._addUserEvents.destroy();\n                    that._allDayUserEvents.destroy();\n                }\n\n                if (that.options.editable.update !== false) {\n                    that._editUserEvents.destroy();\n                }\n            }\n        },\n\n        inRange: function(options) {\n            var inRange = SchedulerView.fn.inRange.call(this, options);\n\n            if (options.isAllDay) {\n                return inRange;\n            }\n\n            var startTime = getMilliseconds(this.startTime());\n            var endTime = getMilliseconds(this.endTime()) || kendo.date.MS_PER_DAY;\n\n            var start = getMilliseconds(options.start);\n            var end = getMilliseconds(options.end) || kendo.date.MS_PER_DAY;\n\n            return inRange && startTime <= start && end <= endTime;\n        },\n\n        selectionByElement: function(cell) {\n            var offset = cell.offset();\n            // The magical number 5 is to buffer properly the height of the cell for all browsers\n            var height = Math.round(cell.innerHeight()) - 5;\n\n            return this._slotByPosition(offset.left, offset.top + height);\n        },\n\n        _timeSlotInterval: function() {\n            var options = this.options;\n            return (options.majorTick / options.minorTickCount) * MS_PER_MINUTE;\n        },\n\n        _timeSlotIndex: function(date) {\n            var options = this.options;\n            var eventStartTime = getMilliseconds(date);\n            var startTime = getMilliseconds(this.startTime());\n            var timeSlotInterval = ((options.majorTick / options.minorTickCount) * MS_PER_MINUTE);\n\n            return (eventStartTime - startTime) / (timeSlotInterval);\n        },\n\n        _slotIndex: function(date, multiday) {\n            if (multiday) {\n                return this._dateSlotIndex(date);\n            }\n\n            return this._timeSlotIndex(date);\n        },\n\n        _dateSlotIndex: function(date, overlaps) {\n            var idx;\n            var length;\n            var slots = this._dates || [];\n            var slotStart;\n            var slotEnd;\n            var offset = 1;\n\n            for (idx = 0, length = slots.length; idx < length; idx++) {\n                slotStart = kendo.date.getDate(slots[idx]);\n                slotEnd = new Date(kendo.date.getDate(slots[idx]).getTime() + MS_PER_DAY - (overlaps ? 0 : 1));\n\n                if (isInDateRange(date, slotStart, slotEnd)) {\n                    return idx * offset;\n                }\n            }\n            return -1;\n        },\n\n        _positionAllDayEvent: function(element, slotRange) {\n            var slotWidth = slotRange.innerWidth();\n            var startIndex = slotRange.start.index;\n            var endIndex = slotRange.end.index;\n\n            var allDayEvents = SchedulerView.collidingEvents(slotRange.events(), startIndex, endIndex);\n\n            var currentColumnCount = this._headerColumnCount || 0;\n\n            var leftOffset = 2;\n\n            var rightOffset = startIndex !== endIndex ? 3 : 2;\n\n            var eventHeight = this._allDayHeaderHeight;\n\n            var start = slotRange.startSlot();\n\n            element\n                .css({\n                    left: start.offsetLeft + leftOffset,\n                    width: slotWidth - rightOffset\n                });\n\n            slotRange.addEvent({ slotIndex: startIndex, start: startIndex, end: endIndex, element: element });\n\n            allDayEvents.push({ slotIndex: startIndex, start: startIndex, end: endIndex, element: element });\n\n            var rows = SchedulerView.createRows(allDayEvents);\n\n            if (rows.length && rows.length > currentColumnCount) {\n                this._headerColumnCount = rows.length;\n            }\n\n            var top = slotRange.start.offsetTop;\n\n            for (var idx = 0, length = rows.length; idx < length; idx++) {\n                var rowEvents = rows[idx].events;\n\n                for (var j = 0, eventLength = rowEvents.length; j < eventLength; j++) {\n                    $(rowEvents[j].element).css({\n                        top: top + idx * eventHeight,\n                        // apply calculated height.\n                        // -2 is to match normal events\n                        height: eventHeight - 2\n                    });\n                }\n            }\n        },\n\n        _arrangeColumns: function(element, top, height, slotRange) {\n            var startSlot = slotRange.start;\n\n            element = { element: element, slotIndex: startSlot.index, start: top, end: top + height };\n\n            var columns,\n                slotWidth = startSlot.clientWidth,\n                eventRightOffset = slotWidth * 0.10,\n                columnEvents,\n                eventElements = slotRange.events(),\n                slotEvents = SchedulerView.collidingEvents(eventElements, element.start, element.end),\n                tableEl = this.table.find(\".k-scheduler-content .k-scheduler-table\")[0],\n                contentEl = this.table.find(\".k-scheduler-content\")[0];\n\n            slotRange.addEvent(element);\n\n            slotEvents.push(element);\n\n            columns = SchedulerView.createColumns(slotEvents);\n\n            var columnWidth = (slotWidth - eventRightOffset) / columns.length;\n\n            for (var idx = 0, length = columns.length; idx < length; idx++) {\n                columnEvents = columns[idx].events;\n\n                for (var j = 0, eventLength = columnEvents.length; j < eventLength; j++) {\n                    var calculatedWidth = columnWidth - 2;\n                    columnEvents[j].element[0].style.width = (calculatedWidth > 0 ? calculatedWidth : columnWidth) + \"px\";\n\n                    if (this._isRtl && contentEl.clientWidth < contentEl.scrollWidth) {\n                        // RTL mobile rendering with horizontal scroll\n                        columnEvents[j].element[0].style.left = eventRightOffset +\n                            startSlot.offsetLeft +\n                            idx * columnWidth -\n                            (tableEl.clientWidth - contentEl.clientWidth) +\n                            \"px\";\n                    } else {\n                        columnEvents[j].element[0].style.left = (this._isRtl ? eventRightOffset : 0) + startSlot.offsetLeft + idx * columnWidth + 2 + \"px\";\n                    }\n                }\n            }\n        },\n\n        _positionEvent: function(event, element, slotRange) {\n            var start = event._startTime || event.start;\n            var end = event._endTime || event.end;\n            var borderWidths = kendo.getComputedStyles(slotRange.start.element, [\"border-top-width\", \"border-bottom-width\"]);\n\n            var rect = slotRange.innerRect(start, end, false);\n\n            var height = rect.bottom - rect.top -\n                            parseFloat(borderWidths[\"border-top-width\"]) -\n                            parseFloat(borderWidths[\"border-bottom-width\"]);\n\n            if (height < 0) {\n                height = 0;\n            }\n\n            element.css( {\n                top: rect.top,\n                height: height\n            } );\n\n            this._arrangeColumns(element, rect.top, element[0].clientHeight, slotRange);\n       },\n\n       _createEventElement: function(event, isOneDayEvent, head, tail) {\n            var template = isOneDayEvent ? this.eventTemplate : this.allDayEventTemplate;\n            var options = this.options;\n            var editable = options.editable;\n            var isMobile = this._isMobile();\n            var showDelete = editable && editable.destroy !== false && !isMobile;\n            var resizable = editable && editable.resize !== false;\n            var startDate = getDate(this.startDate());\n            var endDate = getDate(this.endDate());\n            var startTime = getMilliseconds(this.startTime());\n            var endTime = getMilliseconds(this.endTime());\n            var eventStartTime = event._time(\"start\");\n            var eventEndTime = event._time(\"end\");\n            var middle;\n\n            if (startTime >= endTime) {\n                endTime = getMilliseconds(new Date(this.endTime().getTime() + MS_PER_DAY - 1));\n            }\n\n            if (!isOneDayEvent && !event.isAllDay) {\n                endDate = new Date(endDate.getTime() + MS_PER_DAY);\n            }\n\n            var eventStartDate = event.start;\n            var eventEndDate = event.end;\n\n            if (event.isAllDay) {\n                eventEndDate = getDate(event.end);\n            }\n            if ((!isInDateRange(getDate(eventStartDate), startDate, endDate) &&\n                !isInDateRange(eventEndDate, startDate, endDate)) ||\n                (isOneDayEvent &&\n                    event.start.getTime() !== event.end.getTime() &&\n                    (eventStartTime < startTime || eventStartTime >= endTime) &&\n                    (eventEndTime > endTime || eventEndTime <= startTime ))) {\n\n                middle = true;\n            } else if (getDate(eventStartDate) < startDate ||\n                (isOneDayEvent &&\n                    eventStartTime !== 0 &&\n                    event.start.getTime() !== event.end.getTime() &&\n                    (eventStartTime < startTime || eventStartTime >= endTime))) {\n\n                tail = true;\n            } else if ((eventEndDate > endDate && !isOneDayEvent) ||\n                (isOneDayEvent &&\n                    eventEndTime !== 0 &&\n                    event.start.getTime() !== event.end.getTime() &&\n                    (eventEndTime > endTime || eventEndTime <= startTime))) {\n\n                head = true;\n            }\n\n            var resources = this.eventResources(event);\n\n           if (event._startTime && eventStartTime !== kendo.date.getMilliseconds(event.start)) {\n                eventStartDate = new Date(eventStartTime);\n                eventStartDate = kendo.timezone.apply(eventStartDate, \"Etc/UTC\");\n            }\n\n           if (event._endTime && eventEndTime !== kendo.date.getMilliseconds(event.end)) {\n                eventEndDate = new Date(eventEndTime);\n                eventEndDate = kendo.timezone.apply(eventEndDate, \"Etc/UTC\");\n            }\n\n            var data = extend({}, {\n                ns: kendo.ns,\n                resizable: resizable,\n                showDelete: showDelete,\n                middle: middle,\n                head: head,\n                tail: tail,\n                singleDay: this._dates.length == 1,\n                resources: resources,\n                inverseColor: false,\n                messages: options.messages,\n                ariaLabel: this._formatEventAriaLabel(event.title, eventStartDate, eventEndDate, event.isAllDay)\n            }, event, {\n                start: eventStartDate,\n                end: eventEndDate\n            });\n\n            var element = $(template(data));\n\n            this.angular(\"compile\", function() {\n                return {\n                    elements: element,\n                    data: [ { dataItem: data } ]\n                };\n            });\n\n            return element;\n        },\n\n        _isInTimeSlot: function(event) {\n            var slotStartTime = this.startTime(),\n                slotEndTime = this.endTime(),\n                startTime = event._startTime || event.start,\n                endTime = event._endTime || event.end;\n\n            if (getMilliseconds(slotEndTime) === getMilliseconds(kendo.date.getDate(slotEndTime))) {\n                slotEndTime = kendo.date.getDate(slotEndTime);\n                setTime(slotEndTime, MS_PER_DAY - 1);\n            }\n\n            if (event._date(\"end\") > event._date(\"start\")) {\n               endTime = +event._date(\"end\") + (MS_PER_DAY - 1);\n            }\n\n            endTime = event._endTime ? endTime - event._date(\"end\") : getMilliseconds(new Date(endTime));\n            startTime = event._startTime ? startTime - event._date(\"start\") : getMilliseconds(new Date(startTime));\n\n            slotEndTime = getMilliseconds(slotEndTime);\n            slotStartTime = getMilliseconds(slotStartTime);\n\n            if (slotStartTime === startTime && startTime === endTime) {\n                return true;\n            }\n\n            var overlaps = startTime !== slotEndTime;\n\n            return isInTimeRange(startTime, slotStartTime, slotEndTime, overlaps) ||\n                isInTimeRange(endTime, slotStartTime, slotEndTime, overlaps) ||\n                isInTimeRange(slotStartTime, startTime, endTime) ||\n                isInTimeRange(slotEndTime, startTime, endTime) ||\n                (event.end.getDate() > event.start.getDate() && endTime > slotStartTime);\n        },\n\n        _isInDateSlot: function(event) {\n            var groups = this.groups[0];\n            var slotStart = groups.firstSlot().start;\n            var slotEnd = groups.lastSlot().end - 1;\n\n            var startTime = kendo.date.toUtcTime(event.start);\n            var endTime = kendo.date.toUtcTime(event.end);\n\n            return (isInDateRange(startTime, slotStart, slotEnd) ||\n                isInDateRange(endTime, slotStart, slotEnd) ||\n                isInDateRange(slotStart, startTime, endTime) ||\n                isInDateRange(slotEnd, startTime, endTime)) &&\n                (!isInDateRange(endTime, slotStart, slotStart) || isInDateRange(endTime, startTime, startTime) || event.isAllDay );\n        },\n\n        _updateAllDayHeaderHeight: function(height) {\n            if (this._height !== height) {\n                this._height = height;\n\n                var allDaySlots = this.element.find(\".k-scheduler-header-all-day td\");\n\n                if (allDaySlots.length) {\n                    allDaySlots.parent()\n                        .add(this.element.find(\".k-scheduler-times-all-day\").parent())\n                        .height(height);\n\n                    for (var groupIndex = 0; groupIndex < this.groups.length; groupIndex++) {\n                        this.groups[groupIndex].refresh();\n                    }\n                }\n            }\n        },\n\n        _renderEvents: function(events, groupIndex) {\n            var allDayEventContainer = this.datesHeader.find(\".k-scheduler-header-wrap > div\");\n            var byDate = this._isGroupedByDate();\n            var event;\n\n            var idx;\n            var length;\n\n            for (idx = 0, length = events.length; idx < length; idx++) {\n                event = events[idx];\n\n                if (this._isInDateSlot(event)) {\n                    var isMultiDayEvent, container, element, ranges, range, start, end, group;\n\n                    if (this.options.enforceAllDaySlot) {\n                        isMultiDayEvent = event.isAllDay || event.duration() >= MS_PER_DAY;\n                    } else {\n                        isMultiDayEvent = event.isAllDay;\n                    }\n\n                    container = isMultiDayEvent && !this._isVerticallyGrouped() ? allDayEventContainer : this.content;\n\n                    if (!isMultiDayEvent) {\n                        if (this._isInTimeSlot(event)) {\n                            group = this.groups[groupIndex];\n\n                            if (!group) {\n                                continue;\n                            }\n\n                            if (!group._continuousEvents) {\n                                group._continuousEvents = [];\n                            }\n\n                            ranges = group.slotRanges(event);\n\n                            var rangeCount = ranges.length;\n\n                            for (var rangeIndex = 0; rangeIndex < rangeCount; rangeIndex++) {\n                                range = ranges[rangeIndex];\n                                start = event.start;\n                                end = event.end;\n\n                                if (rangeCount > 1) {\n                                    if (rangeIndex === 0) {\n                                        end = range.end.endDate();\n                                    } else if (rangeIndex == rangeCount - 1) {\n                                        start = range.start.startDate();\n                                    } else {\n                                        start = range.start.startDate();\n                                        end = range.end.endDate();\n                                    }\n                                }\n\n                                var occurrence = event.clone({ start: start, end: end, _startTime: event._startTime, _endTime: event.endTime });\n\n                                if (this._isInTimeSlot(occurrence)) {\n                                    var head = range.head;\n\n                                    element = this._createEventElement(event, !isMultiDayEvent, head, range.tail);\n\n                                    element.appendTo(container);\n\n                                    this._inverseEventColor(element);\n\n                                    this._positionEvent(occurrence, element, range);\n\n                                    addContinuousEvent(group, range, element, false);\n                                }\n                            }\n                        }\n\n                    } else if (this.options.allDaySlot) {\n                        group = this.groups[groupIndex];\n\n                        if (!group) {\n                            continue;\n                        }\n\n                        if (!group._continuousEvents) {\n                            group._continuousEvents = [];\n                        }\n\n                        ranges = group.slotRanges(event);\n\n                        if (ranges.length) {\n                            range = ranges[0];\n                            var startIndex = range.start.index;\n                            var endIndex = range.end.index;\n\n                            if (byDate && startIndex !== endIndex) {\n                                start = range.start.start;\n                                end = range.end.end;\n                                var newStart = start;\n                                var newEnd = start;\n\n                                for (var i = range.start.index; i <= range.end.index; i++) {\n                                    element = this._createEventElement(event, !isMultiDayEvent, i !== endIndex, i !== startIndex);\n\n                                    var dateRange = group.daySlotRanges(newStart, newEnd, true)[0];\n                                    newStart = newEnd += kendo.date.MS_PER_DAY;\n\n                                    this._positionAllDayEvent(element, dateRange);\n\n                                    addContinuousEvent(group, dateRange, element, true);\n\n                                    element.appendTo(container);\n\n                                    this._inverseEventColor(element);\n                                }\n                            } else {\n                                element = this._createEventElement(event, !isMultiDayEvent);\n\n                                this._positionAllDayEvent(element, ranges[0]);\n\n                                addContinuousEvent(group, ranges[0], element, true);\n\n                                element.appendTo(container);\n\n                                this._inverseEventColor(element);\n                            }\n                        }\n                    }\n                }\n            }\n        },\n\n        render: function(events) {\n            var that = this;\n\n            this._headerColumnCount = 0;\n\n            this._cachedEvents = events;\n\n            this._groups();\n\n            this.element.find(\".k-event\").remove();\n\n            events = new kendo.data.Query(events)\n                .sort([{ field: \"start\", dir: \"asc\" },{ field: \"end\", dir: \"desc\" }])\n                .toArray();\n\n            var eventsByResource = [];\n\n            this._eventsByResource(events, this.groupedResources, eventsByResource);\n\n            var eventsPerDate = $.map(this._dates, function(date) {\n                return Math.max.apply(null,\n                    $.map(eventsByResource, function(events) {\n                        return $.grep(events, function(event) {\n                            if (that.options.enforceAllDaySlot) {\n                                return event.isMultiDay() && isInDateRange(date, getDate(event.start), getDate(event.end));\n                            } else {\n                                return event.isAllDay && isInDateRange(date, getDate(event.start), getDate(event.end));\n                            }\n                        }).length;\n                    })\n                );\n            });\n\n            var height = Math.max.apply(null, eventsPerDate);\n\n            this._updateAllDayHeaderHeight((height + 1) * this._allDayHeaderHeight);\n\n            for (var groupIndex = 0; groupIndex < eventsByResource.length; groupIndex++) {\n                this._renderEvents(eventsByResource[groupIndex], groupIndex);\n            }\n\n            this.refreshLayout();\n\n            this._currentTime(false);\n\n            this.trigger(\"activate\");\n        },\n\n        _eventsByResource: function(events, resources, result, parentValue) {\n            var resource = resources[0];\n\n            if (resource) {\n                var view = resource.dataSource.view();\n\n                view = view.filter(function(item) {\n                    var itemParentValue = kendo.getter(resource.dataParentValueField)(item);\n\n                    return itemParentValue === null || itemParentValue === undefined || itemParentValue === parentValue;\n                });\n\n                for (var itemIdx = 0; itemIdx < view.length; itemIdx++) {\n                    var value = this._resourceValue(resource, view[itemIdx]);\n\n                    var eventsFilteredByResource = new kendo.data.Query(events).filter({ field: resource.field, operator: SchedulerView.groupEqFilter(value) }).toArray();\n\n                    if (resources.length > 1) {\n                        this._eventsByResource(eventsFilteredByResource, resources.slice(1), result, value);\n                    } else {\n                        result.push(eventsFilteredByResource);\n                    }\n                }\n            } else {\n                result.push(events);\n            }\n        },\n\n        _columnOffsetForResource: function(index) {\n            return this._columnCountForLevel(index) / this._columnCountForLevel(index - 1);\n        },\n\n        _columnCountForLevel: function(level) {\n            var columnLevel = this.columnLevels[level];\n            return columnLevel ? columnLevel.length : 0;\n        },\n\n        _rowCountForLevel: function(level, rowLevels) {\n            rowLevels = rowLevels || this.rowLevels;\n            var rowLevel = rowLevels[level];\n            return rowLevel ? rowLevel.length : 0;\n        },\n\n        clearSelection: function() {\n\n            this.content.add(this.datesHeader)\n                .find(\".k-selected\")\n                .removeAttr(\"id\")\n                .removeClass(\"k-selected\");\n        },\n\n        _updateDirection: function(selection, ranges, multiple, reverse, vertical) {\n            var isDaySlot = selection.isAllDay;\n            var startSlot = ranges[0].start;\n            var endSlot = ranges[ranges.length - 1].end;\n\n            if (multiple) {\n                if (vertical) {\n                    if (!isDaySlot &&\n                        startSlot.index === endSlot.index &&\n                        startSlot.collectionIndex === endSlot.collectionIndex) {\n                            selection.backward = reverse;\n                    }\n                } else {\n                    if ((isDaySlot && startSlot.index === endSlot.index) ||\n                        (!isDaySlot && startSlot.collectionIndex === endSlot.collectionIndex)) {\n                            selection.backward = reverse;\n                    }\n                }\n            }\n        },\n\n        _changeViewPeriod: function(selection, reverse, vertical) {\n            if (!vertical) {\n                var date = reverse ? this.previousDate() : this.nextDate();\n                var start = selection.start;\n                var end = selection.end;\n                var verticalByDate = this._isGroupedByDate() && this._isVerticallyGrouped();\n                var group = this.groups[selection.groupIndex];\n                var collection = reverse ? group._timeSlotCollections : group._getCollections(group.daySlotCollectionCount());\n                var slots = collection[collection.length - 1]._slots;\n                var slotIndex = (!reverse && !group.daySlotCollectionCount()) ? 0 : slots.length - 1;\n                var endMilliseconds;\n                var newDateStart, newDateEnd;\n\n                newDateStart = new Date(date);\n                newDateEnd = new Date(date);\n\n                if (this._isInRange(newDateStart, newDateEnd)) {\n                    return false;\n                }\n\n                selection.start = newDateStart;\n                selection.end = newDateEnd;\n\n                if (verticalByDate) {\n                    var newStart = new Date(slots[slotIndex].startDate());\n                    var newEnd = new Date(slots[slotIndex].endDate());\n                    endMilliseconds = getMilliseconds(newEnd) ? getMilliseconds(newEnd) : MS_PER_DAY;\n\n                        setTime(selection.start, getMilliseconds(newStart));\n                        setTime(selection.end, endMilliseconds);\n                        if (group.daySlotCollectionCount()) {\n                            selection.isAllDay = !selection.isAllDay;\n                        }\n                } else {\n                    endMilliseconds = (selection.isAllDay || !getMilliseconds(end)) ? MS_PER_DAY : getMilliseconds(end);\n\n                    setTime(selection.start, getMilliseconds(start));\n                    setTime(selection.end, endMilliseconds);\n                }\n\n                if (!this._isVerticallyGrouped()) {\n                    selection.groupIndex = reverse ? this.groups.length - 1 : 0;\n                }\n\n                selection.events = [];\n\n                return true;\n            }\n        }\n    });\n\n    extend(true, ui, {\n        MultiDayView: MultiDayView,\n        DayView: MultiDayView.extend({\n            options: {\n                name: \"DayView\",\n                title: \"Day\",\n                selectedMobileDateFormat: \"{0:MMM d}\"\n            },\n            name: \"day\"\n        }),\n        WeekView: MultiDayView.extend({\n            options: {\n                name: \"WeekView\",\n                title: \"Week\",\n                selectedDateFormat: \"{0:D} - {1:D}\",\n                selectedShortDateFormat: \"{0:d} - {1:d}\"\n            },\n            name: \"week\",\n            calculateDateRange: function() {\n                var selectedDate = this.options.date,\n                    start = kendo.date.dayOfWeek(selectedDate, this.calendarInfo().firstDay, -1),\n                    idx, length,\n                    dates = [];\n\n                for (idx = 0, length = 7; idx < length; idx++) {\n                    dates.push(start);\n                    start = kendo.date.nextDay(start);\n                }\n                this._render(dates);\n            }\n        }),\n        WorkWeekView: MultiDayView.extend({\n            options: {\n                name: \"WorkWeekView\",\n                title: \"Work Week\",\n                selectedDateFormat: \"{0:D} - {1:D}\",\n                selectedShortDateFormat: \"{0:d} - {1:d}\"\n            },\n            name: \"workWeek\",\n            nextDate: function() {\n                var weekStart = kendo.date.dayOfWeek(kendo.date.nextDay(this.startDate()), this.calendarInfo().firstDay, 1);\n                return kendo.date.addDays(weekStart, this._workDays[0]);\n            },\n            previousDate: function() {\n                var weekStart = kendo.date.dayOfWeek(this.startDate(), this.calendarInfo().firstDay, -1);\n                var workDays = this._workDays;\n\n                return kendo.date.addDays(weekStart, workDays[workDays.length - 1] - 7);\n            },\n            calculateDateRange: function() {\n                var options = this.options,\n                    selectedDate = options.date,\n                    dayOfWeek = kendo.date.dayOfWeek,\n                    weekStart = dayOfWeek(selectedDate, this.calendarInfo().firstDay, -1),\n                    start = dayOfWeek(weekStart, options.workWeekStart, 1),\n                    end = dayOfWeek(start, options.workWeekEnd, 1),\n                    dates = [],\n                    workDays = (options.workDays && options.workDays.length) ? options.workDays.map(function(day) {\n                        return dayOfWeek(weekStart, day, 1).getTime();\n                    }) : null;\n\n                if (workDays) {\n                    start = weekStart;\n                    end = dayOfWeek(start, this.calendarInfo().firstDay + 6, 1);\n                }\n\n                while (start <= end) {\n                    if (workDays && workDays.indexOf(start.getTime()) > -1) {\n                        dates.push(start);\n                    } else if (!workDays) {\n                        dates.push(start);\n                    }\n\n                    start = kendo.date.nextDay(start);\n                }\n\n                this._render(dates);\n            }\n        })\n    });\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, __webpack_require__.amdD);\n\n\n/***/ }),\n\n/***/ 81477:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./kendo.scheduler.view\");\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/amd define */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.amdD = function () {\n/******/ \t\t\tthrow new Error('define cannot be used indirect');\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module used 'module' so it can't be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__(81525);\n/******/ \tmodule.exports = __webpack_exports__;\n/******/ \t\n/******/ })()\n;"],"mappings":"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"},"metadata":{},"sourceType":"script"}