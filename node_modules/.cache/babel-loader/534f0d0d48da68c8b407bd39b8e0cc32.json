{"ast":null,"code":"require(\"core-js/modules/es.error.cause.js\");\n\n/******/\n(function () {\n  // webpackBootstrap\n\n  /******/\n  var __webpack_modules__ = {\n    /***/\n    98364:\n    /***/\n    function (module, exports, __webpack_require__) {\n      var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n      (function (f, define) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(4832), __webpack_require__(32011), __webpack_require__(54148), __webpack_require__(22380)], __WEBPACK_AMD_DEFINE_FACTORY__ = f, __WEBPACK_AMD_DEFINE_RESULT__ = typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n      })(function () {\n        var __meta__ = {\n          id: \"filtermenu\",\n          name: \"Filtering Menu\",\n          category: \"framework\",\n          depends: [\"datepicker\", \"numerictextbox\", \"dropdownlist\", \"binder\"],\n          advanced: true\n        };\n\n        (function ($, undefined) {\n          var kendo = window.kendo,\n              ui = kendo.ui,\n              support = kendo.support,\n              AUTOCOMPLETEVALUE = support.browser.chrome ? \"disabled\" : \"off\",\n              POPUP = \"kendoPopup\",\n              INIT = \"init\",\n              OPEN = \"open\",\n              REFRESH = \"refresh\",\n              CHANGE = \"change\",\n              NS = \".kendoFilterMenu\",\n              COLUMNHEADERATTR = \"[role='columnheader']\",\n              EQ = \"Is equal to\",\n              NEQ = \"Is not equal to\",\n              roles = {\n            \"number\": \"numerictextbox\",\n            \"date\": \"datepicker\"\n          },\n              mobileRoles = {\n            \"string\": \"text\",\n            \"number\": \"number\",\n            \"date\": \"date\"\n          },\n              isFunction = kendo.isFunction,\n              Widget = ui.Widget;\n          var booleanTemplate = '<div class=\"k-filter-menu-container\">' + '<div class=\"k-filter-help-text\">#=messages.info#</div>' + '<label>' + '<input type=\"radio\" data-#=ns#bind=\"checked: filters[0].value\" value=\"true\" name=\"filters[0].value\"/>' + '#=messages.isTrue#' + '</label>' + '<label>' + '<input type=\"radio\" data-#=ns#bind=\"checked: filters[0].value\" value=\"false\" name=\"filters[0].value\"/>' + '#=messages.isFalse#' + '</label>' + '<div class=\"k-action-buttons\">' + '<button type=\"submit\" title=\"#=messages.filter#\" class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary\"><span class=\"k-button-text\">#=messages.filter#</span></button>' + '<button type=\"reset\" title=\"#=messages.clear#\" class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base\"><span class=\"k-button-text\">#=messages.clear#</span></button>' + '</div>' + '</div>';\n          var modernBooleanTemplate = '#var inputId;#' + '<div class=\"k-filter-menu-container\">' + '<div>' + '<ul class=\"k-radio-list k-reset\">' + '<li>' + '#inputId = kendo.guid()#' + '<input type=\"radio\" class=\"k-radio k-radio-md\" id=\"#=inputId#\" data-#=ns#bind=\"checked: filters[0].value\" value=\"true\" name=\"filters[0].value\" />' + '<label class=\"k-radio-label\" for=\"#=inputId#\">#=messages.isTrue#</label>' + '</li>' + '<li>' + '#inputId = kendo.guid()#' + '<input type=\"radio\" class=\"k-radio k-radio-md\" id=\"#=inputId#\" data-#=ns#bind=\"checked: filters[0].value\" value=\"false\" name=\"filters[0].value\" />' + '<label class=\"k-radio-label\" for=\"#=inputId#\">#=messages.isFalse#</label>' + '</li>' + '</ul>' + '<div class=\"k-columnmenu-actions\">' + '<button class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base\" type=\"reset\" title=\"#=messages.clear#\"><span class=\"k-button-text\">#=messages.clear#</span></button>' + '<button class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary\" type=\"submit\" title=\"#=messages.filter#\"><span class=\"k-button-text\">#=messages.filter#</span></button>' + '</div>' + '</div>' + '</div>';\n          var customBooleanTemplate = '<div class=\"k-filter-menu-container\">' + '<div class=\"k-filter-help-text\">#=messages.info#</div>' + '<label>' + '<span class=\"k-textbox k-input k-input-md k-rounded-md k-input-solid\"><input class=\"k-input-inner\" data-#=ns#bind=\"value: filters[0].value\" name=\"filters[0].value\"/></span>' + '</label>' + '<div class=\"k-action-buttons\">' + '<button type=\"submit\" title=\"#=messages.filter#\" class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary\"><span class=\"k-button-text\">#=messages.filter#</span></button>' + '<button type=\"reset\" title=\"#=messages.clear#\" class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base\"><span class=\"k-button-text\">#=messages.clear#</span></button>' + '</div>' + '</div>';\n          var defaultTemplate = '<div class=\"k-filter-menu-container\">' + '#if(componentType === \"classic\") {#' + '<div class=\"k-filter-help-text\">#=messages.info#</div>' + '#}#' + '<select title=\"#=messages.operator#\" data-#=ns#bind=\"value: filters[0].operator\" data-#=ns#role=\"dropdownlist\">' + '#for(var op in operators){#' + '<option value=\"#=op#\">#=operators[op]#</option>' + '#}#' + '</select>' + '#if(values){#' + '<select title=\"#=messages.value#\" data-#=ns#bind=\"value:filters[0].value\" data-#=ns#text-field=\"text\" data-#=ns#value-field=\"value\" data-#=ns#source=\\'#=kendo.stringify(values).replace(/\\'/g,\"&\\\\#39;\")#\\' data-#=ns#role=\"dropdownlist\" data-#=ns#option-label=\"#=messages.selectValue#\" data-#=ns#value-primitive=\"true\">' + '</select>' + '#}else{#' + '<input title=\"#=messages.value#\" data-#=ns#bind=\"value:filters[0].value\" class=\"k-input-inner\" type=\"text\" #=role ? \"data-\" + ns + \"role=\\'\" + role + \"\\'\" : \"\"# />' + '#}#' + '#if(extra){#' + '#if(componentType === \"modern\") {#' + '<ul data-#=ns#role=\"buttongroup\" data-bind=\"events: { select: onLogicChange }\">' + '<li data-#=ns#value=\"and\">And</li>' + '<li data-#=ns#value=\"or\">Or</li>' + '</ul>' + '#} else {#' + '<select title=\"#=messages.logic#\" class=\"k-filter-and\" data-#=ns#bind=\"value: logic\" data-#=ns#role=\"dropdownlist\">' + '<option value=\"and\">#=messages.and#</option>' + '<option value=\"or\">#=messages.or#</option>' + '</select>' + '#}#' + '<select title=\"#=messages.additionalOperator#\" data-#=ns#bind=\"value: filters[1].operator\" data-#=ns#role=\"dropdownlist\">' + '#for(var op in operators){#' + '<option value=\"#=op#\">#=operators[op]#</option>' + '#}#' + '</select>' + '#if(values){#' + '<select title=\"#=messages.additionalValue#\" data-#=ns#bind=\"value:filters[1].value\" data-#=ns#text-field=\"text\" data-#=ns#value-field=\"value\" data-#=ns#source=\\'#=kendo.stringify(values).replace(/\\'/g,\"&\\\\#39;\")#\\' data-#=ns#role=\"dropdownlist\" data-#=ns#option-label=\"#=messages.selectValue#\" data-#=ns#value-primitive=\"true\">' + '</select>' + '#}else{#' + '<input title=\"#=messages.additionalValue#\" data-#=ns#bind=\"value: filters[1].value\" class=\"k-input-inner\" type=\"text\" #=role ? \"data-\" + ns + \"role=\\'\" + role + \"\\'\" : \"\"#/>' + '#}#' + '#}#' + '<div class=\"k-action-buttons\">' + '<button type=\"submit\" title=\"#=messages.filter#\" class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary\"><span class=\"k-button-text\">#=messages.filter#</span></button>' + '<button type=\"reset\" title=\"#=messages.clear#\" class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base\"><span class=\"k-button-text\">#=messages.clear#</span></button>' + '</div>' + '</div>';\n          var defaultMobileTemplate = '<div data-#=ns#role=\"view\" class=\"k-grid-filter-menu\">' + '<div data-#=ns#role=\"header\" class=\"k-header\">' + '<a href=\"\\\\#\" class=\"k-header-cancel k-link\" title=\"#=messages.cancel#\" ' + 'aria-label=\"#=messages.cancel#\"><span class=\"k-icon k-i-arrow-chevron-left\"></span></a>' + '#=messages.filter# #=messages.into# #=title#' + '<a href=\"\\\\#\" class=\"k-header-done k-link\" title=\"#=messages.done#\" ' + 'aria-label=\"#=messages.done#\"><span class=\"k-icon k-i-check\"></span></a>' + '</div>' + '<form title=\"#=messages.title#\" class=\"k-filter-menu\">' + '<ul class=\"k-reset\">' + '<li>' + '<span class=\"k-list-title k-filter-help-text\">#=messages.info#</span>' + '<ul class=\"k-listgroup k-listgroup-flush\">' + '<li class=\"k-item k-listgroup-item\">' + '<label class=\"k-listgroup-form-row k-label\">' + '<span class=\"k-listgroup-form-field-label k-filter-operator-text\">#=messages.operator#</span>' + '<span class=\"k-listgroup-form-field-wrapper\">' + '<select id=\"operator_#=filterMenuGuid#\" title=\"#=messages.operator#\" class=\"k-filter-operator\" data-#=ns#bind=\"value: filters[0].operator\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\" >' + '#for(var op in operators){#' + '<option value=\"#=op#\">#=operators[op]#</option>' + '#}#' + '</select>' + '</span>' + '</label>' + '</li>' + '<li class=\"k-item k-listgroup-item\">' + '<label class=\"k-listgroup-form-row k-label\">' + '<span class=\"k-listgroup-form-field-label k-filter-input-text\">#=messages.value#</span>' + '<span class=\"k-listgroup-form-field-wrapper\">' + '#if(values){#' + '<select id=\"value_#=filterMenuGuid#\" title=\"#=messages.value#\" data-#=ns#bind=\"value:filters[0].value\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\" >' + '<option value=\"\">#=messages.selectValue#</option>' + '#for(var val in values){#' + '<option value=\"#=values[val].value#\">#=values[val].text#</option>' + '#}#' + '</select>' + '#}else{#' + '<input id=\"value_#=filterMenuGuid#\" title=\"#=messages.value#\" data-#=ns#bind=\"value:filters[0].value\" class=\"k-value-input\" type=\"#=inputType#\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\" />' + '#}#' + '</span>' + '</label>' + '</li>' + '</ul>' + '#if(extra){#' + '<ul class=\"k-listgroup k-listgroup-flush\">' + '<li class=\"k-item k-listgroup-item\">' + '<label class=\"k-listgroup-form-row k-label\">' + '<span class=\"k-listgroup-form-field-label k-filter-logic-and-text\">#=messages.and#</span>' + '<span class=\"k-listgroup-form-field-wrapper\">' + '<input id=\"and_#=filterMenuGuid#\" title=\"#=messages.and#\" type=\"radio\" name=\"logic\"data-#=ns#bind=\"checked: logic\" value=\"and\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\" />' + '</span>' + '</label>' + '</li>' + '<li class=\"k-item k-listgroup-item\">' + '<label class=\"k-listgroup-form-row k-label\">' + '<span class=\"k-listgroup-form-field-label k-filter-logic-or-text\">#=messages.or#</span>' + '<span class=\"k-listgroup-form-field-wrapper\">' + '<input id=\"or_#=filterMenuGuid#\" title=\"#=messages.or#\" type=\"radio\" name=\"logic\" data-#=ns#bind=\"checked: logic\" value=\"or\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\" />' + '</span>' + '</label>' + '</li>' + '</ul>' + '<ul class=\"k-listgroup k-listgroup-flush\">' + '<li class=\"k-item k-listgroup-item\">' + '<label class=\"k-listgroup-form-row k-label\">' + '<span class=\"k-listgroup-form-field-label k-filter-operator-text\">#=messages.additionalOperator#</span>' + '<span class=\"k-listgroup-form-field-wrapper\">' + '<select id=\"additionalOperator_#=filterMenuGuid#\" title=\"#=messages.additionalOperator#\" class=\"k-filter-operator\" data-#=ns#bind=\"value: filters[1].operator\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\" >' + '#for(var op in operators){#' + '<option value=\"#=op#\">#=operators[op]#</option>' + '#}#' + '</select>' + '</span>' + '</label>' + '</li>' + '<li class=\"k-item k-listgroup-item\">' + '<label class=\"k-listgroup-form-row k-label\">' + '<span class=\"k-listgroup-form-field-label k-filter-input-text\">#=messages.additionalValue#</span>' + '<span class=\"k-listgroup-form-field-wrapper\">' + '#if(values){#' + '<select id=\"additionalValue_#=filterMenuGuid#\" title=\"#=messages.additionalValue#\" data-#=ns#bind=\"value:filters[1].value\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\" >' + '<option value=\"\">#=messages.selectValue#</option>' + '#for(var val in values){#' + '<option value=\"#=values[val].value#\">#=values[val].text#</option>' + '#}#' + '</select>' + '#}else{#' + '<input id=\"additionalValue_#=filterMenuGuid#\" title=\"#=messages.additionalValue#\" data-#=ns#bind=\"value:filters[1].value\" class=\"k-value-input\" type=\"#=inputType#\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\" />' + '#}#' + '</span>' + '</label>' + '</li>' + '</ul>' + '#}#' + '</li>' + '<li class=\"k-item k-clear-wrap\">' + '<span class=\"k-list-title\">&nbsp;</span>' + '<ul class=\"k-listgroup k-listgroup-flush\">' + '<li class=\"k-listgroup-item\">' + '<span class=\"k-link k-label k-clear\" title=\"#=messages.clear#\" aria-label=\"#=messages.clear#\">' + '#=messages.clear#' + '</span>' + '</li>' + '</ul>' + '</li>' + '</ul>' + '</form>' + '</div>';\n          var booleanMobileTemplate = '<div data-#=ns#role=\"view\" class=\"k-grid-filter-menu\">' + '<div data-#=ns#role=\"header\" class=\"k-header\">' + '<a href=\"\\\\#\" class=\"k-header-cancel k-link\" title=\"#=messages.cancel#\" ' + 'aria-label=\"#=messages.cancel#\"><span class=\"k-icon k-i-arrow-chevron-left\"></span></a>' + '#=messages.filter# #=messages.into# #=title#' + '<a href=\"\\\\#\" class=\"k-header-done k-link\" title=\"#=messages.done#\" ' + 'aria-label=\"#=messages.done#\"><span class=\"k-icon k-i-check\"></span></a>' + '</div>' + '<form title=\"#=messages.title#\" class=\"k-filter-menu\">' + '<ul class=\"k-reset\">' + '<li>' + '<span class=\"k-list-title k-filter-help-text\">#=messages.info#</span>' + '<ul class=\"k-listgroup k-listgroup-flush k-multicheck-bool-wrap\">' + '<li class=\"k-item k-listgroup-item\">' + '<label class=\"k-listgroup-form-row k-label\">' + '<span class=\"k-listgroup-form-field-label k-item-title\">#=messages.isTrue#</span>' + '<span class=\"k-listgroup-form-field-wrapper\"></span>' + '<input id=\"true_#=filterMenuGuid#\" title=\"#=messages.isTrue#\" type=\"radio\" data-#=ns#bind=\"checked: filters[0].value\" value=\"true\" name=\"filters[0].value\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\" />' + '</span>' + '</label>' + '</li>' + '<li class=\"k-item k-listgroup-item\">' + '<label class=\"k-listgroup-form-row k-label\">' + '<span for=\"false_#=filterMenuGuid#\" class=\"k-listgroup-form-field-label k-item-title\">#=messages.isFalse#</span>' + '<span class=\"k-listgroup-form-field-wrapper\">' + '<input id=\"false_#=filterMenuGuid#\" title=\"#=messages.isFalse#\" type=\"radio\" data-#=ns#bind=\"checked: filters[0].value\" value=\"false\" name=\"filters[0].value\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\" />' + '</span>' + '</label>' + '</li>' + '</ul>' + '</li>' + '<li class=\"k-item k-clear-wrap\">' + '<span class=\"k-list-title\">&nbsp;</span>' + '<ul class=\"k-listgroup k-listgroup-flush\">' + '<li class=\"k-listgroup-item\">' + '<span class=\"k-link k-label k-clear\" title=\"#=messages.clear#\" aria-label=\"#=messages.clear#\">' + '#=messages.clear#' + '</span>' + '</li>' + '</ul>' + '</li>' + '</ul>' + '</form>' + '</div>';\n\n          function removeFiltersForField(expression, field) {\n            if (expression.filters) {\n              expression.filters = $.grep(expression.filters, function (filter) {\n                removeFiltersForField(filter, field);\n\n                if (filter.filters) {\n                  return filter.filters.length;\n                } else {\n                  return filter.field != field;\n                }\n              });\n            }\n          }\n\n          function convertItems(items) {\n            var idx, length, item, value, text, result;\n\n            if (items && items.length) {\n              result = [];\n\n              for (idx = 0, length = items.length; idx < length; idx++) {\n                item = items[idx];\n                text = item.text !== \"\" ? item.text || item.value || item : item.text;\n                value = item.value == null ? item.text || item : item.value;\n                result[idx] = {\n                  text: text,\n                  value: value\n                };\n              }\n            }\n\n            return result;\n          }\n\n          function clearFilter(filters, field) {\n            return $.grep(filters, function (expr) {\n              if (expr.filters) {\n                expr.filters = $.grep(expr.filters, function (nested) {\n                  return nested.field != field;\n                });\n                return expr.filters.length;\n              }\n\n              return expr.field != field;\n            });\n          }\n\n          var FilterMenu = Widget.extend({\n            init: function (element, options) {\n              var that = this,\n                  type = \"string\",\n                  operators,\n                  initial,\n                  field,\n                  columnHeader;\n              options = options || {};\n              options.componentType = options.componentType || \"classic\";\n              Widget.fn.init.call(that, element, options);\n              operators = that.operators = options.operators || {};\n              element = that.element;\n              options = that.options;\n              that.dataSource = DataSource.create(options.dataSource);\n              that.field = options.field || element.attr(kendo.attr(\"field\"));\n              columnHeader = $(element.closest(COLUMNHEADERATTR));\n\n              if (columnHeader.length) {\n                that.appendTo = columnHeader.find(options.appendTo);\n              } else {\n                that.appendTo = $(options.appendTo);\n              }\n\n              that.link = that._createLink() || $();\n              that.model = that.dataSource.reader.model;\n\n              that._parse = function (value) {\n                return value != null ? value + \"\" : value;\n              };\n\n              if (that.model && that.model.fields) {\n                field = that.model.fields[that.field];\n\n                if (field) {\n                  type = field.type || \"string\";\n\n                  if (field.parse) {\n                    that._parse = field.parse.bind(field);\n                  }\n                }\n              }\n\n              if (options.values) {\n                type = \"enums\";\n              }\n\n              that.type = type;\n              operators = operators[type] || options.operators[type];\n\n              for (initial in operators) {\n                // get the first operator\n                break;\n              }\n\n              that._defaultFilter = function () {\n                return {\n                  field: that.field,\n                  operator: initial || \"eq\",\n                  value: \"\"\n                };\n              };\n\n              that._refreshHandler = that.refresh.bind(that);\n              that.dataSource.bind(CHANGE, that._refreshHandler);\n\n              if (options.appendToElement) {\n                // force creation if used in column menu\n                that._init();\n              } else {\n                that.refresh(); //refresh if DataSource is fitered before menu is created\n              }\n            },\n            _init: function () {\n              var that = this,\n                  ui = that.options.ui,\n                  setUI = isFunction(ui),\n                  attrRole = kendo.attr(\"role\"),\n                  role;\n              that.pane = that.options.pane;\n\n              if (that.pane) {\n                that._isMobile = true;\n              }\n\n              if (!setUI) {\n                role = ui || roles[that.type];\n              }\n\n              if (that._isMobile) {\n                that._createMobileForm(role);\n              } else {\n                that._createForm(role);\n              }\n\n              that.form.on(\"submit\" + NS, that._submit.bind(that)).on(\"reset\" + NS, that._reset.bind(that));\n\n              if (setUI) {\n                that.form.find(\".k-input-inner\").removeClass(\"k-input-inner\").each(function () {\n                  ui($(this));\n                });\n              } else {\n                that.form.find(\".k-input-inner[\" + attrRole + \"]\").removeClass(\"k-input-inner\");\n                that.form.find(\".k-input-inner:not([data-role]):not(.k-numerictextbox>.k-input-inner)\").wrap(\"<span class='k-textbox k-input k-input-md k-rounded-md k-input-solid'></span>\");\n              }\n\n              that.refresh();\n              that.trigger(INIT, {\n                field: that.field,\n                container: that.form\n              });\n\n              if (that.options.cycleForm) {\n                kendo.cycleForm(that.form);\n              }\n            },\n            _createForm: function (role) {\n              var that = this,\n                  options = that.options,\n                  operators = that.operators || {},\n                  type = that.type;\n              operators = operators[type] || options.operators[type];\n              that.form = $('<form title=\"' + that.options.messages.title + '\" class=\"k-filter-menu\"/>').html(kendo.template(that._getTemplate())({\n                field: that.field,\n                format: options.format,\n                ns: kendo.ns,\n                messages: options.messages,\n                extra: options.extra,\n                operators: operators,\n                type: type,\n                role: role,\n                values: convertItems(options.values),\n                componentType: that.options.componentType\n              }));\n\n              if (!options.appendToElement) {\n                that.popup = that.form[POPUP]({\n                  anchor: that.link,\n                  copyAnchorStyles: false,\n                  open: that._open.bind(that),\n                  activate: that._activate.bind(that),\n                  close: function () {\n                    if (that.options.closeCallback) {\n                      that.options.closeCallback(that.element);\n                    }\n                  }\n                }).data(POPUP);\n              } else {\n                that.element.append(that.form);\n                that.popup = that.element.closest(\".k-popup\").data(POPUP);\n              }\n\n              that.form.on(\"keydown\" + NS, that._keydown.bind(that));\n            },\n            _getTemplate: function () {\n              var that = this,\n                  hasCustomTemplate = isFunction(that.options.ui);\n\n              if (that.type === 'boolean') {\n                if (hasCustomTemplate) {\n                  return customBooleanTemplate;\n                } else if (that.options.componentType === 'modern') {\n                  return modernBooleanTemplate;\n                } else {\n                  return booleanTemplate;\n                }\n              } else {\n                return defaultTemplate;\n              }\n            },\n            _createMobileForm: function (role) {\n              var that = this,\n                  options = that.options,\n                  operators = that.operators || {},\n                  filterMenuGuid = kendo.guid(),\n                  type = that.type;\n              operators = operators[type] || options.operators[type];\n              that.form = $(\"<div />\").html(kendo.template(type === \"boolean\" ? booleanMobileTemplate : defaultMobileTemplate)({\n                field: that.field,\n                title: options.title || that.field,\n                format: options.format,\n                ns: kendo.ns,\n                messages: options.messages,\n                extra: options.extra,\n                operators: operators,\n                filterMenuGuid: filterMenuGuid,\n                type: type,\n                role: role,\n                inputType: mobileRoles[type],\n                values: convertItems(options.values)\n              }));\n              that.view = that.pane.append(that.form.html());\n              that.form = that.view.element.find(\"form\");\n              that.view.element.on(\"click\", \".k-header-done\", function (e) {\n                that.form.submit();\n                e.preventDefault();\n              }).on(\"click\", \".k-header-cancel\", function (e) {\n                that._closeForm();\n\n                e.preventDefault();\n              }).on(\"click\", \".k-clear\", function (e) {\n                that._mobileClear();\n\n                e.preventDefault();\n              });\n              that.view.bind(\"showStart\", function () {\n                that.refresh();\n              });\n            },\n            _createLink: function () {\n              var that = this,\n                  element = that.element,\n                  appendTarget = that.appendTo.length ? element.find(that.appendTo) : element,\n                  options = that.options,\n                  title = kendo.format(options.messages.buttonTitle, that.options.title || that.field),\n                  link;\n\n              if (options.appendToElement) {\n                return;\n              }\n\n              link = element.addClass(\"k-filterable\").find(\".k-grid-filter\");\n\n              if (!link[0]) {\n                link = appendTarget.append('<a class=\"k-grid-filter-menu k-grid-filter\" href=\"#\" title=\"' + title + '\" aria-label=\"' + title + '\"><span class=\"k-icon k-i-filter\"></span></a>').find(\".k-grid-filter\");\n              }\n\n              link.attr(\"tabindex\", -1).on(\"click\" + NS, that._click.bind(that));\n              return link;\n            },\n            refresh: function () {\n              var that = this,\n                  expression = that.dataSource.filter() || {\n                filters: [],\n                logic: \"and\"\n              };\n              var defaultFilters = [that._defaultFilter()];\n\n              var defaultOperator = that._defaultFilter().operator;\n\n              if (that.options.extra || defaultOperator !== \"isnull\" && defaultOperator !== \"isnullorempty\" && defaultOperator !== \"isnotnullorempty\" && defaultOperator !== \"isnotnull\" && defaultOperator !== \"isempty\" && defaultOperator !== \"isnotempty\") {\n                defaultFilters.push(that._defaultFilter());\n              }\n\n              that.filterModel = kendo.observable({\n                logic: \"and\",\n                filters: defaultFilters\n              });\n\n              if (that.form) {\n                //NOTE: binding the form element directly causes weird error in IE when grid is bound through MVVM and column is sorted\n                kendo.bind(that.form.children().first(), that.filterModel);\n\n                if (that.options.componentType === \"modern\" && that.options.extra && that.type !== \"boolean\" && !that._isMobile) {\n                  that.filterModel.bind(\"change\", function () {\n                    var roleAttribute = kendo.attr(\"role\");\n                    var buttongroup = that.form.find(\"[\" + roleAttribute + \"='buttongroup']\").data('kendoButtonGroup');\n                    var index = this.logic === \"and\" ? 0 : 1;\n                    buttongroup.select(buttongroup.element.children().eq(index));\n                  });\n                  that.filterModel.set(\"onLogicChange\", that._logicChangeHandler);\n                }\n              }\n\n              if (that._bind(expression)) {\n                that.link.addClass(\"k-active\");\n              } else {\n                that.link.removeClass(\"k-active\");\n              }\n            },\n            _logicChangeHandler: function (e) {\n              var valueAttribute = kendo.attr('value');\n              var logic = e.sender.current().attr(valueAttribute);\n              this.set('logic', logic);\n            },\n            destroy: function () {\n              var that = this;\n              Widget.fn.destroy.call(that);\n\n              if (that.form) {\n                kendo.unbind(that.form);\n                kendo.destroy(that.form);\n                that.form.off(NS);\n\n                if (that.popup) {\n                  that.popup.destroy();\n                  that.popup = null;\n                }\n\n                that.form = null;\n              }\n\n              if (that.view) {\n                that.view.purge();\n                that.view = null;\n              }\n\n              that.link.off(NS);\n\n              if (that._refreshHandler) {\n                that.dataSource.unbind(CHANGE, that._refreshHandler);\n                that.dataSource = null;\n              }\n\n              that.element = that.link = that._refreshHandler = that.filterModel = null;\n            },\n            _bind: function (expression) {\n              var that = this,\n                  filters = expression.filters,\n                  idx,\n                  length,\n                  found = false,\n                  current = 0,\n                  filterModel = that.filterModel,\n                  currentFilter,\n                  filter;\n\n              for (idx = 0, length = filters.length; idx < length; idx++) {\n                filter = filters[idx];\n\n                if (filter.field == that.field) {\n                  filterModel.set(\"logic\", expression.logic);\n                  currentFilter = filterModel.filters[current];\n\n                  if (!currentFilter) {\n                    filterModel.filters.push({\n                      field: that.field\n                    });\n                    currentFilter = filterModel.filters[current];\n                  }\n\n                  currentFilter.set(\"value\", that._parse(filter.value));\n                  currentFilter.set(\"operator\", filter.operator);\n                  current++;\n                  found = true;\n                } else if (filter.filters) {\n                  found = found || that._bind(filter);\n                }\n              }\n\n              return found;\n            },\n            _stripFilters: function (filters) {\n              return $.grep(filters, function (filter) {\n                return filter.value !== \"\" && filter.value != null || filter.operator === \"isnull\" || filter.operator === \"isnotnull\" || filter.operator === \"isempty\" || filter.operator === \"isnotempty\" || filter.operator == \"isnullorempty\" || filter.operator == \"isnotnullorempty\";\n              });\n            },\n            _merge: function (expression) {\n              var that = this,\n                  logic = expression.logic || \"and\",\n                  filters = this._stripFilters(expression.filters),\n                  filter,\n                  result = that.dataSource.filter() || {\n                filters: [],\n                logic: \"and\"\n              },\n                  idx,\n                  length;\n\n              removeFiltersForField(result, that.field);\n\n              for (idx = 0, length = filters.length; idx < length; idx++) {\n                filter = filters[idx];\n                filter.value = that._parse(filter.value);\n              }\n\n              if (filters.length) {\n                if (result.filters.length) {\n                  expression.filters = filters;\n\n                  if (result.logic !== \"and\") {\n                    result.filters = [{\n                      logic: result.logic,\n                      filters: result.filters\n                    }];\n                    result.logic = \"and\";\n                  }\n\n                  if (filters.length > 1) {\n                    result.filters.push(expression);\n                  } else {\n                    result.filters.push(filters[0]);\n                  }\n                } else {\n                  result.filters = filters;\n                  result.logic = logic;\n                }\n              }\n\n              return result;\n            },\n            filter: function (expression) {\n              var filters = this._stripFilters(expression.filters);\n\n              if (filters.length && this.trigger(\"change\", {\n                filter: {\n                  logic: expression.logic,\n                  filters: filters\n                },\n                field: this.field\n              })) {\n                return;\n              }\n\n              expression = this._merge(expression);\n\n              if (expression.filters.length) {\n                this.dataSource.filter(expression);\n              }\n            },\n            clear: function (expression) {\n              var that = this;\n              expression = expression || $.extend(true, {}, {\n                filters: []\n              }, that.dataSource.filter()) || {\n                filters: []\n              };\n\n              if (this.trigger(\"change\", {\n                filter: null,\n                field: that.field\n              })) {\n                return;\n              }\n\n              that._removeFilter(expression);\n            },\n            _mobileClear: function () {\n              var that = this;\n              var viewElement = that.view.element;\n\n              if (that.type === \"boolean\") {\n                var booleanRadioButton = viewElement.find(\"[type='radio']:checked\");\n                var booleanRadioButtonValue = booleanRadioButton.val();\n                booleanRadioButton.val(\"\");\n                booleanRadioButton.trigger(\"change\");\n                booleanRadioButton.val(booleanRadioButtonValue);\n                booleanRadioButton.prop(\"checked\", false);\n              } else {\n                var operatorSelects = viewElement.find(\"select\");\n                operatorSelects.each(function (i, e) {\n                  var input = $(e);\n                  input.val(input.find(\"option\").first().val());\n                  input.trigger(\"change\");\n                });\n\n                if (that.type === \"string\" || that.type === \"date\" || that.type === \"number\") {\n                  var valueInputs = viewElement.find(\".k-value-input\");\n                  valueInputs.each(function (i, e) {\n                    var input = $(e);\n                    input.val(\"\");\n                    input.trigger(\"change\");\n                  });\n                }\n\n                if (that.options.extra) {\n                  var andLogicRadio = viewElement.find(\"[name=logic]\").first();\n                  andLogicRadio.prop(\"checked\", true);\n                  andLogicRadio.trigger(\"change\");\n                }\n              }\n            },\n            _removeFilter: function (expression) {\n              var that = this;\n              expression.filters = $.grep(expression.filters, function (filter) {\n                if (filter.filters) {\n                  filter.filters = clearFilter(filter.filters, that.field);\n                  return filter.filters.length;\n                }\n\n                return filter.field != that.field;\n              });\n\n              if (!expression.filters.length) {\n                expression = null;\n              }\n\n              that.dataSource.filter(expression);\n            },\n            _submit: function (e) {\n              e.preventDefault();\n              e.stopPropagation();\n              var expression = this.filterModel.toJSON();\n              var containsFilters = $.grep(expression.filters, function (filter) {\n                return filter.value !== \"\" && filter.value !== null;\n              });\n\n              if (this._checkForNullOrEmptyFilter(expression) || containsFilters && containsFilters.length) {\n                this.filter(expression);\n              } else {\n                var currentExpression = this.dataSource.filter();\n\n                if (currentExpression) {\n                  currentExpression.filters.push(expression);\n                  expression = currentExpression;\n                }\n\n                this.clear(expression);\n              }\n\n              this._closeForm();\n            },\n            _checkForNullOrEmptyFilter: function (expression) {\n              if (!expression || !expression.filters || !expression.filters.length) {\n                return false;\n              }\n\n              var firstNullOrEmpty = false;\n              var secondNullOrEmpty = false;\n              var operator;\n\n              if (expression.filters[0]) {\n                operator = expression.filters[0].operator;\n                firstNullOrEmpty = operator == \"isnull\" || operator == \"isnotnull\" || operator == \"isnotempty\" || operator == \"isempty\" || operator == \"isnullorempty\" || operator == \"isnotnullorempty\";\n              }\n\n              if (expression.filters[1]) {\n                operator = expression.filters[1].operator;\n                secondNullOrEmpty = operator == \"isnull\" || operator == \"isnotnull\" || operator == \"isnotempty\" || operator == \"isempty\" || operator == \"isnullorempty\" || operator == \"isnotnullorempty\";\n              }\n\n              return !this.options.extra && firstNullOrEmpty || this.options.extra && (firstNullOrEmpty || secondNullOrEmpty);\n            },\n            _reset: function () {\n              this.clear();\n\n              if (this.options.search && this.container) {\n                this.container.find(\"label\").parent().show();\n              }\n\n              this._closeForm();\n            },\n            _closeForm: function () {\n              if (this._isMobile) {\n                this.pane.navigate(\"\", this.options.animations.right);\n              } else {\n                this.popup.close();\n              }\n            },\n            _click: function (e) {\n              e.preventDefault();\n              e.stopPropagation();\n\n              if (!this.popup && !this.pane) {\n                this._init();\n              }\n\n              if (this._isMobile) {\n                this.pane.navigate(this.view, this.options.animations.left);\n              } else {\n                this.popup.toggle();\n              }\n            },\n            _open: function () {\n              var popup;\n              $(\".k-filter-menu\").not(this.form).each(function () {\n                popup = $(this).data(POPUP);\n\n                if (popup) {\n                  popup.close();\n                }\n              });\n            },\n            _activate: function () {\n              this.form.find(\":kendoFocusable\").first().trigger(\"focus\");\n              this.trigger(OPEN, {\n                field: this.field,\n                container: this.form\n              });\n            },\n            _keydown: function (e) {\n              var target = $(e.target),\n                  instance;\n\n              if (e.keyCode == kendo.keys.ESC) {\n                instance = kendo.widgetInstance(target.find(\"select\"));\n\n                if (target.hasClass(\"k-picker\") && instance && instance.popup.visible()) {\n                  e.stopPropagation();\n                  return;\n                }\n\n                target.closest(\".k-popup\").getKendoPopup().close();\n              }\n            },\n            events: [INIT, \"change\", OPEN],\n            options: {\n              name: \"FilterMenu\",\n              extra: true,\n              appendToElement: false,\n              type: \"string\",\n              operators: {\n                string: {\n                  eq: EQ,\n                  neq: NEQ,\n                  startswith: \"Starts with\",\n                  contains: \"Contains\",\n                  doesnotcontain: \"Does not contain\",\n                  endswith: \"Ends with\",\n                  isnull: \"Is null\",\n                  isnotnull: \"Is not null\",\n                  isempty: \"Is empty\",\n                  isnotempty: \"Is not empty\",\n                  isnullorempty: \"Has no value\",\n                  isnotnullorempty: \"Has value\"\n                },\n                number: {\n                  eq: EQ,\n                  neq: NEQ,\n                  gte: \"Is greater than or equal to\",\n                  gt: \"Is greater than\",\n                  lte: \"Is less than or equal to\",\n                  lt: \"Is less than\",\n                  isnull: \"Is null\",\n                  isnotnull: \"Is not null\"\n                },\n                date: {\n                  eq: EQ,\n                  neq: NEQ,\n                  gte: \"Is after or equal to\",\n                  gt: \"Is after\",\n                  lte: \"Is before or equal to\",\n                  lt: \"Is before\",\n                  isnull: \"Is null\",\n                  isnotnull: \"Is not null\"\n                },\n                enums: {\n                  eq: EQ,\n                  neq: NEQ,\n                  isnull: \"Is null\",\n                  isnotnull: \"Is not null\"\n                }\n              },\n              messages: {\n                info: \"Show items with value that:\",\n                title: \"Show items with value that:\",\n                isTrue: \"is true\",\n                isFalse: \"is false\",\n                filter: \"Filter\",\n                clear: \"Clear\",\n                and: \"And\",\n                or: \"Or\",\n                selectValue: \"-Select value-\",\n                operator: \"Operator\",\n                value: \"Value\",\n                additionalValue: \"Additional value\",\n                additionalOperator: \"Additional operator\",\n                logic: \"Filters logic\",\n                cancel: \"Cancel\",\n                done: \"Done\",\n                into: \"in\",\n                buttonTitle: \"{0} filter column settings\"\n              },\n              animations: {\n                left: \"slide\",\n                right: \"slide:right\"\n              },\n              componentType: 'classic',\n              cycleForm: true,\n              appendTo: null\n            }\n          });\n          var multiCheckNS = \".kendoFilterMultiCheck\";\n\n          function filterValuesForField(expression, field) {\n            if (expression.filters) {\n              expression.filters = $.grep(expression.filters, function (filter) {\n                filterValuesForField(filter, field);\n\n                if (filter.filters) {\n                  return filter.filters.length;\n                } else {\n                  return filter.field == field && filter.operator == \"eq\";\n                }\n              });\n            }\n          }\n\n          function flatFilterValues(expression) {\n            if (expression.logic == \"and\" && expression.filters.length > 1) {\n              return [];\n            }\n\n            if (expression.filters) {\n              return $.map(expression.filters, function (filter) {\n                return flatFilterValues(filter);\n              });\n            } else if (expression.value !== undefined) {\n              return [expression.value];\n            } else {\n              return [];\n            }\n          }\n\n          function distinct(items, field) {\n            var getter = kendo.getter(field, true),\n                result = [],\n                index = 0,\n                seen = {};\n\n            while (index < items.length) {\n              var item = items[index++],\n                  text = getter(item);\n\n              if (text !== undefined && !seen.hasOwnProperty(text)) {\n                result.push(item);\n                seen[text] = true;\n              }\n            }\n\n            return result;\n          }\n\n          function removeDuplicates(dataSelector, dataTextField) {\n            return function (e) {\n              var items = dataSelector(e);\n              return distinct(items, dataTextField);\n            };\n          }\n\n          var DataSource = kendo.data.DataSource;\n          var multiCkeckMobileTemplate = '<div data-#=ns#role=\"view\" class=\"k-grid-filter-menu\">' + '<div data-#=ns#role=\"header\" class=\"k-header\">' + '<a href=\"\\\\#\" class=\"k-header-cancel k-link\" title=\"#=messages.cancel#\" ' + 'aria-label=\"#=messages.cancel#\"><span class=\"k-icon k-i-arrow-chevron-left\"></span></a>' + '#=messages.filter# #=messages.into# #=title#' + '<a href=\"\\\\#\" class=\"k-header-done k-link\" title=\"#=messages.done#\" ' + 'aria-label=\"#=messages.done#\"><span class=\"k-icon k-i-check\"></span></a>' + '</div>' + '<form class=\"k-filter-menu\">' + '<ul class=\"k-reset\">' + '#if(search){#' + '<li class=\"k-space-right\">' + '<span class=\"k-searchbox k-textbox k-input k-input-md k-rounded-md k-input-solid\">' + '<input class=\"k-input-inner\" placeholder=\"#=messages.search#\" title=\"#=messages.search#\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\"  />' + '<span class=\"k-input-suffix\"><span class=\"k-icon k-i-zoom\"></span>' + '</span>' + '</li>' + '#}#' + '<li class=\"k-filter-tools\">' + '<span style=\"#=checkAll ? \"\" : \"visibility: hidden;\" #\" class=\"k-label k-select-all\" title=\"#=messages.checkAll#\" ' + 'aria-label=\"#=messages.checkAll#\">#=messages.checkAll#</span>' + '<span class=\"k-label k-clear-all\" title=\"#=messages.clearAll#\" ' + 'aria-label=\"#=messages.clearAll#\">#=messages.clearAll#</span>' + '</li>' + '#if(messages.selectedItemsFormat){#' + '<li>' + '<div class=\"k-filter-selected-items\"></div>' + '</li>' + '#}#' + '<li>' + '<ul class=\"k-multicheck-wrap k-listgroup k-listgroup-flush\"></ul>' + '</li>' + '</ul>' + '</form>' + '</div>';\n          var FilterMultiCheck = Widget.extend({\n            init: function (element, options) {\n              Widget.fn.init.call(this, element, options);\n              options = this.options;\n              this.element = $(element);\n              var columnHeader;\n              var field = this.field = this.options.field || this.element.attr(kendo.attr(\"field\"));\n              var checkSource = options.checkSource;\n\n              if (this._foreignKeyValues()) {\n                this.checkSource = DataSource.create(options.values);\n                this.checkSource.fetch();\n              } else if (options.forceUnique) {\n                checkSource = $.extend(true, {}, options.dataSource.options);\n                delete checkSource.pageSize;\n                this.checkSource = DataSource.create(checkSource);\n                this.checkSource.reader.data = removeDuplicates(this.checkSource.reader.data, this.field);\n              } else {\n                this.checkSource = DataSource.create(checkSource);\n              }\n\n              this.dataSource = options.dataSource;\n              this.model = this.dataSource.reader.model;\n\n              this._parse = function (value) {\n                return value + \"\";\n              };\n\n              if (this.model && this.model.fields) {\n                field = this.model.fields[this.field];\n\n                if (field) {\n                  if (field.type == \"number\") {\n                    this._parse = function (value) {\n                      if (typeof value === \"string\" && (value.toLowerCase() === \"null\" || this._foreignKeyValues() && value === \"\")) {\n                        return null;\n                      }\n\n                      return parseFloat(value);\n                    };\n                  } else if (field.parse) {\n                    this._parse = field.parse.bind(field);\n                  }\n\n                  this.type = field.type || \"string\";\n                }\n              }\n\n              columnHeader = $(element.closest(COLUMNHEADERATTR));\n\n              if (columnHeader.length) {\n                this.appendTo = columnHeader.find(options.appendTo);\n              } else {\n                this.appendTo = $(options.appendTo);\n              }\n\n              if (!options.appendToElement) {\n                this._createLink();\n              } else {\n                this._init();\n              }\n\n              this._refreshHandler = this.refresh.bind(this);\n              this.dataSource.bind(CHANGE, this._refreshHandler);\n            },\n            _createLink: function () {\n              var element = this.element;\n              var appendTarget = this.appendTo.length ? element.find(this.appendTo) : element;\n              var link = element.addClass(\"k-filterable\").find(\".k-grid-filter\");\n              var title = kendo.format(this.options.messages.buttonTitle, this.options.title || this.field);\n\n              if (!link[0]) {\n                link = appendTarget.append('<a class=\"k-grid-filter-menu k-grid-filter\" href=\"#\" title=\"' + title + '\" aria-label=\"' + title + '\"><span class=\"k-icon k-i-filter\"></span></a>').find(\".k-grid-filter\");\n              }\n\n              this._link = link.attr(\"tabindex\", -1).on(\"click\" + NS, this._click.bind(this));\n            },\n            _init: function () {\n              var that = this;\n              var forceUnique = this.options.forceUnique;\n              var options = this.options;\n              this.pane = options.pane;\n\n              if (this.pane) {\n                this._isMobile = true;\n              }\n\n              this._createForm();\n\n              if (this._foreignKeyValues()) {\n                this.refresh();\n              } else if (forceUnique && !this.checkSource.options.serverPaging && this.dataSource.data().length) {\n                this.checkSource.data(distinct(this.dataSource.data(), this.field));\n                this.refresh();\n              } else {\n                this._attachProgress();\n\n                this.checkSource.fetch(function () {\n                  that.refresh.call(that);\n                });\n              }\n\n              if (!this.options.forceUnique) {\n                this.checkChangeHandler = function () {\n                  that.container.empty();\n                  that.refresh();\n                };\n\n                this.checkSource.bind(CHANGE, this.checkChangeHandler);\n              }\n\n              this.form.on(\"keydown\" + multiCheckNS, this._keydown.bind(this)).on(\"submit\" + multiCheckNS, this._filter.bind(this)).on(\"reset\" + multiCheckNS, this._reset.bind(this));\n              this.trigger(INIT, {\n                field: this.field,\n                container: this.form\n              });\n            },\n            _attachProgress: function () {\n              var that = this;\n\n              this._progressHandler = function () {\n                ui.progress(that.container, true);\n              };\n\n              this._progressHideHandler = function () {\n                ui.progress(that.container, false);\n              };\n\n              this.checkSource.bind(\"progress\", this._progressHandler).bind(\"change\", this._progressHideHandler);\n            },\n            _input: function () {\n              var that = this;\n\n              that._clearTypingTimeout();\n\n              that._typingTimeout = setTimeout(function () {\n                that.search();\n              }, 100);\n            },\n            _clearSearch: function () {\n              var that = this;\n              that.searchTextBox.val(\"\");\n              that.search();\n            },\n            _clearTypingTimeout: function () {\n              if (this._typingTimeout) {\n                clearTimeout(this._typingTimeout);\n                this._typingTimeout = null;\n              }\n            },\n            search: function () {\n              var ignoreCase = this.options.ignoreCase;\n              var searchString = this.searchTextBox[0].value;\n              var labels = this.container.find(\"label\");\n\n              if (ignoreCase) {\n                searchString = searchString.toLowerCase();\n              }\n\n              var i = 0;\n\n              if (this.options.checkAll && labels.length) {\n                if (!this._isMobile) {\n                  labels[0].parentNode.style.display = searchString ? \"none\" : \"\";\n                  i++;\n                } else {\n                  this.view.element.find(\".k-select-all\")[0].style.visibility = searchString ? \"hidden\" : \"\";\n                }\n              }\n\n              while (i < labels.length) {\n                var label = labels[i];\n                var labelText = label.textContent || label.innerText;\n\n                if (ignoreCase) {\n                  labelText = labelText.toLowerCase();\n                }\n\n                label.parentNode.style.display = labelText.indexOf(searchString) >= 0 ? \"\" : \"none\";\n                i++;\n              }\n            },\n            _activate: function () {\n              this.form.find(\":kendoFocusable\").first().trigger(\"focus\");\n              this.trigger(OPEN, {\n                field: this.field,\n                container: this.form\n              });\n            },\n            _createForm: function () {\n              var options = this.options;\n              var html = \"\";\n              var that = this;\n\n              if (!this._isMobile) {\n                html += \"<div class='k-filter-menu-container'>\";\n\n                if (options.search) {\n                  html += \"<span class='k-searchbox k-textbox k-input k-input-md k-rounded-md k-input-solid'>\" + \"<span class='k-input-icon k-icon k-i-search'></span>\" + \"<input class='k-input-inner' type='text' placeholder='\" + options.messages.search + \"' />\" + \"<span class='k-input-suffix'>\" + \"<span class='k-clear-value'><span class='k-icon k-i-x'></span></span>\" + \"</span>\" + \"</span>\";\n                }\n\n                html += \"<ul class='k-reset k-multicheck-wrap'></ul>\";\n\n                if (options.messages.selectedItemsFormat) {\n                  html += \"<div class='k-filter-selected-items'>\" + kendo.format(options.messages.selectedItemsFormat, 0) + \"</div>\";\n                }\n\n                html += \"<div class='k-action-buttons'>\";\n                html += \"<button type='submit' class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary'><span class='k-button-text'>\" + options.messages.filter + \"</span></button>\";\n                html += \"<button type='reset' class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base'><span class='k-button-text'>\" + options.messages.clear + \"</span></button>\";\n                html += \"</div>\";\n                html += \"</div>\";\n                this.form = $('<form class=\"k-filter-menu\"/>').html(html);\n                this.container = this.form.find(\".k-multicheck-wrap\");\n              }\n\n              if (this._isMobile) {\n                that.form = $(\"<div />\").html(kendo.template(multiCkeckMobileTemplate)({\n                  field: that.field,\n                  title: options.title || that.field,\n                  ns: kendo.ns,\n                  messages: options.messages,\n                  search: options.search,\n                  checkAll: options.checkAll\n                }));\n                that.view = that.pane.append(that.form.html());\n                that.form = that.view.element.find(\"form\");\n                var element = this.view.element;\n                this.container = element.find(\".k-multicheck-wrap\");\n                element.on(\"click\", \".k-header-done\", function (e) {\n                  that.form.submit();\n                  e.preventDefault();\n                }).on(\"click\", \".k-header-cancel\", function (e) {\n                  that._closeForm();\n\n                  e.preventDefault();\n                }).on(\"click\", \".k-clear-all\", function (e) {\n                  that._mobileCheckAll(false);\n\n                  e.preventDefault();\n                }).on(\"click\", \".k-select-all\", function (e) {\n                  that._mobileCheckAll(true);\n\n                  e.preventDefault();\n                });\n                that.view.bind(\"showStart\", function () {\n                  that.refresh();\n                });\n              } else {\n                if (!options.appendToElement) {\n                  that.popup = that.form.kendoPopup({\n                    anchor: that._link,\n                    copyAnchorStyles: false,\n                    open: that._open.bind(that),\n                    activate: that._activate.bind(that),\n                    close: function () {\n                      if (that.options.closeCallback) {\n                        that.options.closeCallback(that.element);\n                      }\n                    }\n                  }).data(POPUP);\n                } else {\n                  this.popup = this.element.closest(\".k-popup\").data(POPUP);\n                  this.element.append(this.form);\n                }\n              }\n\n              if (options.search) {\n                this.searchTextBox = this.form.find(\".k-searchbox input\");\n                this.searchTextBox.on(\"input\" + multiCheckNS, this._input.bind(this));\n                this.clearSearchButton = this.form.find(\".k-searchbox .k-clear-value\");\n                this.clearSearchButton.on(\"click\" + multiCheckNS, this._clearSearch.bind(this));\n              }\n            },\n            _open: function () {\n              var popup;\n              $(\".k-filter-menu\").not(this.form).each(function () {\n                popup = $(this).data(POPUP);\n\n                if (popup) {\n                  popup.close();\n                }\n              });\n            },\n            createCheckAllItem: function () {\n              var options = this.options;\n              var template = kendo.template(options.itemTemplate({\n                field: \"all\",\n                mobile: this._isMobile\n              }));\n              var checkAllContainer = $(template({\n                all: options.messages.checkAll\n              }));\n              this.container.prepend(checkAllContainer);\n              checkAllContainer.addClass(\"k-check-all-wrap\");\n              this.checkBoxAll = checkAllContainer.find(\":checkbox\").eq(0).addClass(\"k-check-all\");\n              this.checkAllHandler = this.checkAll.bind(this);\n              this.checkBoxAll.on(CHANGE + multiCheckNS, this.checkAllHandler);\n            },\n            updateCheckAllState: function () {\n              if (this.options.messages.selectedItemsFormat) {\n                this.form.find(\".k-filter-selected-items\").text(kendo.format(this.options.messages.selectedItemsFormat, this.container.find(\":checked:not(.k-check-all)\").length));\n              }\n\n              if (this.checkBoxAll) {\n                var state = this.container.find(\":checkbox:not(.k-check-all)\").length == this.container.find(\":checked:not(.k-check-all)\").length;\n                this.checkBoxAll.prop(\"checked\", state);\n              }\n            },\n            createIsNullItem: function () {\n              var options = this.options;\n              var template = kendo.template(options.itemTemplate({\n                field: \"isNull\",\n                mobile: this._isMobile,\n                valueField: \"value\"\n              }));\n              var isNullContainer = $(template({\n                isNull: options.messages.isNull,\n                value: null\n              }));\n              this.container.append(isNullContainer);\n            },\n            refresh: function (e) {\n              var forceUnique = this.options.forceUnique;\n              var dataSource = this.dataSource;\n              var filters = this.getFilterArray();\n\n              if (this._link) {\n                this._link.toggleClass(\"k-active\", filters.length !== 0);\n              }\n\n              if (this.form) {\n                if (e && forceUnique && e.sender === dataSource && !dataSource.options.serverPaging && (e.action == \"itemchange\" || e.action == \"add\" || e.action == \"remove\" || dataSource.options.autoSync && e.action === \"sync\") && !this._foreignKeyValues()) {\n                  this.checkSource.data(distinct(this.dataSource.data(), this.field));\n                  this.container.empty();\n                }\n\n                if (this.container.is(\":empty\")) {\n                  this.createCheckBoxes();\n                }\n\n                this.checkValues(filters);\n                this.trigger(REFRESH);\n              }\n            },\n            getFilterArray: function () {\n              var expression = $.extend(true, {}, {\n                filters: [],\n                logic: \"and\"\n              }, this.dataSource.filter());\n              filterValuesForField(expression, this.field);\n              var flatValues = flatFilterValues(expression);\n              return flatValues;\n            },\n            createCheckBoxes: function () {\n              var options = this.options;\n              var data;\n              var templateOptions = {\n                field: this.field,\n                format: options.format,\n                mobile: this._isMobile,\n                type: this.type\n              };\n              var boolDataFilter = booleanFilterHandler.bind(this);\n\n              if (!this.options.forceUnique) {\n                data = this.checkSource.view();\n              } else if (this._foreignKeyValues()) {\n                data = this.checkSource.data();\n                templateOptions.valueField = \"value\";\n                templateOptions.field = \"text\";\n              } else if (this.checkSource._isServerGrouped()) {\n                data = distinct(this.checkSource._flatData(this.checkSource.data()), this.field);\n              } else {\n                data = this.checkSource.data();\n              }\n\n              if (this.type === \"boolean\") {\n                this.createIsNullItem();\n                data = data.filter(boolDataFilter);\n              }\n\n              var template = kendo.template(options.itemTemplate(templateOptions));\n              var itemsHtml = kendo.render(template, data);\n              this.container.on(CHANGE + multiCheckNS, \":checkbox\", this.updateCheckAllState.bind(this));\n              this.container.prepend(itemsHtml);\n\n              if (options.checkAll && !this._isMobile) {\n                this.createCheckAllItem();\n              }\n            },\n            checkAll: function () {\n              var state = this.checkBoxAll.is(\":checked\");\n              this.container.find(\":checkbox\").prop(\"checked\", state);\n            },\n            checkValues: function (values) {\n              var that = this;\n              $($.grep(this.container.find(\":checkbox\").prop(\"checked\", false), function (ele) {\n                var found = false;\n\n                if ($(ele).is(\".k-check-all\")) {\n                  return;\n                }\n\n                var checkBoxVal = that._parse($(ele).val());\n\n                for (var i = 0; i < values.length; i++) {\n                  if (that.type == \"date\") {\n                    if (values[i] && checkBoxVal) {\n                      found = values[i].getTime() == checkBoxVal.getTime();\n                    } else if (values[i] === null && checkBoxVal === null) {\n                      found = true;\n                    } else {\n                      found = false;\n                    }\n                  } else {\n                    found = values[i] == checkBoxVal;\n                  }\n\n                  if (found) {\n                    return found;\n                  }\n                }\n              })).prop(\"checked\", true);\n              this.updateCheckAllState();\n            },\n            _mobileCheckAll: function (state) {\n              var that = this;\n              var checkboxes = that.container.find(\":checkbox\");\n              checkboxes.each(function (i, e) {\n                var checkbox = $(e);\n                checkbox.prop(\"checked\", state);\n                checkbox.trigger(\"change\");\n              });\n            },\n            _filter: function (e) {\n              e.preventDefault();\n              e.stopPropagation();\n              var expression = {\n                logic: \"or\"\n              };\n              var that = this;\n              expression.filters = $.map(this.form.find(\":checkbox:checked:not(.k-check-all)\"), function (item) {\n                return {\n                  value: $(item).val(),\n                  operator: \"eq\",\n                  field: that.field\n                };\n              });\n\n              if (this.trigger(\"change\", {\n                filter: expression,\n                field: that.field\n              })) {\n                return;\n              }\n\n              expression = this._merge(expression);\n\n              if (expression.filters.length) {\n                this.dataSource.filter(expression);\n              } else {\n                that._removeFilter(that.dataSource.filter() || {\n                  filters: []\n                });\n              }\n\n              this._closeForm();\n            },\n            _stripFilters: function (filters) {\n              return $.grep(filters, function (filter) {\n                return filter.value != null;\n              });\n            },\n            _foreignKeyValues: function () {\n              var options = this.options;\n              return options.values && !options.checkSource;\n            },\n            destroy: function () {\n              var that = this;\n              Widget.fn.destroy.call(that);\n\n              if (that.form) {\n                kendo.unbind(that.form);\n                kendo.destroy(that.form);\n                that.form.off(multiCheckNS);\n\n                if (that.popup) {\n                  that.popup.destroy();\n                  that.popup = null;\n                }\n\n                that.form = null;\n\n                if (that.container) {\n                  that.container.off(multiCheckNS);\n                  that.container = null;\n                }\n\n                if (that.checkBoxAll) {\n                  that.checkBoxAll.off(multiCheckNS);\n                }\n              }\n\n              if (that.view) {\n                that.view.purge();\n                that.view = null;\n              }\n\n              if (that._link) {\n                that._link.off(NS);\n              }\n\n              if (that._refreshHandler) {\n                that.dataSource.unbind(CHANGE, that._refreshHandler);\n                that.dataSource = null;\n              }\n\n              if (that.checkChangeHandler) {\n                that.checkSource.unbind(CHANGE, that.checkChangeHandler);\n              }\n\n              if (that._progressHandler) {\n                that.checkSource.unbind(\"progress\", that._progressHandler);\n              }\n\n              if (that._progressHideHandler) {\n                that.checkSource.unbind(\"change\", that._progressHideHandler);\n              }\n\n              this._clearTypingTimeout();\n\n              if (this.searchTextBox) {\n                this.searchTextBox.off(multiCheckNS);\n                this.searchTextBox = null;\n              }\n\n              if (this.clearSearchButton) {\n                this.clearSearchButton.off(multiCheckNS);\n                this.clearSearchButton = null;\n              }\n\n              that.element = that.checkSource = that.container = that.checkBoxAll = that._link = that._refreshHandler = that.checkAllHandler = null;\n            },\n            options: {\n              name: \"FilterMultiCheck\",\n              itemTemplate: function (options) {\n                var field = options.field;\n                var format = options.format;\n                var valueField = options.valueField;\n                var mobile = options.mobile;\n                var valueFormat = \"\";\n\n                if (valueField === undefined) {\n                  valueField = field;\n                }\n\n                if (options.type == \"date\") {\n                  valueFormat = \":yyyy-MM-ddTHH:mm:sszzz\";\n                }\n\n                if (mobile) {\n                  return \"<li class='k-item k-listgroup-item'>\" + \"<label class='k-label k-listgroup-form-row k-checkbox-label'>\" + \"<span class='k-listgroup-form-field-label k-item-title '>#:kendo.format('\" + (format ? format : \"{0}\") + \"', \" + field + \")#</span>\" + '<span class=\"k-listgroup-form-field-wrapper\">' + \"<input type='checkbox' class='k-checkbox k-checkbox-md k-rounded-md' value='#:kendo.format('{0\" + valueFormat + \"}',\" + valueField + \")#'/>\" + '</span>' + \"</label>\" + \"</li>\";\n                }\n\n                return \"<li class='k-item'>\" + \"<label class='k-label k-checkbox-label'>\" + \"<input type='checkbox' class='k-checkbox k-checkbox-md k-rounded-md' value='#:kendo.format('{0\" + valueFormat + \"}',\" + valueField + \")#'/>\" + \"<span>#:kendo.format('\" + (format ? format : \"{0}\") + \"', \" + field + \")#</span>\" + \"</label>\" + \"</li>\";\n              },\n              checkAll: true,\n              search: false,\n              ignoreCase: true,\n              appendToElement: false,\n              messages: {\n                checkAll: \"Select All\",\n                isNull: \"is empty\",\n                clearAll: \"Clear All\",\n                clear: \"Clear\",\n                filter: \"Filter\",\n                search: \"Search\",\n                cancel: \"Cancel\",\n                selectedItemsFormat: \"{0} items selected\",\n                done: \"Done\",\n                into: \"in\",\n                buttonTitle: \"{0} filter column settings\"\n              },\n              forceUnique: true,\n              animations: {\n                left: \"slide\",\n                right: \"slide:right\"\n              },\n              appendTo: null\n            },\n            events: [INIT, REFRESH, \"change\", OPEN]\n          });\n\n          function booleanFilterHandler(item) {\n            return item[this.field] !== null;\n          }\n\n          $.extend(FilterMultiCheck.fn, {\n            _click: FilterMenu.fn._click,\n            _keydown: FilterMenu.fn._keydown,\n            _reset: FilterMenu.fn._reset,\n            _closeForm: FilterMenu.fn._closeForm,\n            _removeFilter: FilterMenu.fn._removeFilter,\n            clear: FilterMenu.fn.clear,\n            _merge: FilterMenu.fn._merge\n          });\n          ui.plugin(FilterMenu);\n          ui.plugin(FilterMultiCheck);\n        })(window.kendo.jQuery);\n\n        return window.kendo;\n      }, __webpack_require__.amdD);\n      /***/\n\n    },\n\n    /***/\n    22380:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./kendo.binder\");\n      /***/\n    },\n\n    /***/\n    4832:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./kendo.datepicker\");\n      /***/\n    },\n\n    /***/\n    54148:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./kendo.dropdownlist\");\n      /***/\n    },\n\n    /***/\n    32011:\n    /***/\n    function (module) {\n      \"use strict\";\n\n      module.exports = require(\"./kendo.numerictextbox\");\n      /***/\n    }\n    /******/\n\n  };\n  /************************************************************************/\n\n  /******/\n  // The module cache\n\n  /******/\n\n  var __webpack_module_cache__ = {};\n  /******/\n\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n    // Check if module is in cache\n\n    /******/\n    var cachedModule = __webpack_module_cache__[moduleId];\n    /******/\n\n    if (cachedModule !== undefined) {\n      /******/\n      return cachedModule.exports;\n      /******/\n    }\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n\n    var module = __webpack_module_cache__[moduleId] = {\n      /******/\n      // no module.id needed\n\n      /******/\n      // no module.loaded needed\n\n      /******/\n      exports: {}\n      /******/\n\n    };\n    /******/\n\n    /******/\n    // Execute the module function\n\n    /******/\n\n    __webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n    /******/\n\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n\n    return module.exports;\n    /******/\n  }\n  /******/\n\n  /************************************************************************/\n\n  /******/\n\n  /* webpack/runtime/amd define */\n\n  /******/\n\n\n  !function () {\n    /******/\n    __webpack_require__.amdD = function () {\n      /******/\n      throw new Error('define cannot be used indirect');\n      /******/\n    };\n    /******/\n\n  }();\n  /******/\n\n  /************************************************************************/\n\n  /******/\n\n  /******/\n  // startup\n\n  /******/\n  // Load entry module and return exports\n\n  /******/\n  // This entry module used 'module' so it can't be inlined\n\n  /******/\n\n  var __webpack_exports__ = __webpack_require__(98364);\n  /******/\n\n\n  module.exports = __webpack_exports__;\n  /******/\n\n  /******/\n})();","map":{"version":3,"names":["__webpack_modules__","module","exports","__webpack_require__","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","f","define","apply","undefined","__meta__","id","name","category","depends","advanced","$","kendo","window","ui","support","AUTOCOMPLETEVALUE","browser","chrome","POPUP","INIT","OPEN","REFRESH","CHANGE","NS","COLUMNHEADERATTR","EQ","NEQ","roles","mobileRoles","isFunction","Widget","booleanTemplate","modernBooleanTemplate","customBooleanTemplate","defaultTemplate","defaultMobileTemplate","booleanMobileTemplate","removeFiltersForField","expression","field","filters","grep","filter","length","convertItems","items","idx","item","value","text","result","clearFilter","expr","nested","FilterMenu","extend","init","element","options","that","type","operators","initial","columnHeader","componentType","fn","call","dataSource","DataSource","create","attr","closest","appendTo","find","link","_createLink","model","reader","_parse","fields","parse","bind","values","_defaultFilter","operator","_refreshHandler","refresh","appendToElement","_init","setUI","attrRole","role","pane","_isMobile","_createMobileForm","_createForm","form","on","_submit","_reset","removeClass","each","wrap","trigger","container","cycleForm","messages","title","html","template","_getTemplate","format","ns","extra","popup","anchor","copyAnchorStyles","open","_open","activate","_activate","close","closeCallback","data","append","_keydown","hasCustomTemplate","filterMenuGuid","guid","inputType","view","e","submit","preventDefault","_closeForm","_mobileClear","appendTarget","buttonTitle","addClass","_click","logic","defaultFilters","defaultOperator","push","filterModel","observable","children","first","roleAttribute","buttongroup","index","select","eq","set","_logicChangeHandler","_bind","valueAttribute","sender","current","destroy","unbind","off","purge","found","currentFilter","_stripFilters","_merge","clear","_removeFilter","viewElement","booleanRadioButton","booleanRadioButtonValue","val","prop","operatorSelects","i","input","valueInputs","andLogicRadio","stopPropagation","toJSON","containsFilters","_checkForNullOrEmptyFilter","currentExpression","firstNullOrEmpty","secondNullOrEmpty","search","parent","show","navigate","animations","right","left","toggle","not","target","instance","keyCode","keys","ESC","widgetInstance","hasClass","visible","getKendoPopup","events","string","neq","startswith","contains","doesnotcontain","endswith","isnull","isnotnull","isempty","isnotempty","isnullorempty","isnotnullorempty","number","gte","gt","lte","lt","date","enums","info","isTrue","isFalse","and","or","selectValue","additionalValue","additionalOperator","cancel","done","into","multiCheckNS","filterValuesForField","flatFilterValues","map","distinct","getter","seen","hasOwnProperty","removeDuplicates","dataSelector","dataTextField","multiCkeckMobileTemplate","FilterMultiCheck","checkSource","_foreignKeyValues","fetch","forceUnique","pageSize","toLowerCase","parseFloat","_link","serverPaging","_attachProgress","checkChangeHandler","empty","_filter","_progressHandler","progress","_progressHideHandler","_input","_clearTypingTimeout","_typingTimeout","setTimeout","_clearSearch","searchTextBox","clearTimeout","ignoreCase","searchString","labels","checkAll","parentNode","style","display","visibility","label","labelText","textContent","innerText","indexOf","selectedItemsFormat","_mobileCheckAll","kendoPopup","clearSearchButton","createCheckAllItem","itemTemplate","mobile","checkAllContainer","all","prepend","checkBoxAll","checkAllHandler","updateCheckAllState","state","createIsNullItem","valueField","isNullContainer","isNull","getFilterArray","toggleClass","action","autoSync","is","createCheckBoxes","checkValues","flatValues","templateOptions","boolDataFilter","booleanFilterHandler","_isServerGrouped","_flatData","itemsHtml","render","ele","checkBoxVal","getTime","checkboxes","checkbox","valueFormat","clearAll","plugin","jQuery","amdD","require","__webpack_module_cache__","moduleId","cachedModule","Error","__webpack_exports__"],"sources":["C:/Users/abodean/restapi-nodejs/client/app-router/node_modules/@progress/kendo-ui/js/kendo.filtermenu.js"],"sourcesContent":["/******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 98364:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(f, define) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(4832), __webpack_require__(32011), __webpack_require__(54148), __webpack_require__(22380) ], __WEBPACK_AMD_DEFINE_FACTORY__ = (f),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n})(function() {\n\nvar __meta__ = {\n    id: \"filtermenu\",\n    name: \"Filtering Menu\",\n    category: \"framework\",\n    depends: [ \"datepicker\", \"numerictextbox\", \"dropdownlist\", \"binder\" ],\n    advanced: true\n};\n\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        support = kendo.support,\n        AUTOCOMPLETEVALUE = support.browser.chrome ? \"disabled\" : \"off\",\n        POPUP = \"kendoPopup\",\n        INIT = \"init\",\n        OPEN = \"open\",\n        REFRESH = \"refresh\",\n        CHANGE = \"change\",\n        NS = \".kendoFilterMenu\",\n        COLUMNHEADERATTR = \"[role='columnheader']\",\n        EQ = \"Is equal to\",\n        NEQ = \"Is not equal to\",\n        roles = {\n            \"number\": \"numerictextbox\",\n            \"date\": \"datepicker\"\n        },\n        mobileRoles = {\n            \"string\": \"text\",\n            \"number\": \"number\",\n            \"date\": \"date\"\n        },\n        isFunction = kendo.isFunction,\n        Widget = ui.Widget;\n\n    var booleanTemplate =\n        '<div class=\"k-filter-menu-container\">' +\n            '<div class=\"k-filter-help-text\">#=messages.info#</div>' +\n            '<label>' +\n                '<input type=\"radio\" data-#=ns#bind=\"checked: filters[0].value\" value=\"true\" name=\"filters[0].value\"/>' +\n                '#=messages.isTrue#' +\n            '</label>' +\n            '<label>' +\n                '<input type=\"radio\" data-#=ns#bind=\"checked: filters[0].value\" value=\"false\" name=\"filters[0].value\"/>' +\n                '#=messages.isFalse#' +\n            '</label>' +\n            '<div class=\"k-action-buttons\">' +\n                '<button type=\"submit\" title=\"#=messages.filter#\" class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary\"><span class=\"k-button-text\">#=messages.filter#</span></button>' +\n                '<button type=\"reset\" title=\"#=messages.clear#\" class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base\"><span class=\"k-button-text\">#=messages.clear#</span></button>' +\n            '</div>' +\n        '</div>';\n\n    var modernBooleanTemplate =\n        '#var inputId;#' +\n        '<div class=\"k-filter-menu-container\">' +\n            '<div>' +\n                '<ul class=\"k-radio-list k-reset\">' +\n                    '<li>' +\n                        '#inputId = kendo.guid()#' +\n                        '<input type=\"radio\" class=\"k-radio k-radio-md\" id=\"#=inputId#\" data-#=ns#bind=\"checked: filters[0].value\" value=\"true\" name=\"filters[0].value\" />' +\n                        '<label class=\"k-radio-label\" for=\"#=inputId#\">#=messages.isTrue#</label>' +\n                    '</li>' +\n                    '<li>' +\n                        '#inputId = kendo.guid()#' +\n                        '<input type=\"radio\" class=\"k-radio k-radio-md\" id=\"#=inputId#\" data-#=ns#bind=\"checked: filters[0].value\" value=\"false\" name=\"filters[0].value\" />' +\n                        '<label class=\"k-radio-label\" for=\"#=inputId#\">#=messages.isFalse#</label>' +\n                    '</li>' +\n                '</ul>' +\n                '<div class=\"k-columnmenu-actions\">' +\n                    '<button class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base\" type=\"reset\" title=\"#=messages.clear#\"><span class=\"k-button-text\">#=messages.clear#</span></button>' +\n                    '<button class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary\" type=\"submit\" title=\"#=messages.filter#\"><span class=\"k-button-text\">#=messages.filter#</span></button>' +\n                '</div>' +\n            '</div>' +\n        '</div>';\n\n    var customBooleanTemplate =\n        '<div class=\"k-filter-menu-container\">' +\n            '<div class=\"k-filter-help-text\">#=messages.info#</div>' +\n            '<label>' +\n                '<span class=\"k-textbox k-input k-input-md k-rounded-md k-input-solid\"><input class=\"k-input-inner\" data-#=ns#bind=\"value: filters[0].value\" name=\"filters[0].value\"/></span>' +\n            '</label>' +\n            '<div class=\"k-action-buttons\">' +\n                '<button type=\"submit\" title=\"#=messages.filter#\" class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary\"><span class=\"k-button-text\">#=messages.filter#</span></button>' +\n                '<button type=\"reset\" title=\"#=messages.clear#\" class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base\"><span class=\"k-button-text\">#=messages.clear#</span></button>' +\n            '</div>' +\n        '</div>';\n\n    var defaultTemplate =\n        '<div class=\"k-filter-menu-container\">' +\n            '#if(componentType === \"classic\") {#' +\n                '<div class=\"k-filter-help-text\">#=messages.info#</div>' +\n            '#}#' +\n            '<select title=\"#=messages.operator#\" data-#=ns#bind=\"value: filters[0].operator\" data-#=ns#role=\"dropdownlist\">' +\n                '#for(var op in operators){#' +\n                    '<option value=\"#=op#\">#=operators[op]#</option>' +\n                '#}#' +\n            '</select>' +\n            '#if(values){#' +\n                '<select title=\"#=messages.value#\" data-#=ns#bind=\"value:filters[0].value\" data-#=ns#text-field=\"text\" data-#=ns#value-field=\"value\" data-#=ns#source=\\'#=kendo.stringify(values).replace(/\\'/g,\"&\\\\#39;\")#\\' data-#=ns#role=\"dropdownlist\" data-#=ns#option-label=\"#=messages.selectValue#\" data-#=ns#value-primitive=\"true\">' +\n                '</select>' +\n            '#}else{#' +\n                '<input title=\"#=messages.value#\" data-#=ns#bind=\"value:filters[0].value\" class=\"k-input-inner\" type=\"text\" #=role ? \"data-\" + ns + \"role=\\'\" + role + \"\\'\" : \"\"# />' +\n            '#}#' +\n            '#if(extra){#' +\n                '#if(componentType === \"modern\") {#' +\n                    '<ul data-#=ns#role=\"buttongroup\" data-bind=\"events: { select: onLogicChange }\">' +\n                        '<li data-#=ns#value=\"and\">And</li>' +\n                        '<li data-#=ns#value=\"or\">Or</li>' +\n                    '</ul>' +\n                '#} else {#' +\n                    '<select title=\"#=messages.logic#\" class=\"k-filter-and\" data-#=ns#bind=\"value: logic\" data-#=ns#role=\"dropdownlist\">' +\n                        '<option value=\"and\">#=messages.and#</option>' +\n                        '<option value=\"or\">#=messages.or#</option>' +\n                    '</select>' +\n                '#}#' +\n                '<select title=\"#=messages.additionalOperator#\" data-#=ns#bind=\"value: filters[1].operator\" data-#=ns#role=\"dropdownlist\">' +\n                    '#for(var op in operators){#' +\n                        '<option value=\"#=op#\">#=operators[op]#</option>' +\n                    '#}#' +\n                '</select>' +\n                '#if(values){#' +\n                    '<select title=\"#=messages.additionalValue#\" data-#=ns#bind=\"value:filters[1].value\" data-#=ns#text-field=\"text\" data-#=ns#value-field=\"value\" data-#=ns#source=\\'#=kendo.stringify(values).replace(/\\'/g,\"&\\\\#39;\")#\\' data-#=ns#role=\"dropdownlist\" data-#=ns#option-label=\"#=messages.selectValue#\" data-#=ns#value-primitive=\"true\">' +\n                    '</select>' +\n                '#}else{#' +\n                    '<input title=\"#=messages.additionalValue#\" data-#=ns#bind=\"value: filters[1].value\" class=\"k-input-inner\" type=\"text\" #=role ? \"data-\" + ns + \"role=\\'\" + role + \"\\'\" : \"\"#/>' +\n                '#}#' +\n            '#}#' +\n            '<div class=\"k-action-buttons\">' +\n                '<button type=\"submit\" title=\"#=messages.filter#\" class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary\"><span class=\"k-button-text\">#=messages.filter#</span></button>' +\n                '<button type=\"reset\" title=\"#=messages.clear#\" class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base\"><span class=\"k-button-text\">#=messages.clear#</span></button>' +\n            '</div>' +\n        '</div>';\n\n    var defaultMobileTemplate =\n        '<div data-#=ns#role=\"view\" class=\"k-grid-filter-menu\">' +\n            '<div data-#=ns#role=\"header\" class=\"k-header\">' +\n                '<a href=\"\\\\#\" class=\"k-header-cancel k-link\" title=\"#=messages.cancel#\" ' +\n                'aria-label=\"#=messages.cancel#\"><span class=\"k-icon k-i-arrow-chevron-left\"></span></a>' +\n                '#=messages.filter# #=messages.into# #=title#' +\n                '<a href=\"\\\\#\" class=\"k-header-done k-link\" title=\"#=messages.done#\" ' +\n                'aria-label=\"#=messages.done#\"><span class=\"k-icon k-i-check\"></span></a>' +\n            '</div>' +\n            '<form title=\"#=messages.title#\" class=\"k-filter-menu\">' +\n                '<ul class=\"k-reset\">' +\n                    '<li>' +\n                        '<span class=\"k-list-title k-filter-help-text\">#=messages.info#</span>' +\n                        '<ul class=\"k-listgroup k-listgroup-flush\">' +\n                            '<li class=\"k-item k-listgroup-item\">' +\n                                '<label class=\"k-listgroup-form-row k-label\">' +\n                                    '<span class=\"k-listgroup-form-field-label k-filter-operator-text\">#=messages.operator#</span>' +\n                                    '<span class=\"k-listgroup-form-field-wrapper\">' +\n                                        '<select id=\"operator_#=filterMenuGuid#\" title=\"#=messages.operator#\" class=\"k-filter-operator\" data-#=ns#bind=\"value: filters[0].operator\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\" >' +\n                                            '#for(var op in operators){#' +\n                                                '<option value=\"#=op#\">#=operators[op]#</option>' +\n                                            '#}#' +\n                                        '</select>' +\n                                    '</span>' +\n                                '</label>' +\n                            '</li>' +\n                            '<li class=\"k-item k-listgroup-item\">' +\n                                '<label class=\"k-listgroup-form-row k-label\">' +\n                                    '<span class=\"k-listgroup-form-field-label k-filter-input-text\">#=messages.value#</span>' +\n                                    '<span class=\"k-listgroup-form-field-wrapper\">' +\n                                        '#if(values){#' +\n                                            '<select id=\"value_#=filterMenuGuid#\" title=\"#=messages.value#\" data-#=ns#bind=\"value:filters[0].value\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\" >' +\n                                                '<option value=\"\">#=messages.selectValue#</option>' +\n                                                '#for(var val in values){#' +\n                                                    '<option value=\"#=values[val].value#\">#=values[val].text#</option>' +\n                                                '#}#' +\n                                            '</select>' +\n                                        '#}else{#' +\n                                            '<input id=\"value_#=filterMenuGuid#\" title=\"#=messages.value#\" data-#=ns#bind=\"value:filters[0].value\" class=\"k-value-input\" type=\"#=inputType#\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\" />' +\n                                        '#}#' +\n                                    '</span>' +\n                                '</label>' +\n                            '</li>' +\n                        '</ul>' +\n                        '#if(extra){#' +\n                        '<ul class=\"k-listgroup k-listgroup-flush\">' +\n                            '<li class=\"k-item k-listgroup-item\">' +\n                                '<label class=\"k-listgroup-form-row k-label\">' +\n                                    '<span class=\"k-listgroup-form-field-label k-filter-logic-and-text\">#=messages.and#</span>' +\n                                    '<span class=\"k-listgroup-form-field-wrapper\">' +\n                                        '<input id=\"and_#=filterMenuGuid#\" title=\"#=messages.and#\" type=\"radio\" name=\"logic\"data-#=ns#bind=\"checked: logic\" value=\"and\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\" />' +\n                                    '</span>' +\n                                '</label>' +\n                            '</li>' +\n                            '<li class=\"k-item k-listgroup-item\">' +\n                                '<label class=\"k-listgroup-form-row k-label\">' +\n                                    '<span class=\"k-listgroup-form-field-label k-filter-logic-or-text\">#=messages.or#</span>' +\n                                    '<span class=\"k-listgroup-form-field-wrapper\">' +\n                                        '<input id=\"or_#=filterMenuGuid#\" title=\"#=messages.or#\" type=\"radio\" name=\"logic\" data-#=ns#bind=\"checked: logic\" value=\"or\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\" />' +\n                                    '</span>' +\n                                '</label>' +\n                            '</li>' +\n                        '</ul>' +\n                        '<ul class=\"k-listgroup k-listgroup-flush\">' +\n                            '<li class=\"k-item k-listgroup-item\">' +\n                                '<label class=\"k-listgroup-form-row k-label\">' +\n                                    '<span class=\"k-listgroup-form-field-label k-filter-operator-text\">#=messages.additionalOperator#</span>' +\n                                    '<span class=\"k-listgroup-form-field-wrapper\">' +\n                                        '<select id=\"additionalOperator_#=filterMenuGuid#\" title=\"#=messages.additionalOperator#\" class=\"k-filter-operator\" data-#=ns#bind=\"value: filters[1].operator\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\" >' +\n                                            '#for(var op in operators){#' +\n                                                '<option value=\"#=op#\">#=operators[op]#</option>' +\n                                            '#}#' +\n                                        '</select>' +\n                                    '</span>' +\n                                '</label>' +\n                            '</li>' +\n                            '<li class=\"k-item k-listgroup-item\">' +\n                                '<label class=\"k-listgroup-form-row k-label\">' +\n                                    '<span class=\"k-listgroup-form-field-label k-filter-input-text\">#=messages.additionalValue#</span>' +\n                                    '<span class=\"k-listgroup-form-field-wrapper\">' +\n                                        '#if(values){#' +\n                                            '<select id=\"additionalValue_#=filterMenuGuid#\" title=\"#=messages.additionalValue#\" data-#=ns#bind=\"value:filters[1].value\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\" >' +\n                                                '<option value=\"\">#=messages.selectValue#</option>' +\n                                                '#for(var val in values){#' +\n                                                    '<option value=\"#=values[val].value#\">#=values[val].text#</option>' +\n                                                '#}#' +\n                                            '</select>' +\n                                        '#}else{#' +\n                                            '<input id=\"additionalValue_#=filterMenuGuid#\" title=\"#=messages.additionalValue#\" data-#=ns#bind=\"value:filters[1].value\" class=\"k-value-input\" type=\"#=inputType#\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\" />' +\n                                        '#}#' +\n                                    '</span>' +\n                                '</label>' +\n                            '</li>' +\n                        '</ul>' +\n                        '#}#' +\n                    '</li>' +\n                    '<li class=\"k-item k-clear-wrap\">' +\n                        '<span class=\"k-list-title\">&nbsp;</span>' +\n                        '<ul class=\"k-listgroup k-listgroup-flush\">' +\n                            '<li class=\"k-listgroup-item\">' +\n                                '<span class=\"k-link k-label k-clear\" title=\"#=messages.clear#\" aria-label=\"#=messages.clear#\">' +\n                                    '#=messages.clear#' +\n                                '</span>' +\n                            '</li>' +\n                        '</ul>' +\n                    '</li>' +\n                '</ul>' +\n            '</form>' +\n        '</div>';\n\n    var booleanMobileTemplate =\n        '<div data-#=ns#role=\"view\" class=\"k-grid-filter-menu\">' +\n            '<div data-#=ns#role=\"header\" class=\"k-header\">' +\n                '<a href=\"\\\\#\" class=\"k-header-cancel k-link\" title=\"#=messages.cancel#\" ' +\n                'aria-label=\"#=messages.cancel#\"><span class=\"k-icon k-i-arrow-chevron-left\"></span></a>' +\n                '#=messages.filter# #=messages.into# #=title#' +\n                '<a href=\"\\\\#\" class=\"k-header-done k-link\" title=\"#=messages.done#\" ' +\n                'aria-label=\"#=messages.done#\"><span class=\"k-icon k-i-check\"></span></a>' +\n            '</div>' +\n            '<form title=\"#=messages.title#\" class=\"k-filter-menu\">' +\n                '<ul class=\"k-reset\">' +\n                    '<li>' +\n                        '<span class=\"k-list-title k-filter-help-text\">#=messages.info#</span>' +\n                        '<ul class=\"k-listgroup k-listgroup-flush k-multicheck-bool-wrap\">' +\n                            '<li class=\"k-item k-listgroup-item\">' +\n                                '<label class=\"k-listgroup-form-row k-label\">' +\n                                    '<span class=\"k-listgroup-form-field-label k-item-title\">#=messages.isTrue#</span>' +\n                                    '<span class=\"k-listgroup-form-field-wrapper\"></span>' +\n                                        '<input id=\"true_#=filterMenuGuid#\" title=\"#=messages.isTrue#\" type=\"radio\" data-#=ns#bind=\"checked: filters[0].value\" value=\"true\" name=\"filters[0].value\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\" />' +\n                                    '</span>' +\n                                '</label>' +\n                            '</li>' +\n                            '<li class=\"k-item k-listgroup-item\">' +\n                                '<label class=\"k-listgroup-form-row k-label\">' +\n                                    '<span for=\"false_#=filterMenuGuid#\" class=\"k-listgroup-form-field-label k-item-title\">#=messages.isFalse#</span>' +\n                                    '<span class=\"k-listgroup-form-field-wrapper\">' +\n                                        '<input id=\"false_#=filterMenuGuid#\" title=\"#=messages.isFalse#\" type=\"radio\" data-#=ns#bind=\"checked: filters[0].value\" value=\"false\" name=\"filters[0].value\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\" />' +\n                                    '</span>' +\n                                '</label>' +\n                            '</li>' +\n                        '</ul>' +\n                    '</li>' +\n                    '<li class=\"k-item k-clear-wrap\">' +\n                        '<span class=\"k-list-title\">&nbsp;</span>' +\n                        '<ul class=\"k-listgroup k-listgroup-flush\">' +\n                            '<li class=\"k-listgroup-item\">' +\n                                '<span class=\"k-link k-label k-clear\" title=\"#=messages.clear#\" aria-label=\"#=messages.clear#\">' +\n                                    '#=messages.clear#' +\n                                '</span>' +\n                            '</li>' +\n                        '</ul>' +\n                    '</li>' +\n                '</ul>' +\n            '</form>' +\n        '</div>';\n\n    function removeFiltersForField(expression, field) {\n        if (expression.filters) {\n            expression.filters = $.grep(expression.filters, function(filter) {\n                removeFiltersForField(filter, field);\n                if (filter.filters) {\n                    return filter.filters.length;\n                } else {\n                    return filter.field != field;\n                }\n            });\n        }\n    }\n\n    function convertItems(items) {\n        var idx,\n            length,\n            item,\n            value,\n            text,\n            result;\n\n        if (items && items.length) {\n            result = [];\n            for (idx = 0, length = items.length; idx < length; idx++) {\n                item = items[idx];\n                text = item.text !== \"\" ? item.text || item.value || item : item.text;\n                value = item.value == null ? (item.text || item) : item.value;\n\n                result[idx] = { text: text, value: value };\n            }\n        }\n        return result;\n    }\n\n\n    function clearFilter(filters, field) {\n        return $.grep(filters, function(expr) {\n            if (expr.filters) {\n                expr.filters = $.grep(expr.filters, function(nested) {\n                    return nested.field != field;\n                });\n\n                return expr.filters.length;\n            }\n            return expr.field != field;\n        });\n    }\n\n    var FilterMenu = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                type = \"string\",\n                operators,\n                initial,\n                field,\n                columnHeader;\n\n            options = options || {};\n            options.componentType = options.componentType || \"classic\";\n            Widget.fn.init.call(that, element, options);\n\n            operators = that.operators = options.operators || {};\n\n            element = that.element;\n            options = that.options;\n\n            that.dataSource = DataSource.create(options.dataSource);\n\n            that.field = options.field || element.attr(kendo.attr(\"field\"));\n\n            columnHeader = $(element.closest(COLUMNHEADERATTR));\n            if (columnHeader.length) {\n                that.appendTo = columnHeader.find(options.appendTo);\n            } else {\n                that.appendTo = $(options.appendTo);\n            }\n\n            that.link = that._createLink() || $();\n\n            that.model = that.dataSource.reader.model;\n\n            that._parse = function(value) {\n                 return value != null ? (value + \"\") : value;\n            };\n\n            if (that.model && that.model.fields) {\n                field = that.model.fields[that.field];\n\n                if (field) {\n                    type = field.type || \"string\";\n                    if (field.parse) {\n                        that._parse = field.parse.bind(field);\n                    }\n                }\n            }\n\n            if (options.values) {\n                type = \"enums\";\n            }\n\n            that.type = type;\n\n            operators = operators[type] || options.operators[type];\n\n            for (initial in operators) { // get the first operator\n                break;\n            }\n\n            that._defaultFilter = function() {\n                return { field: that.field, operator: initial || \"eq\", value: \"\" };\n            };\n\n            that._refreshHandler = that.refresh.bind(that);\n\n            that.dataSource.bind(CHANGE, that._refreshHandler);\n\n            if (options.appendToElement) { // force creation if used in column menu\n                that._init();\n            } else {\n                that.refresh(); //refresh if DataSource is fitered before menu is created\n            }\n        },\n\n        _init: function() {\n            var that = this,\n                ui = that.options.ui,\n                setUI = isFunction(ui),\n                attrRole = kendo.attr(\"role\"),\n                role;\n\n            that.pane = that.options.pane;\n            if (that.pane) {\n                that._isMobile = true;\n            }\n\n            if (!setUI) {\n                role = ui || roles[that.type];\n            }\n\n            if (that._isMobile) {\n                that._createMobileForm(role);\n            } else {\n                that._createForm(role);\n            }\n\n            that.form\n                .on(\"submit\" + NS, that._submit.bind(that))\n                .on(\"reset\" + NS, that._reset.bind(that));\n\n            if (setUI) {\n                that.form.find(\".k-input-inner\")\n                    .removeClass(\"k-input-inner\")\n                    .each(function() {\n                        ui($(this));\n                    });\n            } else {\n                that.form\n                    .find(\".k-input-inner[\" + attrRole + \"]\")\n                    .removeClass(\"k-input-inner\");\n\n                that.form\n                    .find(\".k-input-inner:not([data-role]):not(.k-numerictextbox>.k-input-inner)\")\n                    .wrap(\"<span class='k-textbox k-input k-input-md k-rounded-md k-input-solid'></span>\");\n            }\n\n            that.refresh();\n\n            that.trigger(INIT, { field: that.field, container: that.form });\n\n            if (that.options.cycleForm) {\n                kendo.cycleForm(that.form);\n            }\n        },\n\n        _createForm: function(role) {\n            var that = this,\n                options = that.options,\n                operators = that.operators || {},\n                type = that.type;\n\n            operators = operators[type] || options.operators[type];\n\n            that.form = $('<form title=\"' + that.options.messages.title + '\" class=\"k-filter-menu\"/>')\n                .html(kendo.template(that._getTemplate())({\n                    field: that.field,\n                    format: options.format,\n                    ns: kendo.ns,\n                    messages: options.messages,\n                    extra: options.extra,\n                    operators: operators,\n                    type: type,\n                    role: role,\n                    values: convertItems(options.values),\n                    componentType: that.options.componentType\n                }));\n\n            if (!options.appendToElement) {\n                that.popup = that.form[POPUP]({\n                    anchor: that.link,\n                    copyAnchorStyles: false,\n                    open: that._open.bind(that),\n                    activate: that._activate.bind(that),\n                    close: function() {\n                        if (that.options.closeCallback) {\n                            that.options.closeCallback(that.element);\n                        }\n                    }\n                }).data(POPUP);\n            } else {\n                that.element.append(that.form);\n                that.popup = that.element.closest(\".k-popup\").data(POPUP);\n            }\n\n            that.form\n                .on(\"keydown\" + NS, that._keydown.bind(that));\n        },\n\n        _getTemplate: function() {\n            var that = this,\n                hasCustomTemplate = isFunction(that.options.ui);\n\n            if (that.type === 'boolean') {\n                if (hasCustomTemplate) {\n                    return customBooleanTemplate;\n                } else if (that.options.componentType === 'modern') {\n                    return modernBooleanTemplate;\n                } else {\n                    return booleanTemplate;\n                }\n            } else {\n                return defaultTemplate;\n            }\n        },\n\n        _createMobileForm: function(role) {\n            var that = this,\n                options = that.options,\n                operators = that.operators || {},\n                filterMenuGuid = kendo.guid(),\n                type = that.type;\n\n            operators = operators[type] || options.operators[type];\n\n            that.form = $(\"<div />\")\n                .html(kendo.template(type === \"boolean\" ? booleanMobileTemplate : defaultMobileTemplate)({\n                    field: that.field,\n                    title: options.title || that.field,\n                    format: options.format,\n                    ns: kendo.ns,\n                    messages: options.messages,\n                    extra: options.extra,\n                    operators: operators,\n                    filterMenuGuid: filterMenuGuid,\n                    type: type,\n                    role: role,\n                    inputType: mobileRoles[type],\n                    values: convertItems(options.values)\n                }));\n\n            that.view = that.pane.append(that.form.html());\n            that.form = that.view.element.find(\"form\");\n\n            that.view.element\n                .on(\"click\", \".k-header-done\", function(e) {\n                    that.form.submit();\n                    e.preventDefault();\n                })\n                .on(\"click\", \".k-header-cancel\", function(e) {\n                    that._closeForm();\n                    e.preventDefault();\n                })\n                .on(\"click\", \".k-clear\", function(e) {\n                    that._mobileClear();\n                    e.preventDefault();\n                });\n\n            that.view.bind(\"showStart\", function() {\n                that.refresh();\n            });\n        },\n\n        _createLink: function() {\n            var that = this,\n                element = that.element,\n                appendTarget = that.appendTo.length ? element.find(that.appendTo) : element,\n                options = that.options,\n                title = kendo.format(options.messages.buttonTitle, that.options.title || that.field),\n                link;\n\n            if (options.appendToElement) {\n                return;\n            }\n\n            link = element.addClass(\"k-filterable\").find(\".k-grid-filter\");\n\n            if (!link[0]) {\n                link = appendTarget\n                    .append('<a class=\"k-grid-filter-menu k-grid-filter\" href=\"#\" title=\"' +\n                        title + '\" aria-label=\"' +\n                        title + '\"><span class=\"k-icon k-i-filter\"></span></a>')\n                    .find(\".k-grid-filter\");\n            }\n\n            link.attr(\"tabindex\", -1)\n                .on(\"click\" + NS, that._click.bind(that));\n\n            return link;\n        },\n\n        refresh: function() {\n            var that = this,\n                expression = that.dataSource.filter() || { filters: [], logic: \"and\" };\n\n            var defaultFilters = [ that._defaultFilter() ];\n            var defaultOperator = that._defaultFilter().operator;\n            if (that.options.extra || (defaultOperator !== \"isnull\" && defaultOperator !== \"isnullorempty\" && defaultOperator !== \"isnotnullorempty\" && defaultOperator !== \"isnotnull\" && defaultOperator !== \"isempty\" && defaultOperator !== \"isnotempty\")) {\n                defaultFilters.push(that._defaultFilter());\n            }\n\n            that.filterModel = kendo.observable({\n                logic: \"and\",\n                filters: defaultFilters\n            });\n\n            if (that.form) {\n                //NOTE: binding the form element directly causes weird error in IE when grid is bound through MVVM and column is sorted\n                kendo.bind(that.form.children().first(), that.filterModel);\n\n                if (that.options.componentType === \"modern\" && that.options.extra && that.type !== \"boolean\" && !that._isMobile) {\n                    that.filterModel.bind(\"change\", function() {\n                        var roleAttribute = kendo.attr(\"role\");\n                        var buttongroup = that.form.find(\"[\" + roleAttribute + \"='buttongroup']\").data('kendoButtonGroup');\n                        var index = this.logic === \"and\" ? 0 : 1;\n\n                        buttongroup.select(buttongroup.element.children().eq(index));\n                    });\n                    that.filterModel.set(\"onLogicChange\",that._logicChangeHandler);\n                }\n            }\n\n            if (that._bind(expression)) {\n                that.link.addClass(\"k-active\");\n            } else {\n                that.link.removeClass(\"k-active\");\n            }\n        },\n\n        _logicChangeHandler: function(e) {\n            var valueAttribute = kendo.attr('value');\n            var logic = e.sender.current().attr(valueAttribute);\n\n            this.set('logic', logic);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            if (that.form) {\n                kendo.unbind(that.form);\n                kendo.destroy(that.form);\n                that.form.off(NS);\n                if (that.popup) {\n                    that.popup.destroy();\n                    that.popup = null;\n                }\n                that.form = null;\n            }\n\n            if (that.view) {\n                that.view.purge();\n                that.view = null;\n            }\n\n            that.link.off(NS);\n\n            if (that._refreshHandler) {\n                that.dataSource.unbind(CHANGE, that._refreshHandler);\n                that.dataSource = null;\n            }\n\n            that.element = that.link = that._refreshHandler = that.filterModel = null;\n        },\n\n        _bind: function(expression) {\n            var that = this,\n                filters = expression.filters,\n                idx,\n                length,\n                found = false,\n                current = 0,\n                filterModel = that.filterModel,\n                currentFilter,\n                filter;\n\n            for (idx = 0, length = filters.length; idx < length; idx++) {\n                filter = filters[idx];\n                if (filter.field == that.field) {\n                    filterModel.set(\"logic\", expression.logic);\n\n                    currentFilter = filterModel.filters[current];\n                    if (!currentFilter) {\n                        filterModel.filters.push({ field: that.field });\n                        currentFilter = filterModel.filters[current];\n                    }\n                    currentFilter.set(\"value\", that._parse(filter.value));\n                    currentFilter.set(\"operator\", filter.operator);\n\n                    current++;\n                    found = true;\n                } else if (filter.filters) {\n                    found = found || that._bind(filter);\n                }\n            }\n\n            return found;\n        },\n\n        _stripFilters: function(filters) {\n           return $.grep(filters, function(filter) {\n               return (filter.value !== \"\" && filter.value != null) ||\n               (filter.operator === \"isnull\" || filter.operator === \"isnotnull\" ||\n                   filter.operator === \"isempty\" || filter.operator === \"isnotempty\" ||\n                   filter.operator == \"isnullorempty\" || filter.operator == \"isnotnullorempty\");\n            });\n        },\n\n        _merge: function(expression) {\n            var that = this,\n                logic = expression.logic || \"and\",\n                filters = this._stripFilters(expression.filters),\n                filter,\n                result = that.dataSource.filter() || { filters: [], logic: \"and\" },\n                idx,\n                length;\n\n            removeFiltersForField(result, that.field);\n\n            for (idx = 0, length = filters.length; idx < length; idx++) {\n                filter = filters[idx];\n                filter.value = that._parse(filter.value);\n            }\n\n            if (filters.length) {\n                if (result.filters.length) {\n                    expression.filters = filters;\n\n                    if (result.logic !== \"and\") {\n                        result.filters = [ { logic: result.logic, filters: result.filters }];\n                        result.logic = \"and\";\n                    }\n\n                    if (filters.length > 1) {\n                        result.filters.push(expression);\n                    } else {\n                        result.filters.push(filters[0]);\n                    }\n                } else {\n                    result.filters = filters;\n                    result.logic = logic;\n                }\n            }\n\n            return result;\n        },\n\n        filter: function(expression) {\n            var filters = this._stripFilters(expression.filters);\n            if (filters.length && this.trigger(\"change\", {\n                    filter: { logic: expression.logic, filters: filters },\n                    field: this.field\n                })) {\n\n                return;\n            }\n\n            expression = this._merge(expression);\n\n            if (expression.filters.length) {\n                this.dataSource.filter(expression);\n            }\n        },\n\n        clear: function(expression) {\n            var that = this;\n            expression = expression || $.extend(true, {}, { filters: [] }, that.dataSource.filter()) || { filters: [] };\n\n            if (this.trigger(\"change\", { filter: null, field: that.field })) {\n                return;\n            }\n\n            that._removeFilter(expression);\n        },\n\n        _mobileClear: function() {\n            var that = this;\n            var viewElement = that.view.element;\n\n            if (that.type === \"boolean\") {\n                var booleanRadioButton = viewElement.find(\"[type='radio']:checked\");\n                var booleanRadioButtonValue = booleanRadioButton.val();\n\n                booleanRadioButton.val(\"\");\n                booleanRadioButton.trigger(\"change\");\n                booleanRadioButton.val(booleanRadioButtonValue);\n                booleanRadioButton.prop(\"checked\", false);\n            } else {\n                var operatorSelects = viewElement.find(\"select\");\n\n                operatorSelects.each(function(i, e) {\n                    var input = $(e);\n\n                    input.val(input.find(\"option\").first().val());\n                    input.trigger(\"change\");\n                });\n\n                if (that.type === \"string\" || that.type === \"date\" || that.type === \"number\") {\n                    var valueInputs = viewElement.find(\".k-value-input\");\n\n                    valueInputs.each(function(i, e) {\n                        var input = $(e);\n\n                        input.val(\"\");\n                        input.trigger(\"change\");\n                    });\n                }\n\n                if (that.options.extra) {\n                    var andLogicRadio = viewElement.find(\"[name=logic]\").first();\n\n                    andLogicRadio.prop(\"checked\", true);\n                    andLogicRadio.trigger(\"change\");\n                }\n            }\n        },\n\n        _removeFilter: function(expression) {\n            var that = this;\n            expression.filters = $.grep(expression.filters, function(filter) {\n                if (filter.filters) {\n                    filter.filters = clearFilter(filter.filters, that.field);\n\n                    return filter.filters.length;\n                }\n\n                return filter.field != that.field;\n            });\n\n            if (!expression.filters.length) {\n                expression = null;\n            }\n\n            that.dataSource.filter(expression);\n        },\n\n        _submit: function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            var expression = this.filterModel.toJSON();\n            var containsFilters = $.grep(expression.filters, function(filter) {\n                return filter.value !== \"\" && filter.value !== null;\n            });\n\n            if (this._checkForNullOrEmptyFilter(expression) || (containsFilters && containsFilters.length)) {\n                this.filter(expression);\n            } else {\n                var currentExpression = this.dataSource.filter();\n\n                if (currentExpression) {\n                    currentExpression.filters.push(expression);\n                    expression = currentExpression;\n                }\n                this.clear(expression);\n            }\n\n            this._closeForm();\n        },\n\n        _checkForNullOrEmptyFilter: function(expression) {\n            if (!expression || !expression.filters || !expression.filters.length) {\n                return false;\n            }\n            var firstNullOrEmpty = false;\n            var secondNullOrEmpty = false;\n            var operator;\n\n            if (expression.filters[0]) {\n                operator = expression.filters[0].operator;\n                firstNullOrEmpty = operator == \"isnull\" || operator == \"isnotnull\" || operator == \"isnotempty\" ||\n                    operator == \"isempty\" || operator == \"isnullorempty\" || operator == \"isnotnullorempty\";\n            }\n            if (expression.filters[1]) {\n                operator = expression.filters[1].operator;\n                secondNullOrEmpty = operator == \"isnull\" || operator == \"isnotnull\" || operator == \"isnotempty\" ||\n                    operator == \"isempty\" || operator == \"isnullorempty\" || operator == \"isnotnullorempty\";\n            }\n\n            return (!this.options.extra && firstNullOrEmpty) || (this.options.extra && (firstNullOrEmpty || secondNullOrEmpty));\n        },\n\n        _reset: function() {\n            this.clear();\n\n            if (this.options.search && this.container) {\n                this.container.find(\"label\").parent().show();\n            }\n            this._closeForm();\n        },\n\n        _closeForm: function() {\n            if (this._isMobile) {\n                this.pane.navigate(\"\", this.options.animations.right);\n            } else {\n                this.popup.close();\n            }\n        },\n\n        _click: function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            if (!this.popup && !this.pane) {\n                this._init();\n            }\n\n            if (this._isMobile) {\n                this.pane.navigate(this.view, this.options.animations.left);\n            } else {\n                this.popup.toggle();\n            }\n        },\n\n        _open: function() {\n            var popup;\n\n            $(\".k-filter-menu\").not(this.form).each(function() {\n                popup = $(this).data(POPUP);\n                if (popup) {\n                    popup.close();\n                }\n            });\n        },\n\n        _activate: function() {\n            this.form.find(\":kendoFocusable\").first().trigger(\"focus\");\n\n            this.trigger(OPEN, { field: this.field, container: this.form });\n        },\n\n        _keydown: function(e) {\n            var target = $(e.target),\n                instance;\n\n            if (e.keyCode == kendo.keys.ESC) {\n                instance = kendo.widgetInstance(target.find(\"select\"));\n\n                if (target.hasClass(\"k-picker\") &&\n                    instance &&\n                    instance.popup.visible()) {\n                        e.stopPropagation();\n                        return;\n                }\n\n                target.closest(\".k-popup\").getKendoPopup().close();\n            }\n        },\n\n        events: [ INIT, \"change\", OPEN ],\n\n        options: {\n            name: \"FilterMenu\",\n            extra: true,\n            appendToElement: false,\n            type: \"string\",\n            operators: {\n                string: {\n                    eq: EQ,\n                    neq: NEQ,\n                    startswith: \"Starts with\",\n                    contains: \"Contains\",\n                    doesnotcontain: \"Does not contain\",\n                    endswith: \"Ends with\",\n                    isnull: \"Is null\",\n                    isnotnull: \"Is not null\",\n                    isempty: \"Is empty\",\n                    isnotempty: \"Is not empty\",\n                    isnullorempty: \"Has no value\",\n                    isnotnullorempty: \"Has value\"\n                },\n                number: {\n                    eq: EQ,\n                    neq: NEQ,\n                    gte: \"Is greater than or equal to\",\n                    gt: \"Is greater than\",\n                    lte: \"Is less than or equal to\",\n                    lt: \"Is less than\",\n                    isnull: \"Is null\",\n                    isnotnull: \"Is not null\"\n                },\n                date: {\n                    eq: EQ,\n                    neq: NEQ,\n                    gte: \"Is after or equal to\",\n                    gt: \"Is after\",\n                    lte: \"Is before or equal to\",\n                    lt: \"Is before\",\n                    isnull: \"Is null\",\n                    isnotnull: \"Is not null\"\n                },\n                enums: {\n                    eq: EQ,\n                    neq: NEQ,\n                    isnull: \"Is null\",\n                    isnotnull: \"Is not null\"\n                }\n            },\n            messages: {\n                info: \"Show items with value that:\",\n                title: \"Show items with value that:\",\n                isTrue: \"is true\",\n                isFalse: \"is false\",\n                filter: \"Filter\",\n                clear: \"Clear\",\n                and: \"And\",\n                or: \"Or\",\n                selectValue: \"-Select value-\",\n                operator: \"Operator\",\n                value: \"Value\",\n                additionalValue: \"Additional value\",\n                additionalOperator: \"Additional operator\",\n                logic: \"Filters logic\",\n                cancel: \"Cancel\",\n                done: \"Done\",\n                into: \"in\",\n                buttonTitle: \"{0} filter column settings\"\n            },\n            animations: {\n                left: \"slide\",\n                right: \"slide:right\"\n            },\n            componentType: 'classic',\n            cycleForm: true,\n            appendTo: null\n        }\n    });\n\n    var multiCheckNS = \".kendoFilterMultiCheck\";\n\n    function filterValuesForField(expression, field) {\n\n        if (expression.filters) {\n            expression.filters = $.grep(expression.filters, function(filter) {\n                filterValuesForField(filter, field);\n                if (filter.filters) {\n                    return filter.filters.length;\n                } else {\n                    return filter.field == field && filter.operator == \"eq\";\n                }\n            });\n        }\n    }\n\n    function flatFilterValues(expression) {\n        if (expression.logic == \"and\" && expression.filters.length > 1) {\n            return [];\n        }\n        if (expression.filters) {\n            return $.map(expression.filters, function(filter) {\n                return flatFilterValues(filter);\n            });\n        } else if (expression.value !== undefined) {\n            return [expression.value];\n        } else {\n            return [];\n        }\n    }\n\n    function distinct(items, field) {\n        var getter = kendo.getter(field, true),\n            result = [],\n            index = 0,\n            seen = {};\n\n        while (index < items.length) {\n            var item = items[index++],\n                text = getter(item);\n\n            if (text !== undefined && !seen.hasOwnProperty(text)) {\n                result.push(item);\n                seen[text] = true;\n            }\n        }\n\n        return result;\n    }\n\n    function removeDuplicates(dataSelector, dataTextField) {\n\n        return function(e) {\n            var items = dataSelector(e);\n\n            return distinct(items, dataTextField);\n        };\n    }\n\n    var DataSource = kendo.data.DataSource;\n\n    var multiCkeckMobileTemplate =\n        '<div data-#=ns#role=\"view\" class=\"k-grid-filter-menu\">' +\n            '<div data-#=ns#role=\"header\" class=\"k-header\">' +\n                '<a href=\"\\\\#\" class=\"k-header-cancel k-link\" title=\"#=messages.cancel#\" ' +\n                'aria-label=\"#=messages.cancel#\"><span class=\"k-icon k-i-arrow-chevron-left\"></span></a>' +\n                '#=messages.filter# #=messages.into# #=title#' +\n                '<a href=\"\\\\#\" class=\"k-header-done k-link\" title=\"#=messages.done#\" ' +\n                'aria-label=\"#=messages.done#\"><span class=\"k-icon k-i-check\"></span></a>' +\n            '</div>' +\n            '<form class=\"k-filter-menu\">' +\n                '<ul class=\"k-reset\">' +\n                    '#if(search){#' +\n                        '<li class=\"k-space-right\">' +\n                            '<span class=\"k-searchbox k-textbox k-input k-input-md k-rounded-md k-input-solid\">' +\n                                '<input class=\"k-input-inner\" placeholder=\"#=messages.search#\" title=\"#=messages.search#\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\"  />' +\n                                '<span class=\"k-input-suffix\"><span class=\"k-icon k-i-zoom\"></span>' +\n                            '</span>' +\n                        '</li>' +\n                    '#}#' +\n                    '<li class=\"k-filter-tools\">' +\n                        '<span style=\"#=checkAll ? \"\" : \"visibility: hidden;\" #\" class=\"k-label k-select-all\" title=\"#=messages.checkAll#\" ' +\n                        'aria-label=\"#=messages.checkAll#\">#=messages.checkAll#</span>' +\n                        '<span class=\"k-label k-clear-all\" title=\"#=messages.clearAll#\" ' +\n                        'aria-label=\"#=messages.clearAll#\">#=messages.clearAll#</span>' +\n                    '</li>' +\n                    '#if(messages.selectedItemsFormat){#' +\n                        '<li>' +\n                            '<div class=\"k-filter-selected-items\"></div>' +\n                        '</li>' +\n                    '#}#' +\n                    '<li>' +\n                        '<ul class=\"k-multicheck-wrap k-listgroup k-listgroup-flush\"></ul>' +\n                    '</li>' +\n                '</ul>' +\n            '</form>' +\n        '</div>';\n\n    var FilterMultiCheck = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n            options = this.options;\n            this.element = $(element);\n            var columnHeader;\n            var field = this.field = this.options.field || this.element.attr(kendo.attr(\"field\"));\n            var checkSource = options.checkSource;\n            if (this._foreignKeyValues()) {\n                this.checkSource = DataSource.create(options.values);\n                this.checkSource.fetch();\n            } else if (options.forceUnique) {\n                checkSource = $.extend(true, {}, options.dataSource.options);\n                delete checkSource.pageSize;\n\n                this.checkSource = DataSource.create(checkSource);\n                this.checkSource.reader.data = removeDuplicates(this.checkSource.reader.data, this.field);\n            } else {\n                this.checkSource = DataSource.create(checkSource);\n            }\n\n            this.dataSource = options.dataSource;\n            this.model = this.dataSource.reader.model;\n\n            this._parse = function(value) {\n                 return value + \"\";\n            };\n\n            if (this.model && this.model.fields) {\n                field = this.model.fields[this.field];\n\n                if (field) {\n                    if (field.type == \"number\") {\n                        this._parse = function(value) {\n                            if (typeof value === \"string\" && (value.toLowerCase() === \"null\" || this._foreignKeyValues() && value === \"\")) {\n                                return null;\n                            }\n                            return parseFloat(value);\n                        };\n                    } else if (field.parse) {\n                        this._parse = field.parse.bind(field);\n                    }\n                    this.type = field.type || \"string\";\n                }\n            }\n\n            columnHeader = $(element.closest(COLUMNHEADERATTR));\n            if (columnHeader.length) {\n                this.appendTo = columnHeader.find(options.appendTo);\n            } else {\n                this.appendTo = $(options.appendTo);\n            }\n\n            if (!options.appendToElement) {\n                this._createLink();\n            } else {\n                this._init();\n            }\n\n            this._refreshHandler = this.refresh.bind(this);\n            this.dataSource.bind(CHANGE, this._refreshHandler);\n\n        },\n        _createLink: function() {\n            var element = this.element;\n            var appendTarget = this.appendTo.length ? element.find(this.appendTo) : element;\n            var link = element.addClass(\"k-filterable\").find(\".k-grid-filter\");\n            var title = kendo.format(this.options.messages.buttonTitle, this.options.title || this.field);\n\n            if (!link[0]) {\n                link = appendTarget\n                    .append('<a class=\"k-grid-filter-menu k-grid-filter\" href=\"#\" title=\"' +\n                        title + '\" aria-label=\"' +\n                        title + '\"><span class=\"k-icon k-i-filter\"></span></a>')\n                    .find(\".k-grid-filter\");\n            }\n\n            this._link = link.attr(\"tabindex\", -1)\n                .on(\"click\" + NS, this._click.bind(this));\n        },\n        _init: function() {\n            var that = this;\n            var forceUnique = this.options.forceUnique;\n\n            var options = this.options;\n            this.pane = options.pane;\n\n            if (this.pane) {\n                this._isMobile = true;\n            }\n\n            this._createForm();\n\n            if (this._foreignKeyValues()) {\n                this.refresh();\n            } else if (forceUnique && !this.checkSource.options.serverPaging && this.dataSource.data().length) {\n                this.checkSource.data(distinct(this.dataSource.data(),this.field));\n                this.refresh();\n            } else {\n                this._attachProgress();\n\n                this.checkSource.fetch(function() {\n                    that.refresh.call(that);\n                });\n            }\n\n            if (!this.options.forceUnique) {\n                this.checkChangeHandler = function() {\n                    that.container.empty();\n                    that.refresh();\n                };\n                this.checkSource.bind(CHANGE, this.checkChangeHandler);\n            }\n\n            this.form.on(\"keydown\" + multiCheckNS, this._keydown.bind(this))\n                        .on(\"submit\" + multiCheckNS, this._filter.bind(this))\n                        .on(\"reset\" + multiCheckNS, this._reset.bind(this));\n\n            this.trigger(INIT, { field: this.field, container: this.form });\n        },\n\n        _attachProgress: function() {\n            var that = this;\n\n            this._progressHandler = function() {\n                ui.progress(that.container, true);\n            };\n\n            this._progressHideHandler = function() {\n                ui.progress(that.container, false);\n            };\n\n            this.checkSource\n                .bind(\"progress\", this._progressHandler)\n                .bind(\"change\", this._progressHideHandler);\n        },\n\n        _input: function() {\n            var that = this;\n            that._clearTypingTimeout();\n            that._typingTimeout = setTimeout(function() { that.search(); }, 100);\n        },\n\n        _clearSearch: function() {\n            var that = this;\n            that.searchTextBox.val(\"\");\n            that.search();\n        },\n\n        _clearTypingTimeout: function() {\n            if (this._typingTimeout) {\n                clearTimeout(this._typingTimeout);\n                this._typingTimeout = null;\n            }\n        },\n\n        search: function() {\n            var ignoreCase = this.options.ignoreCase;\n            var searchString = this.searchTextBox[0].value;\n            var labels = this.container.find(\"label\");\n\n            if (ignoreCase) {\n                searchString = searchString.toLowerCase();\n            }\n            var i = 0;\n            if (this.options.checkAll && labels.length)\n            {\n                if (!this._isMobile) {\n                    labels[0].parentNode.style.display = searchString ? \"none\" : \"\";\n                    i++;\n                } else {\n                    this.view.element.find(\".k-select-all\")[0].style.visibility = searchString ? \"hidden\" : \"\";\n                }\n            }\n\n            while (i < labels.length) {\n                var label = labels[i];\n                var labelText = label.textContent || label.innerText;\n                if (ignoreCase) {\n                    labelText = labelText.toLowerCase();\n                }\n                label.parentNode.style.display = labelText.indexOf(searchString) >= 0 ? \"\" : \"none\";\n                i++;\n            }\n        },\n        _activate: function() {\n            this.form.find(\":kendoFocusable\").first().trigger(\"focus\");\n\n            this.trigger(OPEN, { field: this.field, container: this.form });\n        },\n        _createForm: function() {\n            var options = this.options;\n            var html = \"\";\n            var that = this;\n\n            if (!this._isMobile) {\n                html += \"<div class='k-filter-menu-container'>\";\n                if (options.search) {\n                    html += \"<span class='k-searchbox k-textbox k-input k-input-md k-rounded-md k-input-solid'>\" +\n                                \"<span class='k-input-icon k-icon k-i-search'></span>\" +\n                                \"<input class='k-input-inner' type='text' placeholder='\" + options.messages.search + \"' />\" +\n                                \"<span class='k-input-suffix'>\" +\n                                    \"<span class='k-clear-value'><span class='k-icon k-i-x'></span></span>\" +\n                                \"</span>\" +\n                            \"</span>\";\n                }\n                html += \"<ul class='k-reset k-multicheck-wrap'></ul>\";\n                if (options.messages.selectedItemsFormat) {\n                    html += \"<div class='k-filter-selected-items'>\" + kendo.format(options.messages.selectedItemsFormat, 0) + \"</div>\";\n                }\n                html += \"<div class='k-action-buttons'>\";\n                html += \"<button type='submit' class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary'><span class='k-button-text'>\" + options.messages.filter + \"</span></button>\";\n                html += \"<button type='reset' class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base'><span class='k-button-text'>\" + options.messages.clear + \"</span></button>\";\n                html += \"</div>\";\n                html += \"</div>\";\n\n                this.form = $('<form class=\"k-filter-menu\"/>').html(html);\n                this.container = this.form.find(\".k-multicheck-wrap\");\n            }\n            if (this._isMobile) {\n                that.form = $(\"<div />\")\n                    .html(kendo.template(multiCkeckMobileTemplate)({\n                        field: that.field,\n                        title: options.title || that.field,\n                        ns: kendo.ns,\n                        messages: options.messages,\n                        search: options.search,\n                        checkAll: options.checkAll\n                    }));\n\n                that.view = that.pane.append(that.form.html());\n                that.form = that.view.element.find(\"form\");\n                var element = this.view.element;\n                this.container = element.find(\".k-multicheck-wrap\");\n\n                element\n                    .on(\"click\", \".k-header-done\", function(e) {\n                        that.form.submit();\n                        e.preventDefault();\n                    })\n                    .on(\"click\", \".k-header-cancel\", function(e) {\n                        that._closeForm();\n                        e.preventDefault();\n                    })\n                    .on(\"click\", \".k-clear-all\", function(e) {\n                        that._mobileCheckAll(false);\n                        e.preventDefault();\n                    })\n                    .on(\"click\", \".k-select-all\", function(e) {\n                        that._mobileCheckAll(true);\n                        e.preventDefault();\n                    });\n\n                that.view.bind(\"showStart\", function() {\n                    that.refresh();\n                });\n            } else {\n                if (!options.appendToElement) {\n                    that.popup = that.form.kendoPopup({\n                        anchor: that._link,\n                        copyAnchorStyles: false,\n                        open: that._open.bind(that),\n                        activate: that._activate.bind(that),\n                        close: function() {\n                            if (that.options.closeCallback) {\n                                that.options.closeCallback(that.element);\n                            }\n                        }\n                    }).data(POPUP);\n                } else {\n                    this.popup = this.element.closest(\".k-popup\").data(POPUP);\n                    this.element.append(this.form);\n                }\n            }\n\n            if (options.search) {\n                this.searchTextBox = this.form.find(\".k-searchbox input\");\n                this.searchTextBox.on(\"input\" + multiCheckNS, this._input.bind(this));\n                this.clearSearchButton = this.form.find(\".k-searchbox .k-clear-value\");\n                this.clearSearchButton.on(\"click\" + multiCheckNS, this._clearSearch.bind(this));\n            }\n        },\n        _open: function() {\n            var popup;\n\n            $(\".k-filter-menu\").not(this.form).each(function() {\n                popup = $(this).data(POPUP);\n                if (popup) {\n                    popup.close();\n                }\n            });\n        },\n        createCheckAllItem: function() {\n            var options = this.options;\n            var template = kendo.template(options.itemTemplate({ field: \"all\", mobile: this._isMobile }));\n            var checkAllContainer = $(template({ all: options.messages.checkAll }));\n            this.container.prepend(checkAllContainer);\n\n            checkAllContainer.addClass(\"k-check-all-wrap\");\n            this.checkBoxAll = checkAllContainer.find(\":checkbox\").eq(0).addClass(\"k-check-all\");\n            this.checkAllHandler = this.checkAll.bind(this);\n            this.checkBoxAll.on(CHANGE + multiCheckNS, this.checkAllHandler);\n        },\n        updateCheckAllState: function() {\n            if (this.options.messages.selectedItemsFormat) {\n                this.form.find(\".k-filter-selected-items\").text(kendo.format(this.options.messages.selectedItemsFormat, this.container.find(\":checked:not(.k-check-all)\").length));\n            }\n            if (this.checkBoxAll) {\n                var state = this.container.find(\":checkbox:not(.k-check-all)\").length == this.container.find(\":checked:not(.k-check-all)\").length;\n                this.checkBoxAll.prop(\"checked\", state);\n            }\n        },\n        createIsNullItem: function() {\n            var options = this.options;\n            var template = kendo.template(options.itemTemplate({ field: \"isNull\", mobile: this._isMobile, valueField: \"value\" }));\n            var isNullContainer = $(template({ isNull: options.messages.isNull, value: null }));\n            this.container.append(isNullContainer);\n        },\n        refresh: function(e) {\n            var forceUnique = this.options.forceUnique;\n            var dataSource = this.dataSource;\n            var filters = this.getFilterArray();\n\n            if (this._link) {\n                this._link.toggleClass(\"k-active\", filters.length !== 0);\n            }\n\n            if (this.form) {\n                if (e && forceUnique && e.sender === dataSource && !dataSource.options.serverPaging &&\n                     (e.action == \"itemchange\" || e.action == \"add\" || e.action == \"remove\" || (dataSource.options.autoSync && e.action === \"sync\")) &&\n                         !this._foreignKeyValues()) {\n                    this.checkSource.data(distinct(this.dataSource.data(),this.field));\n                    this.container.empty();\n                }\n\n                if (this.container.is(\":empty\")) {\n                    this.createCheckBoxes();\n                }\n                this.checkValues(filters);\n                this.trigger(REFRESH);\n            }\n        },\n        getFilterArray: function() {\n            var expression = $.extend(true, {}, { filters: [], logic: \"and\" }, this.dataSource.filter());\n            filterValuesForField(expression, this.field);\n            var flatValues = flatFilterValues(expression);\n            return flatValues;\n        },\n        createCheckBoxes: function() {\n            var options = this.options;\n            var data;\n            var templateOptions = {\n                field: this.field,\n                format: options.format,\n                mobile: this._isMobile,\n                type: this.type\n            };\n            var boolDataFilter = booleanFilterHandler.bind(this);\n\n            if (!this.options.forceUnique) {\n                data = this.checkSource.view();\n            } else if (this._foreignKeyValues()) {\n                data = this.checkSource.data();\n                templateOptions.valueField = \"value\";\n                templateOptions.field = \"text\";\n            } else if (this.checkSource._isServerGrouped()) {\n                data = distinct(this.checkSource._flatData(this.checkSource.data()), this.field);\n            } else {\n                data = this.checkSource.data();\n            }\n\n            if (this.type === \"boolean\") {\n                this.createIsNullItem();\n                data = data.filter(boolDataFilter);\n            }\n\n            var template = kendo.template(options.itemTemplate(templateOptions));\n            var itemsHtml = kendo.render(template, data);\n\n            this.container.on(CHANGE + multiCheckNS, \":checkbox\", this.updateCheckAllState.bind(this));\n            this.container.prepend(itemsHtml);\n\n            if (options.checkAll && !this._isMobile) {\n                this.createCheckAllItem();\n            }\n        },\n        checkAll: function() {\n            var state = this.checkBoxAll.is(\":checked\");\n            this.container.find(\":checkbox\").prop(\"checked\", state);\n        },\n        checkValues: function(values) {\n            var that = this;\n\n            $($.grep(this.container.find(\":checkbox\").prop(\"checked\", false), function(ele) {\n                var found = false;\n                if ($(ele).is(\".k-check-all\")) {\n                    return;\n                }\n                var checkBoxVal = that._parse($(ele).val());\n                for (var i = 0; i < values.length; i++) {\n                    if (that.type == \"date\") {\n                        if (values[i] && checkBoxVal) {\n                            found = values[i].getTime() == checkBoxVal.getTime();\n                        } else if (values[i] === null && checkBoxVal === null) {\n                            found = true;\n                        } else {\n                            found = false;\n                        }\n                    } else {\n                        found = values[i] == checkBoxVal;\n                    }\n                    if (found) {\n                        return found;\n                    }\n                }\n            })).prop(\"checked\", true);\n            this.updateCheckAllState();\n        },\n\n        _mobileCheckAll: function(state) {\n            var that = this;\n            var checkboxes = that.container.find(\":checkbox\");\n\n            checkboxes.each(function(i, e) {\n                var checkbox = $(e);\n\n                checkbox.prop(\"checked\", state);\n                checkbox.trigger(\"change\");\n            });\n        },\n\n        _filter: function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            var expression = { logic: \"or\" };\n\n            var that = this;\n            expression.filters = $.map(this.form.find(\":checkbox:checked:not(.k-check-all)\"), function(item) {\n                return { value: $(item).val(), operator: \"eq\", field: that.field };\n            });\n\n            if (this.trigger(\"change\", { filter: expression, field: that.field })) {\n                return;\n            }\n\n            expression = this._merge(expression);\n            if (expression.filters.length) {\n                this.dataSource.filter(expression);\n            } else {\n                that._removeFilter(that.dataSource.filter() || { filters: [] });\n            }\n\n            this._closeForm();\n        },\n\n        _stripFilters: function(filters) {\n           return $.grep(filters, function(filter) {\n                return filter.value != null;\n            });\n        },\n\n        _foreignKeyValues: function() {\n            var options = this.options;\n            return options.values && !options.checkSource;\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            if (that.form) {\n                kendo.unbind(that.form);\n                kendo.destroy(that.form);\n                that.form.off(multiCheckNS);\n                if (that.popup) {\n                    that.popup.destroy();\n                    that.popup = null;\n                }\n                that.form = null;\n                if (that.container) {\n                    that.container.off(multiCheckNS);\n                    that.container = null;\n                }\n\n                if (that.checkBoxAll) {\n                    that.checkBoxAll.off(multiCheckNS);\n                }\n            }\n\n            if (that.view) {\n                that.view.purge();\n                that.view = null;\n            }\n\n            if (that._link) {\n                that._link.off(NS);\n            }\n\n            if (that._refreshHandler) {\n                that.dataSource.unbind(CHANGE, that._refreshHandler);\n                that.dataSource = null;\n            }\n\n            if (that.checkChangeHandler) {\n                that.checkSource.unbind(CHANGE, that.checkChangeHandler);\n            }\n\n            if (that._progressHandler) {\n                that.checkSource.unbind(\"progress\", that._progressHandler);\n            }\n\n            if (that._progressHideHandler) {\n                that.checkSource.unbind(\"change\", that._progressHideHandler);\n            }\n\n            this._clearTypingTimeout();\n\n            if (this.searchTextBox) {\n                this.searchTextBox.off(multiCheckNS);\n                this.searchTextBox = null;\n            }\n\n            if (this.clearSearchButton) {\n                this.clearSearchButton.off(multiCheckNS);\n                this.clearSearchButton = null;\n            }\n\n            that.element = that.checkSource = that.container = that.checkBoxAll = that._link = that._refreshHandler = that.checkAllHandler = null;\n        },\n        options: {\n            name: \"FilterMultiCheck\",\n            itemTemplate: function(options) {\n                var field = options.field;\n                var format = options.format;\n                var valueField = options.valueField;\n                var mobile = options.mobile;\n                var valueFormat = \"\";\n\n                if (valueField === undefined) {\n                    valueField = field;\n                }\n                if (options.type == \"date\") {\n                    valueFormat = \":yyyy-MM-ddTHH:mm:sszzz\";\n                }\n\n                if (mobile) {\n                    return \"<li class='k-item k-listgroup-item'>\" +\n                            \"<label class='k-label k-listgroup-form-row k-checkbox-label'>\" +\n                                \"<span class='k-listgroup-form-field-label k-item-title '>#:kendo.format('\" + ( format ? format : \"{0}\" ) + \"', \" + field + \")#</span>\" +\n                                '<span class=\"k-listgroup-form-field-wrapper\">' +\n                                    \"<input type='checkbox' class='k-checkbox k-checkbox-md k-rounded-md' value='#:kendo.format('{0\" + valueFormat + \"}',\" + valueField + \")#'/>\" +\n                                '</span>' +\n                            \"</label>\" +\n                        \"</li>\";\n                }\n\n                return \"<li class='k-item'>\" +\n                        \"<label class='k-label k-checkbox-label'>\" +\n                            \"<input type='checkbox' class='k-checkbox k-checkbox-md k-rounded-md' value='#:kendo.format('{0\" + valueFormat + \"}',\" + valueField + \")#'/>\" +\n                            \"<span>#:kendo.format('\" + ( format ? format : \"{0}\" ) + \"', \" + field + \")#</span>\" +\n                        \"</label>\" +\n                    \"</li>\";\n            },\n            checkAll: true,\n            search: false,\n            ignoreCase: true,\n            appendToElement: false,\n            messages: {\n                checkAll: \"Select All\",\n                isNull: \"is empty\",\n                clearAll: \"Clear All\",\n                clear: \"Clear\",\n                filter: \"Filter\",\n                search: \"Search\",\n                cancel: \"Cancel\",\n                selectedItemsFormat: \"{0} items selected\",\n                done: \"Done\",\n                into: \"in\",\n                buttonTitle: \"{0} filter column settings\"\n            },\n            forceUnique: true,\n            animations: {\n                left: \"slide\",\n                right: \"slide:right\"\n            },\n            appendTo: null\n        },\n        events: [ INIT, REFRESH, \"change\", OPEN ]\n    });\n\n    function booleanFilterHandler(item) {\n        return item[this.field] !== null;\n    }\n\n    $.extend(FilterMultiCheck.fn, {\n        _click: FilterMenu.fn._click,\n        _keydown: FilterMenu.fn._keydown,\n        _reset: FilterMenu.fn._reset,\n        _closeForm: FilterMenu.fn._closeForm,\n        _removeFilter: FilterMenu.fn._removeFilter,\n        clear: FilterMenu.fn.clear,\n\n        _merge: FilterMenu.fn._merge\n    });\n\n    ui.plugin(FilterMenu);\n    ui.plugin(FilterMultiCheck);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, __webpack_require__.amdD);\n\n\n/***/ }),\n\n/***/ 22380:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./kendo.binder\");\n\n/***/ }),\n\n/***/ 4832:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./kendo.datepicker\");\n\n/***/ }),\n\n/***/ 54148:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./kendo.dropdownlist\");\n\n/***/ }),\n\n/***/ 32011:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"./kendo.numerictextbox\");\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/amd define */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.amdD = function () {\n/******/ \t\t\tthrow new Error('define cannot be used indirect');\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module used 'module' so it can't be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__(98364);\n/******/ \tmodule.exports = __webpack_exports__;\n/******/ \t\n/******/ })()\n;"],"mappings":"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"},"metadata":{},"sourceType":"script"}